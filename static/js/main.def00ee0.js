/*! For license information please see main.def00ee0.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},219:(e,t,n)=>{"use strict";var i=n(3763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?o:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=o;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var o=d(n);u&&(o=o.concat(u(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var b=o[g];if(!a[b]&&(!i||!i[b])&&(!m||!m[b])&&(!s||!s[b])){var y=h(n,b);try{c(t,b,y)}catch(v){}}}}return t}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var i=n(2622);e.exports=function(e){return i(this,e).get(e)}},539:(e,t,n)=>{var i=n(9742),r=n(7498),a=n(3279);e.exports=function(e){return e&&e.length?i(e,a,r):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var i=n(6913),r=n(4052),a=n(2761);e.exports=function(e){return"string"==typeof e||!r(e)&&a(e)&&"[object String]"==i(e)}},643:(e,t,n)=>{var i=n(7676)("toUpperCase");e.exports=i},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+r+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")"+c+l+")*"),u="(?:"+[a+i+"?",i,o,s,n].join("|")+")",h=RegExp(r+"(?="+r+")|"+u+d,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var i=n(8895),r=n(7116);e.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=r),s||(s=[]);++l<c;){var d=t[l];n>0&&a(d)?n>1?e(d,n-1,a,o,s):i(s,d):o||(s[s.length]=d)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var i=n(3522),r=n(6686),a=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(2284);function r(e){var t=function(e,t){if("object"!=(0,i.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=(0,i.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.A)(t)?t:t+""}},914:(e,t,n)=>{var i=n(9841);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var i=n(3211),r=n(6571),a=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&a(t,n.length):"string"==s&&t in n)&&i(n[t],e)}},977:(e,t,n)=>{var i=n(9096),r=n(4416);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},1069:(e,t,n)=>{var i=n(8541);e.exports=function(e){return null==e?"":i(e)}},1141:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1143:(e,t,n)=>{var i=n(3028)(Object.keys,Object);e.exports=i},1153:(e,t,n)=>{"use strict";n(2123);var i=n(5043),r=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;r=a("react.element"),t.Fragment=a("react.fragment")}var o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var i=n(5428),r=n(7574),a=n(6832),o=a&&a.isTypedArray,s=o?r(o):i;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var i=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},1629:(e,t,n)=>{var i=n(6913),r=n(6686);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var i=n(1340);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},1733:(e,t,n)=>{var i=n(1775),r=n(4664),a=n(9096);e.exports=function(e,t){var n={};return t=a(t,3),r(e,function(e,r,a){i(n,r,t(e,r,a))}),n}},1775:(e,t,n)=>{var i=n(5654);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var i=n(1340);e.exports=function(e){return i(this.__data__,e)>-1}},2070:(e,t,n)=>{var i=n(7937)(n(6552),"Set");e.exports=i},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,r){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var d=0;d<o.length;d++)i.call(a,o[d])&&(s[o[d]]=a[o[d]])}}return s}},2154:(e,t,n)=>{var i=n(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var i=n(5652);e.exports=function(e,t){var n;return i(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}},2284:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{A:()=>i})},2322:(e,t,n)=>{var i=n(6913),r=n(5990),a=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},2520:(e,t,n)=>{var i=n(5816),r=n(9096),a=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),i(e,r(t,3),l)}},2536:(e,t,n)=>{var i=n(149),r=n(2969),a=n(9096),o=n(8883),s=n(320),l=n(7574),c=n(5893),d=n(3279),u=n(4052);e.exports=function(e,t,n){t=t.length?i(t,function(e){return u(e)?function(t){return r(t,1===e.length?e[0]:e)}:e}):[d];var h=-1;t=i(t,l(a));var p=o(e,function(e,n,r){return{criteria:i(t,function(t){return t(e)}),index:++h,value:e}});return s(p,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var i=n(4052),r=n(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var i=n(705);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var i=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(2123),a=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(o(227));var s=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,i,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,i){var r=b.hasOwnProperty(t)?b[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!p.call(m,e)||!p.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=60103,S=60106,_=60107,k=60108,C=60114,A=60109,N=60110,O=60112,P=60113,I=60120,E=60115,T=60116,L=60121,M=60128,R=60129,D=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;j=B("react.element"),S=B("react.portal"),_=B("react.fragment"),k=B("react.strict_mode"),C=B("react.profiler"),A=B("react.provider"),N=B("react.context"),O=B("react.forward_ref"),P=B("react.suspense"),I=B("react.suspense_list"),E=B("react.memo"),T=B("react.lazy"),L=B("react.block"),B("react.scope"),M=B("react.opaque.id"),R=B("react.debug_trace_mode"),D=B("react.offscreen"),F=B("react.legacy_hidden")}var z,W="function"===typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=W&&e[W]||e["@@iterator"])?e:null}function q(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var H=!1;function V(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s])return"\n"+r[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case E:return Z(e.type);case L:return Z(e._render);case T:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=K(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function oe(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),i=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ue="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,be=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ge(e,t)})}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function je(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=we(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(ve).forEach(function(e){xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]})});var Se=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ne=null,Oe=null;function Pe(e){if(e=ir(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ar(t),Ae(e.stateNode,e.type,t))}}function Ie(e){Ne?Oe?Oe.push(e):Oe=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=Oe;if(Oe=Ne=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Te(e,t){return e(t)}function Le(e,t,n,i,r){return e(t,n,i,r)}function Me(){}var Re=Te,De=!1,Fe=!1;function Be(){null===Ne&&null===Oe||(Me(),Ee())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var i=ar(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var We=!1;if(u)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){We=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(ge){We=!1}function qe(e,t,n,i,r,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var He=!1,Ve=null,Ge=!1,Ze=null,Ye={onError:function(e){He=!0,Ve=e}};function Ke(e,t,n,i,r,a,o,s,l){He=!1,Ve=null,qe.apply(Ye,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Je(e)!==e)throw Error(o(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return $e(r),e;if(a===i)return $e(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,it,rt,at=!1,ot=[],st=null,lt=null,ct=null,dt=new Map,ut=new Map,ht=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,i,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[i]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function gt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e=ft(t,n,i,r,a),null!==t&&(null!==(t=ir(t))&&nt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bt(e){var t=nr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,function(){a.unstable_runWithPriority(e.priority,function(){it(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ir(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ir(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),dt.forEach(vt),ut.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function jt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var i=ot[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ct&&wt(ct,e),dt.forEach(t),ut.forEach(t),n=0;n<ht.length;n++)(i=ht[n]).blockedOn===e&&(i.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)bt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},Ct={};function At(e){if(kt[e])return kt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return kt[e]=n[t];return e}u&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Nt=At("animationend"),Ot=At("animationiteration"),Pt=At("animationstart"),It=At("transitionend"),Et=new Map,Tt=new Map,Lt=["abort","abort",Nt,"animationEnd",Ot,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),Tt.set(i,t),Et.set(i,r),c(r,[i])}}(0,a.unstable_now)();var Rt=8;function Dt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var i=0,r=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)i=a,r=Rt=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(i=Dt(l),r=Rt):0!==(s&=a)&&(i=Dt(s),r=Rt)}else 0!==(a=n&~o)?(i=Dt(a),r=Rt):0!==s&&(i=Dt(s),r=Rt);if(0===i)return 0;if(i=n&((0>(i=31-Ht(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0===(t&o)){if(Dt(t),r<=Rt)return t;Rt=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-Ht(t)),i|=e[n],t&=~r;return i}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Wt(24&~t))?zt(10,t):e;case 10:return 0===(e=Wt(192&~t))?zt(8,t):e;case 8:return 0===(e=Wt(3584&~t))&&(0===(e=Wt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Wt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Wt(e){return e&-e}function Ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Gt|0)|0},Vt=Math.log,Gt=Math.LN2;var Zt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Kt=!0;function Jt(e,t,n,i){De||Me();var r=$t,a=De;De=!0;try{Le(r,e,t,n,i)}finally{(De=a)||Be()}}function Xt(e,t,n,i){Yt(Zt,$t.bind(null,e,t,n,i))}function $t(e,t,n,i){var r;if(Kt)if((r=0===(4&t))&&0<ot.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,i),ot.push(e);else{var a=Qt(e,t,n,i);if(null===a)r&&mt(e,i);else{if(r){if(-1<pt.indexOf(e))return e=ft(a,e,t,n,i),void ot.push(e);if(function(e,t,n,i,r){switch(t){case"focusin":return st=gt(st,e,t,n,i,r),!0;case"dragenter":return lt=gt(lt,e,t,n,i,r),!0;case"mouseover":return ct=gt(ct,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return dt.set(a,gt(dt.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,ut.set(a,gt(ut.get(a)||null,e,t,n,i,r)),!0}return!1}(a,e,t,n,i))return;mt(e,i)}Mi(e,t,i,null,n)}}}function Qt(e,t,n,i){var r=Ce(i);if(null!==(r=nr(r))){var a=Je(r);if(null===a)r=null;else{var o=a.tag;if(13===o){if(null!==(r=Xe(a)))return r;r=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Mi(e,t,i,r,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,i=n.length,r="value"in en?en.value:en.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return nn=r.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function ln(e){function t(t,n,i,r,a){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?on:sn,this.isPropagationStopped=sn,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,dn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(hn),fn=r({},hn,{view:0,detail:0}),mn=ln(fn),gn=r({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,dn=e.screenY-un.screenY):dn=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:dn}}),bn=ln(gn),yn=ln(r({},gn,{dataTransfer:0})),vn=ln(r({},fn,{relatedTarget:0})),xn=ln(r({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=r({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jn=ln(wn),Sn=ln(r({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Nn(){return An}var On=r({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=ln(On),In=ln(r({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=ln(r({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=ln(r({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=r({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=ln(Ln),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Bn=u&&"TextEvent"in window&&!Fn,zn=u&&(!Dn||Fn&&8<Fn&&11>=Fn),Wn=String.fromCharCode(32),Un=!1;function qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Yn(e,t,n,i){Ie(i),0<(t=Di(t,"onChange")).length&&(n=new pn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Kn=null,Jn=null;function Xn(e){Oi(e,0)}function $n(e){if(X(rr(e)))return e}function Qn(e,t){if("change"===e)return t}var ei=!1;if(u){var ti;if(u){var ni="oninput"in document;if(!ni){var ii=document.createElement("div");ii.setAttribute("oninput","return;"),ni="function"===typeof ii.oninput}ti=ni}else ti=!1;ei=ti&&(!document.documentMode||9<document.documentMode)}function ri(){Kn&&(Kn.detachEvent("onpropertychange",ai),Jn=Kn=null)}function ai(e){if("value"===e.propertyName&&$n(Jn)){var t=[];if(Yn(t,Jn,e,Ce(e)),e=Xn,De)e(t);else{De=!0;try{Te(e,t)}finally{De=!1,Be()}}}}function oi(e,t,n){"focusin"===e?(ri(),Jn=n,(Kn=t).attachEvent("onpropertychange",ai)):"focusout"===e&&ri()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Jn)}function li(e,t){if("click"===e)return $n(t)}function ci(e,t){if("input"===e||"change"===e)return $n(t)}var di="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ui=Object.prototype.hasOwnProperty;function hi(e,t){if(di(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ui.call(t,n[i])||!di(e[n[i]],t[n[i]]))return!1;return!0}function pi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fi(e,t){var n,i=pi(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=pi(i)}}function mi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gi(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yi=u&&"documentMode"in document&&11>=document.documentMode,vi=null,xi=null,wi=null,ji=!1;function Si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ji||null==vi||vi!==$(i)||("selectionStart"in(i=vi)&&bi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},wi&&hi(wi,i)||(wi=i,0<(i=Di(xi,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=vi)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Lt,2);for(var _i="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ki=0;ki<_i.length;ki++)Tt.set(_i[ki],0);d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ai=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function Ni(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,c){if(Ke.apply(this,arguments),He){if(!He)throw Error(o(198));var d=Ve;He=!1,Ve=null,Ge||(Ge=!0,Ze=d)}}(i,t,void 0,e),e.currentTarget=null}function Oi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;Ni(r,s,c),a=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;Ni(r,s,c),a=l}}}if(Ge)throw e=Ze,Ge=!1,Ze=null,e}function Pi(e,t){var n=or(t),i=e+"__bubble";n.has(i)||(Li(t,e,2,!1),n.add(i))}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Ei(e){e[Ii]||(e[Ii]=!0,s.forEach(function(t){Ai.has(t)||Ti(t,!1,e,null),Ti(t,!0,e,null)}))}function Ti(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==i&&!t&&Ai.has(e)){if("scroll"!==e)return;r|=2,a=i}var o=or(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(r|=4),Li(a,e,r,t),o.add(s))}function Li(e,t,n,i){var r=Tt.get(t);switch(void 0===r?2:r){case 0:r=Jt;break;case 1:r=Xt;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Mi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==s;){if(null===(o=nr(s)))return;if(5===(l=o.tag)||6===l){i=a=o;continue e}s=s.parentNode}}i=i.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Re(e,t,n)}finally{Fe=!1,Be()}}(function(){var i=a,r=Ce(n),o=[];e:{var s=Et.get(e);if(void 0!==s){var l=pn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Nt:case Ot:case Pt:l=xn;break;case It:l=Tn;break;case"scroll":l=mn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==s?s+"Capture":null:s;d=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=ze(f,h))&&d.push(Ri(f,m,p)))),u)break;f=f.return}0<d.length&&(s=new l(s,c,null,n,r),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!nr(c)&&!c[er])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?nr(c):null)&&(c!==(u=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=bn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=In,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?s:rr(l),p=null==c?s:rr(c),(s=new d(m,f+"leave",l,n,r)).target=u,s.relatedTarget=p,m=null,nr(r)===i&&((d=new d(h,f+"enter",c,n,r)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Fi(p))f++;for(p=0,m=h;m;m=Fi(m))p++;for(;0<f-p;)d=Fi(d),f--;for(;0<p-f;)h=Fi(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Fi(d),h=Fi(h)}d=null}else d=null;null!==l&&Bi(o,s,l,d,!1),null!==c&&null!==u&&Bi(o,u,c,d,!0)}if("select"===(l=(s=i?rr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Zn(s))if(ei)g=ci;else{g=si;var b=oi}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=li);switch(g&&(g=g(e,i))?Yn(o,g,n,r):(b&&b(e,s,i),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&re(s,"number",s.value)),b=i?rr(i):window,e){case"focusin":(Zn(b)||"true"===b.contentEditable)&&(vi=b,xi=i,wi=null);break;case"focusout":wi=xi=vi=null;break;case"mousedown":ji=!0;break;case"contextmenu":case"mouseup":case"dragend":ji=!1,Si(o,n,r);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Si(o,n,r)}var y;if(Dn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vn?qn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(y=rn()):(tn="value"in(en=r)?en.value:en.textContent,Vn=!0)),0<(b=Di(i,v)).length&&(v=new Sn(v,e,null,n,r),o.push({event:v,listeners:b}),y?v.data=y:null!==(y=Hn(n))&&(v.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Un=!0,Wn);case"textInput":return(e=t.data)===Wn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&qn(e,t)?(e=rn(),nn=tn=en=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Di(i,"onBeforeInput")).length&&(r=new Sn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Oi(o,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Di(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=ze(e,n))&&i.unshift(Ri(e,a,r)),null!=(a=ze(e,t))&&i.push(Ri(e,a,r))),e=e.return}return i}function Fi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Bi(e,t,n,i,r){for(var a=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=ze(n,a))&&o.unshift(Ri(n,l,s)):r||null!=(l=ze(n,a))&&o.push(Ri(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function zi(){}var Wi=null,Ui=null;function qi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vi="function"===typeof setTimeout?setTimeout:void 0,Gi="function"===typeof clearTimeout?clearTimeout:void 0;function Zi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ki(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ji=0;var Xi=Math.random().toString(36).slice(2),$i="__reactFiber$"+Xi,Qi="__reactProps$"+Xi,er="__reactContainer$"+Xi,tr="__reactEvents$"+Xi;function nr(e){var t=e[$i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[er]||n[$i]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ki(e);null!==e;){if(n=e[$i])return n;e=Ki(e)}return t}n=(e=n).parentNode}return null}function ir(e){return!(e=e[$i]||e[er])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function rr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ar(e){return e[Qi]||null}function or(e){var t=e[tr];return void 0===t&&(t=e[tr]=new Set),t}var sr=[],lr=-1;function cr(e){return{current:e}}function dr(e){0>lr||(e.current=sr[lr],sr[lr]=null,lr--)}function ur(e,t){lr++,sr[lr]=e.current,e.current=t}var hr={},pr=cr(hr),fr=cr(!1),mr=hr;function gr(e,t){var n=e.type.contextTypes;if(!n)return hr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function br(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yr(){dr(fr),dr(pr)}function vr(e,t,n){if(pr.current!==hr)throw Error(o(168));ur(pr,t),ur(fr,n)}function xr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in e))throw Error(o(108,Z(t)||"Unknown",a));return r({},n,i)}function wr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,mr=pr.current,ur(pr,e),ur(fr,fr.current),!0}function jr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=xr(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,dr(fr),dr(pr),ur(pr,e)):dr(fr),ur(fr,n)}var Sr=null,_r=null,kr=a.unstable_runWithPriority,Cr=a.unstable_scheduleCallback,Ar=a.unstable_cancelCallback,Nr=a.unstable_shouldYield,Or=a.unstable_requestPaint,Pr=a.unstable_now,Ir=a.unstable_getCurrentPriorityLevel,Er=a.unstable_ImmediatePriority,Tr=a.unstable_UserBlockingPriority,Lr=a.unstable_NormalPriority,Mr=a.unstable_LowPriority,Rr=a.unstable_IdlePriority,Dr={},Fr=void 0!==Or?Or:function(){},Br=null,zr=null,Wr=!1,Ur=Pr(),qr=1e4>Ur?Pr:function(){return Pr()-Ur};function Hr(){switch(Ir()){case Er:return 99;case Tr:return 98;case Lr:return 97;case Mr:return 96;case Rr:return 95;default:throw Error(o(332))}}function Vr(e){switch(e){case 99:return Er;case 98:return Tr;case 97:return Lr;case 96:return Mr;case 95:return Rr;default:throw Error(o(332))}}function Gr(e,t){return e=Vr(e),kr(e,t)}function Zr(e,t,n){return e=Vr(e),Cr(e,t,n)}function Yr(){if(null!==zr){var e=zr;zr=null,Ar(e)}Kr()}function Kr(){if(!Wr&&null!==Br){Wr=!0;var e=0;try{var t=Br;Gr(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Br=null}catch(n){throw null!==Br&&(Br=Br.slice(e+1)),Cr(Er,Yr),n}finally{Wr=!1}}}var Jr=w.ReactCurrentBatchConfig;function Xr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $r=cr(null),Qr=null,ea=null,ta=null;function na(){ta=ea=Qr=null}function ia(e){var t=$r.current;dr($r),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Qr=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Do=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Qr)throw Error(o(308));ea=t,Qr.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function la(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pa(e,t,n,i){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,d=c.next;c.next=null,null===s?o=d:s.next=d,s=c;var u=e.alternate;if(null!==u){var h=(u=u.updateQueue).lastBaseUpdate;h!==s&&(null===h?u.firstBaseUpdate=d:h.next=d,u.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,u=d=c=null;;){l=o.lane;var p=o.eventTime;if((i&l)===l){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(l=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,l);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=m.payload)?f.call(p,h,l):f)||void 0===l)break e;h=r({},h,l);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else p={eventTime:p,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(d=u=p,c=h):u=u.next=p,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===u&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,Us|=s,e.lanes=s,e.memoizedState=h}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ma=(new i.Component).refs;function ga(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=pl(),r=fl(e),a=da(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ua(e,a),ml(e,r,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=pl(),r=fl(e),a=da(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ua(e,a),ml(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),i=fl(e),r=da(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),ua(e,r),ml(e,i,n)}};function ya(e,t,n,i,r,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hi(n,i)||!hi(r,a))}function va(e,t,n){var i=!1,r=hr,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(r=br(t)?mr:pr.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?gr(e,r):hr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ma,la(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=oa(a):(a=br(t)?mr:pr.current,r.context=gr(e,a)),pa(e,n,r,i),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ga(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ba.enqueueReplaceState(r,r.state,null),pa(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4)}var ja=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===ma&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ka(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Zl(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Xl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Sa(e,t,n),i.return=e,i):((i=Yl(n.type,n.key,n.props,null,e.mode,i)).ref=Sa(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,i,a){return null===t||7!==t.tag?((t=Kl(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Yl(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case S:return(t=$l(t,e.mode,n)).return=e,t}if(ja(t)||U(t))return(t=Kl(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?n.type===_?u(e,t,n.props.children,i,r):c(e,t,n,i):null;case S:return n.key===r?d(e,t,n,i):null}if(ja(n)||U(n))return null!==r?null:u(e,t,n,i,null);_a(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case j:return e=e.get(null===i.key?n:i.key)||null,i.type===_?u(t,e,i.props.children,r,i.key):c(t,e,i,r);case S:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(ja(i)||U(i))return u(t,e=e.get(n)||null,i,r,null);_a(t,i)}return null}function m(r,o,s,l){for(var c=null,d=null,u=o,m=o=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var b=p(r,u,s[m],l);if(null===b){null===u&&(u=g);break}e&&u&&null===b.alternate&&t(r,u),o=a(b,o,m),null===d?c=b:d.sibling=b,d=b,u=g}if(m===s.length)return n(r,u),c;if(null===u){for(;m<s.length;m++)null!==(u=h(r,s[m],l))&&(o=a(u,o,m),null===d?c=u:d.sibling=u,d=u);return c}for(u=i(r,u);m<s.length;m++)null!==(g=f(u,r,m,s[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),o=a(g,o,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),c}function g(r,s,l,c){var d=U(l);if("function"!==typeof d)throw Error(o(150));if(null==(l=d.call(l)))throw Error(o(151));for(var u=d=null,m=s,g=s=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=p(r,m,y.value,c);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&t(r,m),s=a(v,s,g),null===u?d=v:u.sibling=v,u=v,m=b}if(y.done)return n(r,m),d;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(r,y.value,c))&&(s=a(y,s,g),null===u?d=y:u.sibling=y,u=y);return d}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach(function(e){return t(r,e)}),d}return function(e,i,a,l){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var d="object"===typeof a&&null!==a;if(d)switch(a.$$typeof){case j:e:{for(d=a.key,c=i;null!==c;){if(c.key===d){if(7===c.tag){if(a.type===_){n(e,c.sibling),(i=r(c,a.props.children)).return=e,e=i;break e}}else if(c.elementType===a.type){n(e,c.sibling),(i=r(c,a.props)).ref=Sa(e,c,a),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((i=Kl(a.props.children,e.mode,l,a.key)).return=e,e=i):((l=Yl(a.type,a.key,a.props,null,e.mode,l)).ref=Sa(e,i,a),l.return=e,e=l)}return s(e);case S:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),(i=r(i,a.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=$l(a,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,a)).return=e,e=i):(n(e,i),(i=Xl(a,e.mode,l)).return=e,e=i),s(e);if(ja(a))return m(e,i,a,l);if(U(a))return g(e,i,a,l);if(d&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Z(e.type)||"Component"))}return n(e,i)}}var Ca=ka(!0),Aa=ka(!1),Na={},Oa=cr(Na),Pa=cr(Na),Ia=cr(Na);function Ea(e){if(e===Na)throw Error(o(174));return e}function Ta(e,t){switch(ur(Ia,t),ur(Pa,e),ur(Oa,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}dr(Oa),ur(Oa,t)}function La(){dr(Oa),dr(Pa),dr(Ia)}function Ma(e){Ea(Ia.current);var t=Ea(Oa.current),n=fe(t,e.type);t!==n&&(ur(Pa,e),ur(Oa,n))}function Ra(e){Pa.current===e&&(dr(Oa),dr(Pa))}var Da=cr(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=null,za=null,Wa=!1;function Ua(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Wa){var t=za;if(t){var n=t;if(!qa(e,t)){if(!(t=Yi(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Wa=!1,void(Ba=e);Ua(Ba,n)}Ba=e,za=Yi(t.firstChild)}else e.flags=-1025&e.flags|2,Wa=!1,Ba=e}}function Va(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ba=e}function Ga(e){if(e!==Ba)return!1;if(!Wa)return Va(e),Wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hi(t,e.memoizedProps))for(t=za;t;)Ua(e,t),t=Yi(t.nextSibling);if(Va(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){za=Yi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}za=null}}else za=Ba?Yi(e.stateNode.nextSibling):null;return!0}function Za(){za=Ba=null,Wa=!1}var Ya=[];function Ka(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Ja=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,$a=0,Qa=null,eo=null,to=null,no=!1,io=!1;function ro(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!di(e[n],t[n]))return!1;return!0}function oo(e,t,n,i,r,a){if($a=a,Qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?To:Lo,e=n(i,r),io){a=0;do{if(io=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Mo,e=n(i,r)}while(io)}if(Ja.current=Eo,t=null!==eo&&null!==eo.next,$a=0,to=eo=Qa=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Qa.memoizedState=to=e:to=to.next=e,to}function lo(){if(null===eo){var e=Qa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Qa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Qa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function uo(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=eo,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=a=null,c=r;do{var d=c.lane;if(($a&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===e?c.eagerState:e(i,c.action);else{var u={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=u,a=i):l=l.next=u,Qa.lanes|=d,Us|=d}c=c.next}while(null!==c&&c!==r);null===l?a=i:l.next=s,di(i,t.memoizedState)||(Do=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ho(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);di(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function po(e,t,n){var i=t._getVersion;i=i(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=i,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function fo(e,t,n,i){var r=Ls;if(null===r)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=Ja.current,c=l.useState(function(){return po(r,t,n)}),d=c[1],u=c[0];c=to;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,m=h.source;h=h.subscribe;var g=Qa;return e.memoizedState={refs:p,source:t,subscribe:i},l.useEffect(function(){p.getSnapshot=n,p.setSnapshot=d;var e=a(t._source);if(!di(s,e)){e=n(t._source),di(u,e)||(d(e),e=fl(g),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,o=e;0<o;){var l=31-Ht(o),c=1<<l;i[l]|=e,o&=~c}}},[n,t,i]),l.useEffect(function(){return i(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var i=fl(g);r.mutableReadLanes|=i&r.pendingLanes}catch(a){n(function(){throw a})}})},[t,i]),di(f,n)&&di(m,t)&&di(h,i)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:u}).dispatch=d=Io.bind(null,Qa,e),c.queue=e,c.baseQueue=null,u=po(r,t,n),c.memoizedState=c.baseState=u),u}function mo(e,t,n){return fo(lo(),e,t,n)}function go(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Io.bind(null,Qa,e),[t.memoizedState,e]}function bo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Qa.updateQueue)?(t={lastEffect:null},Qa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function vo(){return lo().memoizedState}function xo(e,t,n,i){var r=so();Qa.flags|=e,r.memoizedState=bo(1|t,n,void 0,void 0===i?null:i)}function wo(e,t,n,i){var r=lo();i=void 0===i?null:i;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==i&&ao(i,o.deps))return void bo(t,n,a,i)}Qa.flags|=e,r.memoizedState=bo(1|t,n,a,i)}function jo(e,t){return xo(516,4,e,t)}function So(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,ko.bind(null,t,e),n)}function Ao(){}function No(e,t){var n=lo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ao(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Oo(e,t){var n=lo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ao(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Po(e,t){var n=Hr();Gr(98>n?98:n,function(){e(!0)}),Gr(97<n?97:n,function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}})}function Io(e,t,n){var i=pl(),r=fl(e),a={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Qa||null!==o&&o===Qa)io=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,di(l,s))return}catch(c){}ml(e,r,i)}}var Eo={readContext:oa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},To={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=so();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Io.bind(null,Qa,e),[i.memoizedState,e]},useRef:yo,useState:go,useDebugValue:Ao,useDeferredValue:function(e){var t=go(e),n=t[0],i=t[1];return jo(function(){var t=Xa.transition;Xa.transition=1;try{i(e)}finally{Xa.transition=t}},[e]),n},useTransition:function(){var e=go(!1),t=e[0];return yo(e=Po.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=so();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(i,e,t,n)},useOpaqueIdentifier:function(){if(Wa){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Ji++).toString(36))),Error(o(355))}),n=go(t)[1];return 0===(2&Qa.mode)&&(Qa.flags|=516,bo(5,function(){n("r:"+(Ji++).toString(36))},void 0,null)),t}return go(t="r:"+(Ji++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:No,useContext:oa,useEffect:So,useImperativeHandle:Co,useLayoutEffect:_o,useMemo:Oo,useReducer:uo,useRef:vo,useState:function(){return uo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=uo(co),n=t[0],i=t[1];return So(function(){var t=Xa.transition;Xa.transition=1;try{i(e)}finally{Xa.transition=t}},[e]),n},useTransition:function(){var e=uo(co)[0];return[vo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return uo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:No,useContext:oa,useEffect:So,useImperativeHandle:Co,useLayoutEffect:_o,useMemo:Oo,useReducer:ho,useRef:vo,useState:function(){return ho(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=ho(co),n=t[0],i=t[1];return So(function(){var t=Xa.transition;Xa.transition=1;try{i(e)}finally{Xa.transition=t}},[e]),n},useTransition:function(){var e=ho(co)[0];return[vo().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return ho(co)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Do=!1;function Fo(e,t,n,i){t.child=null===e?Aa(t,null,n,i):Ca(t,e.child,n,i)}function Bo(e,t,n,i,r){n=n.render;var a=t.ref;return aa(t,r),i=oo(e,t,n,i,a,r),null===e||Do?(t.flags|=1,Fo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,os(e,t,r))}function zo(e,t,n,i,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Gl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yl(n.type,null,i,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Wo(e,t,o,i,r,a))}return o=e.child,0===(r&a)&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:hi)(r,i)&&e.ref===t.ref)?os(e,t,a):(t.flags|=1,(e=Zl(o,i)).ref=t.ref,e.return=t,t.child=e)}function Wo(e,t,n,i,r,a){if(null!==e&&hi(e.memoizedProps,i)&&e.ref===t.ref){if(Do=!1,0===(a&r))return t.lanes=e.lanes,os(e,t,a);0!==(16384&e.flags)&&(Do=!0)}return Ho(e,t,n,i,a)}function Uo(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Sl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sl(t,e),null;t.memoizedState={baseLanes:0},Sl(t,null!==a?a.baseLanes:n)}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Sl(t,i);return Fo(e,t,r,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,i,r){var a=br(n)?mr:pr.current;return a=gr(t,a),aa(t,r),n=oo(e,t,n,i,a,r),null===e||Do?(t.flags|=1,Fo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,os(e,t,r))}function Vo(e,t,n,i,r){if(br(n)){var a=!0;wr(t)}else a=!1;if(aa(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,i),wa(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=gr(t,c=br(n)?mr:pr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==i||l!==c)&&xa(t,o,i,c),sa=!1;var h=t.memoizedState;o.state=h,pa(t,i,o,r),l=t.memoizedState,s!==i||h!==l||fr.current||sa?("function"===typeof d&&(ga(t,n,d,i),l=t.memoizedState),(s=sa||ya(t,n,s,i,h,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=s):("function"===typeof o.componentDidMount&&(t.flags|=4),i=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xr(t.type,s),o.props=c,u=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=oa(l):l=gr(t,l=br(n)?mr:pr.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==u||h!==l)&&xa(t,o,i,l),sa=!1,h=t.memoizedState,o.state=h,pa(t,i,o,r);var f=t.memoizedState;s!==u||h!==f||fr.current||sa?("function"===typeof p&&(ga(t,n,p,i),f=t.memoizedState),(c=sa||ya(t,n,c,i,h,f,l))?(d||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),i=!1)}return Go(e,t,n,i,a,r)}function Go(e,t,n,i,r,a){qo(e,t);var o=0!==(64&t.flags);if(!i&&!o)return r&&jr(t,n,!1),os(e,t,a);i=t.stateNode,Ro.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=i.state,r&&jr(t,n,!0),t.child}function Zo(e){var t=e.stateNode;t.pendingContext?vr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vr(0,t.context,!1),Ta(e,t.containerInfo)}var Yo,Ko,Jo,Xo,$o={dehydrated:null,retryLane:0};function Qo(e,t,n){var i,r=t.pendingProps,a=Da.current,o=!1;return(i=0!==(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(a|=1),ur(Da,1&a),null===e?(void 0!==r.fallback&&Ha(t),e=r.children,a=r.fallback,o?(e=es(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof r.unstable_expectedLoadTime?(e=es(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Jl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(r=ns(e,t,r.children,r.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,r):(n=ts(e,t,r.children,n),t.memoizedState=null,n))}function es(e,t,n,i){var r=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&r)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Jl(t,r,0,null),n=Kl(n,r,i,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function ts(e,t,n,i){var r=e.child;return e=r.sibling,n=Zl(r,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ns(e,t,n,i,r){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Zl(o,s),null!==e?i=Zl(e,i):(i=Kl(i,a,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function is(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function rs(e,t,n,i,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r,o.lastEffect=a)}function as(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Fo(e,t,i.children,n),0!==(2&(i=Da.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&is(e,n);else if(19===e.tag)is(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ur(Da,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),rs(t,!1,r,n,a,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Fa(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Zl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Zl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ss(e,t){if(!Wa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ls(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return br(t.type)&&yr(),null;case 3:return La(),dr(fr),dr(pr),Ka(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:i.hydrate||(t.flags|=256)),Ko(t),null;case 5:Ra(t);var a=Ea(Ia.current);if(n=t.type,null!==e&&null!=t.stateNode)Jo(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ea(Oa.current),Ga(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[$i]=t,i[Qi]=s,n){case"dialog":Pi("cancel",i),Pi("close",i);break;case"iframe":case"object":case"embed":Pi("load",i);break;case"video":case"audio":for(e=0;e<Ci.length;e++)Pi(Ci[e],i);break;case"source":Pi("error",i);break;case"img":case"image":case"link":Pi("error",i),Pi("load",i);break;case"details":Pi("toggle",i);break;case"input":ee(i,s),Pi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Pi("invalid",i);break;case"textarea":le(i,s),Pi("invalid",i)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?i.textContent!==a&&(e=["children",a]):"number"===typeof a&&i.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Pi("scroll",i));switch(n){case"input":J(i),ie(i,s,!0);break;case"textarea":J(i),de(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=zi)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===ue&&(e=pe(n)),e===ue?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[$i]=t,e[Qi]=i,Yo(e,t,!1,!1),t.stateNode=e,c=ke(n,i),n){case"dialog":Pi("cancel",e),Pi("close",e),a=i;break;case"iframe":case"object":case"embed":Pi("load",e),a=i;break;case"video":case"audio":for(a=0;a<Ci.length;a++)Pi(Ci[a],e);a=i;break;case"source":Pi("error",e),a=i;break;case"img":case"image":case"link":Pi("error",e),Pi("load",e),a=i;break;case"details":Pi("toggle",e),a=i;break;case"input":ee(e,i),a=Q(e,i),Pi("invalid",e);break;case"option":a=ae(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=r({},i,{value:void 0}),Pi("invalid",e);break;case"textarea":le(e,i),a=se(e,i),Pi("invalid",e);break;default:a=i}_e(n,a);var d=a;for(s in d)if(d.hasOwnProperty(s)){var u=d[s];"style"===s?je(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&be(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&ye(e,u):"number"===typeof u&&ye(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Pi("scroll",e):null!=u&&x(e,s,u,c))}switch(n){case"input":J(e),ie(e,i,!1);break;case"textarea":J(e),de(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Y(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?oe(e,!!i.multiple,s,!1):null!=i.defaultValue&&oe(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=zi)}qi(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));n=Ea(Ia.current),Ea(Oa.current),Ga(t)?(i=t.stateNode,n=t.memoizedProps,i[$i]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[$i]=t,t.stateNode=i)}return null;case 13:return dr(Da),i=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Da.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ls||0===(134217727&Us)&&0===(134217727&qs)||vl(Ls,Rs))),(i||n)&&(t.flags|=4),null);case 4:return La(),Ko(t),null===e&&Ei(t.stateNode.containerInfo),null;case 10:return ia(t),null;case 19:if(dr(Da),null===(i=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=i.rendering))if(s)ss(i,!1);else{if(0!==Bs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ss(i,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ur(Da,1&Da.current|2),t.child}e=e.sibling}null!==i.tail&&qr()>Zs&&(t.flags|=64,s=!0,ss(i,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ss(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!Wa)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*qr()-i.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=64,s=!0,ss(i,!1),t.lanes=33554432);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=qr(),n.sibling=null,t=Da.current,ur(Da,s?1&t|2:1&t),n):null;case 23:case 24:return _l(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function cs(e){switch(e.tag){case 1:br(e.type)&&yr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),dr(fr),dr(pr),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return dr(Da),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return dr(Da),null;case 4:return La(),null;case 10:return ia(e),null;case 23:case 24:return _l(),null;default:return null}}function ds(e,t){try{var n="",i=t;do{n+=G(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(){},Jo=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Ea(Oa.current);var o,s=null;switch(n){case"input":a=Q(e,a),i=Q(e,i),s=[];break;case"option":a=ae(e,a),i=ae(e,i),s=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),s=[];break;case"textarea":a=se(e,a),i=se(e,i),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(e.onclick=zi)}for(u in _e(n,i),n=null,a)if(!i.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var d=i[u];if(c=null!=a?a[u]:void 0,i.hasOwnProperty(u)&&d!==c&&(null!=d||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(s||(s=[]),s.push(u,n)),n=d;else"dangerouslySetInnerHTML"===u?(d=d?d.__html:void 0,c=c?c.__html:void 0,null!=d&&c!==d&&(s=s||[]).push(u,d)):"children"===u?"string"!==typeof d&&"number"!==typeof d||(s=s||[]).push(u,""+d):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=d&&"onScroll"===u&&Pi("scroll",e),s||c===d||(s=[])):"object"===typeof d&&null!==d&&d.$$typeof===M?d.toString():(s=s||[]).push(u,d))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Xo=function(e,t,n,i){n!==i&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=da(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Xs||(Xs=!0,$s=i),us(0,t)},n}function fs(e,t,n){(n=da(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return us(0,t),i(r)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Qs?Qs=new Set([this]):Qs.add(this),us(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ms="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Wl(e,n)}else t.current=null}function bs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Zi(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,0!==(4&(r=r.tag))&&0!==(1&r)&&(Fl(n,e),Dl(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Xr(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qi(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))))}throw Error(o(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,i.style.display=we("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function xs(e,t){if(_r&&"function"===typeof _r.onCommitFiberUnmount)try{_r.onCommitFiberUnmount(Sr,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(0!==(4&i))Fl(t,n);else{i=t;try{r()}catch(a){Wl(i,a)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Wl(t,a)}break;case 5:gs(t);break;case 4:Cs(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function js(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(js(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||js(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?_s(e,n,t):ks(e,n,t)}function _s(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zi));else if(4!==i&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function ks(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Cs(e,t){for(var n,i,r=t,a=!1;;){if(!a){a=r.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===r.tag||6===r.tag){e:for(var s=e,l=r,c=l;;)if(xs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(s=n,l=r.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(xs(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(a=!1)}r.sibling.return=r.return,r=r.sibling}}function As(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var r=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Qi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),ke(e,r),t=ke(e,i),r=0;r<a.length;r+=2){var s=a[r],l=a[r+1];"style"===s?je(n,l):"dangerouslySetInnerHTML"===s?be(n,l):"children"===s?ye(n,l):x(n,s,l,t)}switch(e){case"input":ne(n,i);break;case"textarea":ce(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(a=i.value)?oe(n,!!i.multiple,a,!1):e!==!!i.multiple&&(null!=i.defaultValue?oe(n,!!i.multiple,i.defaultValue,!0):oe(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,jt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gs=qr(),vs(t.child,!0)),void Ns(t);case 19:return void Ns(t);case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(o(163))}function Ns(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ms),t.forEach(function(t){var i=ql.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Is=w.ReactCurrentDispatcher,Es=w.ReactCurrentOwner,Ts=0,Ls=null,Ms=null,Rs=0,Ds=0,Fs=cr(0),Bs=0,zs=null,Ws=0,Us=0,qs=0,Hs=0,Vs=null,Gs=0,Zs=1/0;function Ys(){Zs=qr()+500}var Ks,Js=null,Xs=!1,$s=null,Qs=null,el=!1,tl=null,nl=90,il=[],rl=[],al=null,ol=0,sl=null,ll=-1,cl=0,dl=0,ul=null,hl=!1;function pl(){return 0!==(48&Ts)?qr():-1!==ll?ll:ll=qr()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hr()?1:2;if(0===cl&&(cl=Ws),0!==Jr.transition){0!==dl&&(dl=null!==Vs?Vs.pendingLanes:0),e=cl;var t=4186112&~dl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hr(),0!==(4&Ts)&&98===e?e=zt(12,cl):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cl),e}function ml(e,t,n){if(50<ol)throw ol=0,sl=null,Error(o(185));if(null===(e=gl(e,t)))return null;qt(e,t,n),e===Ls&&(qs|=t,4===Bs&&vl(e,Rs));var i=Hr();1===t?0!==(8&Ts)&&0===(48&Ts)?xl(e):(bl(e,n),0===Ts&&(Ys(),Yr())):(0===(4&Ts)||98!==i&&99!==i||(null===al?al=new Set([e]):al.add(e)),bl(e,n)),Vs=e}function gl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function bl(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ht(s),c=1<<l,d=a[l];if(-1===d){if(0===(c&i)||0!==(c&r)){d=t,Dt(c);var u=Rt;a[l]=10<=u?d+250:6<=u?d+5e3:-1}}else d<=t&&(e.expiredLanes|=c);s&=~c}if(i=Ft(e,e===Ls?Rs:0),t=Rt,0===i)null!==n&&(n!==Dr&&Ar(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Dr&&Ar(n)}15===t?(n=xl.bind(null,e),null===Br?(Br=[n],zr=Cr(Er,Kr)):Br.push(n),n=Dr):14===t?n=Zr(99,xl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Zr(n,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yl(e){if(ll=-1,dl=cl=0,0!==(48&Ts))throw Error(o(327));var t=e.callbackNode;if(Rl()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ls?Rs:0);if(0===n)return null;var i=n,r=Ts;Ts|=16;var a=Al();for(Ls===e&&Rs===i||(Ys(),kl(e,i));;)try{Pl();break}catch(l){Cl(e,l)}if(na(),Is.current=a,Ts=r,null!==Ms?i=0:(Ls=null,Rs=0,i=Bs),0!==(Ws&qs))kl(e,0);else if(0!==i){if(2===i&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Zi(e.containerInfo)),0!==(n=Bt(e))&&(i=Nl(e,n))),1===i)throw t=zs,kl(e,0),vl(e,n),bl(e,qr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(o(345));case 2:case 5:Tl(e);break;case 3:if(vl(e,n),(62914560&n)===n&&10<(i=Gs+500-qr())){if(0!==Ft(e,0))break;if(((r=e.suspendedLanes)&n)!==n){pl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Vi(Tl.bind(null,e),i);break}Tl(e);break;case 4:if(vl(e,n),(4186112&n)===n)break;for(i=e.eventTimes,r=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=i[s])>r&&(r=s),n&=~a}if(n=r,10<(n=(120>(n=qr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=Vi(Tl.bind(null,e),n);break}Tl(e);break;default:throw Error(o(329))}}return bl(e,qr()),e.callbackNode===t?yl.bind(null,e):null}function vl(e,t){for(t&=~Hs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),i=1<<n;e[n]=-1,t&=~i}}function xl(e){if(0!==(48&Ts))throw Error(o(327));if(Rl(),e===Ls&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Nl(e,t);0!==(Ws&qs)&&(n=Nl(e,t=Ft(e,t)))}else n=Nl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Zi(e.containerInfo)),0!==(t=Bt(e))&&(n=Nl(e,t))),1===n)throw n=zs,kl(e,0),vl(e,t),bl(e,qr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e),bl(e,qr()),null}function wl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Ys(),Yr())}}function jl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Ys(),Yr())}}function Sl(e,t){ur(Fs,Ds),Ds|=t,Ws|=t}function _l(){Ds=Fs.current,dr(Fs)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gi(n)),null!==Ms)for(n=Ms.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&yr();break;case 3:La(),dr(fr),dr(pr),Ka();break;case 5:Ra(i);break;case 4:La();break;case 13:case 19:dr(Da);break;case 10:ia(i);break;case 23:case 24:_l()}n=n.return}Ls=e,Ms=Zl(e.current,null),Rs=Ds=Ws=t,Bs=0,zs=null,Hs=qs=Us=0}function Cl(e,t){for(;;){var n=Ms;try{if(na(),Ja.current=Eo,no){for(var i=Qa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}no=!1}if($a=0,to=eo=Qa=null,io=!1,Es.current=null,null===n||null===n.return){Bs=1,zs=t,Ms=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var d=s.alternate;d?(s.updateQueue=d.updateQueue,s.memoizedState=d.memoizedState,s.lanes=d.lanes):(s.updateQueue=null,s.memoizedState=null)}var u=0!==(1&Da.current),h=o;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=h.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!u)}}if(p){var g=h.updateQueue;if(null===g){var b=new Set;b.add(c),h.updateQueue=b}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=da(-1,1);y.tag=2,ua(s,y)}s.lanes|=1;break e}l=void 0,s=t;var v=a.pingCache;if(null===v?(v=a.pingCache=new hs,l=new Set,v.set(c,l)):void 0===(l=v.get(c))&&(l=new Set,v.set(c,l)),!l.has(s)){l.add(s);var x=Ul.bind(null,a,c,s);c.then(x,x)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((Z(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),l=ds(l,s),h=o;do{switch(h.tag){case 3:a=l,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ps(0,a,t));break e;case 1:a=l;var w=h.type,j=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==j&&"function"===typeof j.componentDidCatch&&(null===Qs||!Qs.has(j)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,fs(h,a,t));break e}}h=h.return}while(null!==h)}El(n)}catch(S){t=S,Ms===n&&null!==n&&(Ms=n=n.return);continue}break}}function Al(){var e=Is.current;return Is.current=Eo,null===e?Eo:e}function Nl(e,t){var n=Ts;Ts|=16;var i=Al();for(Ls===e&&Rs===t||kl(e,t);;)try{Ol();break}catch(r){Cl(e,r)}if(na(),Ts=n,Is.current=i,null!==Ms)throw Error(o(261));return Ls=null,Rs=0,Bs}function Ol(){for(;null!==Ms;)Il(Ms)}function Pl(){for(;null!==Ms&&!Nr();)Il(Ms)}function Il(e){var t=Ks(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?El(e):Ms=t,Es.current=null}function El(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ls(n,t,Ds)))return void(Ms=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ds)||0===(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cs(t)))return n.flags&=2047,void(Ms=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ms=t);Ms=t=e}while(null!==t);0===Bs&&(Bs=5)}function Tl(e){var t=Hr();return Gr(99,Ll.bind(null,e,t)),null}function Ll(e,t){do{Rl()}while(null!==tl);if(0!==(48&Ts))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var i=n.lanes|n.childLanes,r=i,a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var c=31-Ht(a),d=1<<c;r[c]=0,s[c]=-1,l[c]=-1,a&=~d}if(null!==al&&0===(24&i)&&al.has(e)&&al.delete(e),e===Ls&&(Ms=Ls=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(r=Ts,Ts|=32,Es.current=null,Wi=Kt,bi(s=gi())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(d=l.getSelection&&l.getSelection())&&0!==d.rangeCount){l=d.anchorNode,a=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{l.nodeType,c.nodeType}catch(C){l=null;break e}var u=0,h=-1,p=-1,f=0,m=0,g=s,b=null;t:for(;;){for(var y;g!==l||0!==a&&3!==g.nodeType||(h=u+a),g!==c||0!==d&&3!==g.nodeType||(p=u+d),3===g.nodeType&&(u+=g.nodeValue.length),null!==(y=g.firstChild);)b=g,g=y;for(;;){if(g===s)break t;if(b===l&&++f===a&&(h=u),b===c&&++m===d&&(p=u),null!==(y=g.nextSibling))break;b=(g=b).parentNode}g=y}l=-1===h||-1===p?null:{start:h,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Ui={focusedElem:s,selectionRange:l},Kt=!1,ul=null,hl=!1,Js=i;do{try{Ml()}catch(C){if(null===Js)throw Error(o(330));Wl(Js,C),Js=Js.nextEffect}}while(null!==Js);ul=null,Js=i;do{try{for(s=e;null!==Js;){var v=Js.flags;if(16&v&&ye(Js.stateNode,""),128&v){var x=Js.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&v){case 2:Ss(Js),Js.flags&=-3;break;case 6:Ss(Js),Js.flags&=-3,As(Js.alternate,Js);break;case 1024:Js.flags&=-1025;break;case 1028:Js.flags&=-1025,As(Js.alternate,Js);break;case 4:As(Js.alternate,Js);break;case 8:Cs(s,l=Js);var j=l.alternate;ws(l),null!==j&&ws(j)}Js=Js.nextEffect}}catch(C){if(null===Js)throw Error(o(330));Wl(Js,C),Js=Js.nextEffect}}while(null!==Js);if(w=Ui,x=gi(),v=w.focusedElem,s=w.selectionRange,x!==v&&v&&v.ownerDocument&&mi(v.ownerDocument.documentElement,v)){null!==s&&bi(v)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in v?(v.selectionStart=x,v.selectionEnd=Math.min(w,v.value.length)):(w=(x=v.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=v.textContent.length,j=Math.min(s.start,l),s=void 0===s.end?j:Math.min(s.end,l),!w.extend&&j>s&&(l=s,s=j,j=l),l=fi(v,j),a=fi(v,s),l&&a&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),j>s?(w.addRange(x),w.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),w.addRange(x))))),x=[];for(w=v;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof v.focus&&v.focus(),v=0;v<x.length;v++)(w=x[v]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Wi,Ui=Wi=null,e.current=n,Js=i;do{try{for(v=e;null!==Js;){var S=Js.flags;if(36&S&&ys(v,Js.alternate,Js),128&S){x=void 0;var _=Js.ref;if(null!==_){var k=Js.stateNode;Js.tag,x=k,"function"===typeof _?_(x):_.current=x}}Js=Js.nextEffect}}catch(C){if(null===Js)throw Error(o(330));Wl(Js,C),Js=Js.nextEffect}}while(null!==Js);Js=null,Fr(),Ts=r}else e.current=n;if(el)el=!1,tl=e,nl=t;else for(Js=i;null!==Js;)t=Js.nextEffect,Js.nextEffect=null,8&Js.flags&&((S=Js).sibling=null,S.stateNode=null),Js=t;if(0===(i=e.pendingLanes)&&(Qs=null),1===i?e===sl?ol++:(ol=0,sl=e):ol=0,n=n.stateNode,_r&&"function"===typeof _r.onCommitFiberRoot)try{_r.onCommitFiberRoot(Sr,n,void 0,64===(64&n.current.flags))}catch(C){}if(bl(e,qr()),Xs)throw Xs=!1,e=$s,$s=null,e;return 0!==(8&Ts)||Yr(),null}function Ml(){for(;null!==Js;){var e=Js.alternate;hl||null===ul||(0!==(8&Js.flags)?et(Js,ul)&&(hl=!0):13===Js.tag&&Os(e,Js)&&et(Js,ul)&&(hl=!0));var t=Js.flags;0!==(256&t)&&bs(e,Js),0===(512&t)||el||(el=!0,Zr(97,function(){return Rl(),null})),Js=Js.nextEffect}}function Rl(){if(90!==nl){var e=97<nl?97:nl;return nl=90,Gr(e,Bl)}return!1}function Dl(e,t){il.push(t,e),el||(el=!0,Zr(97,function(){return Rl(),null}))}function Fl(e,t){rl.push(t,e),el||(el=!0,Zr(97,function(){return Rl(),null}))}function Bl(){if(null===tl)return!1;var e=tl;if(tl=null,0!==(48&Ts))throw Error(o(331));var t=Ts;Ts|=32;var n=rl;rl=[];for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1],s=r.destroy;if(r.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Wl(a,c)}}for(n=il,il=[],i=0;i<n.length;i+=2){r=n[i],a=n[i+1];try{var l=r.create;r.destroy=l()}catch(c){if(null===a)throw Error(o(330));Wl(a,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ts=t,Yr(),!0}function zl(e,t,n){ua(e,t=ps(0,t=ds(n,t),1)),t=pl(),null!==(e=gl(e,1))&&(qt(e,1,t),bl(e,t))}function Wl(e,t){if(3===e.tag)zl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){zl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Qs||!Qs.has(i))){var r=fs(n,e=ds(t,e),1);if(ua(n,r),r=pl(),null!==(n=gl(n,1)))qt(n,1,r),bl(n,r);else if("function"===typeof i.componentDidCatch&&(null===Qs||!Qs.has(i)))try{i.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Ul(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&n,Ls===e&&(Rs&n)===n&&(4===Bs||3===Bs&&(62914560&Rs)===Rs&&500>qr()-Gs?kl(e,0):Hs|=n),bl(e,t)}function ql(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hr()?1:2:(0===cl&&(cl=Ws),0===(t=Wt(62914560&~cl))&&(t=4194304))),n=pl(),null!==(e=gl(e,t))&&(qt(e,t,n),bl(e,n))}function Hl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,i){return new Hl(e,t,n,i)}function Gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zl(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yl(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Gl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Kl(n.children,r,a,t);case R:s=8,r|=16;break;case k:s=8,r|=1;break;case C:return(e=Vl(12,n,t,8|r)).elementType=C,e.type=C,e.lanes=a,e;case P:return(e=Vl(13,n,t,r)).type=P,e.elementType=P,e.lanes=a,e;case I:return(e=Vl(19,n,t,r)).elementType=I,e.lanes=a,e;case D:return Jl(n,r,a,t);case F:return(e=Vl(24,n,t,r)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case N:s=9;break e;case O:s=11;break e;case E:s=14;break e;case T:s=16,i=null;break e;case L:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Vl(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Kl(e,t,n,i){return(e=Vl(7,e,i,t)).lanes=n,e}function Jl(e,t,n,i){return(e=Vl(23,e,i,t)).elementType=D,e.lanes=n,e}function Xl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n,i){var r=t.current,a=pl(),s=fl(r);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(br(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var c=n.type;if(br(c)){n=xr(n,c,l);break e}}n=l}else n=hr;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),ua(r,t),ml(r,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ic(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function rc(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,la(t),e[er]=n.current,Ei(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var r=(t=i[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,i,r){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=tc(o);s.call(e)}}ec(t,o,e,r)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,i),o=a._internalRoot,"function"===typeof r){var l=r;r=function(){var e=tc(o);l.call(e)}}jl(function(){ec(t,o,e,r)})}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ks=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fr.current)Do=!0;else{if(0===(n&i)){switch(Do=!1,t.tag){case 3:Zo(t),Za();break;case 5:Ma(t);break;case 1:br(t.type)&&wr(t);break;case 4:Ta(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var r=t.type._context;ur($r,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qo(e,t,n):(ur(Da,1&Da.current),null!==(t=os(e,t,n))?t.sibling:null);ur(Da,1&Da.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return as(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),ur(Da,Da.current),i)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,n)}return os(e,t,n)}Do=0!==(16384&e.flags)}else Do=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=gr(t,pr.current),aa(t,n),r=oo(null,t,i,e,r,n),t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(i)){var a=!0;wr(t)}else a=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,la(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&ga(t,i,s,e),r.updater=ba,t.stateNode=r,r._reactInternals=t,wa(t,i,e,n),t=Go(null,t,i,!0,a,n)}else t.tag=0,Fo(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===E)return 14}return 2}(r),e=Xr(r,e),a){case 0:t=Ho(null,t,r,e,n);break e;case 1:t=Vo(null,t,r,e,n);break e;case 11:t=Bo(null,t,r,e,n);break e;case 14:t=zo(null,t,r,Xr(r.type,e),i,n);break e}throw Error(o(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ho(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Vo(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 3:if(Zo(t),i=t.updateQueue,null===e||null===i)throw Error(o(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ca(e,t),pa(t,i,null,n),(i=t.memoizedState.element)===r)Za(),t=os(e,t,n);else{if((a=(r=t.stateNode).hydrate)&&(za=Yi(t.stateNode.containerInfo.firstChild),Ba=t,a=Wa=!0),a){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(a=e[r])._workInProgressVersionPrimary=e[r+1],Ya.push(a);for(n=Aa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,i,n),Za();t=t.child}return t;case 5:return Ma(t),null===e&&Ha(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,Hi(i,r)?s=null:null!==a&&Hi(i,a)&&(t.flags|=16),qo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Qo(e,t,n);case 4:return Ta(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ca(t,null,i,n):Fo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Bo(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,a=r.value;var l=t.type._context;if(ur($r,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=di(l,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,a):1073741823))){if(s.children===r.children&&!fr.current){t=os(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var d=c.firstContext;null!==d;){if(d.context===i&&0!==(d.observedBits&a)){1===l.tag&&((d=da(-1,n&-n)).tag=2,ua(l,d)),l.lanes|=n,null!==(d=l.alternate)&&(d.lanes|=n),ra(l.return,n),c.lanes|=n;break}d=d.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(a=t.pendingProps).children,aa(t,n),i=i(r=oa(r,a.unstable_observedBits)),t.flags|=1,Fo(e,t,i,n),t.child;case 14:return a=Xr(r=t.type,t.pendingProps),zo(e,t,r,a=Xr(r.type,a),i,n);case 15:return Wo(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Xr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,br(i)?(e=!0,wr(t)):e=!1,aa(t,n),va(t,i,r),wa(t,i,r,n),Go(null,t,i,!0,e,n);case 19:return as(e,t,n);case 23:case 24:return Uo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){ec(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,function(){t[er]=null})},tt=function(e){13===e.tag&&(ml(e,4,pl()),ic(e,4))},nt=function(e){13===e.tag&&(ml(e,67108864,pl()),ic(e,67108864))},it=function(e){if(13===e.tag){var t=pl(),n=fl(e);ml(e,n,t),ic(e,n)}},rt=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=ar(i);if(!r)throw Error(o(90));X(i),ne(i,r)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Te=wl,Le=function(e,t,n,i,r){var a=Ts;Ts|=4;try{return Gr(98,e.bind(null,t,n,i,r))}finally{0===(Ts=a)&&(Ys(),Yr())}},Me=function(){0===(49&Ts)&&(function(){if(null!==al){var e=al;al=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,bl(e,qr())})}Yr()}(),Rl())},Re=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Ys(),Yr())}};var lc={Events:[ir,rr,ar,Ie,Ee,Rl,{current:!1}]},cc={findFiberByHostInstance:nr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},dc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Sr=uc.inject(dc),_r=uc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!==(48&n))return e(t);Ts|=1;try{if(e)return Gr(99,e.bind(null,t))}finally{Ts=n,Yr()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(jl(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,i)},t.version="17.0.2"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var i=n(5193),r=n(2761),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var i=n(2969);e.exports=function(e){return function(t){return i(t,e)}}},2929:(e,t,n)=>{var i=n(6552).Uint8Array;e.exports=i},2969:(e,t,n)=>{var i=n(5324),r=n(914);e.exports=function(e,t){for(var n=0,a=(t=i(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var i=n(2969);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},3204:(e,t,n)=>{var i=n(3343),r=n(2777),a=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),d=!n&&r(e),u=!n&&!d&&o(e),h=!n&&!d&&!u&&l(e),p=n||d||u||h,f=p?i(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var i=n(9676),r=n(929),a=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&r(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),i(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},3366:(e,t,n)=>{var i=n(7894),r=n(9057);e.exports=function(e,t){return null!=e&&r(e,t,i)}},3411:(e,t,n)=>{var i=n(149),r=n(9096),a=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?i:a)(e,r(t,3))}},3440:(e,t,n)=>{var i=n(6552)["__core-js_shared__"];e.exports=i},3522:(e,t,n)=>{var i=n(143),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},3538:(e,t,n)=>{var i=n(755),r=n(3411);e.exports=function(e,t){return i(r(e,t),1)}},3668:(e,t,n)=>{var i=n(8902),r=n(2587),a=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++f<d;){var b=e[f],y=t[f];if(o)var v=c?o(y,b,f,t,e,l):o(b,y,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!r(t,function(e,t){if(!a(g,t)&&(b===e||s(b,e,n,o,l)))return g.push(t)})){m=!1;break}}else if(b!==y&&!s(b,y,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var i=n(6140),r=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3781:(e,t,n)=>{var i=n(9417),r=n(8673);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,i(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var i=n(396),r=n(2866),a=n(2597),o=n(914);e.exports=function(e){return a(e)?i(o(e)):r(e)}},3950:(e,t,n)=>{var i=n(6686),r=n(4757),a=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,h,p,f=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=c;return l=c=void 0,f=t,u=e.apply(i,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=d}function x(){var e=r();if(v(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-p);return g?s(n,d-(e-f)):n}(e))}function w(e){return h=void 0,b&&l?y(e):(l=c=void 0,u)}function j(){var e=r(),n=v(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(x,t),m?y(e):u}(p);if(g)return clearTimeout(h),h=setTimeout(x,t),y(p)}return void 0===h&&(h=setTimeout(x,t)),u}return t=a(t)||0,i(n)&&(m=!!n.leading,d=(g="maxWait"in n)?o(a(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),j.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},j.flush=function(){return void 0===h?u:w(r())},j}},4020:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var i=n(8259),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}},4190:(e,t,n)=>{var i=n(1340);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},4202:(e,t,n)=>{"use strict";var i=n(2123),r=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,d=60116;if("function"===typeof Symbol&&Symbol.for){var u=Symbol.for;r=u("react.element"),a=u("react.portal"),t.Fragment=u("react.fragment"),t.StrictMode=u("react.strict_mode"),t.Profiler=u("react.profiler"),o=u("react.provider"),s=u("react.context"),l=u("react.forward_ref"),t.Suspense=u("react.suspense"),c=u("react.memo"),d=u("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,i(v,g.prototype),v.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!j.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,n,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case a:l=!0}}if(l)return o=o(l=e),e=""===i?"."+C(l,0):i,Array.isArray(o)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),A(o,t,n,"",function(e){return e})):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var d=i+C(s=e[c],c);l+=A(s,t,n,d,o)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,n,d=i+C(s,c++),o);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",function(e){return t.call(n,e,r++)}),i}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var P={current:null};function I(){var e=P.current;if(null===e)throw Error(p(321));return e}var E={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var a=i({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)w.call(t,d)&&!j.hasOwnProperty(d)&&(a[d]=void 0===t[d]&&void 0!==c?c[d]:t[d])}var d=arguments.length-2;if(1===d)a.children=n;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];a.children=c}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},4258:(e,t,n)=>{var i=n(5906)();e.exports=i},4262:(e,t,n)=>{var i=n(8895),r=n(4052);e.exports=function(e,t,n){var a=t(e);return r(e)?a:i(a,n(e))}},4416:(e,t,n)=>{var i=n(8902),r=n(5866),a=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,d=r,u=e.length,h=!0,p=[],f=p;if(n)h=!1,d=a;else if(u>=200){var m=t?null:s(e);if(m)return l(m);h=!1,d=o,f=new i}else f=t?[]:p;e:for(;++c<u;){var g=e[c],b=t?t(g):g;if(g=n||0!==g?g:0,h&&b===b){for(var y=f.length;y--;)if(f[y]===b)continue e;t&&f.push(b),p.push(g)}else d(f,b,n)||(f!==p&&f.push(b),p.push(g))}return p}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(816);function r(e,t,n){return(t=(0,i.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4543:(e,t,n)=>{e=n.nmd(e);var i=n(6552),r=n(14),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l},4545:(e,t,n)=>{var i=n(7160);e.exports=function(){this.__data__=new i,this.size=0}},4552:(e,t,n)=>{var i=n(9812),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var r=o.call(e);return i&&(t?e[s]=n:delete e[s]),r}},4597:(e,t,n)=>{var i=n(2587),r=n(9096),a=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?i:a;return n&&s(e,t,n)&&(t=void 0),l(e,r(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var i=n(4258),r=n(8673);e.exports=function(e,t){return e&&i(e,t,r)}},4746:(e,t,n)=>{var i=n(5652);e.exports=function(e,t){var n=!0;return i(e,function(e,i,r){return n=!!t(e,i,r)}),n}},4757:(e,t,n)=>{var i=n(6552);e.exports=function(){return i.Date.now()}},4816:(e,t,n)=>{var i=n(7251),r=n(7159),a=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case r:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===s||e===o||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b)},t.typeOf=w},5029:(e,t,n)=>{var i=n(6989),r=n(3097),a=n(3366),o=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=r(n,e);return void 0===o&&o===t?a(n,e):i(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},5204:(e,t,n)=>{var i=n(7937)(n(6552),"Map");e.exports=i},5268:(e,t,n)=>{var i=n(9160);e.exports=function(e){return i(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var i=n(4052),r=n(2597),a=n(4079),o=n(1069);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:a(o(e))}},5387:(e,t,n)=>{var i=n(7937)(n(6552),"Promise");e.exports=i},5428:(e,t,n)=>{var i=n(6913),r=n(6173),a=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!o[i(e)]}},5538:(e,t,n)=>{var i=n(7160),r=n(4545),a=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var i=n(7937)(Object,"create");e.exports=i},5636:(e,t,n)=>{var i=n(1170),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=r(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),i(e,this,c)}}},5647:(e,t,n)=>{var i=n(3279),r=n(5636),a=n(6350);e.exports=function(e,t){return a(r(e,t,i),e+"")}},5652:(e,t,n)=>{var i=n(4664),r=n(6516)(i);e.exports=r},5654:(e,t,n)=>{var i=n(7937),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var i=n(9395),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=i(e),d=c.length;if(d!=i(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:r.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<d;){var b=e[h=c[u]],y=t[h];if(a)var v=l?a(y,b,h,t,e,s):a(b,y,h,e,t,s);if(!(void 0===v?b===y||o(b,y,n,a,s):v)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var i=n(4816);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},5816:e=>{e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},5866:(e,t,n)=>{var i=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},5893:(e,t,n)=>{var i=n(6599);e.exports=function(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,l=n.length;++r<s;){var c=i(a[r],o[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},5900:e=>{"use strict";e.exports=JSON.parse('{"description":"The iconic font, CSS, and SVG framework","keywords":["font","awesome","fontawesome","icon","svg","bootstrap"],"homepage":"https://fontawesome.com","bugs":{"url":"https://github.com/FortAwesome/Font-Awesome/issues"},"author":"The Font Awesome Team (https://github.com/orgs/FortAwesome/people)","repository":{"type":"git","url":"https://github.com/FortAwesome/Font-Awesome"},"engines":{"node":">=6"},"dependencies":{"@fortawesome/fontawesome-common-types":"6.7.2"},"version":"6.7.2","name":"@fortawesome/fontawesome-svg-core","main":"index.js","module":"index.mjs","jsnext:main":"index.mjs","style":"styles.css","license":"MIT","types":"./index.d.ts","exports":{".":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","style":"./styles.css","default":"./index.js"},"./index":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./index.js":{"types":"./index.d.ts","module":"./index.mjs","import":"./index.mjs","require":"./index.js","default":"./index.js"},"./plugins":{"types":"./index.d.ts","module":"./plugins.mjs","import":"./plugins.mjs","default":"./plugins.mjs"},"./import.macro":"./import.macro.js","./import.macro.js":"./import.macro.js","./styles":"./styles.css","./styles.css":"./styles.css","./package.json":"./package.json"},"sideEffects":["./index.js","./index.mjs","./styles.css"]}')},5906:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var i=n(3028)(Object.getPrototypeOf,Object);e.exports=i},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var i=n(8325),r=n(6578)(i);e.exports=r},6361:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return!0===e||!1===e||r(e)&&"[object Boolean]"==i(e)}},6378:(e,t)=>{"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case s:case o:case h:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case f:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return b(e)===a}},6399:(e,t,n)=>{var i=n(5538),r=n(3668),a=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),d=n(1268),u="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,b){var y=l(e),v=l(t),x=y?h:s(e),w=v?h:s(t),j=(x=x==u?p:x)==p,S=(w=w==u?p:w)==p,_=x==w;if(_&&c(e)){if(!c(t))return!1;y=!0,j=!1}if(_&&!j)return b||(b=new i),y||d(e)?r(e,t,n,m,g,b):a(e,t,x,n,m,g,b);if(!(1&n)){var k=j&&f.call(e,"__wrapped__"),C=S&&f.call(t,"__wrapped__");if(k||C){var A=k?e.value():e,N=C?t.value():t;return b||(b=new i),g(A,N,n,m,b)}}return!!_&&(b||(b=new i),o(e,t,n,m,g,b))}},6516:(e,t,n)=>{var i=n(6571);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==r(s[o],o,s););return n}}},6532:(e,t,n)=>{var i=n(5538),r=n(6989);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var d=(c=n[o])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new i;if(a)var f=a(u,h,d,e,t,p);if(!(void 0===f?r(h,u,3,a,p):f))return!1}}return!0}},6552:(e,t,n)=>{var i=n(7105),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},6571:(e,t,n)=>{var i=n(1629),r=n(6173);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),a=16-(r-i);if(i=r,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var i=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e===e,o=i(e),s=void 0!==t,l=null===t,c=t===t,d=i(t);if(!l&&!d&&!o&&e>t||o&&s&&c&&!l&&!d||r&&s&&c||!n&&c||!a)return 1;if(!r&&!o&&!d&&e<t||d&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}},6600:(e,t,n)=>{var i=n(7937)(n(6552),"WeakMap");e.exports=i},6604:(e,t,n)=>{var i=n(3331)();e.exports=i},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var i=n(9742),r=n(61),a=n(3279);e.exports=function(e){return e&&e.length?i(e,a,r):void 0}},6788:(e,t,n)=>{var i=n(7160),r=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var i=n(7105),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r&&i.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var i=n(2622);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},6913:(e,t,n)=>{var i=n(9812),r=n(4552),a=n(6095),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):a(e)}},6924:(e,t,n)=>{var i=n(7685),r=n(5204),a=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),d="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(i),g=c(r),b=c(a),y=c(o),v=c(s),x=l;(i&&x(new i(new ArrayBuffer(1)))!=f||r&&x(new r)!=d||a&&x(a.resolve())!=u||o&&x(new o)!=h||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case m:return f;case g:return d;case b:return u;case y:return h;case v:return p}return t}),e.exports=x},6954:(e,t,n)=>{var i=n(1629),r=n(7857),a=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(i(e)?h:s).test(o(e))}},6989:(e,t,n)=>{var i=n(6399),r=n(2761);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:i(t,n,a,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var i=n(5295),r=n(4746),a=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?i:r;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},7105:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},7116:(e,t,n)=>{var i=n(9812),r=n(2777),a=n(4052),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var i=n(2622);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var i=n(7563),r=n(9935),a=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";var n,i,r,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,d=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(u,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(u,0))},i=function(e,t){d=setTimeout(e,t)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,y=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();v=e+y;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},i=function(e,n){b=h(function(){e(t.unstable_now())},n)},r=function(){p(b),b=-1}}function j(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<k(r,t)))break e;e[i]=t,e[n]=r,n=i}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var a=2*(i+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>k(o,n))void 0!==l&&0>k(l,o)?(e[i]=l,e[s]=n,i=s):(e[i]=o,e[a]=n,i=a);else{if(!(void 0!==l&&0>k(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],N=1,O=null,P=3,I=!1,E=!1,T=!1;function L(e){for(var t=S(A);null!==t;){if(null===t.callback)_(A);else{if(!(t.startTime<=e))break;_(A),t.sortIndex=t.expirationTime,j(C,t)}t=S(A)}}function M(e){if(T=!1,L(e),!E)if(null!==S(C))E=!0,n(R);else{var t=S(A);null!==t&&i(M,t.startTime-e)}}function R(e,n){E=!1,T&&(T=!1,r()),I=!0;var a=P;try{for(L(n),O=S(C);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=O.callback;if("function"===typeof o){O.callback=null,P=O.priorityLevel;var s=o(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?O.callback=s:O===S(C)&&_(C),L(n)}else _(C);O=S(C)}if(null!==O)var l=!0;else{var c=S(A);null!==c&&i(M,c.startTime-n),l=!1}return l}finally{O=null,P=a,I=!1}}var D=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){E||I||(E=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return S(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,j(A,e),null===S(C)&&e===S(A)&&(T?r():T=!0,i(M,o-s))):(e.sortIndex=l,j(C,e),E||I||(E=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},7251:(e,t,n)=>{var i=n(8724),r=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,i,a,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var s=new r(i,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,o=new Array(a);r<a;r++)o[r]=i[r].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,i),!0;case 4:return d.fn.call(d.context,t,i,r),!0;case 5:return d.fn.call(d.context,t,i,r,a),!0;case 6:return d.fn.call(d.context,t,i,r,a,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,i);break;case 4:d[c].fn.call(d[c].context,t,i,r);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||o(this,a);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||r&&!s[l].once||i&&s[l].context!==i)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var i=n(801),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var i=n(755),r=n(2536),a=n(5647),o=n(929),s=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var i=n(5575);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},7676:(e,t,n)=>{var i=n(8189),r=n(6311),a=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=r(t)?a(t):void 0,s=n?n[0]:t.charAt(0),l=n?i(n,1).join(""):t.slice(1);return s[e]()+l}}},7681:(e,t,n)=>{"use strict";n(9005)},7685:(e,t,n)=>{var i=n(7937)(n(6552),"DataView");e.exports=i},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var i=n(3440),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var i=n(6954),r=n(4657);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8123:(e,t,n)=>{var i=n(1141);e.exports=m,e.exports.parse=a,e.exports.compile=function(e,t){return c(a(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=f;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,i=[],a=0,s=0,l="",c=t&&t.delimiter||"/";null!=(n=r.exec(e));){var d=n[0],h=n[1],p=n.index;if(l+=e.slice(s,p),s=p+d.length,h)l+=h[1];else{var f=e[s],m=n[2],g=n[3],b=n[4],y=n[5],v=n[6],x=n[7];l&&(i.push(l),l="");var w=null!=m&&null!=f&&f!==m,j="+"===v||"*"===v,S="?"===v||"*"===v,_=m||c,k=b||y,C=m||("string"===typeof i[i.length-1]?i[i.length-1]:"");i.push({name:g||a++,prefix:m||"",delimiter:_,optional:S,repeat:j,partial:w,asterisk:!!x,pattern:k?u(k):x?".*":o(_,C)})}}return s<e.length&&(l+=e.substr(s)),l&&i.push(l),i}function o(e,t){return!t||t.indexOf(e)>-1?"[^"+d(e)+"]+?":d(t)+"|(?:(?!"+d(t)+")[^"+d(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",p(t)));return function(t,r){for(var a="",o=t||{},c=(r||{}).pretty?s:encodeURIComponent,d=0;d<e.length;d++){var u=e[d];if("string"!==typeof u){var h,p=o[u.name];if(null==p){if(u.optional){u.partial&&(a+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(i(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(h=c(p[f]),!n[d].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(0===f?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?l(p):c(p),!n[d].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');a+=u.prefix+h}}else a+=u}return a}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function f(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)o+=d(l);else{var c=d(l.prefix),u="(?:"+l.pattern+")";t.push(l),l.repeat&&(u+="(?:"+c+u+")*"),o+=u=l.optional?l.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var f=d(n.delimiter||"/"),m=o.slice(-f.length)===f;return r||(o=(m?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=a?"$":r&&m?"":"(?="+f+"|$)",h(new RegExp("^"+o,p(n)),t)}function m(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(m(e[r],t,n).source);return h(new RegExp("(?:"+i.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return f(a(e,n),t,n)}(e,t,n)}},8182:(e,t,n)=>{var i=n(2070),r=n(5713),a=n(2074),o=i&&1/a(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},8189:(e,t,n)=>{var i=n(3871);e.exports=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}},8210:function(e,t,n){var i;!function(){"use strict";var r,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=u(1286742750677284.5),b={};function y(e,t){var n,i,r,a,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),s?N(t,h):t;if(c=e.d,d=t.d,o=e.e,r=t.e,c=c.slice(),a=o-r){for(a<0?(i=c,a=-a,l=d.length):(i=d,r=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for((l=c.length)-(a=d.length)<0&&(a=l,i=d,d=c,c=i),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/f|0,c[a]%=f;for(n&&(c.unshift(n),++r),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=r,s?N(t,h):t}function v(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,i,r=e.length-1,a="",o=e[0];if(r>0){for(a+=o,t=1;t<r;t++)(n=7-(i=e[t]+"").length)&&(a+=k(n)),a+=i;(n=7-(i=(o=e[t])+"").length)&&(a+=k(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}b.absoluteValue=b.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},b.comparedTo=b.cmp=function(e){var t,n,i,r,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(i=a.d.length)<(r=e.d.length)?i:r;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1},b.decimalPlaces=b.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},b.dividedBy=b.div=function(e){return w(this,new this.constructor(e))},b.dividedToIntegerBy=b.idiv=function(e){var t=this.constructor;return N(w(this,new t(e),0,1),t.precision)},b.equals=b.eq=function(e){return!this.cmp(e)},b.exponent=function(){return S(this)},b.greaterThan=b.gt=function(e){return this.cmp(e)>0},b.greaterThanOrEqualTo=b.gte=function(e){return this.cmp(e)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(e){return this.cmp(e)<0},b.lessThanOrEqualTo=b.lte=function(e){return this.cmp(e)<1},b.logarithm=b.log=function(e){var t,n=this,i=n.constructor,a=i.precision,o=a+5;if(void 0===e)e=new i(10);else if((e=new i(e)).s<1||e.eq(r))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(r)?new i(0):(s=!1,t=w(C(n,o),C(e,o),o),s=!0,N(t,a))},b.minus=b.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O(t,e):y(t,(e.s=-e.s,e))},b.modulo=b.mod=function(e){var t,n=this,i=n.constructor,r=i.precision;if(!(e=new i(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):N(new i(n),r)},b.naturalExponential=b.exp=function(){return j(this)},b.naturalLogarithm=b.ln=function(){return C(this)},b.negated=b.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},b.plus=b.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):O(t,(e.s=-e.s,e))},b.precision=b.sd=function(e){var t,n,i,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(r)+1,n=7*(i=r.d.length-1)+1,i=r.d[i]){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return e&&t>n?t:n},b.squareRoot=b.sqrt=function(){var e,t,n,i,r,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(r=Math.sqrt(+c))||r==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),i=new d(t=r==1/0?"5e"+e:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+e)):i=new d(r.toString()),r=o=(n=d.precision)+3;;)if(i=(a=i).plus(w(c,a,o+2)).times(.5),x(a.d).slice(0,o)===(t=x(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),r==o&&"4999"==t){if(N(a,n+1,0),a.times(a).eq(c)){i=a;break}}else if("9999"!=t)break;o+=4}return s=!0,N(i,n)},b.times=b.mul=function(e){var t,n,i,r,a,o,l,c,d,u=this,h=u.constructor,p=u.d,m=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,(c=p.length)<(d=m.length)&&(a=p,p=m,m=a,o=c,c=d,d=o),a=[],i=o=c+d;i--;)a.push(0);for(i=d;--i>=0;){for(t=0,r=c+i;r>i;)l=a[r]+m[i]*p[r-i-1]+t,a[r--]=l%f|0,t=l/f|0;a[r]=(a[r]+t)%f|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?N(e,h.precision):e},b.toDecimalPlaces=b.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),void 0===e?n:(v(e,0,a),void 0===t?t=i.rounding:v(t,0,8),N(n,e+S(n)+1,t))},b.toExponential=function(e,t){var n,i=this,r=i.constructor;return void 0===e?n=P(i,!0):(v(e,0,a),void 0===t?t=r.rounding:v(t,0,8),n=P(i=N(new r(i),e+1,t),!0,e+1)),n},b.toFixed=function(e,t){var n,i,r=this,o=r.constructor;return void 0===e?P(r):(v(e,0,a),void 0===t?t=o.rounding:v(t,0,8),n=P((i=N(new o(r),e+S(r)+1,t)).abs(),!1,e+S(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)},b.toInteger=b.toint=function(){var e=this,t=e.constructor;return N(new t(e),S(e)+1,t.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(e){var t,n,i,a,o,c,d=this,h=d.constructor,p=+(e=new h(e));if(!e.s)return new h(r);if(!(d=new h(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(r))return d;if(i=h.precision,e.eq(r))return N(d,i);if(c=(t=e.e)>=(n=e.d.length-1),o=d.s,c){if((n=p<0?-p:p)<=m){for(a=new h(r),t=Math.ceil(i/7+4),s=!1;n%2&&I((a=a.times(d)).d,t),0!==(n=u(n/2));)I((d=d.times(d)).d,t);return s=!0,e.s<0?new h(r).div(a):N(a,i)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,s=!1,a=e.times(C(d,i+12)),s=!0,(a=j(a)).s=o,a},b.toPrecision=function(e,t){var n,i,r=this,o=r.constructor;return void 0===e?i=P(r,(n=S(r))<=o.toExpNeg||n>=o.toExpPos):(v(e,1,a),void 0===t?t=o.rounding:v(t,0,8),i=P(r=N(new o(r),e,t),e<=(n=S(r))||n<=o.toExpNeg,e)),i},b.toSignificantDigits=b.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(v(e,1,a),void 0===t?t=n.rounding:v(t,0,8)),N(new n(this),e,t)},b.toString=b.valueOf=b.val=b.toJSON=function(){var e=this,t=S(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,i=0,r=e.length;for(e=e.slice();r--;)n=e[r]*t+i,e[r]=n%f|0,i=n/f|0;return i&&e.unshift(i),e}function t(e,t,n,i){var r,a;if(n!=i)a=n>i?1:-1;else for(r=a=0;r<n;r++)if(e[r]!=t[r]){a=e[r]>t[r]?1:-1;break}return a}function n(e,t,n){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(i,r,a,o){var s,c,d,u,h,p,m,g,b,y,v,x,w,j,_,k,C,A,O=i.constructor,P=i.s==r.s?1:-1,I=i.d,E=r.d;if(!i.s)return new O(i);if(!r.s)throw Error(l+"Division by zero");for(c=i.e-r.e,C=E.length,_=I.length,g=(m=new O(P)).d=[],d=0;E[d]==(I[d]||0);)++d;if(E[d]>(I[d]||0)&&--c,(x=null==a?a=O.precision:o?a+(S(i)-S(r))+1:a)<0)return new O(0);if(x=x/7+2|0,d=0,1==C)for(u=0,E=E[0],x++;(d<_||u)&&x--;d++)w=u*f+(I[d]||0),g[d]=w/E|0,u=w%E|0;else{for((u=f/(E[0]+1)|0)>1&&(E=e(E,u),I=e(I,u),C=E.length,_=I.length),j=C,y=(b=I.slice(0,C)).length;y<C;)b[y++]=0;(A=E.slice()).unshift(0),k=E[0],E[1]>=f/2&&++k;do{u=0,(s=t(E,b,C,y))<0?(v=b[0],C!=y&&(v=v*f+(b[1]||0)),(u=v/k|0)>1?(u>=f&&(u=f-1),1==(s=t(h=e(E,u),b,p=h.length,y=b.length))&&(u--,n(h,C<p?A:E,p))):(0==u&&(s=u=1),h=E.slice()),(p=h.length)<y&&h.unshift(0),n(b,h,y),-1==s&&(s=t(E,b,C,y=b.length))<1&&(u++,n(b,C<y?A:E,y)),y=b.length):0===s&&(u++,b=[0]),g[d++]=u,s&&b[0]?b[y++]=I[j]||0:(b=[I[j]],y=1)}while((j++<_||void 0!==b[0])&&x--)}return g[0]||g.shift(),m.e=c,N(m,o?a+S(m)+1:a)}}();function j(e,t){var n,i,a,o,l,c=0,u=0,p=e.constructor,f=p.precision;if(S(e)>16)throw Error(d+S(e));if(!e.s)return new p(r);for(null==t?(s=!1,l=f):l=t,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(l+=Math.log(h(2,u))/Math.LN10*2+5|0,n=i=a=new p(r),p.precision=l;;){if(i=N(i.times(e),l),n=n.times(++c),x((o=a.plus(w(i,n,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;u--;)a=N(a.times(a),l);return p.precision=f,null==t?(s=!0,N(a,f)):a}a=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function _(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return N(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function C(e,t){var n,i,a,o,c,d,u,h,p,f=1,m=e,g=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(r))return new b(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),_(b,h);if(h+=10,b.precision=h,i=(n=x(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return u=_(b,h+2,y).times(o+""),m=C(new b(i+"."+n.slice(1)),h-10).plus(u),b.precision=y,null==t?(s=!0,N(m,y)):m;for(;i<7&&1!=i||1==i&&n.charAt(1)>3;)i=(n=x((m=m.times(e)).d)).charAt(0),f++;for(o=S(m),i>1?(m=new b("0."+n),o++):m=new b(i+"."+n.slice(1)),d=c=m=w(m.minus(r),m.plus(r),h),p=N(m.times(m),h),a=3;;){if(c=N(c.times(p),h),x((u=d.plus(w(c,new b(a),h))).d).slice(0,h)===x(d.d).slice(0,h))return d=d.times(2),0!==o&&(d=d.plus(_(b,h+2,y).times(o+""))),d=w(d,new b(f),h),b.precision=y,null==t?(s=!0,N(d,y)):d;d=u,a+=2}}function A(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;48===t.charCodeAt(i);)++i;for(r=t.length;48===t.charCodeAt(r-1);)--r;if(t=t.slice(i,r)){if(r-=i,n=n-i-1,e.e=u(n/7),e.d=[],i=(n+1)%7,n<0&&(i+=7),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=7;i<r;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function N(e,t,n){var i,r,a,o,l,c,p,m,b=e.d;for(o=1,a=b[0];a>=10;a/=10)o++;if((i=t-o)<0)i+=7,r=t,p=b[m=0];else{if((m=Math.ceil((i+1)/7))>=(a=b.length))return e;for(p=a=b[m],o=1;a>=10;a/=10)o++;r=(i%=7)-7+o}if(void 0!==n&&(l=p/(a=h(10,o-r-1))%10|0,c=t<0||void 0!==b[m+1]||p%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(i>0?r>0?p/h(10,o-r):0:b[m-1])%10&1||n==(e.s<0?8:7))),t<1||!b[0])return c?(a=S(e),b.length=1,t=t-a-1,b[0]=h(10,(7-t%7)%7),e.e=u(-t/7)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(0==i?(b.length=m,a=1,m--):(b.length=m+1,a=h(10,7-i),b[m]=r>0?(p/h(10,o-r)%h(10,r)|0)*a:0),c)for(;;){if(0==m){(b[0]+=a)==f&&(b[0]=1,++e.e);break}if(b[m]+=a,b[m]!=f)break;b[m--]=0,a=1}for(i=b.length;0===b[--i];)b.pop();if(s&&(e.e>g||e.e<-g))throw Error(d+S(e));return e}function O(e,t){var n,i,r,a,o,l,c,d,u,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?N(t,m):t;if(c=e.d,h=t.d,i=t.e,d=e.e,c=c.slice(),o=d-i){for((u=o<0)?(n=c,o=-o,l=h.length):(n=h,i=d,l=c.length),o>(r=Math.max(Math.ceil(m/7),l)+2)&&(o=r,n.length=1),n.reverse(),r=o;r--;)n.push(0);n.reverse()}else{for((u=(r=c.length)<(l=h.length))&&(l=r),r=0;r<l;r++)if(c[r]!=h[r]){u=c[r]<h[r];break}o=0}for(u&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,r=h.length-l;r>0;--r)c[l++]=0;for(r=h.length;r>o;){if(c[--r]<h[r]){for(a=r;a&&0===c[--a];)c[a]=f-1;--c[a],c[r]+=f}c[r]-=h[r]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--i;return c[0]?(t.d=c,t.e=i,s?N(t,m):t):new p(0)}function P(e,t,n){var i,r=S(e),a=x(e.d),o=a.length;return t?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+k(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+k(-r-1)+a,n&&(i=n-o)>0&&(a+=k(i))):r>=o?(a+=k(r+1-o),n&&(i=n-r-1)>0&&(a=a+"."+k(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(r+1===o&&(a+="."),a+=k(i))),e.s<0?"-"+a:a}function I(e,t){if(e.length>t)return e.length=t,!0}function E(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,i,r=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if(void 0!==(i=e[n=r[t]])){if(!(u(i)===i&&i>=r[t+1]&&i<=r[t+2]))throw Error(c+n+": "+i);this[n]=i}if(void 0!==(i=e[n="LN10"])){if(i!=Math.LN10)throw Error(c+n+": "+i);this[n]=new this(i)}return this}o=function e(t){var n,i,r;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):A(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);A(t,e)}if(a.prototype=b,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=E,void 0===t&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<r.length;)t.hasOwnProperty(i=r[n++])||(t[i]=this[i]);return a.config(t),a}(o),o.default=o.Decimal=o,r=new o(1),void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}()},8259:(e,t,n)=>{var i=n(5797);e.exports=function(e){var t=i(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var i=n(2541),r=n(5654),a=n(3279),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a;e.exports=o},8468:(e,t,n)=>{var i=n(5816),r=n(644),a=n(4020);e.exports=function(e,t,n){return t===t?a(e,t,n):i(e,r,n)}},8541:(e,t,n)=>{var i=n(9812),r=n(149),a=n(4052),o=n(9841),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var i=n(3204),r=n(3713),a=n(6571);e.exports=function(e){return a(e)?i(e):r(e)}},8724:(e,t,n)=>{var i=n(7615),r=n(5051),a=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var i=n(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var i=n(5652),r=n(6571);e.exports=function(e,t){var n=-1,a=r(e)?Array(e.length):[];return i(e,function(e,i,r){a[++n]=t(e,i,r)}),a}},8895:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},8902:(e,t,n)=>{var i=n(4816),r=n(6179),a=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,e.exports=o},8990:(e,t,n)=>{var i=n(9995)(n(2520));e.exports=i},9005:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case r:return t}}}function j(e){return w(e)===u}},9057:(e,t,n)=>{var i=n(5324),r=n(2777),a=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,d=(t=i(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&s(d)&&o(h,d)&&(a(e)||r(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var i=n(9256),r=n(5029),a=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?r(e[0],e[1]):i(e):s(e)}},9115:(e,t,n)=>{var i=n(5967),r=n(6311),a=n(715);e.exports=function(e){return r(e)?a(e):i(e)}},9140:(e,t,n)=>{var i=n(7303);e.exports=function(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return"number"==typeof e||r(e)&&"[object Number]"==i(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var i=n(6532),r=n(3781),a=n(1310);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},9394:(e,t,n)=>{var i=n(2622);e.exports=function(e){return i(this,e).has(e)}},9395:(e,t,n)=>{var i=n(4262),r=n(9621),a=n(8673);e.exports=function(e){return i(e,a,r)}},9417:(e,t,n)=>{var i=n(6686);e.exports=function(e){return e===e&&!i(e)}},9621:(e,t,n)=>{var i=n(7529),r=n(7828),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),i(o(e),function(t){return a.call(e,t)}))}:r;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,i,r,a){for(var o=-1,s=n(t((i-e)/(r||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=r;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var i=n(9841);e.exports=function(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(void 0===l?s===s&&!i(s):n(s,l)))var l=s,c=o}return c}},9812:(e,t,n)=>{var i=n(6552).Symbol;e.exports=i},9841:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},9853:(e,t,n)=>{var i=n(6989);e.exports=function(e,t){return i(e,t)}},9889:(e,t,n)=>{var i=n(3950),r=n(6686);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),i(e,t,{leading:a,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var i=n(1340),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var i=n(9812),r=n(2929),a=n(3211),o=n(3668),s=n(4160),l=n(2074),c=i?i.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;i|=2,h.set(e,t);var g=o(p(e),p(t),i,c,u,h);return h.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,n)=>{var i=n(9096),r=n(6571),a=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!r(t)){var l=i(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>i[e]);return o.default=()=>i,n.d(a,o),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"bbc076ce",453:"9bc5b469",455:"47a3f9d0",977:"8f327253"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="react:";n.l=(i,r,a,o)=>{if(e[i])e[i].push(r);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=i),e[i]=[r];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/React/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((n,i)=>r=e[t]=[n,i]);i.push(r[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,a,[o,s,l]=i,c=0;if(o.some(t=>0!==e[t])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkreact=self.webpackChunkreact||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>ns,scaleDiverging:()=>Th,scaleDivergingLog:()=>Lh,scaleDivergingPow:()=>Rh,scaleDivergingSqrt:()=>Dh,scaleDivergingSymlog:()=>Mh,scaleIdentity:()=>Ac,scaleImplicit:()=>es,scaleLinear:()=>Cc,scaleLog:()=>Rc,scaleOrdinal:()=>ts,scalePoint:()=>rs,scalePow:()=>Vc,scaleQuantile:()=>id,scaleQuantize:()=>rd,scaleRadial:()=>Yc,scaleSequential:()=>Ch,scaleSequentialLog:()=>Ah,scaleSequentialPow:()=>Oh,scaleSequentialQuantile:()=>Ih,scaleSequentialSqrt:()=>Ph,scaleSequentialSymlog:()=>Nh,scaleSqrt:()=>Gc,scaleSymlog:()=>zc,scaleThreshold:()=>ad,scaleTime:()=>jh,scaleUtc:()=>Sh,tickFormat:()=>_c});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Cj,hasStandardBrowserEnv:()=>Nj,hasStandardBrowserWebWorkerEnv:()=>Oj,navigator:()=>Aj,origin:()=>Pj});var i=n(5043),r=n.t(i,2),a=n(7950);const o=n.p+"static/media/CADFEM_NEW_Logo.a937ac703727eb0337e8.png";var s=n(579);n.p;function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,l(e,t)}var d=n(5173),u=n.n(d);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h.apply(null,arguments)}function p(e){return"/"===e.charAt(0)}function f(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}const m=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&p(e),o=t&&p(t),s=a||o;if(e&&p(e)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";if(r.length){var l=r[r.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,d=r.length;d>=0;d--){var u=r[d];"."===u?f(r,d):".."===u?(f(r,d),c++):c&&(f(r,d),c--)}if(!s)for(;c--;c)r.unshift("..");!s||""===r[0]||r[0]&&p(r[0])||r.unshift("");var h=r.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};var g="Invariant failed";function b(e,t){if(!e)throw new Error(g)}function y(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function x(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function w(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function j(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function S(e,t,n,i){var r;"string"===typeof e?(r=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e),r.state=t):(void 0===(r=h({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=m(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function _(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof i?i(a,r):r(!0):r(!1!==a)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter(function(e){return e!==i})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach(function(e){return e.apply(void 0,n)})}}}var k=!("undefined"===typeof window||!window.document||!window.document.createElement);function C(e,t){t(window.confirm(e))}var A="popstate",N="hashchange";function O(){try{return window.history.state||{}}catch(e){return{}}}function P(e){void 0===e&&(e={}),k||b(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,a=r.forceRefresh,o=void 0!==a&&a,s=r.getUserConfirmation,l=void 0===s?C:s,c=r.keyLength,d=void 0===c?6:c,u=e.basename?w(y(e.basename)):"";function p(e){var t=e||{},n=t.key,i=t.state,r=window.location,a=r.pathname+r.search+r.hash;return u&&(a=x(a,u)),S(a,i,n)}function f(){return Math.random().toString(36).substr(2,d)}var m=_();function g(e){h(z,e),z.length=t.length,m.notifyListeners(z.location,z.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||E(p(e.state))}function P(){E(p(O()))}var I=!1;function E(e){if(I)I=!1,g();else{m.confirmTransitionTo(e,"POP",l,function(t){t?g({action:"POP",location:e}):function(e){var t=z.location,n=L.indexOf(t.key);-1===n&&(n=0);var i=L.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(I=!0,R(r))}(e)})}}var T=p(O()),L=[T.key];function M(e){return u+j(e)}function R(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?(window.addEventListener(A,v),i&&window.addEventListener(N,P)):0===D&&(window.removeEventListener(A,v),i&&window.removeEventListener(N,P))}var B=!1;var z={length:t.length,action:"POP",location:T,createHref:M,push:function(e,i){var r="PUSH",a=S(e,i,f(),z.location);m.confirmTransitionTo(a,r,l,function(e){if(e){var i=M(a),s=a.key,l=a.state;if(n)if(t.pushState({key:s,state:l},null,i),o)window.location.href=i;else{var c=L.indexOf(z.location.key),d=L.slice(0,c+1);d.push(a.key),L=d,g({action:r,location:a})}else window.location.href=i}})},replace:function(e,i){var r="REPLACE",a=S(e,i,f(),z.location);m.confirmTransitionTo(a,r,l,function(e){if(e){var i=M(a),s=a.key,l=a.state;if(n)if(t.replaceState({key:s,state:l},null,i),o)window.location.replace(i);else{var c=L.indexOf(z.location.key);-1!==c&&(L[c]=a.key),g({action:r,location:a})}else window.location.replace(i)}})},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=m.appendListener(e);return F(1),function(){F(-1),t()}}};return z}var I="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:y},slash:{encodePath:y,decodePath:y}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function L(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(T(window.location.href)+"#"+e)}function R(e){void 0===e&&{},k||b(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,r=void 0===i?C:i,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?w(y(e.basename)):"",l=E[o],c=l.encodePath,d=l.decodePath;function u(){var e=d(L());return s&&x(e,s),S(e)}var p=_();function f(e){h(z,e),z.length=t.length,p.notifyListeners(z.location,z.action)}var m=!1,g=null;function v(){var e=L(),t=c(e);if(e!==t)M(t);else{var n=u(),i=z.location;if(!m&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(i,n))return;if(g===j(n))return;(function(e){if(m)f();else{var t="POP";p.confirmTransitionTo(e,t,r,function(n){n?f({action:t,location:e}):function(e){var t=z.location,n=P.lastIndexOf(j(t));-1===n&&0;var i=P.lastIndexOf(j(e));-1===i&&0;var r=n-i;r&&R(r)}(e)})}})(n)}}var A=L(),N=c(A);A!==N&&M(N);var O=u(),P=[j(O)];function R(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?window.addEventListener(I,v):0===D&&window.removeEventListener(I,v)}var B=!1;var z={length:t.length,action:"POP",location:O,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&T(window.location.href),n+"#"+c(s+j(e))},push:function(e,t){var n="PUSH",i=S(e,void 0,void 0,z.location);p.confirmTransitionTo(i,n,r,function(e){if(e){var t=j(i),r=c(s+t);if(L()!==r){(function(e){window.location.hash=e})(r);var a=P.lastIndexOf(j(z.location)),o=P.slice(0,a+1);o.push(t),f({action:n,location:i})}else f()}})},replace:function(e,t){var n="REPLACE",i=S(e,void 0,void 0,z.location);p.confirmTransitionTo(i,n,r,function(e){if(e){var t=j(i),r=c(s+t);L()!==r&&M(r);var a=P.indexOf(j(z.location));-1!==a&&(P[a]=t),f({action:n,location:i})}})},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return B||(F(1),!0),function(){return B&&F(-1),t()}},listen:function(e){var t=p.appendListener(e);return F(1),function(){F(-1),t()}}};return z}function D(e,t,n){return Math.min(Math.max(e,t),n)}var F=n(8123),B=n.n(F);n(7681);function z(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}n(219);var W=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var q=i.createContext||function(e,t){var n,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",o=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,i){e=n,t.forEach(function(t){return t(e,i)})}}}(t.props.value),t}c(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,r=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(i,r)?(n="function"===typeof t?t(i,r):W,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},i.render=function(){return this.props.children},n}(i.Component);o.childContextTypes=((n={})[a]=u().object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}c(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?W:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?W:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return s.contextTypes=((r={})[a]=u().object,r),{Provider:o,Consumer:s}},H=function(e){var t=q();return t.displayName=e,t},V=H("Router-History"),G=H("Router"),Z=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._pendingLocation=e})),n}c(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(V.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);i.Component;i.Component;var Y={},K=0;function J(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,r=n.exact,a=void 0!==r&&r,o=n.strict,s=void 0!==o&&o,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=Y[n]||(Y[n]={});if(i[e])return i[e];var r=[],a={regexp:B()(e,r,t),keys:r};return K<1e4&&(i[e]=a,K++),a}(n,{end:a,strict:s,sensitive:c}),r=i.regexp,o=i.keys,l=r.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),h=e===d;return a&&!h?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:h,params:o.reduce(function(e,t,n){return e[t.name]=u[n],e},{})}},null)}var X=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this;return i.createElement(G.Consumer,null,function(t){t||b(!1);var n=e.props.location||t.location,r=h({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?J(n.pathname,e.props):t.match}),a=e.props,o=a.children,s=a.component,l=a.render;return Array.isArray(o)&&function(e){return 0===i.Children.count(e)}(o)&&(o=null),i.createElement(G.Provider,{value:r},r.match?o?"function"===typeof o?o(r):o:s?i.createElement(s,r):l?l(r):null:"function"===typeof o?o(r):null)})},t}(i.Component);function $(e){return"/"===e.charAt(0)?e:"/"+e}function Q(e,t){if(!e)return t;var n=$(e);return 0!==t.pathname.indexOf(n)?t:h({},t,{pathname:t.pathname.substr(n.length)})}function ee(e){return"string"===typeof e?e:j(e)}function te(e){return function(){b(!1)}}function ne(){}i.Component;var ie=function(e){function t(){return e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this;return i.createElement(G.Consumer,null,function(t){t||b(!1);var n,r,a=e.props.location||t.location;return i.Children.forEach(e.props.children,function(e){if(null==r&&i.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?J(a.pathname,h({},e.props,{path:o})):t.match}}),r?i.cloneElement(n,{location:a,computedMatch:r}):null})},t}(i.Component);var re=i.useContext;function ae(){return re(V)}const oe=n.p+"static/media/bg1.671c9bc696f8c28ff2c3.jpg";const se=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"left",width:"100%",backgroundColor:"#fff"},className:"bar",children:(0,s.jsx)("img",{src:o,alt:"Logo 1",className:"logo"})})})},le=n.p+"static/media/hero.840735f2c8948f6d50d4.webp",ce=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),a=ae();return(0,s.jsxs)("div",{className:"auth-bg",style:{backgroundImage:"url(".concat(oe,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,s.jsx)(se,{}),(0,s.jsx)("div",{className:"auth-wrapper",children:(0,s.jsxs)("div",{className:"auth-card",children:[(0,s.jsxs)("div",{className:"auth-left",children:[(0,s.jsx)("div",{style:{backgroundColor:"#3A3FAD"},children:(0,s.jsx)("h2",{style:{color:"#fff",marginLeft:"20px",lineHeight:"2em"},className:"auth-title",children:"LOGIN"})}),(0,s.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"auth-form",children:[(0,s.jsx)("label",{htmlFor:"username",className:"auth-label",children:"User Name"}),(0,s.jsx)("input",{type:"text",id:"username",value:e,onChange:e=>t(e.target.value),className:"auth-input",placeholder:"Enter your username"}),(0,s.jsx)("label",{htmlFor:"password",className:"auth-label",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>r(e.target.value),className:"auth-input",placeholder:"Enter your password"}),(0,s.jsxs)("div",{className:"auth-actions",children:[(0,s.jsx)("button",{type:"button",className:"btn-primary",onClick:()=>{let t="/Home",i="";if("AdTherapist"===e.trim()&&"cadcad"===n)i="THERAPIST",t="/AdminTherapist";else if("CMO"===e.trim()&&"cadcad"===n)i="CMO",t="/CMO";else if("Patient1D"===e.trim()&&"cadcad"===n)i="PATIENT",t="/Patients";else if("HOD"===e.trim()&&"cadcad"===n)i="HOD",t="/HOD";else if("D01Neurophysics"===e.trim()&&"cadcad"===n)i="DOCTOR",t="/Doctor";else{if("SystemAdmin"!==e.trim()||"cadcad"!==n)return void alert("Username or password is incorrect.");i="DOCTOR",t="/Doctor"}localStorage.setItem("username",e.trim()),localStorage.setItem("userRole",i),a.push(t)},children:"Sign In"}),(0,s.jsx)("button",{type:"button",className:"btn-ghost",onClick:()=>{a.push("/Signup")},children:"Sign Up"})]})]})]}),(0,s.jsx)("div",{className:"auth-right",children:(0,s.jsx)("img",{src:le,alt:"Healthcare",className:"auth-hero"})})]})})]})};var de=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).history=P(t.props),t}return c(t,e),t.prototype.render=function(){return i.createElement(Z,{history:this.history,children:this.props.children})},t}(i.Component);i.Component;var ue=function(e,t){return"function"===typeof e?e(t):e},he=function(e,t){return"string"===typeof e?S(e,null,null,t):e},pe=function(e){return e},fe=i.forwardRef;"undefined"===typeof fe&&(fe=pe);var me=fe(function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=z(e,["innerRef","navigate","onClick"]),s=o.target,l=h({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=pe!==fe&&t||n,i.createElement("a",l)});var ge=fe(function(e,t){var n=e.component,r=void 0===n?me:n,a=e.replace,o=e.to,s=e.innerRef,l=z(e,["component","replace","to","innerRef"]);return i.createElement(G.Consumer,null,function(e){e||b(!1);var n=e.history,c=he(ue(o,e.location),e.location),d=c?n.createHref(c):"",u=h({},l,{href:d,navigate:function(){var t=ue(o,e.location),i=j(e.location)===j(he(t));(a||i?n.replace:n.push)(t)}});return pe!==fe?u.ref=t||s:u.innerRef=s,i.createElement(r,u)})}),be=function(e){return e},ye=i.forwardRef;"undefined"===typeof ye&&(ye=be);ye(function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,l=e.className,c=e.exact,d=e.isActive,u=e.location,p=e.sensitive,f=e.strict,m=e.style,g=e.to,y=e.innerRef,v=z(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(G.Consumer,null,function(e){e||b(!1);var n=u||e.location,a=he(ue(g,n),n),x=a.pathname,w=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=w?J(n.pathname,{path:w,exact:c,sensitive:p,strict:f}):null,S=!!(d?d(j,n):j),_="function"===typeof l?l(S):l,k="function"===typeof m?m(S):m;S&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(_,o),k=h({},k,s));var C=h({"aria-current":S&&r||null,className:_,style:k,to:a},v);return be!==ye?C.ref=t||y:C.innerRef=y,i.createElement(ge,C)})});function ve(){const e=ae();return(0,s.jsx)("div",{className:"home-wrap",style:{minHeight:"100vh",background:"#f6f8fb"},children:(0,s.jsxs)("div",{style:{margin:"16px auto",padding:"0 16px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"2px 12px"},children:[(0,s.jsx)("button",{onClick:()=>e.push("/menu/new"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"New Patient"}),(0,s.jsx)("button",{onClick:()=>e.push("/menu/existing"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"Existing Patient"})]}),(0,s.jsx)("main",{children:(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 360px",gap:16},children:[(0,s.jsxs)("section",{style:{background:"#fff",border:"1px solid #e6e9ef",borderRadius:12,padding:16},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:18,fontWeight:700},children:"Welcome, Chief Therapist"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:13},children:"Overview \u2014 Integrated EMR \xb7 RAP \xb7 TPS (PERKESO)"})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"System status"}),(0,s.jsxs)("div",{style:{fontSize:13,fontWeight:600},children:["All services operational ",(0,s.jsx)("span",{style:{color:"#16a34a"},children:"\u2714"})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Last sync: 2025-09-08 08:12"})]})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginTop:12},children:[{title:"Active Therapy Sessions (today)",value:"48",note:"Utilization: 82%"},{title:"Pending Appointments",value:"12",note:"No-shows: 2"},{title:"Investigation Orders (pending)",value:"9",note:"Awaiting scheduling / specimens"},{title:"Open RTW cases",value:"27",note:"30/60/90 tracking"}].map((e,t)=>(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12},children:[(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:e.title}),(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800,margin:"6px 0"},children:e.value}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:e.note})]},t))}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Today\u2019s Clinics \u2014 Overview"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Filter: Dept"})]}),(0,s.jsxs)("div",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.6},children:["\u2022 Physio AM \u2014 Slots 08:00\u201312:00 \u2014 Booked 18/20",(0,s.jsx)("br",{}),"\u2022 OT PM \u2014 Slots 13:00\u201317:00 \u2014 Booked 10/12",(0,s.jsx)("br",{}),"\u2022 Nursing \u2014 Procedures \u2014 Booked 6/8"]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:10},children:"Open Scheduler"})]}),(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Resource Utilization"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Rooms / Equip"}),(0,s.jsxs)("div",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.6},children:["\u2022 TPS Lab \u2014 75% booked",(0,s.jsx)("br",{}),"\u2022 Hydrotherapy pool \u2014 40% booked",(0,s.jsx)("br",{}),"\u2022 DME inventory \u2014 Low: 3 items"]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:10},children:"Manage Resources"})]})]}),(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12,marginTop:12},children:[(0,s.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Quick actions"}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[(0,s.jsx)("button",{className:"btn",children:"Bulk schedule"}),(0,s.jsx)("button",{className:"btn",children:"Create RTW plan"}),(0,s.jsx)("button",{className:"btn",children:"Audit & Compliance"}),(0,s.jsx)("button",{className:"btn",children:"Generate report"})]})]}),(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12,marginTop:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Compliance \u2014 CARF / RTW checks"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Next review: 30 days"})]}),(0,s.jsxs)("ul",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.7},children:[(0,s.jsx)("li",{children:"30-day follow-ups scheduled: 18/20"}),(0,s.jsx)("li",{children:"60-day onsite checks pending: 5"}),(0,s.jsx)("li",{children:"90-day sustainability reviews: 7"})]})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12,marginTop:12},children:"PERKESO Rehab \u2014 Integrated EMR \u2022 RAP \u2022 TPS \u2022 Demo"})]}),(0,s.jsxs)("aside",{style:{display:"grid",gap:12,alignSelf:"start"},children:[(0,s.jsxs)("div",{style:{background:"#fff",border:"1px solid #e6e9ef",borderRadius:12,padding:12},children:[(0,s.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Alerts & Tasks"}),(0,s.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Order ORD-2002"})," needs scheduling \u2014 Patient PT-0002"]}),(0,s.jsx)("button",{className:"btn",children:"Schedule"})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Provider shortage"})," \u2014 Physio PM, 2 shifts unfilled"]}),(0,s.jsx)("button",{className:"btn",children:"Fix Roster"})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"CARF audit"})," \u2014 prepare documents"]}),(0,s.jsx)("button",{className:"btn",children:"View"})]})]})]}),(0,s.jsxs)("div",{style:{background:"#fff",border:"1px solid #e6e9ef",borderRadius:12,padding:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Staffing & Rosters"}),(0,s.jsx)("div",{className:"dim",children:"Today"})]}),(0,s.jsxs)("ul",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.7},children:[(0,s.jsx)("li",{children:"Therapists on duty: 12"}),(0,s.jsx)("li",{children:"Case Managers: 3"}),(0,s.jsx)("li",{children:"Available locums: 1"})]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:8},children:"Manage Rosters"})]}),(0,s.jsxs)("div",{style:{background:"#fff",border:"1px solid #e6e9ef",borderRadius:12,padding:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Integrations"}),(0,s.jsx)("div",{className:"dim",children:"Health IT"})]}),(0,s.jsxs)("ul",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.7},children:[(0,s.jsx)("li",{children:"HL7/FHIR: Enabled"}),(0,s.jsx)("li",{children:"Google/Outlook Sync: Enabled"}),(0,s.jsx)("li",{children:"Fleet: Connected"})]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:8},children:"Manage Integrations"})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12,textAlign:"right"},children:"Need help? Contact IT Ops"})]})]})})]})})}var xe=n(4467);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(t){(0,xe.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Se(e){let{patient:t,icdPath:n,icdCode:r,icfSummary:a,ichiSummary:o,rapPercent:l,rapData:c}=e;const[d,u]=i.useState([]),h=i.useMemo(()=>[{k:"ICD-11",v:"8B00.0"},{k:"ICF",v:"b1108, b7401, b749, b303"},{k:"ICHI",v:"MUB.AA.ZZ, MUC.AA.ZZ"},{k:"CARF RTW",v:"30/60/90 day"}],[]),p=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);return i.useEffect(()=>{const e=[{date:p(new Date,1),event:"Workplace Ergonomics Visit"},{date:p(new Date,3),event:"TPS Session #2"},{date:p(new Date,6),event:"Medical Review \u2014 Fitness to Work update"}];null!==c&&void 0!==c&&c.start_date&&e.unshift({date:new Date(c.start_date),event:"Light-duty placement start"});const t=e.filter(e=>e.date&&!isNaN(e.date)).sort((e,t)=>e.date-t.date).map(e=>({date:e.date.toISOString().slice(0,10),event:e.event}));u(t.slice(0,5))},[null===c||void 0===c?void 0:c.start_date]),(0,s.jsxs)("section",{className:"dash-wrap",children:[(0,s.jsx)("div",{className:"dash-card",children:(0,s.jsxs)("div",{className:"glance-head",children:[(0,s.jsxs)("div",{className:"glance-l",children:[(0,s.jsx)("div",{className:"g-title",children:"At a Glance"}),(0,s.jsxs)("div",{className:"g-row",children:[(0,s.jsx)("div",{className:"g-label",children:"PATIENT"}),(0,s.jsxs)("div",{className:"g-block",children:[(0,s.jsx)("div",{className:"g-name",children:"John Doe"}),(0,s.jsx)("div",{className:"g-meta",children:"ID: IND0001 \xb7 DoB: 13-07-1982 \xb7 Male"}),(0,s.jsx)("div",{className:"g-meta",children:"Employer: Kilang Sdn Bhd \xb7 Payor: PERKESO RTW"})]})]}),(0,s.jsxs)("div",{className:"g-row",children:[(0,s.jsx)("div",{className:"g-label",children:"ACTIVE STANDARDS"}),(0,s.jsx)("div",{className:"g-tags",children:h.map((e,t)=>(0,s.jsxs)("span",{className:"tag",children:[(0,s.jsxs)("b",{children:[e.k,":"]}),"\xa0",e.v]},t))})]})]}),(0,s.jsxs)("div",{className:"glance-r",children:[(0,s.jsx)("div",{className:"rtw-title",children:"RTW Readiness"}),(0,s.jsx)("div",{className:"rtw-bar",children:(0,s.jsx)("div",{className:"rtw-fill",style:{width:"".concat(Math.max(0,Math.min(100,l)),"%")}})}),(0,s.jsxs)("div",{className:"rtw-note",children:[l,"% ready",(0,s.jsxs)("span",{className:"dim",children:[" ","(computed from TPS, medical, workplace, family, employer, vocational)"]})]})]})]})}),(0,s.jsxs)("div",{className:"dash-card",children:[(0,s.jsx)("div",{className:"g-title",children:"Upcoming"}),(0,s.jsxs)("table",{className:"dash-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"24%"},children:"Date"}),(0,s.jsx)("th",{children:"Event"})]})}),(0,s.jsx)("tbody",{children:0===d.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:2,className:"muted",children:"No events scheduled."})}):d.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.date}),(0,s.jsx)("td",{children:e.event})]},t))})]})]})]})}function _e(){const[e,t]=(0,i.useState)({freeText:"",accompanied:"",consent:"",coughing:"",foodStuck:"",painSwallow:"",difficultyConsistency:"",currentDiet:"",iddsiSolid:"",iddsiFluid:"",dietAmount:"",dietFrequency:"",feedingType:"",feedingRegime:"",feedingFreq:"",timestamp:""});(0,i.useEffect)(()=>{const e=new Date;t(t=>je(je({},t),{},{timestamp:e.toLocaleString()}))},[]);const n=(e,n)=>t(t=>je(je({},t),{},{[e]:n}));return(0,s.jsxs)("div",{className:"section-container",children:[(0,s.jsx)("h2",{children:"S \u2013 Subjective"}),(0,s.jsxs)("p",{className:"timestamp",children:["Timestamp: ",e.timestamp]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Thank you for referring this patient for a swallowing evaluation."})}),(0,s.jsx)("label",{children:"Free Text:"}),(0,s.jsx)("textarea",{placeholder:"The patient was seen unaccompanied/accompanied by...",onChange:e=>n("freeText",e.target.value)}),(0,s.jsx)("label",{children:"Accompanied By:"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., family / alone / caregiver",onChange:e=>n("accompanied",e.target.value)}),(0,s.jsx)("label",{children:"Consent Type:"}),(0,s.jsxs)("select",{onChange:e=>n("consent",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Verbal consent obtained"}),(0,s.jsx)("option",{children:"Seen in patient\u2019s best interest"})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h3",{children:"Patient / Family Reported"}),(0,s.jsxs)("div",{className:"triple-field",children:[(0,s.jsxs)("div",{className:"field-group",children:[(0,s.jsx)("label",{children:"Coughing when swallowing:"}),(0,s.jsxs)("select",{value:e.coughing,onChange:e=>n("coughing",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Yes"}),(0,s.jsx)("option",{children:"No"})]})]}),(0,s.jsxs)("div",{className:"field-group",children:[(0,s.jsx)("label",{children:"Food stuck in throat:"}),(0,s.jsxs)("select",{value:e.foodStuck,onChange:e=>n("foodStuck",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Yes"}),(0,s.jsx)("option",{children:"No"})]})]}),(0,s.jsxs)("div",{className:"field-group",children:[(0,s.jsx)("label",{children:"Pain when swallowing:"}),(0,s.jsxs)("select",{value:e.painSwallow,onChange:e=>n("painSwallow",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Yes"}),(0,s.jsx)("option",{children:"No"})]})]})]}),(0,s.jsxs)("div",{className:"double-field",style:{display:"flex"},children:[(0,s.jsxs)("div",{className:"field-group",children:[(0,s.jsx)("label",{children:"Difficulties noted on food/fluid consistencies:"}),(0,s.jsxs)("select",{value:e.difficultyConsistency,onChange:e=>n("difficultyConsistency",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Liquid"}),(0,s.jsx)("option",{children:"Puree"}),(0,s.jsx)("option",{children:"Solid"})]})]}),(0,s.jsxs)("div",{className:"field-group",children:[(0,s.jsx)("label",{children:"Current Diet Intake:"}),(0,s.jsxs)("select",{value:e.currentDiet,onChange:e=>n("currentDiet",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Liquid"}),(0,s.jsx)("option",{children:"Puree"}),(0,s.jsx)("option",{children:"Solid"})]})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Diet Consistency (Solids):"}),(0,s.jsx)("input",{type:"text",placeholder:"IDDSI L4\u2013L7",onChange:e=>n("iddsiSolid",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Fluid Consistency:"}),(0,s.jsx)("input",{type:"text",placeholder:"IDDSI L0\u2013L4",onChange:e=>n("iddsiFluid",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Amount:"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., half/full portion",onChange:e=>n("dietAmount",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Frequency:"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., 3x/day, 4-hourly",onChange:e=>n("dietFrequency",e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h3",{children:"Enteral Feeding"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Type:"}),(0,s.jsxs)("select",{onChange:e=>n("feedingType",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"NGT"}),(0,s.jsx)("option",{children:"NJT"}),(0,s.jsx)("option",{children:"PEG"}),(0,s.jsx)("option",{children:"JJT"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Regime:"}),(0,s.jsx)("input",{type:"text",placeholder:"x scoops / x ml of water",onChange:e=>n("feedingRegime",e.target.value)})]})]}),(0,s.jsx)("label",{children:"Frequency:"}),(0,s.jsxs)("select",{onChange:e=>n("feedingFreq",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"3-hourly"}),(0,s.jsx)("option",{children:"4-hourly"})]})]}),(0,s.jsx)("button",{className:"save-btn",onClick:()=>{console.log("Subjective Data:",e),alert("\u2705 Subjective Assessment Saved!")},children:"\ud83d\udcbe Save Subjective"})]})}function ke(){const[e,t]=(0,i.useState)({generalObservation:"",positionSeen:"",vitals:"",oralHygiene:"",teeth:"",hardPalate:"",softPalate:"",tongue:"",upperLip:"",cnV:"",cnVII:"",cnIXX:"",cnXII:"",fluidLevel:"",solidLevel:"",lipSeal:"",mastication:"",oralResidue:"",nasalRegurgitation:"",coughClear:"",voicePostSwallow:"",cervicalPre:"",cervicalPost:"",timestamp:""});(0,i.useEffect)(()=>{const e=new Date;t(t=>je(je({},t),{},{timestamp:e.toLocaleString()}))},[]);const n=(e,n)=>t(t=>je(je({},t),{},{[e]:n}));return(0,s.jsxs)("div",{className:"section-container",children:[(0,s.jsx)("h3",{children:"O \u2013 Objective"}),(0,s.jsxs)("p",{className:"timestamp",children:["Timestamp: ",e.timestamp]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"General Observation"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Alertness:"}),(0,s.jsxs)("select",{onChange:e=>n("generalObservation",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Alert"}),(0,s.jsx)("option",{children:"Fleeting Alertness"}),(0,s.jsx)("option",{children:"Drowsy"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Position seen:"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., sitting in chair / propped upright in bed",onChange:e=>n("positionSeen",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Vitals:"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter vitals or note \u2018N/A\u2019",onChange:e=>n("vitals",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Oral hygiene:"}),(0,s.jsxs)("select",{onChange:e=>n("oralHygiene",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Poor"}),(0,s.jsx)("option",{children:"Fair"}),(0,s.jsx)("option",{children:"Good"})]})]})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Oral-Motor Structure Observation"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"s3200 Teeth:"}),(0,s.jsxs)("select",{onChange:e=>n("teeth",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Complete"}),(0,s.jsx)("option",{children:"Incomplete"}),(0,s.jsx)("option",{children:"Dentures"}),(0,s.jsx)("option",{children:"Edentulous"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"s32020 Hard Palate:"}),(0,s.jsxs)("select",{onChange:e=>n("hardPalate",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"NAD"}),(0,s.jsx)("option",{children:"Cleft"})]})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"s32021 Soft Palate:"}),(0,s.jsxs)("select",{onChange:e=>n("softPalate",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"NAD"}),(0,s.jsx)("option",{children:"Cleft"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"s3203 Tongue:"}),(0,s.jsxs)("select",{onChange:e=>n("tongue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"NAD"}),(0,s.jsx)("option",{children:"Fasciculations"}),(0,s.jsx)("option",{children:"Deviated to weak side"}),(0,s.jsx)("option",{children:"Thrush"}),(0,s.jsx)("option",{children:"Mucositis"}),(0,s.jsx)("option",{children:"Xerostomia"})]})]})]}),(0,s.jsx)("div",{className:"grid-row",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"s32040 Upper Lip:"}),(0,s.jsxs)("select",{onChange:e=>n("upperLip",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"NAD"}),(0,s.jsx)("option",{children:"Cleft"})]})]})})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Cranial Nerve Exam"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"CN V (ROM/Rate/Strength):"}),(0,s.jsxs)("select",{onChange:e=>n("cnV",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"WNL"}),(0,s.jsx)("option",{children:"Reduced"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"CN VII (ROM/Rate/Strength):"}),(0,s.jsxs)("select",{onChange:e=>n("cnVII",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"WNL"}),(0,s.jsx)("option",{children:"Reduced"}),(0,s.jsx)("option",{children:"Symmetrical"}),(0,s.jsx)("option",{children:"Asymmetrical"}),(0,s.jsx)("option",{children:"Facial Droop"})]})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"CN IX, X:"}),(0,s.jsxs)("select",{onChange:e=>n("cnIXX",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"WNL"}),(0,s.jsx)("option",{children:"Reduced"}),(0,s.jsx)("option",{children:"Voluntary cough - WNL"}),(0,s.jsx)("option",{children:"Voluntary cough - Reduced"}),(0,s.jsx)("option",{children:"Voice quality - NAD"}),(0,s.jsx)("option",{children:"Voice quality - Impaired"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"CN XII (ROM/Rate/Strength):"}),(0,s.jsxs)("select",{onChange:e=>n("cnXII",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"WNL"}),(0,s.jsx)("option",{children:"Reduced"})]})]})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Clinical Swallowing Evaluation (CSE)"}),(0,s.jsx)("p",{className:"ktc-tag",children:"KTC.AA.ZZ Assessment of swallowing | KTC.AC.ZZ Test of swallowing"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Fluids (IDDSI):"}),(0,s.jsxs)("select",{onChange:e=>n("fluidLevel",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Level"}),(0,s.jsx)("option",{children:"Level 0"}),(0,s.jsx)("option",{children:"Level 1"}),(0,s.jsx)("option",{children:"Level 2"}),(0,s.jsx)("option",{children:"Level 3"}),(0,s.jsx)("option",{children:"Level 4"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Solids (IDDSI):"}),(0,s.jsxs)("select",{onChange:e=>n("solidLevel",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Level"}),(0,s.jsx)("option",{children:"Level 4"}),(0,s.jsx)("option",{children:"Level 5"}),(0,s.jsx)("option",{children:"Level 6"}),(0,s.jsx)("option",{children:"Level 7EC"}),(0,s.jsx)("option",{children:"Level 7"})]})]})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Oral Stage Observations"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Lip Seal:"}),(0,s.jsxs)("select",{onChange:e=>n("lipSeal",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Adequate"}),(0,s.jsx)("option",{children:"Anterior Spillage"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Mastication:"}),(0,s.jsxs)("select",{onChange:e=>n("mastication",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Functional"}),(0,s.jsx)("option",{children:"Impaired"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Oral Residue:"}),(0,s.jsxs)("select",{onChange:e=>n("oralResidue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Present"}),(0,s.jsx)("option",{children:"Absent"})]})]})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Pharyngeal Stage Observations"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Nasal Regurgitation:"}),(0,s.jsxs)("select",{onChange:e=>n("nasalRegurgitation",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Yes (observed during trial)"}),(0,s.jsx)("option",{children:"No (not observed)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Cough / Throat Clear:"}),(0,s.jsxs)("select",{onChange:e=>n("coughClear",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Present"}),(0,s.jsx)("option",{children:"Absent"})]})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Voice Post-Swallow:"}),(0,s.jsxs)("select",{onChange:e=>n("voicePostSwallow",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Wet"}),(0,s.jsx)("option",{children:"Clear"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Cervical Auscultation (Pre-swallow sounds):"}),(0,s.jsxs)("select",{onChange:e=>n("cervicalPre",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Normal"}),(0,s.jsx)("option",{children:"Reduced"}),(0,s.jsx)("option",{children:"Wet"}),(0,s.jsx)("option",{children:"Gurgly"}),(0,s.jsx)("option",{children:"N/A"})]})]})]}),(0,s.jsx)("div",{className:"grid-row",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Cervical Auscultation (Post-swallow sounds):"}),(0,s.jsxs)("select",{onChange:e=>n("cervicalPost",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Normal"}),(0,s.jsx)("option",{children:"Reduced"}),(0,s.jsx)("option",{children:"Wet"}),(0,s.jsx)("option",{children:"Gurgly"}),(0,s.jsx)("option",{children:"N/A"})]})]})})]}),(0,s.jsx)("button",{className:"save-btn",onClick:()=>{console.log("Objective Data:",e),alert("\u2705 Objective Assessment Saved!")},children:"\ud83d\udcbe Save Objective"})]})}function Ce(){const[e,t]=(0,i.useState)({swallowProblem:"",dysphagiaType:"",characteristics:"",bCodes:[],foisLevel:"",timestamp:""});(0,i.useEffect)(()=>{const e=new Date;t(t=>je(je({},t),{},{timestamp:e.toLocaleString()}))},[]);const n=(e,n)=>t(t=>je(je({},t),{},{[e]:n}));return(0,s.jsxs)("div",{className:"section-container",children:[(0,s.jsx)("h3",{children:"A \u2013 Analysis / Assessment"}),(0,s.jsxs)("p",{className:"timestamp",children:["Timestamp: ",e.timestamp]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Swallowing Observation"}),(0,s.jsx)("label",{children:"No swallowing problem observed during CSE today:"}),(0,s.jsxs)("select",{onChange:e=>n("swallowProblem",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Yes"}),(0,s.jsx)("option",{children:"No"})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Dysphagia Characterization"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Type of Dysphagia:"}),(0,s.jsxs)("select",{onChange:e=>n("dysphagiaType",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Oral Dysphagia"}),(0,s.jsx)("option",{children:"Pharyngeal Dysphagia"}),(0,s.jsx)("option",{children:"Oropharyngeal Dysphagia"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Characterized by:"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., anterior spillage / oral residue / aspiration signs",onChange:e=>n("characteristics",e.target.value)})]})]}),(0,s.jsx)("label",{children:"Relevant ICF Codes (multi-select):"}),(0,s.jsx)("div",{className:"checkbox-grid",children:["b5101 Biting","b5102 Chewing","b5103 Manipulation of food in the mouth","b51050 Oral swallowing","b51051 Pharyngeal swallowing"].map(n=>(0,s.jsxs)("label",{className:"checkbox-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.bCodes.includes(n),onChange:()=>(e=>{t(t=>{const n=t.bCodes.includes(e);return je(je({},t),{},{bCodes:n?t.bCodes.filter(t=>t!==e):[...t.bCodes,e]})})})(n)}),n]},n))})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Functional Oral Intake Scale (FOIS)"}),(0,s.jsx)("div",{className:"fois-scale",children:[0,1,2,3,4,5,6].map(t=>(0,s.jsx)("div",{className:"fois-level fois-".concat(t," ").concat(e.foisLevel===t?"selected":""),onClick:()=>n("foisLevel",t),children:t},t))}),""!==e.foisLevel&&(0,s.jsxs)("p",{className:"fois-desc",children:[(0,s.jsxs)("strong",{children:["Level ",e.foisLevel,":"]})," ",{0:"Normal swallowing mechanism.",1:"Minimal dysphagia \u2013 slight deviation from normal swallow; no diet change required.",2:"Mild dysphagia \u2013 manageable with swallow suggestions and slight dietary modification.",3:"Mild\u2013moderate dysphagia \u2013 aspiration risk reduced with techniques and modified diet.",4:"Moderate dysphagia \u2013 significant aspiration potential; supervision or tube feeding may be required.",5:"Moderately severe dysphagia \u2013 aspiration 5\u201310%; alternative feeding mode required.",6:"Severe dysphagia \u2013 >10% aspiration; 'Nothing by mouth' recommended."}[e.foisLevel]]})]}),(0,s.jsx)("button",{className:"save-btn",onClick:()=>{console.log("Assessment Data:",e),alert("\u2705 Assessment Saved!")},children:"\ud83d\udcbe Save Assessment"})]})}function Ae(){const[e,t]=(0,i.useState)({dietLevel:"",dietAmount:"",dietFrequency:"",fluidLevel:"",fluidAmount:"",fluidFrequency:"",nonOralFeeding:"",safeAdvice:[],timestamp:""});(0,i.useEffect)(()=>{const e=new Date;t(t=>je(je({},t),{},{timestamp:e.toLocaleString()}))},[]);const n=(e,n)=>t(t=>je(je({},t),{},{[e]:n}));return(0,s.jsxs)("div",{className:"section-container",children:[(0,s.jsx)("h3",{children:"P \u2013 Plan"}),(0,s.jsxs)("p",{className:"timestamp",children:["Timestamp: ",e.timestamp]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Swallowing Recommendations"}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Diet (IDDSI Level):"}),(0,s.jsxs)("select",{onChange:e=>n("dietLevel",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Level"}),(0,s.jsx)("option",{children:"Level 4"}),(0,s.jsx)("option",{children:"Level 5"}),(0,s.jsx)("option",{children:"Level 6"}),(0,s.jsx)("option",{children:"Level 7EC"}),(0,s.jsx)("option",{children:"Level 7"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Amount:"}),(0,s.jsxs)("select",{onChange:e=>n("dietAmount",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Oral trials"}),(0,s.jsx)("option",{children:"Half portion"}),(0,s.jsx)("option",{children:"Full portion"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Frequency:"}),(0,s.jsxs)("select",{onChange:e=>n("dietFrequency",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"1x"}),(0,s.jsx)("option",{children:"2x"}),(0,s.jsx)("option",{children:"3x"})]})]})]}),(0,s.jsxs)("div",{className:"grid-row",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Fluids (IDDSI Level):"}),(0,s.jsxs)("select",{onChange:e=>n("fluidLevel",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Level"}),(0,s.jsx)("option",{children:"Level 0"}),(0,s.jsx)("option",{children:"Level 1"}),(0,s.jsx)("option",{children:"Level 2"}),(0,s.jsx)("option",{children:"Level 3"}),(0,s.jsx)("option",{children:"Level 4"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Amount:"}),(0,s.jsxs)("select",{onChange:e=>n("fluidAmount",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"50 ml"}),(0,s.jsx)("option",{children:"100 ml"}),(0,s.jsx)("option",{children:"As & when required"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Frequency:"}),(0,s.jsxs)("select",{onChange:e=>n("fluidFrequency",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Every feeding time"}),(0,s.jsx)("option",{children:"As & when required"})]})]})]}),(0,s.jsx)("div",{className:"grid-row",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Non-Oral Feeding:"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., Continue NG / PEG / PEJ as per dietitian\u2019s orders",onChange:e=>n("nonOralFeeding",e.target.value)})]})})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Safe Swallowing Advice"}),(0,s.jsx)("div",{className:"checkbox-grid",children:["Ensure patient is fully alert and upright during all oral intake","Feed in small amounts slowly","Monitor closely for signs of aspiration or respiratory distress","Resume NPO and contact SLT immediately if concerns arise"].map(n=>(0,s.jsxs)("label",{className:"checkbox-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.safeAdvice.includes(n),onChange:()=>(e=>{t(t=>{const n=t.safeAdvice.includes(e);return je(je({},t),{},{safeAdvice:n?t.safeAdvice.filter(t=>t!==e):[...t.safeAdvice,e]})})})(n)}),n]},n))})]}),(0,s.jsx)("button",{className:"save-btn",onClick:()=>{console.log("Plan Data:",e),alert("\u2705 Plan Saved!")},children:"\ud83d\udcbe Save Plan"})]})}function Ne(){const[e,t]=(0,i.useState)("subjective");return(0,s.jsxs)("div",{className:"cse-container",children:[(0,s.jsx)("h2",{children:"Clinical Swallow Evaluation"}),(0,s.jsx)("span",{className:"icf-tag",style:{marginBottom:"20px"},children:"ICF: b510 \u2014 Ingestion functions"}),(0,s.jsxs)("div",{className:"tabbs",style:{gap:20,backgroundColor:"#f3f6f9",display:"flex",marginTop:"20px"},children:[(0,s.jsx)("button",{className:"subjective"===e?"active":"",onClick:()=>t("subjective"),children:"Subjective"}),(0,s.jsx)("button",{className:"objective"===e?"active":"",onClick:()=>t("objective"),children:"Objective"}),(0,s.jsx)("button",{className:"assessment"===e?"active":"",onClick:()=>t("assessment"),children:"Assessment"}),(0,s.jsx)("button",{className:"plan"===e?"active":"",onClick:()=>t("plan"),children:"Plan"})]}),(0,s.jsxs)("div",{className:"tabb-content",children:["subjective"===e&&(0,s.jsx)(_e,{}),"objective"===e&&(0,s.jsx)(ke,{}),"assessment"===e&&(0,s.jsx)(Ce,{}),"plan"===e&&(0,s.jsx)(Ae,{})]}),(0,s.jsxs)("div",{className:"section-container",style:{marginTop:"40px"},children:[(0,s.jsx)("h3",{children:"Compensatory Strategies & Follow-up Plan"}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Compensatory Strategies"}),(0,s.jsx)("div",{className:"checkbox-grid",children:["Chin tuck","Head turn (to weaker side)","Head tilt (to stronger side)","Controlled bolus volume/size","Cyclic ingestion","Effortful swallow","Supraglottic swallow","Super-supraglottic swallow","Double swallows","Multiple swallows per bolus","Verbal cueing","Voluntary cough"].map(e=>(0,s.jsxs)("label",{className:"checkbox-item",children:[(0,s.jsx)("input",{type:"checkbox"}),e]},e))})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Oral Care"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., 3\u20134x/day before/after meal/oral trials",style:{width:"50%"}})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Assessment (ICHI Codes)"}),(0,s.jsxs)("ul",{style:{listStyle:"disc",paddingLeft:"20px"},children:[(0,s.jsx)("li",{children:"KTC.AE.AD \u2013 Video endoscopic evaluation of swallowing"}),(0,s.jsx)("li",{children:"KTC.AM.ZZ \u2013 Observation of swallowing"})]})]}),(0,s.jsxs)("div",{className:"sub-section",children:[(0,s.jsx)("h4",{children:"Therapy (ICHI Codes)"}),(0,s.jsxs)("ul",{style:{listStyle:"disc",paddingLeft:"20px"},children:[(0,s.jsx)("li",{children:"KTC.PH.ZZ \u2013 Training about swallowing"}),(0,s.jsx)("li",{children:"KTC.PM.ZZ \u2013 Education about swallowing"}),(0,s.jsx)("li",{children:"KTC.PN.ZZ \u2013 Advising about swallowing"})]})]})]})]})}function Oe(e){let{patient:t,mode:n}=e;const[r,a]=(0,i.useState)([]),[o,l]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(null===t||void 0===t||!t.id)return;const e="patient_".concat(t.id,"_reports"),n=JSON.parse(localStorage.getItem(e)||"[]");a(n)},[null===t||void 0===t?void 0:t.id]);const c="progress"===n?r.filter(e=>"progress"===e.type):"doctor"===n?r.filter(e=>"Doctor"===e.createdBy&&"progress"!==e.type):r;if(!t)return null;const d=e=>{if(!e)return"";return new Date(e).toLocaleString()},u=e=>"progress"===e.type?"Diet Progress Report":"Doctor"===e.createdBy?"Doctor Assessment":e.type?"".concat(e.type," Report"):"Report",h=e=>{var t,n;const i=(null===(t=e.summary)||void 0===t?void 0:t.swallowing)||{},r=(null===(n=e.summary)||void 0===n?void 0:n.visual)||{},a="yes"===i.hasDifficulty?"Yes":"no"===i.hasDifficulty?"No":"Not recorded",o=i.onset||"Not recorded",l=i.foodDifficulty||"Not recorded",c=i.dietModification||"Not recorded",d=i.symptoms||"Not recorded";r.acuity,r.fieldDefect,r.notes&&r.notes.trim()&&r.notes;return(0,s.jsx)("div",{style:{marginTop:10,padding:12,borderRadius:8,background:"#f8f9fa",border:"1px solid #ddd",fontSize:14},children:(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsx)("div",{style:{background:"#005b82",color:"#fff",padding:"8px 12px",borderRadius:6,fontWeight:700,marginBottom:6},children:"Swallowing"}),(0,s.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:Pe,children:"Swallowing difficulty"}),(0,s.jsx)("td",{style:Ie,children:a})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:Pe,children:"Onset & progression"}),(0,s.jsx)("td",{style:Ie,children:o})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:Pe,children:"Food / liquid difficulties"}),(0,s.jsx)("td",{style:Ie,children:l})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:Pe,children:"Diet modification"}),(0,s.jsx)("td",{style:Ie,children:c})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:Pe,children:"Symptoms during meals"}),(0,s.jsx)("td",{style:Ie,children:d})]})]})})]})})},p=e=>{var n,i,r,a,o,l,c,d,u,h,p;const f=e.patientSnapshot||{},m=e.dietInitial;return(0,s.jsxs)("div",{style:{padding:12},children:[(0,s.jsx)("div",{style:Pe,children:"Patient Details"}),(0,s.jsxs)("div",{style:Ie,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",f.name||(null===t||void 0===t?void 0:t.name)||"\u2014"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",f.id||(null===t||void 0===t?void 0:t.id)||"\u2014"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Age / Gender:"})," ",(f.age||(null===t||void 0===t?void 0:t.age)||"\u2014")+" / "+(f.sex||(null===t||void 0===t?void 0:t.gender)||(null===t||void 0===t?void 0:t.sex)||"\u2014")]}),f.ward&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Ward:"})," ",f.ward]}),f.diagnosis&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Diagnosis:"})," ",f.diagnosis]})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("div",{style:Pe,children:"Diet Initial Assessment"}),(0,s.jsx)("div",{style:Ie,children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Nutrition diagnosis:"})," ",(null===(n=m.form)||void 0===n?void 0:n.nutrition_diagnosis)||"\u2014"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Food preferences:"})," ",(null===(i=m.form)||void 0===i?void 0:i.food_preference)||"\u2014"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Meal pattern:"})," ",(null===(r=m.form)||void 0===r?void 0:r.meal_pattern)||"\u2014"]}),(0,s.jsx)("button",{style:{marginTop:6,padding:"4px 8px",borderRadius:4,border:"1px solid #ccc",background:"#f7f7f7",cursor:"pointer",fontSize:12},onClick:()=>alert("Full initial assessment:\n\n"+JSON.stringify(m.form,null,2)),children:"View full initial assessment"})]}):(0,s.jsx)("div",{style:{color:"#666"},children:"No initial diet assessment found for this patient."})})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("div",{style:Pe,children:"Progress Plan / Intervention"}),(0,s.jsx)("div",{style:Ie,children:(0,s.jsxs)("ul",{style:{margin:0,paddingLeft:18},children:[(null===(a=e.plan)||void 0===a?void 0:a.initiateNutrition)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Initiate nutrition:"})," ",e.plan.initiateNutrition]}),(null===(o=e.plan)||void 0===o?void 0:o.orderConsult)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Order nutrition consult:"})," ",e.plan.orderConsult]}),(null===(l=e.plan)||void 0===l?void 0:l.monitorIntake)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Monitor oral intake:"})," ",e.plan.monitorIntake]}),(null===(c=e.plan)||void 0===c?void 0:c.supplements)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Supplements / enteral:"})," ",e.plan.supplements]}),(null===(d=e.plan)||void 0===d?void 0:d.documentPlan)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Follow-up plan:"})," ",e.plan.documentPlan]}),(null===(u=e.plan)||void 0===u?void 0:u.otherPlan)&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Other plan:"})," ",e.plan.otherPlan]}),!e.plan&&(0,s.jsx)("li",{style:{color:"#666"},children:"No plan recorded in this report."})]})})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("div",{style:Pe,children:"Goals"}),(0,s.jsxs)("div",{style:Ie,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Short term:"})," ",(null===(h=e.goals)||void 0===h?void 0:h.shortTerm)||"Not specified"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Long term:"})," ",(null===(p=e.goals)||void 0===p?void 0:p.longTerm)||"Not specified"]})]})]})]})};return(0,s.jsxs)("div",{style:{padding:15},children:[(0,s.jsx)("h3",{style:{marginBottom:12},children:"Reports"}),0===c.length?(0,s.jsx)("div",{style:{color:"#666",fontSize:14},children:"progress"===n?"No progress reports generated yet.":"No reports generated yet."}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:c.map((e,t)=>{const n=o===t,i="Doctor"===e.createdBy||e.summaryText;return(0,s.jsxs)("div",{style:{padding:12,border:"1px solid #ccc",borderRadius:6,background:"#fafafa"},children:[(0,s.jsx)("strong",{children:u(e)}),(0,s.jsx)("div",{style:{fontSize:13,color:"#444",marginTop:4},children:e.timestamp?d(e.timestamp):e.date&&e.time?"".concat(e.date," \u2014 ").concat(e.time):""}),(0,s.jsx)("button",{onClick:()=>l(n?null:t),style:{marginTop:8,padding:"6px 10px",fontSize:13,background:"#007bff",color:"white",border:"none",borderRadius:5,cursor:"pointer"},children:n?"Hide Report":"View Report"}),n&&(0,s.jsx)("div",{style:{marginTop:8},children:"progress"===e.type?p(e):i?h(e):(0,s.jsx)("div",{style:{fontSize:13,color:"#555"},children:"No detailed summary stored for this report."})})]},t)})})]})}const Pe={textAlign:"left",padding:"8px 10px",border:"1px solid #ddd",background:"rgb(50 95 122 / 0%)",color:"#000",width:"220px"},Ie={padding:"8px 10px",border:"1px solid #ddd",whiteSpace:"pre-wrap"};function Ee(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({medical_history:t.medical_history||"",family_history:t.family_history||"",oral_intake:"",tube_type:"",swallowing_issue:"",chewing_issue:"",dentition_issue:"",appetite:"",bo:"",bo_details:"",pu:"",pu_details:"",sleep:"",nausea:"",vomiting:"",other_complaints:"",breakfast_diet:"",breakfast_time:"",morning_tea_diet:"",morning_tea_time:"",lunch_diet:"",lunch_time:"",afternoon_tea_diet:"",afternoon_tea_time:"",dinner_diet:"",dinner_time:"",supper_diet:"",supper_time:"",from_date:"",to_date:"",diagnosis_problem:"",diet_breakfast:"",diet_morning_tea:"",diet_lunch:"",diet_afternoon_tea:"",diet_supper:"",ons_regime:"",diagnosis_etiology:"",diagnosis_signs:""}),[l,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e="patient_".concat(t.id,"_reports"),n=JSON.parse(localStorage.getItem(e)||"[]");c(n)},[t.id]);const f=(e,t)=>o(n=>je(je({},n),{},{[e]:t})),[m,g]=(0,i.useState)([]),[b,y]=(0,i.useState)(!1),v=()=>{var e;const t=(new Date).toLocaleString();if("YES"===(null===(e=a.swallowing_issue)||void 0===e?void 0:e.toUpperCase())){const e={time:t,assessment:"IA",icf:"b510",ichi:["SMF.AN.ZZ - Interview in relation to eating","VEA.AN.ZZ Interview in relation to eating behaviours","KTC.AN.ZZ Interview in relation to swallowing","ATI.AN.ZZ Interview in relation to energy and drive functions","KTC.AN.ZZ Interview in relation to swallowing"].join(", ")};g(t=>[...t,e])}};var[x,w]=(0,i.useState)(""),[j,S]=(0,i.useState)(""),[_,k]=(0,i.useState)(!1),[C,A]=(0,i.useState)(!1),[N,O]=(0,i.useState)(!1),[P,I]=(0,i.useState)(!1),[E,T]=(0,i.useState)(!1),[L,M]=(0,i.useState)(!1),[R,D]=(0,i.useState)(!1),[F,B]=(0,i.useState)(!1),[z,W]=(0,i.useState)(!1),[U,q]=(0,i.useState)(!1);const H=t.weight&&t.height?(t.weight/(t.height/100)**2).toFixed(1):"-";return(0,s.jsxs)("div",{style:{minHeight:"100vh",background:"#f7f9fc",fontFamily:"'Inter', sans-serif"},children:[(0,s.jsxs)("div",{style:{maxWidth:900,margin:"0 auto",padding:20},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[(0,s.jsx)("button",{onClick:r,style:Re,children:"\u2190 Back"}),(0,s.jsx)("div",{style:{display:"flex",gap:10},children:(0,s.jsx)("button",{style:{padding:"8px 16px",background:"#0277bd",color:"white",borderRadius:6,border:"none",cursor:"pointer",marginLeft:10,fontWeight:600},onClick:()=>u(!0),children:"\ud83e\ude7a Doctor Reports"})})]}),d&&(0,s.jsxs)("div",{className:"card",style:{marginBottom:20},children:[(0,s.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:(0,s.jsx)("button",{onClick:()=>u(!1),style:{padding:"4px 10px",background:"#ccc",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"\u2716 Close"})}),(0,s.jsx)(Oe,{patient:t})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Patient Information"}),(0,s.jsxs)("div",{style:ze,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",t.name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"IC/MRN:"})," ",t.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Age/Gender:"})," ",t.age," / ",t.sex]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Accommodation:"})," ",t.accommodation]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Residence:"})," ",t.residence]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"NKFA:"})," ",t.nkfa]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Place of Residence:"})," ",t.residence||"-"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Occupation:"})," ",t.occupation||"-"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Marital Status:"})," ",t.marital_status||"-"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ICD Group:"})," ",t.icd]}),t.carers&&t.carers.length>0&&(0,s.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,s.jsx)("strong",{children:"Carer Details:"}),(0,s.jsx)("div",{style:{marginTop:8},children:t.carers.map((e,t)=>(0,s.jsxs)("div",{style:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:6,marginBottom:6,background:"#f9fafb"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("strong",{children:["Carer ",t+1," ID:"]})," ",e.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",e.name||"-"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Phone:"})," ",e.phone||"-"]})]},e.id))})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Past Medical & Family History"}),(0,s.jsx)("label",{children:"Medical History (From Registration)"}),(0,s.jsx)("textarea",{style:Te.readonlyInput,value:t.medical_history||"No data",readOnly:!0}),(0,s.jsx)("label",{style:{marginTop:10},children:"Family History (From Registration)"}),(0,s.jsx)("textarea",{style:Te.readonlyInput,value:t.diagnosis_history||"No data",readOnly:!0})]}),(0,s.jsx)("h2",{style:{textAlign:"left"},children:"Nutrition Assessment"}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"History of Presenting Illness"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.medical_history,onChange:e=>f("medical_history",e.target.value)})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:"Anthropometric Measurement"}),(0,s.jsxs)("div",{style:We,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Weight (kg) \u2013 Auto filled from Nursing"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:t.weight||"-",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Height (cm) \u2013 Auto filled from Nursing"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:t.height||"-",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"BMI \u2013 Auto calculated"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:H,readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Weight Changes"}),(0,s.jsxs)("select",{style:Te.input,value:a.weight_change,onChange:e=>f("weight_change",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"YES",children:"Yes"}),(0,s.jsx)("option",{value:"NO",children:"No"})]})]}),"YES"===a.weight_change&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Previous Weight (kg)"}),(0,s.jsx)("input",{style:Te.input,value:a.previous_weight,onChange:e=>f("previous_weight",e.target.value),placeholder:"Enter previous weight"})]}),(0,s.jsxs)("div",{style:{gridColumn:"1 / -1",marginTop:6},children:[(0,s.jsx)("strong",{children:"Wheelchair Weight:"})," ",t.wheelchair_weight?"".concat(t.wheelchair_weight," kg"):"Not Applicable"]}),(0,s.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,s.jsx)("label",{children:"Remarks"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.anthro_remarks,onChange:e=>f("anthro_remarks",e.target.value),placeholder:"Add remarks if any\u2026"})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,s.jsx)("h5",{style:{margin:0},children:"VItal Signs & Measurements"}),(0,s.jsx)("span",{style:{color:"#0050ff",fontSize:13,cursor:"pointer",fontWeight:600},onClick:()=>{var e,n;return null===(e=(n=window).openVitals)||void 0===e?void 0:e.call(n,t)},children:"Know more \u2192"})]}),(0,s.jsxs)("div",{style:We,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Blood Pressure"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"120 / 80 mmHg",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Heart Rate (Pulse)"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"78 bpm",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Respiratory Rate"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"18 / min",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Temperature"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"98.6 \xb0F",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"SpO\u2082"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"98 %",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Random Blood Sugar"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"110 mg/dL",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Pain Score"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:"2 / 10",readOnly:!0})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{style:{textAlign:"center"},children:"       Initial Evaluation - Screening"}),(0,s.jsx)("h3",{children:"     Nutrition-Focused Physical Findings"}),(0,s.jsx)("label",{children:"Oral Intake"}),(0,s.jsxs)("select",{style:Te.input,value:a.oral_intake,onChange:e=>f("oral_intake",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"YES",children:"Normal"}),(0,s.jsx)("option",{value:"NO",children:"Impaired"})]}),"NO"===a.oral_intake&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{children:"NG / PEG / Others"}),(0,s.jsx)("input",{style:Te.input,value:a.tube_type,onChange:e=>f("tube_type",e.target.value)})]}),(0,s.jsx)("label",{style:{marginTop:14},children:"Swallowing"}),(0,s.jsxs)("select",{style:Te.input,value:a.swallowing_issue,onChange:e=>f("swallowing_issue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"NO",children:"Normal"}),(0,s.jsx)("option",{value:"YES",children:"Impaired"})]}),(0,s.jsx)("label",{children:"Chewing"}),(0,s.jsxs)("select",{style:Te.input,value:a.chewing_issue,onChange:e=>f("chewing_issue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"NO",children:"Normal"}),(0,s.jsx)("option",{value:"YES",children:"Impaired"})]}),(0,s.jsx)("label",{children:"Dentition"}),(0,s.jsxs)("select",{style:Te.input,value:a.chewing_issue,onChange:e=>f("chewing_issue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"NO",children:"Normal"}),(0,s.jsx)("option",{value:"YES",children:"Impaired"})]}),(0,s.jsx)("label",{children:"Appetite"}),(0,s.jsxs)("select",{style:Te.input,value:a.appetite,onChange:e=>f("appetite",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"GOOD",children:"GOOD"}),(0,s.jsx)("option",{value:"POOR",children:"POOR"})]}),(0,s.jsx)("label",{style:{paddingTop:10},children:"Bowel Status:"}),(0,s.jsxs)("div",{style:{display:"flex",gap:20},children:[(0,s.jsxs)("div",{style:{width:"50%"},children:[(0,s.jsx)("label",{style:{fontSize:"13px"},children:"Bowel Control"}),(0,s.jsxs)("select",{style:Te.input,value:a.bo,onChange:e=>f("bo",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"CONTINENT",children:"Continent"}),(0,s.jsx)("option",{value:"INCONTINENT",children:"Incontinent"})]})]}),(0,s.jsxs)("div",{style:{width:"50%"},children:[(0,s.jsx)("label",{style:{fontSize:"13px"},children:"Bowel Pattern"}),(0,s.jsxs)("select",{style:Te.input,value:a.bo,onChange:e=>f("bo",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,s.jsx)("option",{value:"CONSTIPATION",children:"Constipation"}),(0,s.jsx)("option",{value:"DIARRHEA",children:"Diarrhea"})]})]})]}),(0,s.jsx)("label",{style:{paddingTop:10},children:"Bladder Status:"}),(0,s.jsxs)("div",{style:{display:"flex",gap:20},children:[(0,s.jsxs)("div",{style:{width:"50%"},children:[(0,s.jsx)("label",{style:{fontSize:"13px"},children:"Bladder Control"}),(0,s.jsxs)("select",{style:Te.input,value:a.pu,onChange:e=>f("pu",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"CONTINENT",children:"Continent"}),(0,s.jsx)("option",{value:"INCONTINENT",children:"Incontinent"})]})]}),(0,s.jsxs)("div",{style:{width:"50%"},children:[(0,s.jsx)("label",{style:{fontSize:"13px"},children:"Voiding Pattern"}),(0,s.jsxs)("select",{style:Te.input,value:a.pu,onChange:e=>f("pu",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,s.jsx)("option",{value:"FREQUENCY",children:"Frequency"}),(0,s.jsx)("option",{value:"RETENTION",children:"Retention"})]})]})]}),(0,s.jsx)("label",{style:{paddingTop:10},children:"Sleeping Pattern"}),(0,s.jsxs)("select",{style:Te.input,value:a.sleep,onChange:e=>f("sleep",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"GOOD",children:"GOOD"}),(0,s.jsx)("option",{value:"PAIN",children:"Difficulty in sleeping due to Pain"}),(0,s.jsx)("option",{value:"OTHER",children:"Difficulty in sleeping due to other reason"}),(0,s.jsx)("option",{value:"NOREASON",children:"Difficulty in sleeping"})]}),(0,s.jsx)("label",{children:"Nausea"}),(0,s.jsxs)("select",{style:Te.input,value:a.nausea,onChange:e=>f("nausea",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"YES",children:"YES"}),(0,s.jsx)("option",{value:"NO",children:"NO"})]}),(0,s.jsx)("label",{children:"Vomiting"}),(0,s.jsxs)("select",{style:Te.input,value:a.vomiting,onChange:e=>f("vomiting",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"YES",children:"YES"}),(0,s.jsx)("option",{value:"NO",children:"NO"})]}),(0,s.jsx)("label",{children:"Hypoglycemic Episode"}),(0,s.jsxs)("select",{style:Te.input,value:a.vomiting,onChange:e=>f("vomiting",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"Never",children:"Never"}),(0,s.jsx)("option",{value:"Occasional",children:"Occasional"}),(0,s.jsx)("option",{value:"Frequent",children:"Frequent"}),(0,s.jsx)("option",{value:"UNKNOWN",children:"Unknown"})]}),(0,s.jsx)("label",{children:"Other Complaints"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.other_complaints,onChange:e=>f("other_complaints",e.target.value)})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:"Food / Nutrition Related History"}),(0,s.jsxs)("div",{style:{marginBottom:14},children:[(0,s.jsx)("label",{children:"List of Medication"}),(0,s.jsx)("textarea",{style:Te.readonlyInput,value:t.medications?t.medications.join(", "):"Dolo 650, Aspirin",readOnly:!0})]}),(0,s.jsx)("h6",{style:{marginTop:10},children:"Diet Recall / History"}),(0,s.jsxs)("div",{style:We,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Breakfast"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.diet_breakfast,onChange:e=>f("diet_breakfast",e.target.value),placeholder:"Enter breakfast details\u2026"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Morning Tea"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.diet_morning_tea,onChange:e=>f("diet_morning_tea",e.target.value),placeholder:"Enter morning tea details\u2026"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Lunch"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.diet_lunch,onChange:e=>f("diet_lunch",e.target.value),placeholder:"Enter lunch details\u2026"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Afternoon Tea"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.diet_afternoon_tea,onChange:e=>f("diet_afternoon_tea",e.target.value),placeholder:"Enter afternoon tea details\u2026"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Dinner/Supper"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.diet_supper,onChange:e=>f("diet_supper",e.target.value),placeholder:"Enter supper details\u2026"})]})]}),(0,s.jsxs)("div",{style:{marginTop:14},children:[(0,s.jsx)("label",{children:"Food Frequency Questionnaire (FFQ)"}),(0,s.jsx)("div",{style:{padding:"10px 12px",border:"1px dashed #bbb",borderRadius:6,background:"#fafafa",color:"#555",fontSize:14},children:"List will be coming soon"})]}),(0,s.jsxs)("div",{style:{marginTop:14},children:[(0,s.jsx)("label",{children:"Oral Nutrition Supplement Regime (If relevant)"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.ons_regime,onChange:e=>f("ons_regime",e.target.value),placeholder:"Enter supplement details, dosage, frequency\u2026"})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:"Nutrition Diagnosis"}),(0,s.jsx)("button",{type:"button",style:Be,onClick:()=>p(!0),children:"\ud83d\udccb Problem Chart"}),(0,s.jsx)("label",{children:"Problem"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:a.diagnosis_problem,readOnly:!0}),(0,s.jsx)("label",{children:"Etiology"}),(0,s.jsx)("input",{style:Te.readonlyInput,value:a.diagnosis_etiology,readOnly:!0}),(0,s.jsx)("label",{children:"Signs & Symptoms"}),(0,s.jsx)("textarea",{style:Te.textarea,value:a.diagnosis_signs,onChange:e=>f("diagnosis_signs",e.target.value)}),(0,s.jsx)("label",{children:"Nutrition Diagnosis"}),(0,s.jsx)("textarea",{style:Te.readonlyInput,readOnly:!0,value:a.diagnosis_problem&&a.diagnosis_etiology&&a.diagnosis_signs?"".concat(a.diagnosis_problem," ").concat(a.diagnosis_etiology," ").concat(a.diagnosis_signs):""})]}),h&&(0,s.jsx)("div",{style:qe,children:(0,s.jsxs)("div",{style:Ue,children:[(0,s.jsx)("h4",{children:"Nutrition Diagnostic Terminology"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:Object.entries({"1. Energy Balance":[{label:"Increased energy expenditure",etiology:"related to insufficient energy consumption"},{label:"Inadequate energy intake",etiology:"related to excessive caloric consumption"},{label:"Excessive energy intake",etiology:"related to prolonged inadequate intake"},{label:"Predicted suboptimal energy intake",etiology:"related to insufficient protein and energy intake"},{label:"Predicted excessive energy intake",etiology:"related to insufficient protein and energy intake"}],"2. Oral or Nutrition Support Intake":[{label:"Inadequate oral intake",etiology:"related to swallowing difficulty"},{label:"Excessive oral intake",etiology:"related to excessive oral nutrition support"},{label:"Inadequate enteral nutrition infusion",etiology:"related to interruption of enteral feeding"},{label:"Excessive enternal nutrition infusion",etiology:"related to inadequate parenteral delivery"},{label:"Less than optimal enteral nutrition composition or modality",etiology:"related to inadequate parenteral delivery"},{label:"Inadequate parenteral nutrition infusion",etiology:"related to inadequate parenteral delivery"},{label:"Excessive parenteral nutrition infusion",etiology:"related to inadequate parenteral delivery"},{label:"Less than optimal parenteral nutrition composition or modality",etiology:"related to inadequate parenteral delivery"},{label:"Limited food acceptance",etiology:"related to inadequate parenteral delivery"}],"3. Fluid Intake":[{label:"Inadequate fluid intake",etiology:"related to reduced fluid consumption"},{label:"Excessive fluid intake",etiology:"related to excessive fluid administration"}],"4. Bioactive Substances":[{label:"Suboptimal bioactive substance intake",etiology:"related to inadequate intake of functional food components"},{label:"Excessive bioactive substance intake",etiology:"related to excessive supplement consumption"},{label:"Excessive alcohol intake",etiology:"related to habitual alcohol consumption"}],"5. Nutrient":[{label:"Increased nutrient needs",etiology:"related to poor protein food choices"},{label:"Malnutrition",etiology:"related to reduced carbohydrate consumption"},{label:"Inadequate protein-energy intake",etiology:"related to excessive carbohydrate intake"},{label:"Decreased nutrient needs",etiology:"related to insufficient fat consumption"},{label:"Imbalance of nutrients",etiology:"related to insufficient vitamin intake"}],"5.6 Fat & Cholesterol":[{label:"Inadequate fat intake",etiology:"related to poor protein food choices"},{label:"Excessive fat intake",etiology:"related to poor protein food choices"},{label:"Less than optimal intake of types of fats",etiology:"related to poor protein food choices"}],"5.7 Protein":[{label:"Inadequate protein intake",etiology:"related to poor protein food choices"},{label:"Excessive protein intake",etiology:"related to poor protein food choices"},{label:"Less than optimal intake of types of proteins or amino acids",etiology:"related to poor protein food choices"}],"5.8 Carbohydrate and Fiber":[{label:"Inadequate carbohydrate intake",etiology:"related to poor protein food choices"},{label:"Excessive carbohydrate intake",etiology:"related to poor protein food choices"},{label:"Less than optimal intake of types of carbohydrate",etiology:"related to poor protein food choices"},{label:"Inconsistent carbohydrate intake",etiology:"related to poor protein food choices"},{label:"Inadequate fiber intake",etiology:"related to poor protein food choices"},{label:"Excessive fiber intake",etiology:"related to poor protein food choices"}],"5.9 Inadequate vitamin intake":[{label:"Vitamin A",etiology:"related to poor protein food choices"},{label:"Vitamin C",etiology:"related to poor protein food choices"},{label:"Vitamin D",etiology:"related to poor protein food choices"},{label:"Vitamin E",etiology:"related to poor protein food choices"},{label:"Vitamin K",etiology:"related to poor protein food choices"},{label:"Thiamin",etiology:"related to poor protein food choices"},{label:"Riboflavin",etiology:"related to poor protein food choices"},{label:"Niacin",etiology:"related to poor protein food choices"},{label:"Folate",etiology:"related to poor protein food choices"},{label:"Vitamin B6",etiology:"related to poor protein food choices"},{label:"Vitamin B12",etiology:"related to poor protein food choices"},{label:"Pantothenic acid",etiology:"related to poor protein food choices"},{label:"Biotin",etiology:"related to poor protein food choices"}],"5.9 Excessive vitamin intake":[{label:"Vitamin A",etiology:"related to poor protein food choices"},{label:"Vitamin C",etiology:"related to poor protein food choices"},{label:"Vitamin D",etiology:"related to poor protein food choices"},{label:"Vitamin E",etiology:"related to poor protein food choices"},{label:"Vitamin K",etiology:"related to poor protein food choices"},{label:"Thiamin",etiology:"related to poor protein food choices"},{label:"Riboflavin",etiology:"related to poor protein food choices"},{label:"Niacin",etiology:"related to poor protein food choices"},{label:"Folate",etiology:"related to poor protein food choices"},{label:"Vitamin B6",etiology:"related to poor protein food choices"},{label:"Vitamin B12",etiology:"related to poor protein food choices"},{label:"Pantothenic acid",etiology:"related to poor protein food choices"},{label:"Biotin",etiology:"related to poor protein food choices"}]}).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:6,padding:12},children:[(0,s.jsx)("h5",{style:{marginBottom:8},children:t}),n.map(e=>(0,s.jsxs)("label",{style:{display:"flex",gap:8,alignItems:"flex-start",marginBottom:6,cursor:"pointer",fontSize:14},children:[(0,s.jsx)("input",{type:"radio",name:"nutrition_problem",checked:a.diagnosis_problem===e.label,onChange:()=>{f("diagnosis_problem",e.label),f("diagnosis_etiology",e.etiology),p(!1)}}),(0,s.jsx)("span",{children:e.label})]},e.label))]},t)})}),(0,s.jsx)("button",{style:{marginTop:10},onClick:()=>p(!1),children:"Close"})]})}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:25},children:[(0,s.jsx)("button",{style:De,onClick:v,children:"Save \u2192"}),(0,s.jsx)("button",{style:Fe,onClick:()=>{if(v(),t&&t.id){const e="patient_".concat(t.id,"_reports"),n=JSON.parse(localStorage.getItem(e)||"[]"),i={reportId:"diet_initial_"+Date.now(),patientId:t.id,createdBy:"Dietitian",type:"diet_initial",timestamp:(new Date).toISOString(),patientSnapshot:{id:t.id,name:t.name,age:t.age,sex:t.gender||t.sex,ward:t.ward,diagnosis:t.diagnosis},form:je({},a)};localStorage.setItem(e,JSON.stringify([...n,i]))}n(a)},children:"Submit \u2192"})]}),m.length>0&&(0,s.jsxs)("div",{className:"card",style:{marginTop:30},children:[(0,s.jsx)("h3",{children:"Generated ICF / ICHI Recommendations"}),(0,s.jsxs)("table",{style:{width:"100%",marginTop:15,borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{background:"#0b6685",color:"white"},children:[(0,s.jsx)("th",{style:Le,children:"Time"}),(0,s.jsx)("th",{style:Le,children:"Assessment"}),(0,s.jsx)("th",{style:Le,children:"ICF"}),(0,s.jsx)("th",{style:Le,children:"ICHI"}),(0,s.jsx)("th",{style:Le,children:"Actions"})]})}),(0,s.jsx)("tbody",{children:m.map((e,t)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,s.jsx)("td",{style:Me,children:e.time}),(0,s.jsx)("td",{style:Me,children:e.assessment}),(0,s.jsx)("td",{style:Me,children:e.icf}),(0,s.jsx)("td",{style:je(je({},Me),{},{whiteSpace:"pre-wrap"}),children:e.ichi}),(0,s.jsx)("td",{style:Me,children:(0,s.jsx)("button",{style:Be,children:"View"})})]},t))})]})]})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        .card {\n          background: white;\n          padding: 20px;\n          border-radius: 10px;\n          border: 1px solid #ddd;\n          margin-bottom: 20px;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n        }\n      "})]})}const Te={input:{width:"100%",padding:"7px 12px",borderRadius:6,border:"1px solid #ccc"},readonlyInput:{width:"100%",padding:"7px 12px",borderRadius:6,border:"1px solid #ccc",background:"#eee",color:"#333"},textarea:{width:"100%",padding:"7px 12px",borderRadius:6,border:"1px solid #ccc"},select:{marginBottom:"5px"}},Le={padding:10,textAlign:"left",fontWeight:600},Me={padding:10,verticalAlign:"top"},Re={padding:"8px 16px",background:"#5640d3",color:"white",borderRadius:6,border:"none",cursor:"pointer"},De={padding:"12px 28px",background:"#444",color:"white",borderRadius:6,border:"none",cursor:"pointer",fontSize:16},Fe={padding:"12px 28px",background:"#0050ff",color:"white",borderRadius:6,border:"none",cursor:"pointer",fontSize:16},Be={padding:"6px 12px",background:"#047bff",color:"white",borderRadius:6,border:"none",cursor:"pointer"},ze={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},We={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(197px, 1fr))",gap:12},Ue={background:"#fff",padding:20,borderRadius:8,width:"70vw",maxHeight:"85vh",overflowY:"auto"},qe={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999},He=["Stroke Comprehensive","Traumatic Brain Injury Comprehensive","Spinal Cord Injury Long-Term Comprehensive","Multiple Sclerosis Comprehensive","Musculoskeletal post-Acute Comprehensive","Low Back Pain Comprehensive","Osteoarthritis Comprehensive","Cardiopulmonary post-acute Comprehensive","Diabetes Mellitus Comprehensive","Children / Youth with Cerebral Palsy Comprehensive","Vertigo Comprehensive","Hearing Loss Comprehensive","Vocational Rehabilitation Comprehensive","Hand Condition Comprehensive","Depression Comprehensive","Bipolar Disorders Comprehensive"],Ve={Stroke:["Physio Therapy","Occupational Therapy","Speech & Language Therapy","Psychology","Doctor","Dietetics"],"Brain Injury":["Physio Therapy","Speech & Language Therapy","Psychology"],"Spinal Cord Injury":["Physio Therapy","Nursing / Medical Assistant"],"Multiple Sclerosis":["Physio Therapy","Occupational Therapy"],"Musculoskeletal post-Acute Comprehensive":["Physio Therapy"],"Low Back Pain Comprehensive":["Physio Therapy"],"Osteoarthritis Comprehensive":["Physio Therapy"],"Cardiopulmonary Comprehensive":["Physio Therapy","Psychology","Dietetics"],Diabetes:["Dietetics","Physio Therapy"],"Cerebral Palsy":["Occupational Therapy","Physio Therapy"],"Vertigo Comprehensive":["Physio Therapy","Psychology"],"Hearing Loss Comprehensive":["Audiology"],"Vocational Rehabilitation Comprehensive":["Vocational+Work Rehab"],"Hand Condition Comprehensive":["Occupational Therapy","Physio Therapy"],Depression:["Psychology"],"Bipolar Disorders":["Psychology"]},Ge={"Cardiopulmonary post-acute Comprehensive":{Dietetics:{ICF:{"b440 \u2013 Respiration Functions":{ICHI:["KTC.AM.ZZ \u2013 Observation of swallowing\nSMG.AM.ZZ \u2013 Observation of drinking\nSMF.AM.ZZ \u2013 Observation of eating\nVEA.AM.ZZ \u2013 Observation of eating behaviors\nSDG.AM.ZZ \u2013 Observation of carrying out daily routine\nKTN.PM.ZZ / KTN.PP.ZZ \u2013 Weight maintenance education/counselling\nSMF.PM.ZZ \u2013 Education about eating\nSOA.PM.ZZ / SOA.PP.ZZ \u2013 Education/counselling about preparing meals\nVEA.PM.ZZ / VEA.PP.ZZ \u2013 Education/counselling about eating behaviours\nETB.PM.ZZ / ETB.PP.ZZ \u2013 Education/counselling about metabolic functions\nVEB.PM.ZZ \u2013 Education about physical activity behaviours\nUAB.TI.ZZ \u2013 Prescription of food\nVEA.TI.ZZ \u2013 Prescription for eating behaviours\nUAA.VB.ZZ \u2013 Awareness regarding substances for consumption\nVEA.VB.ZZ \u2013 Awareness to influence eating behaviours"],Assessments:{subjective:["NRS","PG-SGA-Metric-version","MST"],objective:["Growth Chart","BIA"]},Relations:{NRS:["PZA.AB.ZZ - whole body measurement","SMF. AN.ZZ - interview about eating","ATI.AN.ZZ - Interview in relation to energy and drive functions","PZA.DA.ZZ - Adninistering nutritional requirments"],"PG-SGA-Metric-version":["PZA.AB.ZZ - whole body measurement","SMF.AN.ZZ - Interview in relation to eating","VEA.AN.ZZ Interview in relation to eating behaviours","ATI.AN.ZZ Interview in relation to energy and drive functions","PZA.AE.AH Physical examination of whole body, UAB.PM.ZZ Education about food"],MST:["PZA.AB.ZZ - Whole-body measurement","PZA.DA.ZZ - Administering nutritional requirements","UAB.DA.ZZ - Food modification","UAB.PM.ZZ - Education about food","KT2.PP.ZZ - Counselling for digestive system functions"],test2:[]}},"b445 \u2013 Respiratory muscle Functions":{ICHI:["KTC.AM.ZZ \u2013 Observation of swallowing\nSMF.AM.ZZ \u2013 Observation of eating\nSMG.AM.ZZ \u2013 Observation of drinking\nKTB.AM.ZZ \u2013 Observation of ingestion\nSDG.AM.ZZ \u2013 Observation of carrying out daily routine\nSOA.AM.ZZ \u2013 Observation of preparing meals\nVEA.AM.ZZ \u2013 Observation of eating behaviours\nKTC.AN.ZZ \u2013 Interview in relation to swallowing\nSMF.AN.ZZ \u2013 Interview in relation to eating\nSMG.AN.ZZ \u2013 Interview in relation to drinking\nSDG.AN.ZZ \u2013 Interview on daily routine\nATI.AN.ZZ \u2013 Interview about energy & drive\nITA.AN.ZZ \u2013 Interview about blood pressure (only if relevant to postural breathlessness)\nPZA.DA.ZZ \u2013 Administering nutritional requirements\nUAB.DA.ZZ \u2013 Food modification (e.g., texture changes for safe swallowing)\nSMF.PM.ZZ \u2013 Education about eating\nSOA.PM.ZZ \u2013 Education about preparing meals\nKTN.PM.ZZ \u2013 Education about weight maintenance\nUAB.PM.ZZ \u2013 Education about food\nVEA.PM.ZZ \u2013 Education about eating behaviours\nETB.PM.ZZ \u2013 Education about metabolic impacts of respiratory effort\nVEB.PM.ZZ \u2013 Education about physical activity around meals\nSOA.PP.ZZ \u2013 Counselling about preparing meals\nVEA.PP.ZZ \u2013 Counselling on eating behaviours\nKTN.PP.ZZ \u2013 Weight management counselling\nETB.PP.ZZ \u2013 Counselling about metabolic impacts of respiratory effort\nUAB.TI.ZZ \u2013 Prescription of food\nVEA.TI.ZZ \u2013 Prescription for eating behaviours\nUAA.TI.ZZ \u2013 Prescription of substances for consumption (e.g., supplements)\nVEA.VB.ZZ \u2013 Awareness on eating behaviours\nUAA.VB.ZZ \u2013 Awareness about substances for consumption\nVEA.RD.ZZ \u2013 Providing goods supporting eating behaviours\nVEA.TB.ZZ \u2013 Planning in relation to eating behaviours\nVEA.TM.ZZ \u2013 Environment modification to support safe breathing during meals"],Assessments:{subjective:["test","test","MST"],objective:["test","test2"]},Relations:{NRS:["PZA.AB.ZZ - whole body measurement","SMF. AN.ZZ - interview about eating","ATI.AN.ZZ - Interview in relation to energy and drive functions","PZA.DA.ZZ - Adninistering nutritional requirments"],"PG-SGA-Metric-version":["PZA.AB.ZZ - whole body measurement","SMF.AN.ZZ - Interview in relation to eating","VEA.AN.ZZ Interview in relation to eating behaviours","KTC.AN.ZZ Interview in relation to swallowing","ATI.AN.ZZ Interview in relation to energy and drive functions","PZA.AE.AH Physical examination of whole body, UAB.PM.ZZ Education about food"],MST:["PZA.AB.ZZ - Whole-body measurement","PZA.DA.ZZ - Administering nutritional requirements","UAB.DA.ZZ - Food modification","UAB.PM.ZZ - Education about food","KT2.PP.ZZ - Counselling for digestive system functions"],test2:[]}},"e1109 - Products or substances for personal consumption, unspecified":{},"b530 - Weight maintenance functions":{},"b4308 - Other specified haematological system functions":{}},Doctor:{ICF:["b440 \u2013 Respiration Functions"],ICHI:["JTB.AA.ZZ Assessment of respiration function\nJTB.AB.ZZ Measurement of respiration function\nJTB.AC.ZZ Test of respiration function\nJTB.AI.ZZ Monitoring of respiration function\nJTB.AM.ZZ Observation of respiration function\nJTB.AN.ZZ Interview in relation to respiration function\nJTB.DE.AC Artificial ventilation\nJTB.JB.ZZ Postural drainage\nJTB.PG.ZZ Assisting and leading exercise for respiration function\nJTB.PH.ZZ Training of respiration function\nJTB.PM.ZZ Education about respiration function\nJTB.PN.ZZ Advising about respiration function\nJTB.ZY.ZY Other interventions on respiration function, not elsewhere classified\nJTC.AA.ZZ Assessment of respiratory muscle function\nJTC.AB.ZZ Respiratory pressure measurement\nJTC.AC.ZZ Test of respiratory muscle function\nJTC.PG.ZZ Assisting and leading exercise for respiratory muscles\nJTG.AA.ZZ Assessment of coughing, sneezing, expectorating and other functions related to breathing\nJTG.PG.ZZ Assisting and leading exercise for additional respiratory functions\nJTG.PH.ZZ Training for coughing, sneezing, expectorating and other functions related to breathing\nJTG.RB.ZZ Practical support with coughing, sneezing, expectorating and other respiratory functions related to breathing\nJT2.ZZ.ZZ Interventions on functions of respiratory system, not elsewhere classified\nJZZ.AA.ZZ Assessment of respiratory system, not elsewhere classified"],Assessments:["Initial Assessment\nSubjective Assessment questions"]},Audiology:{ICF:["b440 \u2013 Respiration Functions (if related to URI)"],ICHI:[],Assessments:["Otoscopic Examination"]},"Physio Therapy":{ICF:["b440 \u2013 Respiration Functions"],ICHI:["JTB.AA.ZZ (Assessment of respiration function)\nJTB.PH.ZZ (Training of respiration function)\nJTB.AB.ZZ (Measurement of respiration function)"],Assessments:{subjective:["6M Walk"],objective:["test","test2"]},Relations:{"6M Walk":["KTC.AM.ZZ","SMG.AM.ZZ"],"PG-SGA-Metric-version":["PZA.AB.ZZ - whole body measurement","SMF.AN.ZZ - Interview in relation to eating","VEA.AN.ZZ Interview in relation to eating behaviours","KTC.AN.ZZ Interview in relation to swallowing","ATI.AN.ZZ Interview in relation to energy and drive functions","PZA.AE.AH Physical examination of whole body, UAB.PM.ZZ Education about food"],MST:["KTC.AM.ZZ \u2013 Observation of swallowing"],test2:[]}},"Speech therapy":{ICF:["b440 \u2013 Respiration Functions"],ICHI:["JT2.AA.ZZ Assessment of functions of the respiratory system, not elsewhere classified  \nJT2.AB.ZZ Measurement of functions of the respiratory system, not elsewhere classified\nJT2.AC.ZZ Test of functions of the respiratory system, not elsewhere classified\nJT2.PG.ZZ Assisting and leading exercise for functions of the respiratory system, not elsewhere classified\nJT2.PH.ZZ Training of functions of the respiratory system, not elsewhere classified"],Assessments:["A. Respiratory Observations\nB. Objective Voice Measures \nC. Perceptual Voice Measures\nTRACHEOSTOMY WEANING EVALUATION"]},Nursing:{ICF:["b440 \u2013 Respiration Functions"],ICHI:["Orthostatic hypotension prevention \u2014 graded tilt/positioning & compression; DVT prophylaxis bundle \u2014 SCDs + pharmacologic per protocol; Pulmonary hygiene & respiratory muscle training.\nb420 (Blood pressure functions) \u2192 ICHI interventions typically cover measurement/monitoring, self-measurement training, provision of BP monitoring device, lifestyle counselling, pharmacological management (medication administration/adjustment), diagnostic ambulatory BP monitoring referral, and urgent BP crisis management"],Assessments:["Cardiovascular / Autonomic / Pulmonary\nManagement"]}}},"Stroke Comprehensive":{Dietetics:{ICF:{"b445 \u2013 Respiration Functions":{ICHI:["KTC.AM.ZZ \u2013 Observation of swallowing\nSMG.AM.ZZ \u2013 Observation of drinking\nSMF.AM.ZZ \u2013 Observation of eating\nVEA.AM.ZZ \u2013 Observation of eating behaviors\nSDG.AM.ZZ \u2013 Observation of carrying out daily routine\nKTN.PP.ZZ \u2013 Weight maintenance education/counselling\nSMF.PM.ZZ \u2013 Education about eating\nSOA.PM.ZZ / SOA.PP.ZZ \u2013 Education/counselling about preparing meals\nVEA.PM.ZZ / VEA.PP.ZZ \u2013 Education/counselling about eating behaviours\nETB.PM.ZZ / ETB.PP.ZZ \u2013 Education/counselling about metabolic functions\nVEB.PM.ZZ \u2013 Education about physical activity behaviours\nUAB.TI.ZZ \u2013 Prescription of food\nVEA.TI.ZZ \u2013 Prescription for eating behaviours\nUAA.VB.ZZ \u2013 Awareness regarding substances for consumption\nVEA.VB.ZZ \u2013 Awareness to influence eating behaviours"],Assessments:{subjective:["NRS","PG-SGA-Metric-version"],objective:[]}},"b445 \u2013 Respiratory muscle Functions":{ICHI:["KTC.AM.ZZ \u2013 Observation of swallowing\nSMF.AM.ZZ \u2013 Observation of eating\nSMG.AM.ZZ \u2013 Observation of drinking\nKTB.AM.ZZ \u2013 Observation of ingestion\nSDG.AM.ZZ \u2013 Observation of carrying out daily routine\nSOA.AM.ZZ \u2013 Observation of preparing meals\nVEA.AM.ZZ \u2013 Observation of eating behaviours\nITA.AN.ZZ \u2013 Interview about blood pressure (only if relevant to postural breathlessness)\nPZA.DA.ZZ \u2013 Administering nutritional requirements\nUAB.DA.ZZ \u2013 Food modification (e.g., texture changes for safe swallowing)\nSMF.PM.ZZ \u2013 Education about eating\nSOA.PM.ZZ \u2013 Education about preparing meals\nKTN.PM.ZZ \u2013 Education about weight maintenance\nUAB.PM.ZZ \u2013 Education about food\nVEA.PM.ZZ \u2013 Education about eating behaviours\nETB.PM.ZZ \u2013 Education about metabolic impacts of respiratory effort\nVEB.PM.ZZ \u2013 Education about physical activity around meals\nSOA.PP.ZZ \u2013 Counselling about preparing meals\nVEA.PP.ZZ \u2013 Counselling on eating behaviours\nKTN.PP.ZZ \u2013 Weight management counselling\nETB.PP.ZZ \u2013 Counselling about metabolic impacts of respiratory effort\nUAB.TI.ZZ \u2013 Prescription of food\nVEA.TI.ZZ \u2013 Prescription for eating behaviours\nUAA.TI.ZZ \u2013 Prescription of substances for consumption (e.g., supplements)\nVEA.VB.ZZ \u2013 Awareness on eating behaviours\nUAA.VB.ZZ \u2013 Awareness about substances for consumption\nVEA.RD.ZZ \u2013 Providing goods supporting eating behaviours\nVEA.TB.ZZ \u2013 Planning in relation to eating behaviours\nVEA.TM.ZZ \u2013 Environment modification to support safe breathing during meals"],Assessments:["NRS\nPG-SGA-Metric-version\nGrowth Chart\nBIA"]}},Doctor:{ICF:["b440 \u2013 Respiration Functions"],ICHI:["JTB.AA.ZZ Assessment of respiration function\nJTB.AB.ZZ Measurement of respiration function\nJTB.AC.ZZ Test of respiration function\nJTB.AI.ZZ Monitoring of respiration function\nJTB.AM.ZZ Observation of respiration function\nJTB.AN.ZZ Interview in relation to respiration function\nJTB.DE.AC Artificial ventilation\nJTB.JB.ZZ Postural drainage\nJTB.PG.ZZ Assisting and leading exercise for respiration function\nJTB.PH.ZZ Training of respiration function\nJTB.PM.ZZ Education about respiration function\nJTB.PN.ZZ Advising about respiration function\nJTB.ZY.ZY Other interventions on respiration function, not elsewhere classified\nJTC.AA.ZZ Assessment of respiratory muscle function\nJTC.AB.ZZ Respiratory pressure measurement\nJTC.AC.ZZ Test of respiratory muscle function\nJTC.PG.ZZ Assisting and leading exercise for respiratory muscles\nJTG.AA.ZZ Assessment of coughing, sneezing, expectorating and other functions related to breathing\nJTG.PG.ZZ Assisting and leading exercise for additional respiratory functions\nJTG.PH.ZZ Training for coughing, sneezing, expectorating and other functions related to breathing\nJTG.RB.ZZ Practical support with coughing, sneezing, expectorating and other respiratory functions related to breathing\nJT2.ZZ.ZZ Interventions on functions of respiratory system, not elsewhere classified\nJZZ.AA.ZZ Assessment of respiratory system, not elsewhere classified"],Assessments:["Initial Assessment\nSubjective Assessment questions"]},Audiology:{ICF:["b440 \u2013 Respiration Functions (if related to URI)"],ICHI:[],Assessments:["Otoscopic Examination"]},"Physio Therapy":{ICF:["b440 \u2013 Respiration Functions"],ICHI:["JTB.AA.ZZ (Assessment of respiration function)\nJTB.PH.ZZ (Training of respiration function)\nJTB.AB.ZZ (Measurement of respiration function)"],Assessments:["1. Rating of Perceived Exertion (RPE);\n2. 6 Minute Walking Test (6MWT);\n3. Manual counting"]},"Speech therapy":{ICF:["b440 \u2013 Respiration Functions"],ICHI:["JT2.AA.ZZ Assessment of functions of the respiratory system, not elsewhere classified  \nJT2.AB.ZZ Measurement of functions of the respiratory system, not elsewhere classified\nJT2.AC.ZZ Test of functions of the respiratory system, not elsewhere classified\nJT2.PG.ZZ Assisting and leading exercise for functions of the respiratory system, not elsewhere classified\nJT2.PH.ZZ Training of functions of the respiratory system, not elsewhere classified"],Assessments:["A. Respiratory Observations\nB. Objective Voice Measures \nC. Perceptual Voice Measures\nTRACHEOSTOMY WEANING EVALUATION"]},Nursing:{ICF:["b440 \u2013 Respiration Functions"],ICHI:["Orthostatic hypotension prevention \u2014 graded tilt/positioning & compression; DVT prophylaxis bundle \u2014 SCDs + pharmacologic per protocol; Pulmonary hygiene & respiratory muscle training.\nb420 (Blood pressure functions) \u2192 ICHI interventions typically cover measurement/monitoring, self-measurement training, provision of BP monitoring device, lifestyle counselling, pharmacological management (medication administration/adjustment), diagnostic ambulatory BP monitoring referral, and urgent BP crisis management"],Assessments:["Cardiovascular / Autonomic / Pulmonary\nManagement"]}}}},Ze={b440:{hierarchy:["Body Functions","Functions of the cardiovascular, haematological, immunological and respiratory systems","Functions of the respiratory system"],title:"b440 \u2013 Respiration Functions"},b445:{hierarchy:["Body Functions","Functions of the cardiovascular, haematological, immunological and respiratory systems","Functions of the respiratory system"],title:"b445 \u2013 Respiratory Muscle Functions"}};function Ye(e){let{boxNumber:t,title:n,color:i="#0F172A"}=e;return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16,borderBottom:"2px solid ".concat(i),paddingBottom:8},children:[(0,s.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:i,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:14},children:t}),(0,s.jsx)("span",{style:{fontWeight:700,fontSize:16,color:i},children:n})]})}function Ke(e){let{label:t,points:n,checked:i,onChange:r,indent:a=!1}=e;return(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,fontSize:14,marginBottom:8,marginLeft:a?24:0,cursor:"pointer",padding:"6px 8px",borderRadius:4,background:i?"#e8f4fd":"transparent",border:i?"1px solid #3b82f6":"1px solid transparent",transition:"all 0.2s ease"},children:[(0,s.jsx)("input",{type:"checkbox",checked:i,onChange:r,style:{width:18,height:18,accentColor:"#0F172A"}}),(0,s.jsx)("span",{style:{flex:1,color:"#374151"},children:t}),n&&(0,s.jsx)("span",{style:{padding:"2px 8px",borderRadius:4,background:i?"#0F172A":"#e5e7eb",color:i?"#fff":"#6b7280",fontSize:12,fontWeight:600},children:n})]})}function Je(e){let{name:t,options:n,value:i,onChange:r}=e;return(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:20},children:n.map(e=>(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,fontSize:14,cursor:"pointer",padding:"8px 10px",borderRadius:6,background:i===e.value?"#e8f4fd":"#fff"},children:[(0,s.jsx)("input",{type:"radio",name:t,checked:i===e.value,onChange:()=>r(e.value),style:{width:18,height:18,accentColor:"#0F172A"}}),(0,s.jsx)("span",{style:{flex:1,lineHeight:1.4},children:e.label}),void 0!==e.points&&(0,s.jsx)("span",{style:{padding:"2px 8px",borderRadius:4,background:i===e.value?"#0F172A":"#e5e7eb",color:i===e.value?"#fff":"#6b7280",fontSize:12,fontWeight:600,whiteSpace:"nowrap"},children:e.points})]},e.value))})}function Xe(e){let{label:t,value:n,maxValue:i,color:r="#0F172A"}=e;return(0,s.jsxs)("div",{style:{marginTop:12,padding:"10px 14px",background:"linear-gradient(135deg, ".concat(r,"15, ").concat(r,"08)"),border:"1px solid ".concat(r,"40"),borderRadius:6,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("span",{style:{fontSize:13,color:"#4b5563",fontWeight:500},children:t}),(0,s.jsxs)("div",{style:{background:r,color:"#fff",padding:"4px 12px",borderRadius:4,fontWeight:700,fontSize:15},children:[n,i?" / ".concat(i):""]})]})}const $e={container:{maxWidth:1400,margin:"0 auto",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",background:"#f0f4f8",minHeight:"100vh",padding:24},headerBar:{display:"flex",alignItems:"center",gap:16,background:"linear-gradient(135deg, #0F172A 0%, #2d5a87 100%)",padding:"20px 24px",borderRadius:"12px 12px 0 0",color:"#fff"},logo:{flexShrink:0},mainTitle:{fontSize:20,fontWeight:700,margin:0},subTitle:{fontSize:14,fontWeight:400,margin:0,opacity:.9},formVersion:{marginLeft:"auto",textAlign:"right",fontSize:12,opacity:.8,display:"flex",flexDirection:"column",gap:2},patientBar:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16,background:"#fff",padding:20,borderBottom:"1px solid #e5e7eb"},patientField:{display:"flex",flexDirection:"column",gap:6},input:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,outline:"none",transition:"border-color 0.2s"},sectionDivider:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0px",borderRadius:6},dividerText:{fontWeight:700,fontSize:20,letterSpacing:1,color:"#0f172a"},dividerNote:{fontSize:12,opacity:.8},mainGrid:{display:"grid",gridTemplateColumns:"1fr ",gap:20},stageGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16,marginTop:12},stageCard:{display:"flex",gap:12,padding:16,border:"2px solid #E5E7EB",borderRadius:10,cursor:"pointer",fontSize:14},column:{display:"grid",flexDirection:"column",gap:20},card:{background:"#fff",borderRadius:10,border:"1px solid #e5e7eb",marginTop:20,padding:20,boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},weightInputs:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:16},weightField:{display:"flex",flexDirection:"column",gap:6},inputWithUnit:{display:"flex",alignItems:"center",border:"1px solid #d1d5db",borderRadius:6,overflow:"hidden"},numberInput:{flex:1,padding:"10px 12px",border:"none",fontSize:14,outline:"none",width:"100%"},unit:{padding:"10px 12px",background:"#f3f4f6",color:"#6b7280",fontSize:13,fontWeight:500},subsection:{marginTop:16,paddingTop:16,borderTop:"1px solid #e5e7eb"},nestedSection:{marginTop:12,marginLeft:24,paddingLeft:16,borderLeft:"3px solid #3b82f6"},questionText:{fontSize:14,color:"#374151",marginBottom:12,fontWeight:500},symptomGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:20},painSection:{display:"flex",alignItems:"center",gap:10,marginTop:12,padding:"10px 12px",borderRadius:6},painLabel:{fontSize:14,fontWeight:500,whiteSpace:"nowrap"},w5Grid:{display:"flex",flexDirection:"column",gap:14,marginTop:12},w5Row:{display:"grid",gridTemplateColumns:"220px 1fr",gap:16,alignItems:"center"},w5Stage:{border:"2px solid",borderRadius:8,padding:12,fontSize:14},w5Result:{marginTop:16,padding:12,background:"#F1F5F9",borderRadius:6,fontSize:15,display:"flex",alignItems:"center",gap:8},w5Badge:{padding:"4px 10px",borderRadius:6,background:"#0F172A",color:"#fff",fontWeight:700},textInput:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:4,fontSize:14},painPoints:{background:"#0F172A",color:"#fff",padding:"4px 10px",borderRadius:4,fontSize:12,fontWeight:600},summaryCard:{background:"linear-gradient(135deg, #0F172A 0%, #2d5a87 100%)",borderRadius:10,padding:20,color:"#fff"},summaryTitle:{fontSize:14,fontWeight:600,marginBottom:16,textTransform:"uppercase",letterSpacing:.5},summaryRow:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,0.2)",fontSize:14},summaryTotal:{display:"flex",justifyContent:"space-between",marginTop:12,fontSize:16,fontWeight:700},scoreValue:{background:"#fff",color:"#0F172A",padding:"4px 16px",borderRadius:6,fontSize:18,fontWeight:700},worksheetGrid:{display:"block",gap:20},diagnosisGrid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:4},fluidSection:{marginTop:16,paddingTop:16,borderTop:"1px solid #e5e7eb"},globalSection:{background:"#fff",borderRadius:10,padding:24,marginBottom:24},globalOptions:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},globalOption:{display:"flex",flexDirection:"column",alignItems:"center",padding:20,borderRadius:10,border:"2px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},globalBadge:{color:"#fff",padding:"8px 20px",borderRadius:20,fontWeight:700,fontSize:14,marginBottom:12},globalLabel:{fontSize:16,fontWeight:600,color:"#1f2937",marginBottom:6},globalDesc:{fontSize:13,color:"#6b7280"},totalSection:{display:"grid",gridTemplateColumns:"300px 1fr",gap:24,marginBottom:24,marginTop:20},totalCard:{background:"linear-gradient(135deg, #0F172A 0%, #0f172a 100%)",borderRadius:12,padding:24,color:"#fff",textAlign:"center"},totalHeader:{fontSize:14,fontWeight:600,letterSpacing:1,marginBottom:16,opacity:.9},scoreBreakdown:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:20,fontSize:13,opacity:.8},breakdownItem:{display:"flex",justifyContent:"space-between",padding:"4px 8px",background:"rgba(255,255,255,0.1)",borderRadius:4},totalValue:{fontSize:64,fontWeight:700,lineHeight:1},triageCard:{borderRadius:12,border:"2px solid",padding:24},triageHeader:{fontSize:12,fontWeight:600,letterSpacing:1,color:"#6b7280",marginBottom:8},triageLevel:{fontSize:28,fontWeight:700,marginBottom:8},triageText:{fontSize:15,color:"#374151",marginBottom:20,lineHeight:1.5},triageScale:{position:"relative",height:50},scaleBar:{display:"flex",height:24,borderRadius:4,overflow:"hidden",fontSize:11,fontWeight:600,color:"#fff"},scaleGreen:{flex:1,background:"#22c55e",display:"flex",alignItems:"center",justifyContent:"center"},scaleBlue:{flex:1,background:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center"},scaleYellow:{flex:2,background:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center"},scaleRed:{flex:2,background:"#0F172A",display:"flex",alignItems:"center",justifyContent:"center"},scaleIndicator:{position:"absolute",top:26,fontSize:16,color:"#0F172A",transform:"translateX(-50%)",transition:"left 0.3s ease"},actionBar:{display:"flex",justifyContent:"flex-end",gap:12,padding:"20px 0",borderTop:"1px solid #e5e7eb"},threeColGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:12,marginBottom:12},fieldBox:{display:"flex",flexDirection:"column",gap:4},globalRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:10},divider:{margin:"16px 0"},secondaryBtn:{display:"flex",alignItems:"center",gap:8,padding:"12px 20px",background:"#fff",color:"#0F172A",border:"1px solid #d1d5db",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},primaryBtn:{display:"flex",alignItems:"center",gap:8,padding:"12px 24px",background:"linear-gradient(135deg, #0F172A 0%, #2d5a87 100%)",color:"#fff",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},footer:{textAlign:"center",padding:"16px 0",fontSize:12,color:"#9ca3af"}};function Qe(e){let{label:t,value:n,options:i=[],onChange:r,disabled:a=!1,helperText:o,labelPosition:l="inline"}=e;return(0,s.jsxs)("div",{className:"form-field",children:[t&&(0,s.jsx)("label",{className:"form-label",style:"block"===l?{display:"block",width:"100%",marginBottom:6}:{},children:t}),(0,s.jsx)("select",{className:"form-input",value:n||"",onChange:e=>r(e.target.value),disabled:a,children:i.map((e,t)=>(0,s.jsx)("option",{value:e.value,children:e.label},t))}),o&&(0,s.jsx)("div",{className:"form-helper",children:o})]})}function et(e){let{label:t,value:n,onChange:i,type:r="text",disabled:a=!1,helperText:o,placeholder:l=""}=e;return(0,s.jsxs)("div",{className:"form-field",children:[t&&(0,s.jsx)("label",{className:"form-label",children:t}),(0,s.jsx)("input",{type:r,className:"form-input",value:n||"",placeholder:l,disabled:a,onChange:e=>i(e.target.value)}),o&&(0,s.jsx)("div",{className:"form-helper",children:o})]})}function tt(e){let{title:t,subtitle:n,children:i,onBack:r,onSave:a,onClear:o,onSubmit:l,onPrint:c,buttonClassNames:d={}}=e;const{back:u="badge",save:h="badge",clear:p="badge",print:f="badge",submit:m="button"}=d;return(0,s.jsxs)("section",{className:"form-card",children:[(0,s.jsxs)("div",{className:"form-card-header",children:[(0,s.jsxs)("div",{children:[t&&(0,s.jsx)("div",{className:"form-card-title",children:t}),n&&(0,s.jsx)("div",{className:"form-card-subtitle",children:n})]}),(0,s.jsxs)("div",{className:"form-card-actions",children:[r&&(0,s.jsx)("button",{onClick:r,className:"form-btn ".concat(u),children:"\u2190 Back"}),o&&(0,s.jsx)("button",{onClick:o,className:"form-btn ".concat(p),children:"Clear"}),c&&(0,s.jsx)("button",{onClick:c,className:"form-btn ".concat(f),children:"Print"}),a&&(0,s.jsx)("button",{onClick:a,className:"form-btn ".concat(h),children:"Save"})]})]}),(0,s.jsx)("div",{className:"form-card-body",children:i}),(0,s.jsx)("div",{className:"form-card-footer",children:(0,s.jsx)("div",{className:"form-card-footer-actions",children:l&&(0,s.jsx)("button",{onClick:l,className:"form-btn ".concat(m),children:"Submit"})})})]})}function nt(e){let{title:t,children:n}=e;return(0,s.jsxs)("div",{style:at.card,children:[(0,s.jsx)("div",{style:at.cardHeader,children:t}),(0,s.jsx)("div",{style:at.cardBody,children:n})]})}function it(e){let{children:t}=e;return(0,s.jsx)("div",{style:at.grid,children:t})}function rt(e){let{label:t,value:n,onChange:i}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:at.label,children:t}),(0,s.jsx)("input",{style:at.input,value:n||"",onChange:e=>i(e.target.value)})]})}const at={container:{maxWidth:1100,margin:"0 auto",padding:24,fontFamily:"Inter, Arial, sans-serif"},title:{fontSize:20,fontWeight:700,marginBottom:20,color:"#0F172A"},card:{background:"#fff",borderRadius:10,marginBottom:18,border:"1px solid #e2e8f0"},cardHeader:{padding:"12px 16px",fontWeight:700,fontSize:15,background:"#eef2ff",borderBottom:"1px solid #e2e8f0",color:"#0F172A"},cardBody:{padding:16},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16},label:{fontSize:13,fontWeight:600,marginBottom:4,display:"block"},input:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:14},textarea:{width:"100%",minHeight:90,padding:12,borderRadius:6,border:"1px solid #cbd5e1",fontSize:14,marginBottom:12},fileInput:{width:"100%",padding:10,border:"1px dashed #94a3b8",borderRadius:6,background:"#f8fafc"},filePreview:{marginTop:8,fontSize:13,color:"#0F172A"}},ot=[{value:"3",label:"3rd"},{value:"15",label:"15th"},{value:"50",label:"50th"},{value:"85",label:"85th"},{value:"97",label:"97th"}];function st(e){let{label:t,value:n,onChange:i}=e;return(0,s.jsxs)("div",{style:lt.field,children:[(0,s.jsx)("label",{style:lt.label,children:t}),(0,s.jsx)("input",{style:lt.input,value:n||"",onChange:e=>i(e.target.value)})]})}const lt={container:{maxWidth:1100,margin:"0 auto",padding:24,fontFamily:"Inter, Arial, sans-serif",background:"#f4f6fb"},header:{fontSize:20,fontWeight:700,color:"#0c3161",marginBottom:16},inputCard:{background:"#ffffff",borderRadius:10,padding:20,marginBottom:20,border:"1px solid #e2e8f0",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},grid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16},field:{display:"flex",flexDirection:"column"},label:{fontSize:13,fontWeight:600,color:"#334155",marginBottom:6},input:{padding:"10px 12px",borderRadius:6,border:"1px solid #cbd5e1",fontSize:14,background:"#f9fafb"},graphCard:{background:"#ffffff",borderRadius:10,padding:16,border:"1px solid #e2e8f0",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},graphHeader:{fontSize:15,fontWeight:600,marginBottom:12,color:"#0f172a"},graphImage:{width:"100%",borderRadius:6,border:"1px solid #ddd"},caption:{marginTop:8,fontSize:12,color:"#64748b",textAlign:"right"}},ct={"PG-SGA-Metric-version":function(e){let{onSave:t,patientInfo:n={}}=e;const[r,a]=(0,i.useState)({patientName:n.name||"",mrn:n.mrn||"",dob:n.dob||"",assessmentDate:(new Date).toISOString().split("T")[0],weightCurrent:"",weightMonthAgo:"",weightSixMonthsAgo:"",weightChange2Weeks:"unchanged",w1_weightLoss2Weeks:"no",pgsgaStage:"",w5:{weight:"",intake:"",nis:"",functioning:"",physical:""},feverLevel:"none",feverDuration:"none",corticosteroids:"none",muscleSites:{temples:0,clavicles:0,shoulders:0,interosseous:0,scapula:0,thighs:0,calves:0},muscleGlobal:0,fatSites:{orbital:0,triceps:0,ribs:0},fatGlobal:0,fluidSites:{ankle:0,sacral:0,ascites:0},fluidGlobal:0,w1_period:"1m",w1_weightLossBand:"",w1_weightLoss2Weeks:"no",intakeStatus:"unchanged",intakeType:"normal",symptoms:{noProblems:!1,noAppetite:!1,nausea:!1,vomiting:!1,constipation:!1,diarrhea:!1,mouthSores:!1,dryMouth:!1,thingsTasteFunny:!1,thingsSmellTasteBad:!1,swallowingProblems:!1,fullquickly:!1,fatigue:!1,painLocation:"",otherpainLocation:"",other:""},activityLevel:"normal",diagnosis:[],diagnosisOther:"",noFever:!0,feverLevel:"none",feverDuration:"",corticosteroids:"none",muscleLoss:0,fatLoss:0,ankleEdema:0,sacralEdema:0,ascites:0,globalAssessment:""}),o=(e,t)=>{a(je(je({},r),{},{[e]:t}))},l=(0,i.useMemo)(()=>{let e=Number(r.w1_weightLossBand||0);return"yes"===r.w1_weightLoss2Weeks&&e>0&&(e+=1),e},[r.w1_weightLossBand,r.w1_weightLoss2Weeks]),c=e=>{a(je(je({},r),{},{symptoms:je(je({},r.symptoms),{},{[e]:!r.symptoms[e]})}))},d=(0,i.useMemo)(()=>({decreased:1,unchanged:0,increased:0}[r.weightChange2Weeks]||0),[r.weightChange2Weeks]),u=(0,i.useMemo)(()=>{if("unchanged"===r.intakeStatus||"more"===r.intakeStatus)return 0;return 1+({normal:0,little_solid:2,liquid_only:3,supplements:3,very_little:4,nothing:0}[r.intakeType]||0)},[r.intakeStatus,r.intakeType]),h=(0,i.useMemo)(()=>{var e,t;let n=0;return Object.entries({noProblems:0,noAppetite:3,nausea:1,vomiting:3,constipation:1,diarrhea:3,mouthSores:2,dryMouth:1,thingsTasteFunny:1,thingsSmellTasteBad:1,swallowingProblems:2,fullquickly:1,fatigue:1}).forEach(e=>{let[t,i]=e;r.symptoms[t]&&(n+=i)}),null!==(e=r.symptoms.painLocation)&&void 0!==e&&e.trim()&&(n+=3),null!==(t=r.symptoms.otherpainLocation)&&void 0!==t&&t.trim()&&(n+=1),n},[r.symptoms]),p=(0,i.useMemo)(()=>({normal:0,not_normal:1,not_feeling_up:2,little_activity:2,bedridden:3}[r.activityLevel]||0),[r.activityLevel]),f=d+u+h+p,m=(0,i.useMemo)(()=>{const e={cancer:1,aids:1,pulmonary_cachexia:1,cardiac_cachexia:1,open_wound:1,pressure_ulcer:1,major_surgery:1,trauma:1,diagnosis:[],diagnosisOther:"",primaryDiseaseStage:"",age_65_plus:1};return r.diagnosis.reduce((t,n)=>t+(e[n]||0),0)},[r.diagnosis]),g=(0,i.useMemo)(()=>{var e,t,n;return Math.max(null!==(e={none:0,low:1,moderate:2,high:3}[r.feverLevel])&&void 0!==e?e:0,null!==(t={none:0,below72:1,72:2,over72:3}[r.feverDuration])&&void 0!==t?t:0)+(null!==(n={none:0,low:1,moderate:2,high:3}[r.corticosteroids])&&void 0!==n?n:0)},[r.feverLevel,r.feverDuration,r.corticosteroids]),b=p,y=(0,i.useMemo)(()=>r.muscleGlobal>0?r.muscleGlobal:r.fatGlobal>0?r.fatGlobal:r.fluidGlobal>0?r.fluidGlobal:0,[r.muscleGlobal,r.fatGlobal,r.fluidGlobal]),v=f+m+g+y,x=v>=9?{level:"CRITICAL",color:"red",text:"Indicates a critical need for improved symptom management and/or nutrient intervention options."}:v>=4?{level:"MODERATE",color:"#f59e0b",text:"Requires intervention by dietitian, in conjunction with nurse or physician as indicated by symptoms (Box 3)."}:v>=2?{level:"LOW",color:"#3b82f6",text:"Patient & family education by dietitian, nurse, or other clinician with pharmacologic intervention as indicated by symptom survey (Box 3) and lab values as appropriate."}:{level:"MINIMAL",color:"#22c55e",text:"No intervention required at this time. Re-assessment on routine and regular basis during treatment."};return(0,i.useMemo)(()=>l>=4||h>=6||b>=3||y>=3?"C":l>=2||h>=2||b>=1||y>=1?"B":"A",[l,h,b,y]),(0,s.jsxs)("div",{style:$e.container,children:[(0,s.jsxs)("div",{style:$e.sectionDivider,children:[(0,s.jsx)("span",{style:$e.dividerText,children:"Patient-Generated Portion"}),(0,s.jsx)("span",{style:$e.dividerNote,children:"Boxes 1-4 to be completed by patient"})]}),(0,s.jsxs)("div",{style:$e.mainGrid,children:[(0,s.jsxs)("div",{style:$e.column,children:[(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"1",title:"Weight"}),(0,s.jsxs)("div",{style:$e.weightInputs,children:[(0,s.jsxs)("div",{style:$e.weightField,children:[(0,s.jsx)("label",{children:"Height"}),(0,s.jsxs)("div",{style:$e.inputWithUnit,children:[(0,s.jsx)("input",{type:"number",value:r.height,onChange:e=>o("height",e.target.value),style:$e.numberInput,placeholder:"0.0"}),(0,s.jsx)("span",{style:$e.unit,children:"cm"})]})]}),(0,s.jsxs)("div",{style:$e.weightField,children:[(0,s.jsx)("label",{children:"Current Weight"}),(0,s.jsxs)("div",{style:$e.inputWithUnit,children:[(0,s.jsx)("input",{type:"number",value:r.weightCurrent,onChange:e=>o("weightCurrent",e.target.value),style:$e.numberInput,placeholder:"0.0"}),(0,s.jsx)("span",{style:$e.unit,children:"kg"})]})]}),(0,s.jsxs)("div",{style:$e.weightField,children:[(0,s.jsx)("label",{children:"weight 1 Month Ago"}),(0,s.jsxs)("div",{style:$e.inputWithUnit,children:[(0,s.jsx)("input",{type:"number",value:r.weightMonthAgo,onChange:e=>o("weightMonthAgo",e.target.value),style:$e.numberInput,placeholder:"0.0"}),(0,s.jsx)("span",{style:$e.unit,children:"kg"})]})]}),(0,s.jsxs)("div",{style:$e.weightField,children:[(0,s.jsx)("label",{children:"6 Months Ago"}),(0,s.jsxs)("div",{style:$e.inputWithUnit,children:[(0,s.jsx)("input",{type:"number",value:r.weightSixMonthsAgo,onChange:e=>o("weightSixMonthsAgo",e.target.value),style:$e.numberInput,placeholder:"0.0"}),(0,s.jsx)("span",{style:$e.unit,children:"kg"})]})]})]}),(0,s.jsxs)("div",{style:$e.subsection,children:[(0,s.jsx)("p",{style:$e.questionText,children:"During the past two weeks my weight has:"}),(0,s.jsx)(Je,{name:"weightChange",options:[{label:"Decreased",value:"decreased",points:"1"},{label:"Stayed the same",value:"unchanged",points:"0"},{label:"Increased",value:"increased",points:"0"}],value:r.weightChange2Weeks,onChange:e=>o("weightChange2Weeks",e)})]}),(0,s.jsx)(Xe,{label:"Box 1 Score",value:d})]}),(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"2",title:"Food Intake"}),(0,s.jsx)("p",{style:$e.questionText,children:"As compared to my normal intake, I would rate my food intake during the past month as:"}),(0,s.jsx)(Je,{name:"intakeStatus",options:[{label:"Unchanged",value:"unchanged",points:"0"},{label:"More than usual",value:"more",points:"0"},{label:"Less than usual",value:"less",points:"1"}],value:r.intakeStatus,onChange:e=>o("intakeStatus",e)}),"less"===r.intakeStatus&&(0,s.jsxs)("div",{style:$e.nestedSection,children:[(0,s.jsx)("p",{style:$e.questionText,children:"I am now eating:"}),(0,s.jsx)(Je,{name:"intakeType",options:[{label:"Normal food but less than normal amount",value:"normal",points:"1"},{label:"Little solid food",value:"little_solid",points:"2"},{label:"Only liquids",value:"liquid_only",points:"3"},{label:"Only nutritional supplements",value:"supplements",points:"3"},{label:"Very little of anything",value:"very_little",points:"4"},{label:"Only tube feedings or only nutrition by vein",value:"nothing",points:"0"}],value:r.intakeType,onChange:e=>o("intakeType",e)})]}),(0,s.jsx)(Xe,{label:"Box 2 Score",value:u})]})]}),(0,s.jsx)("div",{style:$e.column,children:(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"3",title:"Symptoms"}),(0,s.jsx)("p",{style:$e.questionText,children:"I have had the following problems that have kept me from eating enough during the past two weeks (check all that apply):"}),(0,s.jsxs)("div",{style:$e.symptomGrid,children:[(0,s.jsx)(Ke,{label:"No problems eating",checked:r.symptoms.noProblems,onChange:()=>c("noProblems"),points:"0"}),(0,s.jsx)(Ke,{label:"No appetite, just did not feel like eating",checked:r.symptoms.noAppetite,onChange:()=>c("noAppetite"),points:"3"}),(0,s.jsx)(Ke,{label:"Nausea",checked:r.symptoms.nausea,onChange:()=>c("nausea"),points:"1"}),(0,s.jsx)(Ke,{label:"Vomiting",checked:r.symptoms.vomiting,onChange:()=>c("vomiting"),points:"3"}),(0,s.jsx)(Ke,{label:"Constipation",checked:r.symptoms.constipation,onChange:()=>c("constipation"),points:"1"}),(0,s.jsx)(Ke,{label:"Diarrhea",checked:r.symptoms.diarrhea,onChange:()=>c("diarrhea"),points:"3"}),(0,s.jsx)(Ke,{label:"Mouth sores",checked:r.symptoms.mouthSores,onChange:()=>c("mouthSores"),points:"2"}),(0,s.jsx)(Ke,{label:"Dry mouth",checked:r.symptoms.dryMouth,onChange:()=>c("dryMouth"),points:"1"}),(0,s.jsx)(Ke,{label:"Things taste funny or have no taste",checked:r.symptoms.thingsTasteFunny,onChange:()=>c("thingsTasteFunny"),points:"1"}),(0,s.jsx)(Ke,{label:"Smells bother me ",checked:r.symptoms.thingsSmellTasteBad,onChange:()=>c("thingsSmellTasteBad"),points:"1"}),(0,s.jsx)(Ke,{label:"Problems swallowing",checked:r.symptoms.swallowingProblems,onChange:()=>c("swallowingProblems"),points:"2"}),(0,s.jsx)(Ke,{label:"Feel full quickly",checked:r.symptoms.fullquickly,onChange:()=>c("fullquickly"),points:"1"}),(0,s.jsx)(Ke,{label:"Fatigue",checked:r.symptoms.fatigue,onChange:()=>c("fatigue"),points:"1"})]}),(0,s.jsxs)("div",{style:$e.painSection,children:[(0,s.jsx)("label",{style:$e.painLabel,children:"Pain - Where?"}),(0,s.jsx)("input",{type:"text",value:r.symptoms.painLocation,onChange:e=>a(je(je({},r),{},{symptoms:je(je({},r.symptoms),{},{painLocation:e.target.value})})),placeholder:"Describe location...",style:$e.textInput}),r.symptoms.painLocation&&(0,s.jsx)("span",{style:$e.painPoints,children:"3"})]}),(0,s.jsxs)("div",{style:$e.painSection,children:[(0,s.jsx)("label",{style:$e.painLabel,children:"Others"}),(0,s.jsx)("input",{type:"text",value:r.symptoms.otherpainLocation,onChange:e=>a(je(je({},r),{},{symptoms:je(je({},r.symptoms),{},{otherpainLocation:e.target.value})})),placeholder:"Describe ...",style:$e.textInput}),r.symptoms.otherpainLocation&&(0,s.jsx)("span",{style:$e.painPoints,children:"1"})]}),(0,s.jsx)(Xe,{label:"Box 3 Score",value:h})]})}),(0,s.jsxs)("div",{style:$e.column,children:[(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"4",title:"Activities & Function"}),(0,s.jsx)("p",{style:$e.questionText,children:"Over the past month, I would generally rate my activity as:"}),(0,s.jsx)(Je,{name:"activity",options:[{label:"Normal with no limitations",value:"normal",points:"0"},{label:"Not my normal self, but able to be up and about with fairly normal activities",value:"not_normal",points:"1"},{label:"Not feeling up to most things, but in bed or chair less than half the day",value:"not_feeling_up",points:"2"},{label:"Able to do little activity and spend most of the day in bed or chair",value:"little_activity",points:"3"},{label:"Pretty much bedridden, rarely out of bed",value:"bedridden",points:"3"}],value:r.activityLevel,onChange:e=>o("activityLevel",e)}),(0,s.jsx)(Xe,{label:"Box 4 Score",value:p})]}),(0,s.jsx)("i",{children:(0,s.jsx)("p",{children:"The remainder of this form is to be completed by your doctor, nurse, dietitian, or therapist. Thank you."})}),(0,s.jsx)("div",{style:$e.summaryCard,children:(0,s.jsxs)("div",{style:$e.summaryTotal,children:[(0,s.jsx)("span",{children:"Additive Score of 1-4 "}),(0,s.jsx)("span",{style:$e.scoreValue,children:f})]})})]})]}),(0,s.jsxs)("div",{style:$e.sectionDivider,children:[(0,s.jsx)("span",{style:$e.dividerText,children:"Professional Worksheets"}),(0,s.jsx)("span",{style:$e.dividerNote,children:"To be completed by healthcare professional"})]}),(0,s.jsxs)("div",{style:$e.worksheetGrid,children:[(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"W1",title:"Worksheet 1 \u2013 Scoring Weight Loss",color:"#0F172A"}),(0,s.jsxs)("p",{style:$e.questionText,children:["To determine score, use ",(0,s.jsx)("b",{children:"1-month weight data"})," if available. Use ",(0,s.jsx)("b",{children:"6-month data only if 1-month data is unavailable"}),". Add ",(0,s.jsx)("b",{children:"+1 point"})," if patient has lost weight during the past 2 weeks."]}),(0,s.jsx)("p",{style:$e.questionText,children:"Select weight-loss period:"}),(0,s.jsx)(Je,{name:"w1_period",options:[{label:"1 Month",value:"1m"},{label:"6 Months",value:"6m"}],value:r.w1_period,onChange:e=>o("w1_period",e)}),(0,s.jsx)("p",{style:$e.questionText,children:"Weight loss percentage:"}),(0,s.jsx)(Je,{name:"w1_weightLossBand",options:"1m"===r.w1_period?[{label:"\u226510%",value:"4",points:"4"},{label:"5\u20139.9%",value:"3",points:"3"},{label:"3\u20134.9%",value:"2",points:"2"},{label:"2\u20132.9%",value:"1",points:"1"},{label:"0-1.9% ",value:"0",points:"0"}]:[{label:"\u226520%",value:"4",points:"4"},{label:"10\u201319.9%",value:"3",points:"3"},{label:"6\u20139.9%",value:"2",points:"2"},{label:"2\u20135.9%",value:"1",points:"1"},{label:"0-1.9% ",value:"0",points:"0"}],value:r.w1_weightLossBand,onChange:e=>o("w1_weightLossBand",e)}),(0,s.jsxs)("div",{style:$e.subsection,children:[(0,s.jsx)("p",{style:$e.questionText,children:"Weight loss in past 2 weeks?"}),(0,s.jsx)(Je,{name:"w1_weightLoss2Weeks",options:[{label:"No",value:"no",points:"0"},{label:"Yes",value:"yes",points:"1"}],value:r.w1_weightLoss2Weeks,onChange:e=>o("w1_weightLoss2Weeks",e)})]}),(0,s.jsx)(Xe,{label:"Numerical Score from Worksheet 1",value:l,color:"#0F172A"})]}),(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"W2",title:"Disease and its relation to nutritional requirements:",color:"#0F172A"}),(0,s.jsx)("div",{style:$e.diagnosisGrid,children:[{key:"cancer",label:"Cancer"},{key:"aids",label:"AIDS"},{key:"pulmonary_cachexia",label:"Pulmonary or cardiac cachexia"},{key:"renal_insufficiency",label:"Chronic renal insufficiency"},{key:"open_wound",label:"Presence of decubitus, open wound or fistula"},{key:"trauma",label:"Presence of trauma"},{key:"age_65_plus",label:"Age greater than 65"}].map(e=>(0,s.jsx)(Ke,{label:e.label,checked:r.diagnosis.includes(e.key),onChange:()=>(e=>{const t=r.diagnosis.includes(e)?r.diagnosis.filter(t=>t!==e):[...r.diagnosis,e];o("diagnosis",t)})(e.key),points:"1"},e.key))}),(0,s.jsxs)("div",{style:{marginTop:16},children:[(0,s.jsx)("label",{style:$e.questionText,children:"Other relevant diagnoses (specify):"}),(0,s.jsx)("input",{type:"text",value:r.diagnosisOther,onChange:e=>o("diagnosisOther",e.target.value),placeholder:"Enter diagnosis...",style:$e.textInput})]}),(0,s.jsxs)("div",{style:{marginTop:16},children:[(0,s.jsx)("label",{style:$e.questionText,children:"Primary disease staging (if known or appropriate):"}),(0,s.jsxs)("select",{value:r.primaryDiseaseStage,onChange:e=>o("primaryDiseaseStage",e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14},children:[(0,s.jsx)("option",{value:"",children:"Select stage"}),(0,s.jsx)("option",{value:"I",children:"Stage I"}),(0,s.jsx)("option",{value:"II",children:"Stage II"}),(0,s.jsx)("option",{value:"III",children:"Stage III"}),(0,s.jsx)("option",{value:"IV",children:"Stage IV"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsx)(Xe,{label:"Disease Score (B)",value:m,color:"#0F172A"})]}),(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"W3",title:"Metabolic Demand",color:"#0F172A"}),(0,s.jsxs)("div",{style:$e.subsection,children:[(0,s.jsx)("p",{style:$e.questionText,children:"Fever (intensity):"}),(0,s.jsx)(Je,{name:"feverLevel",options:[{label:"No fever",value:"none",points:"0"},{label:">37.2 & <38.3\xb0C",value:"low",points:"1"},{label:"\u226538.3\u201338.8\xb0C",value:"moderate",points:"2"},{label:"\u226538.8\xb0C",value:"high",points:"3"}],value:r.feverLevel,onChange:e=>o("feverLevel",e)})]}),(0,s.jsxs)("div",{style:$e.subsection,children:[(0,s.jsx)("p",{style:$e.questionText,children:"Fever duration:"}),(0,s.jsx)(Je,{name:"feverDuration",options:[{label:"No fever",value:"none",points:"0"},{label:"<72 hours",value:"below72",points:"1"},{label:"72 hours",value:"72",points:"2"},{label:">72 hours",value:"over72",points:"3"}],value:r.feverDuration,onChange:e=>o("feverDuration",e)})]}),(0,s.jsxs)("div",{style:$e.subsection,children:[(0,s.jsx)("p",{style:$e.questionText,children:"Corticosteroid use:"}),(0,s.jsx)(Je,{name:"steroids",options:[{label:"No corticosteroids",value:"none",points:"0"},{label:"Low dose (<10 mg prednisone equivalents/day)",value:"low",points:"1"},{label:"Moderate dose (\u226510 & <30 mg prednisone equivalents/day)",value:"moderate",points:"2"},{label:"High dose (\u226530 mg prednisone equivalents/day)",value:"high",points:"3"}],value:r.corticosteroids,onChange:e=>o("corticosteroids",e)})]}),(0,s.jsx)(Xe,{label:"Metabolic Score (C)",value:g,color:"#0F172A"})]}),(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"W4",title:"Physical Examination",color:"#0F172A"}),(0,s.jsx)("h4",{style:{marginBottom:8},children:"Muscle Status"}),(0,s.jsx)("div",{style:$e.threeColGrid,children:[["temples","Temples (temporalis)"],["clavicles","Clavicles (pectoralis & deltoids)"],["shoulders","Shoulders (deltoids)"],["interosseous","Interosseous muscles"],["scapula","scapula (latissimus dorsi, trapezius, deltoids)"],["thighs","Thighs (quadriceps)"],["calf","Calf (gastrocnemius)"]].map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{style:$e.fieldBox,children:[(0,s.jsx)("label",{children:n}),(0,s.jsxs)("select",{value:r.muscleSites[t],onChange:e=>o("muscleSites",je(je({},r.muscleSites),{},{[t]:Number(e.target.value)})),children:[(0,s.jsx)("option",{value:0,children:"None (0) "}),(0,s.jsx)("option",{value:1,children:"Mild (1+)"}),(0,s.jsx)("option",{value:2,children:"Moderate (2+)"}),(0,s.jsx)("option",{value:3,children:"Severe (3+)"})]})]},t)})}),(0,s.jsxs)("div",{style:$e.globalRow,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Global Muscle Status"})}),(0,s.jsxs)("select",{value:r.muscleGlobal,onChange:e=>o("muscleGlobal",Number(e.target.value)),children:[(0,s.jsx)("option",{value:0,children:"0 \u2013 No deficit"}),(0,s.jsx)("option",{value:1,children:"1 \u2013 Mild deficit"}),(0,s.jsx)("option",{value:2,children:"2 \u2013 Moderate deficit"}),(0,s.jsx)("option",{value:3,children:"3 \u2013 Severe deficit"})]})]}),(0,s.jsx)("hr",{style:$e.divider}),(0,s.jsx)("h4",{style:{marginBottom:8},children:"Fat Stores"}),(0,s.jsx)("div",{style:$e.threeColGrid,children:[["orbital","Orbital fat pads"],["triceps","Triceps skinfold"],["ribs","Fat overlying lower ribs"]].map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{style:$e.fieldBox,children:[(0,s.jsx)("label",{children:n}),(0,s.jsxs)("select",{value:r.fatSites[t],onChange:e=>o("fatSites",je(je({},r.fatSites),{},{[t]:Number(e.target.value)})),children:[(0,s.jsx)("option",{value:0,children:"None (0) "}),(0,s.jsx)("option",{value:1,children:"Mild (1+)"}),(0,s.jsx)("option",{value:2,children:"Moderate (2+)"}),(0,s.jsx)("option",{value:3,children:"Severe (3+)"})]})]},t)})}),(0,s.jsxs)("div",{style:$e.globalRow,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Global Fat Status"})}),(0,s.jsxs)("select",{value:r.fatGlobal,onChange:e=>o("fatGlobal",Number(e.target.value)),children:[(0,s.jsx)("option",{value:0,children:"0 \u2013 No deficit"}),(0,s.jsx)("option",{value:1,children:"1 \u2013 Mild deficit"}),(0,s.jsx)("option",{value:2,children:"2 \u2013 Moderate deficit"}),(0,s.jsx)("option",{value:3,children:"3 \u2013 Severe deficit"})]})]}),(0,s.jsx)("hr",{style:$e.divider}),(0,s.jsx)("h4",{style:{marginBottom:8},children:"Fluid Status"}),(0,s.jsx)("div",{style:$e.threeColGrid,children:[["ankle","Ankle edema"],["sacral","Sacral edema"],["ascites","Ascites"]].map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{style:$e.fieldBox,children:[(0,s.jsx)("label",{children:n}),(0,s.jsxs)("select",{value:r.fluidSites[t],onChange:e=>o("fluidSites",je(je({},r.fluidSites),{},{[t]:Number(e.target.value)})),children:[(0,s.jsx)("option",{value:0,children:"None (0) "}),(0,s.jsx)("option",{value:1,children:"Mild (1+)"}),(0,s.jsx)("option",{value:2,children:"Moderate (2+)"}),(0,s.jsx)("option",{value:3,children:"Severe (3+)"})]})]},t)})}),(0,s.jsxs)("div",{style:$e.globalRow,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Global Fluid Status"})}),(0,s.jsxs)("select",{value:r.fluidGlobal,onChange:e=>o("fluidGlobal",Number(e.target.value)),children:[(0,s.jsx)("option",{value:0,children:"0 \u2013 No excess"}),(0,s.jsx)("option",{value:1,children:"1 \u2013 Mild excess"}),(0,s.jsx)("option",{value:2,children:"2 \u2013 Moderate excess"}),(0,s.jsx)("option",{value:3,children:"3 \u2013 Severe excess"})]})]}),(0,s.jsx)(Xe,{label:"Physical Exam Score (D)",value:y,color:"#0F172A"})]}),(0,s.jsxs)("div",{style:$e.card,children:[(0,s.jsx)(Ye,{boxNumber:"W5",title:"PG-SGA Global Assessment Categories",color:"#0F172A"}),(0,s.jsxs)("div",{style:$e.w5Grid,children:[(0,s.jsxs)("div",{style:$e.w5Row,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Category Weight"})}),(0,s.jsxs)("select",{style:{width:"100%"},value:r.w5.weight,onChange:e=>o("w5",je(je({},r.w5),{},{weight:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"A",children:"Stage A \u2013 No weight loss OR recent non-fluid weight gain"}),(0,s.jsx)("option",{value:"B",children:"Stage B \u2013 \u22645% loss in 1 month (<10% in 6 months) OR progressive loss"}),(0,s.jsx)("option",{value:"C",children:"Stage C \u2013 >5% loss in 1 month (>10% in 6 months) OR progressive loss"})]})]}),(0,s.jsxs)("div",{style:$e.w5Row,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Nutrient Intake"})}),(0,s.jsxs)("select",{style:{width:"100%"},value:r.w5.intake,onChange:e=>o("w5",je(je({},r.w5),{},{intake:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"A",children:"Stage A \u2013 No deficit OR significant recent improvement"}),(0,s.jsx)("option",{value:"B",children:"Stage B \u2013 Definite decrease in intake"}),(0,s.jsx)("option",{value:"C",children:"Stage C \u2013 Severe deficit in intake"})]})]}),(0,s.jsxs)("div",{style:$e.w5Row,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Nutrition Impact Symptoms (NIS)"})}),(0,s.jsxs)("select",{style:{width:"100%"},value:r.w5.nis,onChange:e=>o("w5",je(je({},r.w5),{},{nis:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"A",children:"Stage A \u2013 No NIS OR significant recent improvement"}),(0,s.jsx)("option",{value:"B",children:"Stage B \u2013 Presence of NIS (Box 3 PG-SGA)"}),(0,s.jsx)("option",{value:"C",children:"Stage C \u2013 Presence of NIS (Box 3 PG-SGA)"})]})]}),(0,s.jsxs)("div",{style:$e.w5Row,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Functioning"})}),(0,s.jsxs)("select",{style:{width:"100%"},value:r.w5.functioning,onChange:e=>o("w5",je(je({},r.w5),{},{functioning:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"A",children:"Stage A \u2013 No deficit OR significant recent improvement"}),(0,s.jsx)("option",{value:"B",children:"Stage B \u2013 Moderate functional deficit OR recent deterioration"}),(0,s.jsx)("option",{value:"C",children:"Stage C \u2013 Severe functional deficit OR recent significant deterioration"})]})]}),(0,s.jsxs)("div",{style:$e.w5Row,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Physical Exam"})}),(0,s.jsxs)("select",{style:{width:"100%"},value:r.w5.physical,onChange:e=>o("w5",je(je({},r.w5),{},{physical:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"A",children:"Stage A \u2013 No deficit OR chronic deficit with recent improvement"}),(0,s.jsx)("option",{value:"B",children:"Stage B \u2013 Mild to moderate loss of muscle/fat"}),(0,s.jsx)("option",{value:"C",children:"Stage C \u2013 Severe loss of muscle/fat \xb1 edema"})]})]}),(0,s.jsxs)("div",{style:$e.w5Row,children:[(0,s.jsx)("label",{children:(0,s.jsx)("strong",{children:"Global PG-SGA Category Rating"})}),(0,s.jsxs)("select",{style:{justifyContent:"space-between"},value:r.w5.global,onChange:e=>o("w5",je(je({},r.w5),{},{global:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select\u2026"}),(0,s.jsx)("option",{value:"A",children:"Stage A"}),(0,s.jsx)("option",{value:"B",children:"Stage B"}),(0,s.jsx)("option",{value:"C",children:"Stage C"})]})]})]})]})]}),(0,s.jsxs)("div",{style:$e.totalSection,children:[(0,s.jsxs)("div",{style:$e.totalCard,children:[(0,s.jsx)("div",{style:$e.totalHeader,children:"TOTAL PG-SGA SCORE"}),(0,s.jsxs)("div",{style:$e.scoreBreakdown,children:[(0,s.jsxs)("div",{style:$e.breakdownItem,children:[(0,s.jsx)("span",{children:"A (Boxes 1-4)"}),(0,s.jsx)("span",{children:f})]}),(0,s.jsxs)("div",{style:$e.breakdownItem,children:[(0,s.jsx)("span",{children:"B (Disease)"}),(0,s.jsx)("span",{children:m})]}),(0,s.jsxs)("div",{style:$e.breakdownItem,children:[(0,s.jsx)("span",{children:"C (Metabolic)"}),(0,s.jsx)("span",{children:g})]}),(0,s.jsxs)("div",{style:$e.breakdownItem,children:[(0,s.jsx)("span",{children:"D (Physical)"}),(0,s.jsx)("span",{children:y})]})]}),(0,s.jsx)("div",{style:$e.totalValue,children:v})]}),(0,s.jsxs)("div",{style:je(je({},$e.triageCard),{},{background:"linear-gradient(135deg, ".concat(x.color,"20, ").concat(x.color,"10)"),borderColor:x.color}),children:[(0,s.jsx)("div",{style:$e.triageHeader,children:"NUTRITIONAL TRIAGE RECOMMENDATION"}),(0,s.jsx)("div",{style:je(je({},$e.triageLevel),{},{color:x.color}),children:x.level}),(0,s.jsx)("div",{style:$e.triageText,children:x.text}),(0,s.jsxs)("div",{style:$e.triageScale,children:[(0,s.jsxs)("div",{style:$e.scaleBar,children:[(0,s.jsx)("div",{style:$e.scaleGreen,children:"0-1"}),(0,s.jsx)("div",{style:$e.scaleBlue,children:"2-3"}),(0,s.jsx)("div",{style:$e.scaleYellow,children:"4-8"}),(0,s.jsx)("div",{style:$e.scaleRed,children:"\u22659"})]}),(0,s.jsx)("div",{style:je(je({},$e.scaleIndicator),{},{left:"".concat(Math.min(5*v,95),"%")}),children:"\u25bc"})]})]})]}),(0,s.jsx)("div",{style:$e.actionBar,children:(0,s.jsxs)("button",{style:$e.primaryBtn,onClick:()=>t(je(je({},r),{},{scores:{box1:d,box2:u,box3:h,box4:p,additive:f,disease:m,metabolic:g,physical:y,total:v},triage:x.level})),children:[(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M5 12l5 5L20 7"})}),"Save Assessment"]})})]})},MST:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MST",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(t){var a=e&&e.patient?e.patient:{},o=(t=e&&"function"===typeof e.onSave?e.onSave:null,e&&"function"===typeof e.onSubmit?e.onSubmit:null),l=e&&"function"===typeof e.onBack?e.onBack:null,[c,d]=(e&&e.department&&e.department,(0,i.useState)(a&&a.name?a.name:"")),[u,h]=(0,i.useState)(a&&a.id?a.id:""),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[b,y]=(0,i.useState)(""),[v,x]=(0,i.useState)(""),[w,j]=(0,i.useState)(""),[S,_]=(0,i.useState)(""),[k,C]=(0,i.useState)(!1),[A,N]=(0,i.useState)(!1),[O,P]=(0,i.useState)(!1),[I,E]=(0,i.useState)(!1),[T,L]=(0,i.useState)(!1),[M,R]=(0,i.useState)("");var D,F=function(e,t,n){if(!n||"yes"!==n)return 0;if(!e||""===e){var i=parseFloat(t);return isNaN(i)?0:i>=34?4:i>=24?3:i>=14?2:i>=2?1:0}return"unsure"===e?2:"2-13"===e?1:"14-23"===e?2:"24-33"===e?3:">=34"===e?4:0}(m,b,p),B=(D=v)&&"yes"===D?1:0,z=F+B,W=z>=2?"AT RISK":"NOT AT RISK";const[U,q]=(0,i.useState)(()=>r||{}),H=()=>{t&&t(n,U)};(0,i.useEffect)(function(){var e=document.getElementById("mst-patient-name");e&&e.focus()},[]);var V={container:{fontFamily:"Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial",color:"#0f172a",maxWidth:980,margin:"0 auto",padding:18},headerRow:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},titleBlock:{},title:{fontSize:20,fontWeight:700},subtitle:{color:"#6b7280",marginTop:4,fontSize:13},card:{background:"#fff",border:"1px solid #e6e9ee",borderRadius:10,padding:16,marginBottom:12,boxShadow:"0 4px 14px rgba(15,23,42,0.03)"},grid2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},label:{fontSize:13,fontWeight:700,marginBottom:6},input:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:"#fff"},readOnly:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid #e6e9ee",background:"#f3f4f6",fontSize:14,cursor:"not-allowed"},small:{fontSize:12,color:"#6b7280"},scoreBox:{display:"flex",gap:12,alignItems:"center",padding:12,borderRadius:8,background:"#fafafa",border:"1px solid #eef2f6"},actionsRow:{display:"flex",gap:8},btnPrimary:{background:"#0f172a",color:"#fff",border:"none",padding:"10px 14px",borderRadius:8,cursor:"pointer"},btnNeutral:{background:"#f3f4f6",color:"#0f172a",border:"none",padding:"8px 12px",borderRadius:8,cursor:"pointer"},dropdown:{width:"100%",padding:"8px 10px",borderRadius:8,border:"1px solid #d1d5db",background:"#fff"}};return(0,s.jsxs)("div",{id:"mst-root",style:V.container,children:[(0,s.jsx)("style",{children:"\n@media print { body * { visibility: hidden; } #mst-root, #mst-root * { visibility: visible; } #mst-root { position: absolute; left: 0; top: 0; width: 100%; } .no-print { display: none !important; } }\n"}),(0,s.jsx)("div",{style:V.headerRow,children:(0,s.jsx)("div",{style:V.titleBlock})}),(0,s.jsxs)(tt,{title:"Malnutrition Screening Tool (MST)",onBack:l,onSave:H,onClear:function(){window.confirm("Clear the form?")&&(f(""),g(""),y(""),x(""),j(""),_(""),C(!1),N(!1),P(!1),E(!1),L(!1),R(""))},onSubmit:function(){var e={patient:{id:u,name:c},screeningDate:(new Date).toISOString(),weightLostYN:p,weightBand:m,customPounds:b,weightScore:F,appetiteStatus:v,appetiteScore:B,totalScore:z,riskCategory:W,actions:{initiateNutrition:k,orderConsult:A,monitorIntake:O,supplements:I,documentPlan:T},clinician:w,notes:S,nextRescreen:M};if(o)try{return void o(e)}catch(t){}H()},onPrint:function(){window.print()},children:[(0,s.jsxs)("div",{style:{marginTop:8,marginBottom:12},children:[(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)(Qe,{label:"Have you recently lost weight without trying?",value:p,options:[{label:"Select",value:""},{label:"No",value:"no"},{label:"Yes",value:"yes"}],onChange:e=>{f(e),"yes"!==e&&(g(""),y(""))}})}),"yes"===p&&(0,s.jsx)("div",{style:{marginTop:12},children:(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsx)(Qe,{label:"If yes \u2014 select weight lost (lbs)",value:m,options:[{label:"Select amount",value:""},{label:"2\u201313 lbs / 1-5 kg \u2014 1 point",value:"2-13"},{label:"14\u201323 lbs / 6-10 kg\u2014 2 points",value:"14-23"},{label:"24\u201333 lbs / 11- 15 kg \u2014 3 points",value:"24-33"},{label:"\u2265 34 lbs / > 15 kg \u2014 4 points",value:">=34"},{label:"Unsure \u2014 2 points",value:"unsure"}],onChange:g}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsx)("label",{style:{fontSize:13},children:"Or exact lbs (optional)"}),(0,s.jsx)(et,{type:"number",label:"Exact weight lost (lbs)",value:b,onChange:y})]}),(0,s.jsxs)("div",{style:{marginLeft:"auto",fontSize:13,color:"#6b7280"},children:["Weight score: ",(0,s.jsx)("strong",{children:F})]})]})})]}),(0,s.jsx)("hr",{style:{border:"none",borderTop:"1px solid #eef2f6",margin:"12px 0"}}),(0,s.jsxs)("div",{style:{marginTop:8,marginBottom:12},children:[(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)(Qe,{label:"Have you been eating poorly because of decreased appetite?",value:v,options:[{label:"Select",value:""},{label:"No \u2014 0 points",value:"no"},{label:"Yes \u2014 1 point",value:"yes"}],onChange:x})}),(0,s.jsxs)("div",{style:{marginTop:10,fontSize:13,color:"#6b7280"},children:["Appetite score: ",(0,s.jsx)("strong",{children:B})]})]}),(0,s.jsx)("hr",{style:{border:"none",borderTop:"1px solid #eef2f6",margin:"12px 0"}}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[(0,s.jsxs)("div",{style:V.scoreBox,children:[(0,s.jsx)("div",{style:{color:"#6b7280",fontSize:13},children:"Total MST Score"}),(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800},children:z}),(0,s.jsx)("div",{style:{fontSize:13,fontWeight:800,color:z>=2?"#b91c1c":"#065f46"},children:W})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{style:{fontSize:13,color:"#6b7280"},children:"Recommended action"}),(0,s.jsx)("div",{style:{marginTop:8,fontWeight:700,color:z>=2?"#b91c1c":"#065f46"},children:z>=2?"AT RISK \u2014 action required":"NOT AT RISK"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontWeight:600,display:"block",marginBottom:6},children:"Clinical Notes"}),(0,s.jsx)("textarea",{placeholder:"Enter additional clinical notes here\u2026",style:{width:"100%",minHeight:80,padding:"10px 12px",borderRadius:6,border:"1px solid #d1d5db",fontSize:14,resize:"vertical"}})]})})]})]})}(t)},NRS:function(e){let{onSave:t,assessmentName:n="NRS",initialFormData:r=null}=e;const[a,o]=(0,i.useState)(r||{bmiBelow20_5:"",weightLoss3Months:"",reducedIntake:"",severeIllness:"",nutStatus:"",diseaseSeverity:"",age:""}),l={marginTop:6,padding:"8px 10px",background:"#fafafa",border:"1px solid #ddd",borderRadius:6,fontSize:13,lineHeight:1.4,color:"#444"},c=(e,t)=>o(n=>je(je({},n),{},{[e]:t})),d="yes"===a.bmiBelow20_5||"yes"===a.weightLoss3Months||"yes"===a.reducedIntake||"yes"===a.severeIllness,u=Number(a.nutStatus||0)+Number(a.diseaseSeverity||0),h=Number(a.age)>=70?1:0,p=d?u+h:0,f=p>=3?"Nutritionally At-Risk \u2014 Care Plan Required":"Not At-Risk \u2014 Weekly Re-Screening",m={background:"#fff",border:"1px solid #e5e5e5",padding:"14px 16px",borderRadius:8,marginBottom:16},g={fontWeight:600,marginBottom:6,display:"block",fontSize:14},b={marginBottom:10,fontSize:14,display:"flex",justifyContent:"space-between"};return(0,s.jsxs)("div",{style:{padding:16,fontFamily:"Inter, Arial"},children:[(0,s.jsx)("h2",{style:{marginBottom:12},children:"NRS-2002 Screening Tool"}),(0,s.jsxs)("div",{style:m,children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"Table 1 \u2014 Initial Screening"}),[["bmiBelow20_5","Is BMI < 20.5?"],["weightLoss3Months","Has the patient lost weight in last 3 months?"],["reducedIntake","Reduced dietary intake in last week?"],["severeIllness","Is patient severely ill (e.g., ICU)?"]].map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{style:b,children:[(0,s.jsx)("span",{children:n}),(0,s.jsxs)("div",{style:{marginTop:4,justifyContent:"space-around",display:"flex"},children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",checked:"yes"===a[t],onChange:()=>c(t,"yes")})," ","Yes"]}),(0,s.jsxs)("label",{style:{marginLeft:16},children:[(0,s.jsx)("input",{type:"radio",checked:"no"===a[t],onChange:()=>c(t,"no")})," ","No"]})]})]},t)}),!d&&(0,s.jsx)("p",{style:{marginTop:10,color:"#666",fontSize:13},children:"All answers are \u201cNo\u201d \u2192 Re-screen weekly."})]}),d&&(0,s.jsxs)("div",{style:m,children:[(0,s.jsx)("h3",{style:{marginTop:0},children:"Table 2 \u2014 Final Screening"}),(0,s.jsx)("label",{style:g,children:"Impaired Nutritional Status"}),(0,s.jsxs)("select",{style:{width:"100%",padding:8,borderRadius:6},value:a.nutStatus,onChange:e=>c("nutStatus",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"0",children:"Score 0 \u2014 Normal"}),(0,s.jsx)("option",{value:"1",children:"Score 1 \u2014 Mild"}),(0,s.jsx)("option",{value:"2",children:"Score 2 \u2014 Moderate"}),(0,s.jsx)("option",{value:"3",children:"Score 3 \u2014 Severe"})]}),a.nutStatus&&(0,s.jsxs)("div",{style:l,children:["0"===a.nutStatus&&"Normal nutritional status.","1"===a.nutStatus&&"Weight loss >5% in 3 months OR food intake 50\u201375% of normal requirement in preceding week.","2"===a.nutStatus&&"Weight loss >5% in 2 months OR BMI 18.5\u201320.5 with impaired general condition OR food intake 25\u201360% of normal requirement in preceding week.","3"===a.nutStatus&&"Weight loss >5% in 1 month (>15% in 3 months) OR BMI <18.5 with impaired general condition OR food intake 0\u201325% of normal requirement in preceding week."]}),(0,s.jsx)("label",{style:je(je({},g),{},{marginTop:14}),children:"Severity of Disease (\u2191 nutritional requirements)"}),(0,s.jsxs)("select",{style:{width:"100%",padding:8,borderRadius:6},value:a.diseaseSeverity,onChange:e=>c("diseaseSeverity",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"0",children:"Score 0 \u2014 Normal"}),(0,s.jsx)("option",{value:"1",children:"Score 1 \u2014 Mild"}),(0,s.jsx)("option",{value:"2",children:"Score 2 \u2014 Moderate"}),(0,s.jsx)("option",{value:"3",children:"Score 3 \u2014 Severe"})]}),a.diseaseSeverity&&(0,s.jsxs)("div",{style:l,children:["0"===a.diseaseSeverity&&"Normal nutritional requirements.","1"===a.diseaseSeverity&&"Hip fracture, chronic patients with acute complications (cirrhosis, COPD), chronic hemodialysis, diabetes, oncology.","2"===a.diseaseSeverity&&"Major abdominal surgery, stroke, severe pneumonia, hematologic malignancy.","3"===a.diseaseSeverity&&"Head injury, bone marrow transplantation, intensive care patients (APACHE >10)."]}),(0,s.jsx)("label",{style:je(je({},g),{},{marginTop:14}),children:"Patient Age"}),(0,s.jsx)("input",{type:"number",value:a.age,onChange:e=>c("age",e.target.value),style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ccc"}}),(0,s.jsxs)("div",{style:{marginTop:16,padding:12,background:"#f7f9ff",borderRadius:6,border:"1px solid #d8e2ff"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Total Score:"})," ",p]}),(0,s.jsxs)("div",{style:{marginTop:4},children:[(0,s.jsx)("strong",{children:"Status:"})," ",f]})]})]}),(0,s.jsx)("button",{onClick:()=>{t&&t(n,a)},style:{padding:"10px 20px",background:"#0c3161",color:"white",borderRadius:6,border:"none",cursor:"pointer",marginTop:12,fontSize:15},children:"Save NRS-2002 Assessment"})]})},"Growth Chart":function(e){let{ageMonths:t,weightKg:n,percentile:i,interpretation:r,onChange:a}=e;return(0,s.jsxs)("div",{style:lt.container,children:[(0,s.jsx)("div",{style:lt.header,children:"Growth Monitoring \u2013 Weight for Age (Girls)"}),(0,s.jsx)("div",{style:lt.inputCard,children:(0,s.jsxs)("div",{style:lt.grid,children:[(0,s.jsx)(st,{label:"Age (months)",value:t,onChange:e=>a("ageMonths",e)}),(0,s.jsx)(st,{label:"Weight (kg)",value:n,onChange:e=>a("weightKg",e)}),(0,s.jsxs)("div",{style:lt.field,children:[(0,s.jsx)("label",{style:lt.label,children:"Percentile"}),(0,s.jsxs)("select",{style:lt.input,value:i||"",onChange:e=>{const t=e.target.value;a("percentile",t),a("interpretation",function(e){if(!e)return"";const t=Number(e);return t<3?"Severe underweight":t>=3&&t<15?"Underweight / At risk":t>=15&&t<=85?"Normal growth":t>85&&t<=97?"Overweight":"Obese"}(t))},children:[(0,s.jsx)("option",{value:"",children:"Select percentile"}),ot.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{style:lt.field,children:[(0,s.jsx)("label",{style:lt.label,children:"Interpretation"}),(0,s.jsx)("input",{style:je(je({},lt.input),{},{background:"#eef2ff",fontWeight:600,color:"#1e3a8a"}),value:r||"",readOnly:!0})]})]})}),(0,s.jsxs)("div",{style:lt.graphCard,children:[(0,s.jsx)("div",{style:lt.graphHeader,children:"WHO Child Growth Standards \u2013 Weight-for-Age (Girls, 0\u20135 years)"}),(0,s.jsx)("img",{src:"../../../five.png",alt:"WHO Weight for Age Girls 0-5 years",style:lt.graphImage}),(0,s.jsx)("div",{style:lt.caption,children:"Source: World Health Organization \u2013 Child Growth Standards"})]})]})},BIA:function(e){let{data:t={},onChange:n}=e;const i=(e,i)=>null===n||void 0===n?void 0:n(je(je({},t),{},{[e]:i}));return(0,s.jsxs)("div",{style:at.container,children:[(0,s.jsx)("h2",{style:at.title,children:"Body Composition Assessment (SECA mBCA)"}),(0,s.jsxs)(nt,{title:"Attached SECA / Body Composition Report",children:[(0,s.jsx)("label",{style:at.label,children:"Upload SECA mBCA PDF Report"}),(0,s.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{var t;return i("uploadedReport",(null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},style:at.fileInput}),t.uploadedReport&&(0,s.jsxs)("div",{style:at.filePreview,children:["\ud83d\udcc4 ",t.uploadedReport.name]})]}),(0,s.jsx)(nt,{title:"Anthropometry",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Weight (kg)",value:t.weight,onChange:e=>i("weight",e)}),(0,s.jsx)(rt,{label:"Height (cm)",value:t.height,onChange:e=>i("height",e)}),(0,s.jsx)(rt,{label:"BMI (kg/m\xb2)",value:t.bmi,onChange:e=>i("bmi",e)})]})}),(0,s.jsx)(nt,{title:"Fat Composition",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Fat Mass (kg)",value:t.fatMass,onChange:e=>i("fatMass",e)}),(0,s.jsx)(rt,{label:"Fat Mass Percentage (FM%)",value:t.fatMassPercent,onChange:e=>i("fatMassPercent",e)}),(0,s.jsx)(rt,{label:"Fat Mass Index (FMI kg/m\xb2)",value:t.fmi,onChange:e=>i("fmi",e)}),(0,s.jsx)(rt,{label:"Fat Free Mass Index (FFMI kg/m\xb2)",value:t.fmi,onChange:e=>i("fmi",e)}),(0,s.jsx)(rt,{label:"Fat Free Mass (kg)",value:t.fmi,onChange:e=>i("fmi",e)}),(0,s.jsx)(rt,{label:"Visceral Adipose Tissue (VAT L)",value:t.vat,onChange:e=>i("vat",e)}),(0,s.jsx)(rt,{label:"Waist Circumference (cm)",value:t.waistCircumference,onChange:e=>i("waistCircumference",e)})]})}),(0,s.jsx)(nt,{title:"Muscle Composition",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Skeletal Muscle Mass (SMM kg)",value:t.smm,onChange:e=>i("smm",e)}),(0,s.jsx)(rt,{label:"Skeletal Muscle Mass Percentage(%)",value:t.smmPercent,onChange:e=>i("smmPercent",e)}),(0,s.jsx)(rt,{label:"Skeletal Muscle Index by MRI (SMI kg/m\xb2)",value:t.smi,onChange:e=>i("smi",e)}),(0,s.jsx)(rt,{label:"Skeletal Muscle Mss Over Age (SMM)",value:t.smi,onChange:e=>i("smi",e)}),(0,s.jsx)(rt,{label:"Phase Angle (PhA)",value:t.smi,onChange:e=>i("smi",e)}),(0,s.jsx)(rt,{label:"Appendicular Skeletal Muscle Mass (kg)",value:t.appendicularSmm,onChange:e=>i("appendicularSmm",e)}),(0,s.jsx)(rt,{label:"Appendicular Skeletal Muscle Index by DXA - ASMI (kg/m\xb2)",value:t.asmi,onChange:e=>i("asmi",e)})]})}),(0,s.jsx)(nt,{title:"Water Balance",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Total Body Water (TBW %)",value:t.tbwPercent,onChange:e=>i("tbwPercent",e)}),(0,s.jsx)(rt,{label:"Extracellular Water (ECW %)",value:t.ecwPercent,onChange:e=>i("ecwPercent",e)}),(0,s.jsx)(rt,{label:"Water Ratio (ECW/TBW%)",value:t.ecwTbwRatio,onChange:e=>i("ecwTbwRatio",e)})]})}),(0,s.jsx)(nt,{title:"Segmental Skeletal Muscle Mass",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Right Arm (kg)",value:t.phaseAngle,onChange:e=>i("phaseAngle",e)}),(0,s.jsx)(rt,{label:"Left Arm (kg)",value:t.phaseAnglePercentile,onChange:e=>i("phaseAnglePercentile",e)}),(0,s.jsx)(rt,{label:"Torso (kg)",value:t.resistance,onChange:e=>i("resistance",e)}),(0,s.jsx)(rt,{label:"Right leg (kg)",value:t.reactance,onChange:e=>i("reactance",e)}),(0,s.jsx)(rt,{label:"Left leg (kg)",value:t.reactance,onChange:e=>i("reactance",e)}),(0,s.jsx)(rt,{label:"Total Skeletal Muscle Mass(kg)",value:t.reactance,onChange:e=>i("reactance",e)})]})}),(0,s.jsx)(nt,{title:"Bioelectrical Impedance Vector Analysis - BIVA",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Resistance",value:t.phaseAngle,onChange:e=>i("phaseAngle",e)}),(0,s.jsx)(rt,{label:"Reactance:",value:t.phaseAnglePercentile,onChange:e=>i("phaseAnglePercentile",e)})]})}),(0,s.jsx)(nt,{title:"Energy Expenditure",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Resting Energy Expenditure-REE (kcal/day)",value:t.ree,onChange:e=>i("ree",e)}),(0,s.jsx)(rt,{label:"Total Energy Expenditure-TEE (kcal/day)",value:t.tee,onChange:e=>i("tee",e)}),(0,s.jsx)(rt,{label:"Energy expenditure - REE / TEE",value:t.tee,onChange:e=>i("tee",e)}),(0,s.jsx)(rt,{label:"Physical Activity Level (PAL)",value:t.pal,onChange:e=>i("pal",e)})]})}),(0,s.jsx)(nt,{title:"TRU Body Score",children:(0,s.jsxs)(it,{children:[(0,s.jsx)(rt,{label:"Muscle Score",value:t.muscleScore,onChange:e=>i("muscleScore",e)}),(0,s.jsx)(rt,{label:"Fat Score",value:t.fatScore,onChange:e=>i("fatScore",e)}),(0,s.jsx)(rt,{label:"Overall TRU Body Score",value:t.truBodyScore,onChange:e=>i("truBodyScore",e)})]})})]})}};function dt(e){let{selected:t,onSave:n,onBack:i,initialFormData:r}=e;if(!t)return(0,s.jsx)("p",{children:"Select an assessment"});const a=ct[t];if(!a)return(0,s.jsxs)("p",{children:["No component for ",t]});return(0,s.jsx)(a,{onSave:(e,t)=>n&&n(e,t),onSubmit:e=>{n&&n(t,e)},assessmentName:t,initialFormData:r,onBack:i})}function ut(e){if(!e)return"";var t=e.split("\u2013");return t&&0!==t.length||(t=e.split("-")),t&&0!==t.length?t[0].trim():e.trim()}function ht(e){var t=e.patient||{},n=e.department||"services",r=e.onBack||function(){};const a=(e,t)=>te(n=>je(je({},n),{},{[e]:t})),o={input:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #ccc"},readonlyInput:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #ccc",background:"#eee",color:"#333"},textarea:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #ccc"},small:{fontSize:12,color:"#555"}},l=["Diabetic","Low Salt","Low Fat","Low Purine","High Protein","Low Protein","RTF Regime","Addons (Supplements)","Others","Special Diet","Special Request"];var[c,d]=(0,i.useState)(""),[u,h]=(0,i.useState)([]),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),[v,x]=(0,i.useState)(!1),[w,j]=(0,i.useState)(!1),[S,_]=(0,i.useState)(!1);const k=(0,i.useRef)(null),[C,A]=(0,i.useState)(!1),[N,O]=(0,i.useState)([]),[P,I]=(0,i.useState)(""),[E,T]=(0,i.useState)(""),[L,M]=(0,i.useState)(""),[R,D]=(0,i.useState)(""),[F,B]=(0,i.useState)(""),[z,W]=(0,i.useState)(!1),[U,q]=(0,i.useState)(""),[H,V]=(0,i.useState)(""),[G,Z]=(0,i.useState)("");(0,i.useEffect)(()=>{function e(e){k.current&&(k.current.contains(e.target)||A(!1))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);var[Y,K]=(0,i.useState)(null),[J,X]=(0,i.useState)("subjective"),[$,Q]=(0,i.useState)(null);const[ee,te]=(0,i.useState)({});var[ne,ie]=(0,i.useState)({}),[re,ae]=(0,i.useState)([]),[oe,se]=(0,i.useState)({}),[le,ce]=(0,i.useState)({}),[de,ue]=(0,i.useState)([]),[he,pe]=(0,i.useState)({}),[fe,me]=(0,i.useState)([]),[ge,be]=(0,i.useState)(null),[ye,ve]=(0,i.useState)([]),[xe,we]=(0,i.useState)(!1),[Se,_e]=(0,i.useState)([]),[ke,Ce]=(0,i.useState)(null),[Ae,Ne]=(0,i.useState)(null),[Pe,Ie]=(0,i.useState)(null),[Ee,Te]=(0,i.useState)(!1),Le=c&&Ge&&Ge[c]?Ge[c][n]:null,Me=Le&&Le.ICF?Object.keys(Le.ICF):[],Re=(0,i.useMemo)(function(){var e={ICF:{}};if(!He||!Ge)return e;for(var t=0;t<He.length;t++){var i=He[t],r=Ge&&Ge[i]?Ge[i][n]:null;if(r&&r.ICF)for(var a=Object.keys(r.ICF),o=0;o<a.length;o++){var s=a[o];e.ICF[s]||(e.ICF[s]=r.ICF[s])}}return e},[He,Ge,n]),De=Le||Re,Fe=(0,i.useMemo)(function(){for(var e={},t=Re&&Re.ICF?Re.ICF:{},n=Object.keys(t||{}),i=0;i<n.length;i++)for(var r=t[n[i]],a=r&&r.ICHI?r.ICHI:[],o=0;o<a.length;o++)for(var s=(a[o]||""||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),l=0;l<s.length;l++){var c=s[l],d=(c.split("\u2013")[0]||c.split("-")[0]||"").trim();d&&!e[d]&&(e[d]=c)}return e},[Re]),Be=((0,i.useMemo)(function(){if(!Me||0===Me.length)return[];if(!u||0===u.length)return[];for(var e=[],t=0;t<Me.length;t++){var n=Me[t];-1!==u.indexOf(n)&&e.push(n)}return e},[Me,u]),Y&&Le&&Le.ICF?Le.ICF[Y]:null),ze=Y?ut(Y):null,We=ze&&Ze?Ze[ze]:null,Ue="patient_"+(t&&t.id?t.id:"anon")+"_icf_map_v1",qe=Ue+"_submissions_v1",Ve=Ue+"_final_v1",Ye=Ue+"_is_followup_v1";(0,i.useEffect)(function(){try{var e=localStorage.getItem(Ue);if(e){var t=JSON.parse(e);t&&"object"===typeof t&&pe(t)}}catch(n){console.warn("Failed to load persisted icf map:",n),Ce("Failed to load persisted icf map: "+(n&&n.message?n.message:String(n)))}d(""),h([]),f(!1),K(null),Q(null),X("subjective")},[Ue,t&&t.id]),(0,i.useEffect)(function(){try{localStorage.setItem(Ue,JSON.stringify(he))}catch(e){console.warn("Failed to persist icfSavedMap:",e),Ce("Failed to persist icfSavedMap: "+(e&&e.message?e.message:String(e)))}},[he,Ue]),(0,i.useEffect)(function(){try{var e=localStorage.getItem(qe);if(e){var t=JSON.parse(e);Array.isArray(t)&&(me(t),t.length>0&&be(t.length-1))}}catch(n){console.warn("Failed to load submissions:",n),Ce("Failed to load submissions: "+(n&&n.message?n.message:String(n)))}},[qe,t&&t.id]),(0,i.useEffect)(function(){try{localStorage.setItem(qe,JSON.stringify(fe)),fe&&fe.length>0?be(fe.length-1):be(null),ve([])}catch(e){console.warn("Failed to persist submissions:",e),Ce("Failed to persist submissions: "+(e&&e.message?e.message:String(e)))}},[fe,qe]),(0,i.useEffect)(function(){try{var e=localStorage.getItem(Ve);if(e){var t=JSON.parse(e);Ie(t)}else Ie(null);localStorage.getItem(Ye)}catch(n){console.warn("Failed to load final/followup flags:",n)}},[Ve,Ye,t&&t.id]),(0,i.useEffect)(function(){if(!Be||!ze)return ie({}),ae([]),se({}),ce({}),void ue([]);for(var e={},t=Be.ICHI||[],n=0;n<t.length;n++)for(var i=(t[n]||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),r=0;r<i.length;r++){var a=i[r],o=(a.split("\u2013")[0]||a.split("-")[0]||"").trim();o&&(e[o]="grey")}var s=he&&he[ze]?he[ze]:null;s?(ie(s.ichiStatus||e),ae(s.savedAssessments||[]),se(s.formDataByAssessment||{}),ce(s.unboldedApplicability||{}),ue(s.manualAddedIchi||[])):(ie(e),ae([]),se({}),ce({}),ue([])),Q(null)},[Be,ze]),(0,i.useEffect)(function(){ze&&pe(function(e){var t=Object.assign({},e);return t[ze]={ichiStatus:ne,savedAssessments:re,formDataByAssessment:oe,unboldedApplicability:le,manualAddedIchi:de},t})},[ne,re,oe,le,de,ze]);var Ke=(0,i.useMemo)(function(){for(var e=Object.keys(ne||{}),t=[],n=0;n<e.length;n++){var i=e[n];"bold"!==ne[i]&&t.push(i)}return t},[ne]);function Je(e,t){ce(function(n){return Object.assign({},n,{[e]:t})})}var Xe=(0,i.useMemo)(function(){if(!Be)return de||[];for(var e=new Set(de||[]),t=0;t<(re||[]).length;t++)for(var n=re[t],i=Be.Relations&&Be.Relations[n]?Be.Relations[n]:[],r=0;r<i.length;r++){var a=i[r],o=a&&(a.split("\u2013")[0]||a.split("-")[0]||"").trim();o&&e.add(o)}return Array.from(e)},[Be,re,de]);function $e(){ye&&0!==ye.length?(ue(function(e){var t=new Set(e||[]);return ye.forEach(function(e){t.add(e)}),Array.from(t)}),ie(function(e){var t=Object.assign({},e);return ye.forEach(function(e){t[e]="bold"}),t}),ze&&pe(function(e){var t=Object.assign({},e),n=t[ze]||{ichiStatus:{},savedAssessments:[],formDataByAssessment:{},unboldedApplicability:{},manualAddedIchi:[]},i=new Set(n.manualAddedIchi||[]);ye.forEach(function(e){i.add(e)}),n.manualAddedIchi=Array.from(i);var r=Object.assign({},n.ichiStatus||{});return ye.forEach(function(e){r[e]="bold"}),n.ichiStatus=r,t[ze]=n,t}),alert(ye.length+" ICHI added to Manual additions and marked bold."),ve([])):alert("Select at least one Left ICHI to add.")}var Qe=(0,i.useMemo)(function(){var e=new Set,t=[];if(!De||!De.ICF)return t;for(var n=Object.keys(De.ICF),i=0;i<n.length;i++)for(var r=n[i],a=De.ICF[r],o=a&&a.Assessments&&a.Assessments[J]?a.Assessments[J]:[],s=0;s<o.length;s++){var l=o[s];e.has(l)||(e.add(l),t.push(l))}return t},[De,J]);function et(){if(!Pe||!Pe.when)return!1;var e=new Date(Pe.when).getTime();return Date.now()-e<=216e5}return(0,i.useEffect)(function(){Pe&&localStorage.setItem(Ye,JSON.stringify({followup:!0,at:Pe.when}))},[Pe,Ye]),(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:r,style:{marginRight:12},children:"\u2190 Back"}),(0,s.jsx)("strong",{style:{fontSize:16},children:t&&t.name?t.name:"Patient"}),Pe?(0,s.jsx)("span",{style:{marginLeft:10,color:"#2b7a0b"},children:" \u2014 Finalised"}):null,Ee?(0,s.jsx)("span",{style:{marginLeft:10,color:"#a25b00"},children:" \u2014 Edit mode"}):null]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[Pe?(0,s.jsxs)(s.Fragment,{children:[et()?(0,s.jsx)("button",{onClick:function(){if(!Pe)return Te(!0),void alert("Edit mode enabled for this patient.");et()?(Te(!Ee),Ee||alert("Edit mode enabled. Save your changes. When finished, you may 'Finalise' again.")):alert("Edit window closed (more than 6 hours since final submission). Editing not allowed.")},style:{padding:"8px 12px",borderRadius:6,background:Ee?"#ffc107":"#28a745",color:"#fff"},children:Ee?"Exit Edit":"Edit"}):(0,s.jsx)("button",{title:"Edit window closed",disabled:!0,style:{padding:"8px 12px",borderRadius:6,background:"#ddd",color:"#888"},children:"Edit (closed)"}),(0,s.jsx)("button",{onClick:function(){var e="\n      <html>\n      <head>\n        <title>Patient Summary - ".concat(t.name||"Patient",'</title>\n        <style>\n          body { font-family: Arial, Helvetica, sans-serif; padding: 24px; color: #111 }\n          h1 { margin-top:0; }\n          .section { margin-bottom: 18px; }\n          table { width:100%; border-collapse: collapse; margin-top:8px; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align:left; vertical-align: top; }\n          th { background: #f6f6f6; }\n        </style>\n      </head>\n      <body>\n        <h1>Patient Summary</h1>\n        <div class="section"><strong>Name:</strong> ').concat(t.name||""," <br/><strong>ID:</strong> ").concat(t.id||""," <br/><strong>Department:</strong> ").concat(n,'</div>\n\n        <div class="section">\n          <h3>Final status</h3>\n          <div>Finalised: ').concat(Pe?"YES":"NO","</div>\n          ").concat(Pe?"<div>Finalised at: ".concat(new Date(Pe.when).toLocaleString(),"</div>"):"",'\n        </div>\n\n        <div class="section">\n          <h3>Submissions</h3>\n          ').concat(fe&&fe.length>0?"\n            <table>\n              <thead><tr><th>Time</th><th>Assessment</th><th>ICFs</th><th>ICHI (relations)</th><th>Left ICHI</th></tr></thead>\n              <tbody>\n                ".concat(fe.map(e=>"<tr>\n                  <td>".concat(new Date(e.timestamp).toLocaleString(),"</td>\n                  <td>").concat(e.assessmentName,"</td>\n                  <td>").concat((e.icfShorts||[]).join(", "),"</td>\n                  <td>").concat((e.ichiFullLabels||e.ichi||[]).join(", "),"</td>\n                  <td>").concat((e.leftIchiFullLabels||[]).join(", "),"</td>\n                </tr>")).join(""),"\n              </tbody>\n            </table>"):"<div>No submissions recorded.</div>",'\n        </div>\n\n        <div class="section">\n          <h3>Manual additions</h3>\n          ').concat(de&&de.length>0?"<ul>".concat(de.map(e=>"<li>".concat(e," \u2014 ").concat(Fe[e]||"","</li>")).join(""),"</ul>"):"<div>None</div>",'\n        </div>\n\n        <div class="section">\n          <h3>Per-ICF saved state</h3>\n          ').concat(Object.keys(he||{}).length>0?"<pre>".concat(JSON.stringify(he,null,2),"</pre>"):"<div>None</div>",'\n        </div>\n\n        <div style="margin-top:24px;"><em>Generated at ').concat((new Date).toLocaleString(),"</em></div>\n      </body>\n      </html>\n    "),i=window.open("","_blank","noopener,noreferrer");i?(i.document.open(),i.document.write(e),i.document.close(),setTimeout(function(){try{i.focus(),i.print()}catch(e){console.warn("print error",e)}},400)):alert("Popup blocked. Allow popups or use the browser print/save functionality.")},style:{padding:"8px 12px",borderRadius:6,background:"#6c757d",color:"#fff"},children:"Patient Summary (PDF)"})]}):(0,s.jsx)("button",{onClick:function(){if(window.confirm("Finalise patient submission? After finalising, editing will be locked after 6 hours. Proceed?")){var e={when:(new Date).toISOString()};Ie(e),localStorage.setItem(Ve,JSON.stringify(e)),localStorage.setItem(Ye,JSON.stringify({followup:!0,at:e.when})),alert("Patient finalised. You can edit for up to 6 hours from now using the Edit button.")}},style:{padding:"8px 12px",borderRadius:6,background:"#0050ff",color:"#fff"},children:"Final submission"}),(0,s.jsx)("button",{onClick:function(){try{localStorage.removeItem(Ue),localStorage.removeItem(qe),localStorage.removeItem(Ve),localStorage.removeItem(Ye),pe({}),ie({}),ae([]),se({}),ce({}),ue([]),h([]),me([]),_e([]),Ce(null),Ne("Cleared persisted data"),Ie(null),Te(!1),alert("All persisted data for this patient cleared.")}catch(e){console.warn("clear error",e),Ce("clear error: "+(e&&e.message?e.message:String(e)))}},title:"Clear all persisted data for this patient",children:"Clear saved (dev)"})]})]}),(0,s.jsx)("hr",{style:{margin:"12px 0"}}),(0,s.jsxs)("div",{style:{marginBottom:12,position:"relative"},ref:k,children:[(0,s.jsx)("p",{children:"Doctors Selected ICD: Stroke"}),(0,s.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:6},children:"Select ICD"}),(0,s.jsxs)("div",{onClick:()=>A(e=>!e),style:{border:"1px solid #ccc",padding:"8px 10px",borderRadius:6,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff",minHeight:44},children:[(0,s.jsx)("div",{style:{color:"#333"},children:N&&N.length>0?1===N.length?N[0]:"".concat(N.length," selected"):(0,s.jsx)("em",{style:{color:"#666"},children:"Select ICD(s)"})}),(0,s.jsx)("div",{style:{fontSize:12,color:"#666"},children:C?"\u25b2":"\u25bc"})]}),C&&(0,s.jsxs)("div",{style:{position:"absolute",top:52,left:0,width:360,zIndex:1e3,border:"1px solid #ddd",background:"#fff",boxShadow:"0 6px 18px rgba(0,0,0,0.08)",borderRadius:6,padding:10,maxHeight:320,overflow:"auto"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,s.jsx)("button",{type:"button",onClick:function(){O(He?He.slice():[])},style:{padding:"6px 8px",borderRadius:6},children:"Select all"}),(0,s.jsx)("button",{type:"button",onClick:function(){O([])},style:{padding:"6px 8px",borderRadius:6},children:"Clear"})]}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:He&&He.map(e=>{const t=N&&-1!==N.indexOf(e);return(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",padding:"6px 4px",borderRadius:4},children:[(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:()=>function(e){O(t=>(t||(t=[]),-1!==t.indexOf(e)?t.filter(t=>t!==e):t.concat([e])))}(e)}),(0,s.jsx)("span",{style:{fontSize:14},children:e})]},e)})}),(0,s.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("small",{style:{color:"#666"},children:N&&N.length>0?"".concat(N.length," selected"):"None selected"}),(0,s.jsx)("button",{type:"button",onClick:()=>A(!1),style:{padding:"6px 8px",borderRadius:6},children:"Done"})]})]}),(0,s.jsxs)("div",{style:{marginTop:8,fontSize:13,color:"#333"},children:["Selected: ",0===N.length?(0,s.jsx)("em",{children:"None"}):N.join(", ")]})]}),De&&(0,s.jsxs)("div",{style:{marginTop:8},children:[(0,s.jsxs)("div",{style:{marginBottom:10},children:[(0,s.jsx)("button",{onClick:()=>X("subjective"),style:{marginRight:8,padding:"8px 12px",borderRadius:6,background:"subjective"===J?"#007bff":"#fff",color:"subjective"===J?"#fff":"#000"},children:"Assessments"}),(0,s.jsx)("button",{onClick:()=>X("objective"),style:{padding:"8px 12px",borderRadius:6,background:"objective"===J?"#007bff":"#fff",color:"objective"===J?"#fff":"#000"},children:"Assessments (Equipment)"})]}),(0,s.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:0===Qe.length?(0,s.jsx)("div",{style:{color:"#666"},children:"No assessments available for the selected tab."}):Qe.map(function(e){return(0,s.jsx)("button",{onClick:()=>Q(e),style:{padding:"8px 10px",borderRadius:6,background:$===e?"#0c3161ff":"#007bff",border:$===e?"2px solid #333":"1px solid #007bff",cursor:"pointer",color:"#fff"},children:e},e)})}),(0,s.jsx)("div",{children:Pe&&!Ee?(0,s.jsxs)("div",{style:{padding:12,borderRadius:6,background:"#fff3cd",border:"1px solid #ffeeba"},children:[(0,s.jsx)("strong",{children:"Patient finalised \u2014 editing locked."}),(0,s.jsx)("div",{style:{marginTop:8},children:"You cannot save new assessments. Use Patient Summary to export or wait for an admin to reopen editing."})]}):(0,s.jsx)(dt,{selected:$,onBack:()=>Q(null),onSave:function(e,t){if(Pe&&!Ee)return Ce("Cannot save: patient finalized. Edit window closed or editing disabled."),void alert("Patient has been finalised. Editing is locked. Use 'Patient Summary' or ask an admin to reopen editing.");Ce(null),Ne("Attempting save: "+e),console.log("[PatientDetails] saveAssessment called:",e,t);try{if(!e)return console.warn("[saveAssessment] no assessmentName provided"),void Ce("saveAssessment called with empty assessmentName");for(var i=De&&De.ICF?Object.keys(De.ICF):[],r=[],a=0;a<i.length;a++){var o=i[a],s=De&&De.ICF?De.ICF[o]:null;-1!==(s&&s.Assessments&&s.Assessments[J]?s.Assessments[J]:[]).indexOf(e)&&r.push(o)}if(!r||0===r.length){if(!(Y&&Le&&Le.ICF&&Le.ICF[Y]))return console.warn("[saveAssessment] no affected ICFs found and no selectedICF fallback"),void Ce("No affected ICFs found for "+e);r=[Y]}var l=new Set,d=[],u=[],h=new Set,p={};N&&N.length>0&&N.forEach(function(e){l.add(e)});for(var f=0;f<r.length;f++){var m=r[f],g=null;De&&De.ICF&&De.ICF[m]&&(g=De.ICF[m]);var b=ut(m);b&&-1===d.indexOf(b)&&d.push(b),-1===u.indexOf(m)&&u.push(m);for(var y=He||[],v=0;v<y.length;v++){var x=y[v],w=Ge&&Ge[x]?Ge[x][n]:null;w&&w.ICF&&w.ICF[m]&&(l.add(x),g||(g=w.ICF[m]))}if(0===l.size&&c){var j=Ge&&Ge[c]?Ge[c][n]:null;j&&j.ICF&&j.ICF[m]&&l.add(c)}for(var S=g&&g.Relations&&g.Relations[e]?g.Relations[e]:[],_=0;_<S.length;_++){var k=S[_],C=k&&(k.split("\u2013")[0]||k.split("-")[0]||"").trim();if(C){h.add(C);for(var A=g&&g.ICHI?g.ICHI:[],O=0;O<A.length;O++)for(var P=(A[O]||""||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),I=0;I<P.length;I++){var E=P[I];0===E.indexOf(C)&&(p[C]||(p[C]=new Set),p[C].add(E))}}}if(g&&g.ICHI)for(var T=g.ICHI||[],L=0;L<T.length;L++)for(var M=(T[L]||""||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),R=0;R<M.length;R++){var D=M[R],F=(D.split("\u2013")[0]||D.split("-")[0]||"").trim();F&&(p[F]||(p[F]=new Set),p[F].add(D))}}var B=Array.from(l);0===B.length&&c&&(B=[c]);for(var z=Array.from(h),W=[],U=0;U<z.length;U++){var q=z[U],H=p[q];H&&H.size>0?H.forEach(function(e){-1===W.indexOf(e)&&W.push(e)}):-1===W.indexOf(q)&&W.push(q)}for(var V=Object.keys(p||{}).filter(function(e){return-1===z.indexOf(e)}),G=[],Z=0;Z<V.length;Z++){var K=V[Z],X=p[K];X&&X.size>0?X.forEach(function(e){-1===G.indexOf(e)&&G.push(e)}):-1===G.indexOf(K)&&G.push(K)}if(pe(function(i){for(var a=Object.assign({},i),o=0;o<r.length;o++){var s=r[o],l=De&&De.ICF?De.ICF[s]:null;if(!l)for(var c=He||[],d=0;d<c.length;d++){var u=c[d],h=Ge&&Ge[u]?Ge[u][n]:null;if(h&&h.ICF&&h.ICF[s]){l=h.ICF[s];break}}var p=ut(s),f=a[p]||{ichiStatus:{},savedAssessments:[],formDataByAssessment:{},unboldedApplicability:{},manualAddedIchi:[]};if(!f.ichiStatus||0===Object.keys(f.ichiStatus).length){for(var m={},g=l&&l.ICHI?l.ICHI:[],b=0;b<g.length;b++)for(var y=(g[b]||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),v=0;v<y.length;v++){var x=y[v],w=(x.split("\u2013")[0]||x.split("-")[0]||"").trim();w&&(m[w]=f.ichiStatus&&f.ichiStatus[w]?f.ichiStatus[w]:"grey")}f.ichiStatus=Object.assign({},m,f.ichiStatus||{})}for(var j=l&&l.Relations&&l.Relations[e]?l.Relations[e]:[],S=[],_=0;_<j.length;_++){var k=j[_],C=k&&(k.split("\u2013")[0]||k.split("-")[0]||"").trim()||null;C&&S.push(C)}for(var A=Object.assign({},f.ichiStatus),N=0;N<S.length;N++)A[S[N]]="bold";var O=[].concat(f.savedAssessments||[],[e]),P=Array.from(new Set(O)),I=Object.assign({},f.formDataByAssessment||{});I[e]="undefined"!==typeof t&&null!==t?t:f.formDataByAssessment?f.formDataByAssessment[e]:{},a[p]=Object.assign({},f,{ichiStatus:A,savedAssessments:P,formDataByAssessment:I})}return a}),Y){var $=Le&&Le.ICF?Le.ICF[Y]:null;$||Re&&Re.ICF&&Re.ICF[Y]&&($=Re.ICF[Y]);for(var Q=$&&$.Relations&&$.Relations[e]?$.Relations[e]:[],ee=[],te=0;te<Q.length;te++){var ne=Q[te],re=ne&&(ne.split("\u2013")[0]||ne.split("-")[0]||"").trim()||null;re&&ee.push(re)}ee.length>0&&ie(function(e){for(var t=Object.assign({},e),n=0;n<ee.length;n++)t[ee[n]]="bold";return t}),ae(function(t){return-1!==t.indexOf(e)?t:t.concat([e])}),se(function(n){var i=Object.assign({},n);return i[e]="undefined"!==typeof t&&null!==t?t:n[e]||{},i})}var oe={id:Date.now()+"_"+Math.random().toString(36).slice(2,8),assessmentName:e,formData:"undefined"!==typeof t&&null!==t?t:null,icds:Array.from(l),icfShorts:d,icfLabelsFull:u,ichiCodes:Array.from(h),ichiFullLabels:W,leftIchiCodes:V,leftIchiFullLabels:G,timestamp:(new Date).toISOString()};me(function(e){return e.concat([oe])}),_e(function(t){var n={when:(new Date).toISOString(),assessmentName:e,icds:Array.from(l),icfs:d,ichi:W},i=(t||[]).concat([n]);return i.length>10&&(i=i.slice(i.length-10)),i}),Ne("Saved "+e+" \u2192 "+d.join(", ")),console.log("[saveAssessment] saved row:",oe)}catch(le){console.error("[saveAssessment] error:",le),Ce("saveAssessment error: "+(le&&le.message?le.message:String(le)))}},initialFormData:oe[$]||null})})]}),(0,s.jsxs)("div",{style:{marginTop:20},children:[(0,s.jsx)("b",{children:(0,s.jsx)("p",{children:"Submitted assessments (auto-linked ICF / ICHI)"})}),fe&&0!==fe.length?(0,s.jsx)("div",{style:{overflowX:"auto",border:"1px solid #eee",borderRadius:6},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{textAlign:"left",background:"#fafafa"},children:[(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Submitted Time"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Assessment"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"ICFs"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"ICHI"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:fe.map(function(e,t){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5",verticalAlign:"top"},children:new Date(e.timestamp).toLocaleString()}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:e.assessmentName}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(e.icfShorts||[]).join(", ")}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(e.ichiFullLabels||e.ichi||[]).join(", ")}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(0,s.jsx)("button",{onClick:()=>alert(JSON.stringify(e,null,2)),style:{padding:"6px 8px",borderRadius:6,marginLeft:8},children:"View"})})]},e.id)})})]})}):(0,s.jsx)("p",{style:{color:"#666"},children:"No submissions yet."})]}),(0,s.jsxs)("div",{style:{padding:20,background:"white",padding:20,marginTop:20,borderRadius:10,border:"1px solid #ddd",marginBottom:20,boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},className:"card",children:[(0,s.jsxs)("div",{style:{padding:20,background:"white",marginTop:20,borderRadius:10,border:"1px solid #ddd",marginBottom:20,boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},className:"card",children:[(0,s.jsx)("h3",{children:"Intervention"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:8},children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:m,onChange:()=>g(!m)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Initiate nutritional intervention"}),(0,s.jsx)("div",{style:o.small,children:"Start targeted interventions (meals, supplements)"})]})]}),m&&(0,s.jsx)("textarea",{style:o.textarea,placeholder:"Add details for this intervention...",value:P,onChange:e=>I(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:b,onChange:()=>y(!b)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Order nutrition consult"}),(0,s.jsx)("div",{style:o.small,children:"Within 24\u201372 hours"})]})]}),b&&(0,s.jsx)("textarea",{style:o.textarea,placeholder:"Add details for this intervention...",value:E,onChange:e=>T(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:v,onChange:()=>x(!v)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Monitor oral intake"}),(0,s.jsx)("div",{style:o.small,children:"Record intake daily"})]})]}),v&&(0,s.jsx)("textarea",{style:o.textarea,placeholder:"Add details for this intervention...",value:L,onChange:e=>M(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:w,onChange:()=>j(!w)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Start supplements / consider enteral"}),(0,s.jsx)("div",{style:o.small,children:"If intake insufficient"})]})]}),w&&(0,s.jsx)("textarea",{style:o.textarea,placeholder:"Add details for this intervention...",value:R,onChange:e=>D(e.target.value)})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:S,onChange:()=>_(!S)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Document follow-up plan"}),(0,s.jsx)("div",{style:o.small,children:"Include re-screen schedule & responsible clinician"})]})]}),S&&(0,s.jsx)("textarea",{style:o.textarea,placeholder:"Add details for this intervention...",value:F,onChange:e=>B(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Other Plan"}),(0,s.jsx)("textarea",{style:o.textarea,placeholder:"Any other plan / instructions...",value:G,onChange:e=>Z(e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h5",{children:"Meal-Plan Modifications"}),[{key:"breakfast",label:"BREAKFAST"},{key:"morning_tea",label:"MORNING TEA"},{key:"lunch",label:"LUNCH"},{key:"afternoon_tea",label:"AFTERNOON TEA"},{key:"dinner",label:"DINNER"},{key:"supper",label:"SUPPER"}].map(e=>(0,s.jsx)("div",{style:{marginBottom:16},children:(0,s.jsxs)("div",{style:ft,children:[(0,s.jsx)("div",{style:mt,children:e.label}),(0,s.jsxs)("select",{style:o.input,value:ee["".concat(e.key,"_diet")],onChange:t=>a("".concat(e.key,"_diet"),t.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Diet..."}),l.map(e=>(0,s.jsx)("option",{children:e},e))]}),(0,s.jsx)("input",{type:"time",style:o.input,value:ee["".concat(e.key,"_time")],onChange:t=>a("".concat(e.key,"_time"),t.target.value)})]})},e.key))]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Meal Duration & Kitchen Alert"}),(0,s.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("label",{children:"From Date"}),(0,s.jsx)("input",{type:"date",style:o.input,value:ee.from_date,onChange:e=>a("from_date",e.target.value)})]}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("label",{children:"To Date"}),(0,s.jsx)("input",{type:"date",style:o.input,value:ee.to_date,onChange:e=>a("to_date",e.target.value)})]})]}),(0,s.jsx)("button",{style:pt,onClick:()=>alert("Alert sent to kitchen!"),children:"Send Alert to Kitchen"})]}),(0,s.jsx)("h3",{style:{paddingTop:20},children:"Short Term Goals"}),(0,s.jsx)("textarea",{style:o.textarea,value:U,onChange:e=>q(e.target.value)}),(0,s.jsx)("h3",{style:{paddingTop:40},children:"Long Term Goals"}),(0,s.jsx)("textarea",{style:o.textarea,value:H,onChange:e=>V(e.target.value)}),(0,s.jsx)("h3",{style:{paddingTop:40},children:"Assessment"}),(0,s.jsx)("textarea",{style:o.textarea}),(0,s.jsx)("h3",{style:{paddingTop:40},children:"Plan"}),(0,s.jsx)("textarea",{style:o.textarea}),(0,s.jsxs)("div",{style:{marginTop:16},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[(0,s.jsx)("button",{style:{padding:"8px 16px",background:"#2e7d32",color:"white",borderRadius:6,border:"none",cursor:"pointer",fontWeight:600},onClick:function(){if(!t||!t.id)return void alert("No patient selected.");const e="patient_".concat(t.id,"_reports"),n=JSON.parse(localStorage.getItem(e)||"[]"),i="patient_".concat(t.id,"_diet_initial"),r=JSON.parse(localStorage.getItem(i)||"null"),a=[...n,{createdBy:"Doctor",type:"progress",timestamp:(new Date).toISOString(),patientSnapshot:{id:t.id,name:t.name,age:t.age,sex:t.sex,ward:t.ward,diagnosis:t.icd},dietInitial:r,plan:{initiateNutrition:m?P:"",orderConsult:b?E:"",monitorIntake:v?L:"",supplements:w?R:"",documentPlan:S?F:"",otherPlan:G},goals:{shortTerm:U,longTerm:H}}];localStorage.setItem(e,JSON.stringify(a)),alert("\u2705 Progress report saved with Patient + Diet Initial + Goals")},children:"\ud83d\udcbe Save Report"}),(0,s.jsx)("button",{style:{padding:"8px 16px",background:"#0277bd",color:"white",borderRadius:6,border:"none",cursor:"pointer",fontWeight:600},onClick:()=>W(!0),children:"\ud83d\udcc8 View Report"})]}),z&&(0,s.jsxs)("div",{className:"card",style:{marginTop:12,marginBottom:20},children:[(0,s.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:(0,s.jsx)("button",{onClick:()=>W(!1),style:{padding:"4px 10px",background:"#ccc",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"\u2716 Close"})}),(0,s.jsx)(Oe,{patient:t,mode:"progress"})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:18,padding:12,border:"1px solid #ddd",borderRadius:8,background:"#fff"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Remaining ICHI"}),fe&&0!==fe.length?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:10,display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsx)("label",{style:{fontWeight:600},children:"Pick submission:"}),(0,s.jsxs)("select",{value:null===ge?"":ge,onChange:e=>{var t=""===e.target.value?null:parseInt(e.target.value,10);be(t),ve([])},style:{padding:"6px 8px",borderRadius:6},children:[(0,s.jsx)("option",{value:"",children:"-- choose submission --"}),fe.map(function(e,t){return(0,s.jsxs)("option",{value:t,children:[new Date(e.timestamp).toLocaleString()," \u2014 ",e.assessmentName]},e.id)})]}),(0,s.jsxs)("div",{style:{marginLeft:"auto",color:"#666",fontSize:13},children:["Selected: ",null===ge?(0,s.jsx)("em",{children:"None"}):new Date(fe[ge].timestamp).toLocaleString()]})]}),null===ge?(0,s.jsx)("div",{style:{color:"#666"},children:"Choose a submission above to view and select its Left ICHI."}):function(){var e=fe[ge],t=e&&e.leftIchiFullLabels?e.leftIchiFullLabels:[],n=e&&e.leftIchiCodes?e.leftIchiCodes:[];if(!t||0===t.length)return(0,s.jsx)("div",{style:{color:"#666"},children:"No Left ICHI for this submission."});for(var i=[],r=0;r<t.length;r++){var a=t[r],o=n&&n[r]?n[r]:a.split(" ")[0]||a;i.push({code:o,label:a})}return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{maxHeight:260,overflowY:"auto",padding:8,border:"1px solid #f0f0f0",borderRadius:6,background:"#fafafa"},children:i.map(function(e){var t=ye&&-1!==ye.indexOf(e.code);return(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 4px",borderBottom:"1px dashed #eee"},children:[(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:()=>function(e){ve(function(t){var n=t?t.slice():[];return-1!==n.indexOf(e)?n.filter(function(t){return t!==e}):(n.push(e),n)})}(e.code)}),(0,s.jsx)("span",{style:{fontSize:14},children:e.label})]},e.code)})}),(0,s.jsxs)("div",{style:{marginTop:10,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:$e,style:{padding:"8px 12px",borderRadius:6,background:"#28a745",color:"#fff"},children:"Add selected to Manual additions"}),(0,s.jsx)("button",{onClick:()=>ve([]),style:{padding:"8px 12px",borderRadius:6},children:"Clear selection"})]}),(0,s.jsx)("div",{style:{marginTop:10,color:"#666"},children:(0,s.jsx)("small",{children:"Tip: After adding, open the active ICF to see the codes reflected under 'ICHIs related to saved assessments (including manual additions)'."})})]})}()]}):(0,s.jsx)("div",{style:{color:"#666"},children:"No submissions available to pick Left ICHI from."})]}),(0,s.jsxs)("div",{style:{marginTop:16,padding:12,border:"1px solid #ddd",borderRadius:8,background:"#fff"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Added ICHI (manual additions)"}),de&&0!==de.length?(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{textAlign:"left",background:"#fafafa"},children:[(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"ICHI Code"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Full label"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:de.map(function(e){var t=Fe[e]||e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5",verticalAlign:"top"},children:e}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:t}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(0,s.jsx)("button",{onClick:()=>{return t=e,void ue(function(e){var n=(e||[]).filter(function(e){return e!==t});return ze&&pe(function(e){var n=Object.assign({},e),i=n[ze]||{ichiStatus:{},savedAssessments:[],formDataByAssessment:{},unboldedApplicability:{},manualAddedIchi:[]};return i.manualAddedIchi=(i.manualAddedIchi||[]).filter(function(e){return e!==t}),i.ichiStatus&&i.ichiStatus[t]&&(i.ichiStatus[t]="grey"),n[ze]=i,n}),ie(function(e){var n=Object.assign({},e);return n[t]&&(n[t]="grey"),n}),n});var t},style:{padding:"6px 8px",borderRadius:6},children:"Remove"})})]},e)})})]})}):(0,s.jsx)("div",{style:{color:"#666"},children:"No manual additions yet."})]}),Be&&(0,s.jsxs)("div",{style:{marginTop:8},children:[We&&(0,s.jsxs)("div",{style:{marginBottom:18,padding:12,borderRadius:8,background:"#fbfbfb",border:"1px solid #eee"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ICF code:"})," ",ze]}),We.title&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Title:"})," ",We.title]}),We.hierarchy&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Hierarchy:"}),(0,s.jsx)("div",{children:We.hierarchy.map(function(e,t){return(0,s.jsx)("div",{children:e},t)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsxs)("h4",{style:{margin:"6px 0"},children:["ICHI for ",Y]}),(0,s.jsxs)("div",{style:{marginTop:8},children:[(0,s.jsxs)("div",{style:{marginBottom:10},children:[(0,s.jsx)("button",{onClick:()=>X("subjective"),style:{marginRight:8,padding:"8px 12px",borderRadius:6,background:"subjective"===J?"#007bff":"#fff",color:"subjective"===J?"#fff":"#000"},children:"Assessment"}),(0,s.jsx)("button",{onClick:()=>X("objective"),style:{padding:"8px 12px",borderRadius:6,background:"objective"===J?"#007bff":"#fff",color:"objective"===J?"#fff":"#000"},children:"Equipment Based Assessment"})]}),(0,s.jsxs)("div",{style:{marginTop:20,padding:12,borderRadius:8,border:"1px dashed #ccc"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Saved assessments (for this ICF)"}),re&&0!==re.length?(0,s.jsx)("ul",{children:re.map(function(e){return(0,s.jsx)("li",{children:e},e)})}):(0,s.jsx)("p",{children:"None yet"}),(0,s.jsx)("h4",{style:{marginTop:12},children:"ICHIs related to saved assessments (including manual additions)"}),Xe&&0!==Xe.length?(0,s.jsx)("ul",{children:Xe.map(function(e){return(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:e}),-1!==(de||[]).indexOf(e)?" (manually added)":""]},e)})}):(0,s.jsx)("p",{children:"None yet"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Unbolded ICHI (set applicability)"}),(0,s.jsx)("div",{style:{padding:12,border:"1px solid #eee",borderRadius:8,maxHeight:520,overflowY:"auto"},children:Ke&&0!==Ke.length?(0,s.jsx)("div",{children:Ke.map(function(e){for(var t=e,n=!1,i=Be.ICHI||[],r=0;r<i.length&&!n;r++)for(var a=(i[r]||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),o=0;o<a.length;o++){var l=a[o];if(0===l.indexOf(e)){t=l,n=!0;break}}var c=le[e]||"unknown";return(0,s.jsxs)("div",{style:{marginBottom:12,paddingBottom:8,borderBottom:"1px dashed #eee"},children:[(0,s.jsx)("div",{style:{marginBottom:6},children:(0,s.jsx)("strong",{children:t})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{marginRight:8},children:[(0,s.jsx)("input",{type:"radio",name:"app_"+e,checked:"applicable"===c,onChange:()=>Je(e,"applicable")})," Applicable"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:"app_"+e,checked:"not_applicable"===c,onChange:()=>Je(e,"not_applicable")})," Not applicable"]}),(0,s.jsx)("span",{style:{marginLeft:8,color:"#666"},children:"unknown"===c?"(not set)":""})]})]},e)})}):(0,s.jsx)("p",{children:"All ICHIs are bolded \u2014 none left to classify."})}),(0,s.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:function(){if(ze){var e=Ke.filter(function(e){return"applicable"===le[e]});if(!e||0===e.length)return pe(function(e){var t=Object.assign({},e);return t[ze]=Object.assign({},t[ze]||{},{ichiStatus:ne,savedAssessments:re,formDataByAssessment:oe,unboldedApplicability:le,manualAddedIchi:de}),t}),void alert("No 'Applicable' unbolded ICHI selected. Applicability saved.");ie(function(t){for(var n=Object.assign({},t),i=0;i<e.length;i++)n[e[i]]="bold";return n}),ue(function(t){for(var n=new Set(t||[]),i=0;i<e.length;i++)n.add(e[i]);return Array.from(n)}),console.log("Added applicable unbolded codes:",e),alert((e.length||0)+" ICHI added to related list.")}else alert("Select an ICF first.")},style:{padding:"8px 12px",borderRadius:6,background:"#28a745",color:"#fff"},children:"Final Save Unbolded ICHI"}),(0,s.jsx)("button",{onClick:function(){for(var e=Object.assign({},le),t=0;t<Ke.length;t++)e[Ke[t]]="not_applicable";ce(e)},style:{padding:"8px 12px",borderRadius:6},children:"Mark all Not Applicable"})]}),(0,s.jsxs)("div",{style:{marginTop:14,padding:10,border:"1px dashed #eee",borderRadius:6},children:[(0,s.jsx)("strong",{children:"Manual additions"}),de&&0!==de.length?(0,s.jsx)("ul",{style:{marginTop:8},children:de.map(function(e){return(0,s.jsx)("li",{children:e},e)})}):(0,s.jsx)("p",{style:{marginTop:8},children:"None yet"})]})]})]})]})]})}const pt={padding:"10px 22px",background:"#ff7a00",color:"white",borderRadius:6,cursor:"pointer",marginTop:12,border:"none"},ft={display:"grid",gridTemplateColumns:"140px 1fr 130px",gap:10,alignItems:"center"},mt={background:"#280836",color:"white",padding:"8px",borderRadius:6,textAlign:"center",fontSize:14,fontWeight:700};function gt(e){let{patients:t=[],onSelectPatient:n,onOpenPatients:r,onOpenAppointments:a}=e;const[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),u=t.length,h=(0,i.useMemo)(()=>new Set(t.map(e=>e.icd).filter(Boolean)).size,[t]),p=(0,i.useMemo)(()=>{const e=t.map(e=>Number(e.age)).filter(e=>!Number.isNaN(e));if(!e.length)return"-";const n=e.reduce((e,t)=>e+t,0);return(n/e.length).toFixed(1)},[t]),f=(0,i.useMemo)(()=>[...t].sort((e,t)=>(t.id||0)-(e.id||0)).slice(0,5),[t]),m=(0,i.useMemo)(()=>{if(!o.trim())return f;const e=o.toLowerCase();return f.filter(t=>{var n,i;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(i=t.icd)||void 0===i?void 0:i.toLowerCase().includes(e))})},[f,o]);return(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsx)("header",{style:{marginBottom:24},children:(0,s.jsx)("h2",{children:"Dietetic System Dashboard"})}),(0,s.jsx)("section",{style:{marginBottom:32},children:(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(170px, 1fr))",gap:14},children:yt(r,a).map(e=>(0,s.jsxs)("button",{onClick:e.onClick,style:{padding:"14px 10px",borderRadius:10,border:"1px solid #ddd",background:"#fafafa",cursor:e.onClick?"pointer":"default",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-start",fontWeight:500},children:[(0,s.jsx)("span",{style:{fontSize:20},children:e.icon}),(0,s.jsx)("span",{style:{color:"#0050ff"},children:e.label})]},e.label))})}),(0,s.jsxs)("section",{style:{marginBottom:32},children:[(0,s.jsx)("h3",{children:"Select a Metric"}),(0,s.jsxs)("select",{value:c,onChange:e=>d(e.target.value),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #ccc",width:"100%"},children:[(0,s.jsx)("option",{value:"",children:"Select Metric"}),["Total Active Patients","New Admissions","Upcoming Appointments","Private Payers","Others"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("section",{style:{marginBottom:32},children:[(0,s.jsx)("h3",{style:{marginBottom:12},children:"Dashboard Summary"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(210px, 1fr))",gap:16},children:[(0,s.jsx)(bt,{title:"Total Patients",value:u,icon:"\ud83d\udc65"}),(0,s.jsx)(bt,{title:"Unique ICDs",value:h,icon:"\ud83d\udcc2"}),(0,s.jsx)(bt,{title:"Average Age",value:p,icon:"\ud83d\udcca"}),(0,s.jsx)(bt,{title:"Diet Plans (placeholder)",value:"\u2014",icon:"\ud83c\udf7d\ufe0f"})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Recent Patients"}),(0,s.jsx)("input",{placeholder:"Search by name or ICD\u2026",value:o,onChange:e=>l(e.target.value),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #ccc",minWidth:220}})]}),0===m.length?(0,s.jsx)("p",{style:{color:"#888",marginTop:8},children:"No matching patients."}):(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:10,marginTop:6},children:m.map(e=>(0,s.jsxs)("div",{onClick:()=>n&&n(e),style:{padding:12,borderRadius:10,border:"1px solid #ddd",background:"#fff",cursor:"pointer",display:"flex",flexDirection:"column",gap:4},children:[(0,s.jsx)("strong",{children:e.name}),(0,s.jsxs)("span",{style:{fontSize:13,color:"#555"},children:["ICD: ",e.icd||"-"]}),(0,s.jsxs)("span",{style:{fontSize:13,color:"#777"},children:["Age: ",e.age||"-"]})]},e.id))})]})]})}function bt(e){let{title:t,value:n,icon:i}=e;return(0,s.jsxs)("div",{style:{padding:14,background:"linear-gradient(135deg, rgba(0,123,255,0.04), rgba(0,0,0,0.02))",borderRadius:12,border:"1px solid #e0e0e0",boxShadow:"0 2px 4px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,s.jsx)("span",{style:{fontSize:18},children:i}),(0,s.jsx)("span",{style:{fontSize:13,color:"#555 !important"},children:t})]}),(0,s.jsx)("div",{style:{fontSize:22,fontWeight:"bold",marginTop:4},children:n})]})}function yt(e,t){return[{label:"HOME",icon:"\ud83c\udfe0",onClick:null},{label:"PATIENTS",icon:"\ud83d\udc64",onClick:e},{label:"APPOINTMENTS",icon:"\ud83d\udcc5",onClick:t},{label:"CODING",icon:"\ud83d\udcbe",onClick:null},{label:"EDUCATION",icon:"\ud83d\udcda",onClick:null},{label:"NUTRITION DIAGNOSIS",icon:"\ud83e\uddec",onClick:null},{label:"ASSESSMENTS",icon:"\ud83d\udcdd",onClick:null},{label:"OUTCOME MEASURES",icon:"\ud83d\udcc8",onClick:null},{label:"MEAL PLANNING",icon:"\ud83c\udf7d\ufe0f",onClick:null},{label:"INTERVENTIONS",icon:"\ud83e\ude7a",onClick:null},{label:"FOLLOW-UP NOTES",icon:"\ud83d\udd01",onClick:null},{label:"REPORTS",icon:"\ud83d\udcd1",onClick:null}]}function vt(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=vt(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const xt=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=vt(e))&&(i&&(i+=" "),i+=t);return i};var wt=n(9889),jt=n.n(wt),St=n(620),_t=n.n(St),kt=n(5268),Ct=n.n(kt),At=n(3097),Nt=n.n(At),Ot=n(9160),Pt=n.n(Ot),It=n(9686),Et=n.n(It),Tt=function(e){return 0===e?0:e>0?1:-1},Lt=function(e){return _t()(e)&&e.indexOf("%")===e.length-1},Mt=function(e){return Pt()(e)&&!Ct()(e)},Rt=function(e){return Mt(e)||_t()(e)},Dt=0,Ft=function(e){var t=++Dt;return"".concat(e||"").concat(t)},Bt=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Mt(e)&&!_t()(e))return i;if(Lt(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return Ct()(n)&&(n=i),r&&n>t&&(n=t),n},zt=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Wt=function(e,t){return Mt(e)&&Mt(t)?function(n){return e+n*(t-e)}:function(){return t}};function Ut(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Nt()(e,t))===n}):null}var qt=function(e,t){return Mt(e)&&Mt(t)?e-t:_t()(e)&&_t()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Ht=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r]},Vt=n(1629),Gt=n.n(Vt),Zt=n(6686),Yt=n.n(Zt),Kt=n(9062);function Jt(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}var $t=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qt=["points","pathLength"],en={svg:["viewBox","children"],polygon:Qt,polyline:Qt},tn=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nn=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!Yt()(n))return null;var r={};return Object.keys(n).forEach(function(e){tn.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},rn=function(e,t,n){if(!Yt()(e)||"object"!==Xt(e))return null;var i=null;return Object.keys(e).forEach(function(r){var a=e[r];tn.includes(r)&&"function"===typeof a&&(i||(i={}),i[r]=function(e,t,n){return function(i){return e(t,n,i),null}}(a,t,n))}),i},an=["children"],on=["children"];function sn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}var cn={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},dn=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},un=null,hn=null,pn=function e(t){if(t===un&&Array.isArray(hn))return hn;var n=[];return i.Children.forEach(t,function(t){Et()(t)||((0,Kt.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),hn=n,un=t,n};function fn(e,t){var n=[],i=[];return i=Array.isArray(t)?t.map(function(e){return dn(e)}):[dn(t)],pn(e).forEach(function(e){var t=Nt()(e,"type.displayName")||Nt()(e,"type.name");-1!==i.indexOf(t)&&n.push(e)}),n}function mn(e,t){var n=fn(e,t);return n&&n[0]}var gn=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,i=t.height;return!(!Mt(n)||n<=0||!Mt(i)||i<=0)},bn=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yn=function(e){return e&&e.type&&_t()(e.type)&&bn.indexOf(e.type)>=0},vn=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!Yt()(r))return null;var a={};return Object.keys(r).forEach(function(e){var i;(function(e,t,n,i){var r,a=null!==(r=null===en||void 0===en?void 0:en[i])&&void 0!==r?r:[];return t.startsWith("data-")||!Gt()(e)&&(i&&a.includes(t)||$t.includes(t))||n&&tn.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(a[e]=r[e])}),a},xn=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return wn(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var o=t[a],s=n[a];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!wn(o,s))return!1}return!0},wn=function(e,t){if(Et()(e)&&Et()(t))return!0;if(!Et()(e)&&!Et()(t)){var n=e.props||{},i=n.children,r=sn(n,an),a=t.props||{},o=a.children,s=sn(a,on);return i&&o?Jt(r,s)&&xn(i,o):!i&&!o&&Jt(r,s)}return!1},jn=function(e,t){var n=[],i={};return pn(e).forEach(function(e,r){if(yn(e))n.push(e);else if(e){var a=dn(e.type),o=t[a]||{},s=o.handler,l=o.once;if(s&&(!l||!i[a])){var c=s(e,a,r);n.push(c),i[a]=!0}}}),n};function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach(function(t){Cn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cn(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Sn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sn(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var On=(0,i.forwardRef)(function(e,t){var n=e.aspect,r=e.initialDimension,a=void 0===r?{width:-1,height:-1}:r,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,h=e.minHeight,p=e.maxHeight,f=e.children,m=e.debounce,g=void 0===m?0:m,b=e.id,y=e.className,v=e.onResize,x=e.style,w=void 0===x?{}:x,j=(0,i.useRef)(null),S=(0,i.useRef)();S.current=v,(0,i.useImperativeHandle)(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var _=An((0,i.useState)({containerWidth:a.width,containerHeight:a.height}),2),k=_[0],C=_[1],A=(0,i.useCallback)(function(e,t){C(function(n){var i=Math.round(e),r=Math.round(t);return n.containerWidth===i&&n.containerHeight===r?n:{containerWidth:i,containerHeight:r}})},[]);(0,i.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,i=n.width,r=n.height;A(i,r),null===(t=S.current)||void 0===t||t.call(S,i,r)};g>0&&(e=jt()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),i=n.width,r=n.height;return A(i,r),t.observe(j.current),function(){t.disconnect()}},[A,g]);var N=(0,i.useMemo)(function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;Ht(Lt(s)||Lt(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Ht(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Lt(s)?e:s,a=Lt(c)?t:c;n&&n>0&&(r?a=r/n:a&&(r=a*n),p&&a>p&&(a=p)),Ht(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,s,c,u,h,n);var o=!Array.isArray(f)&&dn(f.type).endsWith("Chart");return i.Children.map(f,function(e){return i.isValidElement(e)?(0,i.cloneElement)(e,kn({width:r,height:a},o?{style:kn({height:"100%",width:"100%",maxHeight:a,maxWidth:r},e.props.style)}:{})):e})},[n,f,c,p,h,u,k,s]);return i.createElement("div",{id:b?"".concat(b):void 0,className:xt("recharts-responsive-container",y),style:kn(kn({},w),{},{width:s,height:c,minWidth:u,minHeight:h,maxHeight:p}),ref:j},N)}),Pn=n(6604),In=n.n(Pn),En=n(7424),Tn=n.n(En),Ln=["children","width","height","viewBox","className","style","title","desc"];function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mn.apply(this,arguments)}function Rn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dn(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,d=Rn(e,Ln),u=a||{width:n,height:r,x:0,y:0},h=xt("recharts-surface",o);return i.createElement("svg",Mn({},vn(d,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),i.createElement("title",null,l),i.createElement("desc",null,c),t)}var Fn=["children","className"];function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bn.apply(this,arguments)}function zn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Wn=i.forwardRef(function(e,t){var n=e.children,r=e.className,a=zn(e,Fn),o=xt("recharts-layer",r);return i.createElement("g",Bn({className:o},vn(a,!0),{ref:t}),n)});function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qn.apply(this,arguments)}function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach(function(t){Yn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yn(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Un(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Un(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){return Array.isArray(e)&&Rt(e[0])&&Rt(e[1])?e.join(" ~ "):e}var Jn=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,a=void 0===r?{}:r,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,h=e.itemSorter,p=e.wrapperClassName,f=e.labelClassName,m=e.label,g=e.labelFormatter,b=e.accessibilityLayer,y=void 0!==b&&b,v=Zn({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=Zn({margin:0},c),w=!Et()(m),j=w?m:"",S=xt("recharts-default-tooltip",p),_=xt("recharts-tooltip-label",f);w&&g&&void 0!==d&&null!==d&&(j=g(m,d));var k=y?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",qn({className:S,style:v},k),i.createElement("p",{className:_,style:x},i.isValidElement(j)?j:"".concat(j)),function(){if(d&&d.length){var e=(h?Tn()(d,h):d).map(function(e,t){if("none"===e.type)return null;var r=Zn({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||u||Kn,o=e.value,l=e.name,c=o,h=l;if(a&&null!=c&&null!=h){var p=a(o,l,e,t,d);if(Array.isArray(p)){var f=Hn(p,2);c=f[0],h=f[1]}else c=p}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Rt(h)?i.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Rt(h)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function $n(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Xn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Xn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xn(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn="recharts-tooltip-wrapper",ei={visibility:"hidden"};function ti(e){var t=e.coordinate,n=e.translateX,i=e.translateY;return xt(Qn,$n($n($n($n({},"".concat(Qn,"-right"),Mt(n)&&t&&Mt(t.x)&&n>=t.x),"".concat(Qn,"-left"),Mt(n)&&t&&Mt(t.x)&&n<t.x),"".concat(Qn,"-bottom"),Mt(i)&&t&&Mt(t.y)&&i>=t.y),"".concat(Qn,"-top"),Mt(i)&&t&&Mt(t.y)&&i<t.y))}function ni(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.key,r=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&Mt(a[i]))return a[i];var d=n[i]-s-r,u=n[i]+r;return t[i]?o[i]?d:u:o[i]?d<l[i]?Math.max(u,l[i]):Math.max(d,l[i]):u+s>l[i]+c?Math.max(d,l[i]):Math.max(u,l[i])}function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach(function(t){ui(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,hi(i.key),i)}}function si(e,t,n){return t=ci(t),function(e,t){if(t&&("object"===ii(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,li()?Reflect.construct(t,n||[],ci(e).constructor):t.apply(e,n))}function li(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(li=function(){return!!e})()}function ci(e){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ci(e)}function di(e,t){return di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},di(e,t)}function ui(e,t,n){return(t=hi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e){var t=function(e,t){if("object"!=ii(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ii(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ii(t)?t:t+""}var pi=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return ui(e=si(this,t,[].concat(i)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ui(e,"handleKeyDown",function(t){var n,i,r,a;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(i=e.props.coordinate)||void 0===i?void 0:i.x)&&void 0!==n?n:0,y:null!==(r=null===(a=e.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&di(e,t)}(t,e),n=t,r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,h=t.position,p=t.reverseDirection,f=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,b=function(e){var t,n,i=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&r?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=ni({allowEscapeViewBox:i,coordinate:r,key:"x",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=ni({allowEscapeViewBox:i,coordinate:r,key:"y",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):ei,cssClasses:ti({translateX:t,translateY:n,coordinate:r})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:h,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:m}),y=b.cssClasses,v=b.cssProperties,x=ai(ai({transition:d&&n?"transform ".concat(a,"ms ").concat(o):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:y,style:x,ref:function(t){e.wrapperNode=t}},s)}}],r&&oi(n.prototype,r),a&&oi(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent),fi={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return fi[e]},set:function(e,t){if("string"===typeof e)fi[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){fi[t]=e[t]})}}},mi=n(977),gi=n.n(mi);function bi(e,t,n){return!0===t?gi()(e,n):Gt()(t)?gi()(e,t):e}function yi(e){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(e)}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach(function(t){Ci(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ai(i.key),i)}}function ji(e,t,n){return t=_i(t),function(e,t){if(t&&("object"===yi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Si()?Reflect.construct(t,n||[],_i(e).constructor):t.apply(e,n))}function Si(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Si=function(){return!!e})()}function _i(e){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_i(e)}function ki(e,t){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ki(e,t)}function Ci(e,t,n){return(t=Ai(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e){var t=function(e,t){if("object"!=yi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=yi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yi(t)?t:t+""}function Ni(e){return e.dataKey}var Oi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ji(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ki(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,h=t.payload,p=t.payloadUniqBy,f=t.position,m=t.reverseDirection,g=t.useTranslate3d,b=t.viewBox,y=t.wrapperStyle,v=null!==h&&void 0!==h?h:[];c&&v.length&&(v=bi(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,Ni));var x=v.length>0;return i.createElement(pi,{allowEscapeViewBox:r,animationDuration:a,animationEasing:o,isAnimationActive:d,active:n,coordinate:l,hasPayload:x,offset:u,position:f,reverseDirection:m,useTranslate3d:g,viewBox:b,wrapperStyle:y},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(Jn,t)}(s,xi(xi({},this.props),{},{payload:v})))}}],r&&wi(n.prototype,r),a&&wi(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent);Ci(Oi,"displayName","Tooltip"),Ci(Oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pi=n(643),Ii=n.n(Pi);Math.abs,Math.atan2;const Ei=Math.cos,Ti=(Math.max,Math.min,Math.sin),Li=Math.sqrt,Mi=Math.PI,Ri=2*Mi;const Di={draw(e,t){const n=Li(t/Mi);e.moveTo(n,0),e.arc(0,0,n,0,Ri)}},Fi={draw(e,t){const n=Li(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Bi=Li(1/3),zi=2*Bi,Wi={draw(e,t){const n=Li(t/zi),i=n*Bi;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},Ui={draw(e,t){const n=Li(t),i=-n/2;e.rect(i,i,n,n)}},qi=Ti(Mi/10)/Ti(7*Mi/10),Hi=Ti(Ri/10)*qi,Vi=-Ei(Ri/10)*qi,Gi={draw(e,t){const n=Li(.8908130915292852*t),i=Hi*n,r=Vi*n;e.moveTo(0,-n),e.lineTo(i,r);for(let a=1;a<5;++a){const t=Ri*a/5,o=Ei(t),s=Ti(t);e.lineTo(s*n,-o*n),e.lineTo(o*i-s*r,s*i+o*r)}e.closePath()}},Zi=Li(3),Yi={draw(e,t){const n=-Li(t/(3*Zi));e.moveTo(0,2*n),e.lineTo(-Zi*n,-n),e.lineTo(Zi*n,-n),e.closePath()}},Ki=-.5,Ji=Li(3)/2,Xi=1/Li(12),$i=3*(Xi/2+1),Qi={draw(e,t){const n=Li(t/$i),i=n/2,r=n*Xi,a=i,o=n*Xi+n,s=-a,l=o;e.moveTo(i,r),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Ki*i-Ji*r,Ji*i+Ki*r),e.lineTo(Ki*a-Ji*o,Ji*a+Ki*o),e.lineTo(Ki*s-Ji*l,Ji*s+Ki*l),e.lineTo(Ki*i+Ji*r,Ki*r-Ji*i),e.lineTo(Ki*a+Ji*o,Ki*o-Ji*a),e.lineTo(Ki*s+Ji*l,Ki*l-Ji*s),e.closePath()}};function er(e){return function(){return e}}function tr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nr,ir,rr,ar,or,sr,lr,cr,dr,ur,hr,pr,fr,mr;const gr=Math.PI,br=2*gr,yr=1e-6,vr=br-yr;function xr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class wr{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?xr:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return xr;const n=10**t;return function(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(nr||(nr=tr(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(ir||(ir=tr(["Z"]))))}lineTo(e,t){this._append(rr||(rr=tr(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,i){this._append(ar||(ar=tr(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+i)}bezierCurveTo(e,t,n,i,r,a){this._append(or||(or=tr(["C",",",",",",",",",",",""])),+e,+t,+n,+i,this._x1=+r,this._y1=+a)}arcTo(e,t,n,i,r){if(e=+e,t=+t,n=+n,i=+i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let a=this._x1,o=this._y1,s=n-e,l=i-t,c=a-e,d=o-t,u=c*c+d*d;if(null===this._x1)this._append(sr||(sr=tr(["M",",",""])),this._x1=e,this._y1=t);else if(u>yr)if(Math.abs(d*s-l*c)>yr&&r){let h=n-a,p=i-o,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),b=Math.sqrt(u),y=r*Math.tan((gr-Math.acos((f+u-m)/(2*g*b)))/2),v=y/b,x=y/g;Math.abs(v-1)>yr&&this._append(cr||(cr=tr(["L",",",""])),e+v*c,t+v*d),this._append(dr||(dr=tr(["A",",",",0,0,",",",",",""])),r,r,+(d*h>c*p),this._x1=e+x*s,this._y1=t+x*l)}else this._append(lr||(lr=tr(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,i,r,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(i),s=n*Math.sin(i),l=e+o,c=t+s,d=1^a,u=a?i-r:r-i;null===this._x1?this._append(ur||(ur=tr(["M",",",""])),l,c):(Math.abs(this._x1-l)>yr||Math.abs(this._y1-c)>yr)&&this._append(hr||(hr=tr(["L",",",""])),l,c),n&&(u<0&&(u=u%br+br),u>vr?this._append(pr||(pr=tr(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-o,t-s,n,n,d,this._x1=l,this._y1=c):u>yr&&this._append(fr||(fr=tr(["A",",",",0,",",",",",",",""])),n,n,+(u>=gr),d,this._x1=e+n*Math.cos(r),this._y1=t+n*Math.sin(r)))}rect(e,t,n,i){this._append(mr||(mr=tr(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+i,-n)}toString(){return this._}}function jr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new wr(t)}Li(3),Li(3);function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}var _r=["type","size","sizeType"];function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kr.apply(this,arguments)}function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach(function(t){Nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Sr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sr(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Pr={symbolCircle:Di,symbolCross:Fi,symbolDiamond:Wi,symbolSquare:Ui,symbolStar:Gi,symbolTriangle:Yi,symbolWye:Qi},Ir=Math.PI/180,Er=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,a=void 0===r?64:r,o=e.sizeType,s=void 0===o?"area":o,l=Ar(Ar({},Or(e,_r)),{},{type:n,size:a,sizeType:s}),c=l.className,d=l.cx,u=l.cy,h=vn(l,!0);return d===+d&&u===+u&&a===+a?i.createElement("path",kr({},h,{className:xt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(Ii()(e));return Pr[t]||Di}(n),t=function(e,t){let n=null,i=jr(r);function r(){let r;if(n||(n=r=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:er(e||Di),t="function"===typeof t?t:er(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:er(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:er(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var i=18*Ir;return 1.25*e*e*(Math.tan(i)-Math.tan(2*i)*Math.pow(Math.tan(i),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,s,n));return t()}()})):null};function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lr.apply(this,arguments)}function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Rr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ur(i.key),i)}}function Dr(e,t,n){return t=Br(t),function(e,t){if(t&&("object"===Tr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fr()?Reflect.construct(t,n||[],Br(e).constructor):t.apply(e,n))}function Fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fr=function(){return!!e})()}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}function zr(e,t){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zr(e,t)}function Wr(e,t,n){return(t=Ur(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e){var t=function(e,t){if("object"!=Tr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Tr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tr(t)?t:t+""}Er.registerSymbol=function(e,t){Pr["symbol".concat(Ii()(e))]=t};var qr=32,Hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dr(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zr(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=qr/6,a=qr/3,o=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:qr,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(qr,"M").concat(2*a,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(qr,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach(function(t){Wr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(Er,{fill:o,cx:n,cy:n,size:qr,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,a=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:qr,height:qr},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||o,u=xt(Wr(Wr({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=Gt()(t.value)?null:t.value;Ht(!Gt()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return i.createElement("li",Lr({className:u,style:c,key:"legend-item-".concat(n)},rn(e.props,t,n)),i.createElement(Dn,{width:r,height:r,viewBox:l,style:d},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},a?a(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],r&&Rr(n.prototype,r),a&&Rr(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent);function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}Wr(Hr,"displayName","Legend"),Wr(Hr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Gr=["ref"];function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach(function(t){ea(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ta(i.key),i)}}function Jr(e,t,n){return t=$r(t),function(e,t){if(t&&("object"===Vr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xr()?Reflect.construct(t,n||[],$r(e).constructor):t.apply(e,n))}function Xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xr=function(){return!!e})()}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}function Qr(e,t){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qr(e,t)}function ea(e,t,n){return(t=ta(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e){var t=function(e,t){if("object"!=Vr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Vr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vr(t)?t:t+""}function na(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ia(e){return e.value}var ra=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return ea(e=Jr(this,t,[].concat(i)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,i=this.props,r=i.layout,a=i.align,o=i.verticalAlign,s=i.margin,l=i.chartWidth,c=i.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===r?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Yr(Yr({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,a=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=Yr(Yr({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(o)),o);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=na(t,Gr);return i.createElement(Hr,n)}(n,Yr(Yr({},this.props),{},{payload:bi(l,s,ia)})))}}],a=[{key:"getWithHeight",value:function(e,t){var n=Yr(Yr({},this.defaultProps),e.props).layout;return"vertical"===n&&Mt(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&Kr(n.prototype,r),a&&Kr(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent);function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},aa.apply(this,arguments)}ea(ra,"displayName","Legend"),ea(ra,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var oa=function(e){var t=e.cx,n=e.cy,r=e.r,a=e.className,o=xt("recharts-dot",a);return t===+t&&n===+n&&r===+r?i.createElement("circle",aa({},vn(e,!1),nn(e),{className:o,cx:t,cy:n,r:r})):null},sa=Object.getOwnPropertyNames,la=Object.getOwnPropertySymbols,ca=Object.prototype.hasOwnProperty;function da(e,t){return function(n,i,r){return e(n,i,r)&&t(n,i,r)}}function ua(e){return function(t,n,i){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,i);var r=i.cache,a=r.get(t),o=r.get(n);if(a&&o)return a===n&&o===t;r.set(t,n),r.set(n,t);var s=e(t,n,i);return r.delete(t),r.delete(n),s}}function ha(e){return sa(e).concat(la(e))}var pa=Object.hasOwn||function(e,t){return ca.call(e,t)};function fa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ma=Object.getOwnPropertyDescriptor,ga=Object.keys;function ba(e,t,n){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function ya(e,t){return fa(e.getTime(),t.getTime())}function va(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xa(e,t){return e===t}function wa(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var r,a,o=new Array(i),s=e.entries(),l=0;(r=s.next())&&!r.done;){for(var c=t.entries(),d=!1,u=0;(a=c.next())&&!a.done;)if(o[u])u++;else{var h=r.value,p=a.value;if(n.equals(h[0],p[0],l,u,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=o[u]=!0;break}u++}if(!d)return!1;l++}return!0}var ja=fa;function Sa(e,t,n){var i=ga(e),r=i.length;if(ga(t).length!==r)return!1;for(;r-- >0;)if(!Pa(e,t,n,i[r]))return!1;return!0}function _a(e,t,n){var i,r,a,o=ha(e),s=o.length;if(ha(t).length!==s)return!1;for(;s-- >0;){if(!Pa(e,t,n,i=o[s]))return!1;if(r=ma(e,i),a=ma(t,i),(r||a)&&(!r||!a||r.configurable!==a.configurable||r.enumerable!==a.enumerable||r.writable!==a.writable))return!1}return!0}function ka(e,t){return fa(e.valueOf(),t.valueOf())}function Ca(e,t){return e.source===t.source&&e.flags===t.flags}function Aa(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var r,a,o=new Array(i),s=e.values();(r=s.next())&&!r.done;){for(var l=t.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!o[d]&&n.equals(r.value,a.value,r.value,a.value,e,t,n)){c=o[d]=!0;break}d++}if(!c)return!1}return!0}function Na(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Oa(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Pa(e,t,n,i){return!("_owner"!==i&&"__o"!==i&&"__v"!==i||!e.$$typeof&&!t.$$typeof)||pa(t,i)&&n.equals(e[i],t[i],i,i,e,t,n)}var Ia=Array.isArray,Ea="undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView:null,Ta=Object.assign,La=Object.prototype.toString.call.bind(Object.prototype.toString);function Ma(e){var t=e.areArraysEqual,n=e.areDatesEqual,i=e.areErrorsEqual,r=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(e,f,m){if(e===f)return!0;if(null==e||null==f)return!1;var g=typeof e;if(g!==typeof f)return!1;if("object"!==g)return"number"===g?o(e,f,m):"function"===g&&r(e,f,m);var b=e.constructor;if(b!==f.constructor)return!1;if(b===Object)return s(e,f,m);if(Ia(e))return t(e,f,m);if(null!=Ea&&Ea(e))return u(e,f,m);if(b===Date)return n(e,f,m);if(b===RegExp)return c(e,f,m);if(b===Map)return a(e,f,m);if(b===Set)return d(e,f,m);var y=La(e);if("[object Date]"===y)return n(e,f,m);if("[object RegExp]"===y)return c(e,f,m);if("[object Map]"===y)return a(e,f,m);if("[object Set]"===y)return d(e,f,m);if("[object Object]"===y)return"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,m);if("[object URL]"===y)return h(e,f,m);if("[object Error]"===y)return i(e,f,m);if("[object Arguments]"===y)return s(e,f,m);if("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)return l(e,f,m);if(p){var v=p[y];if(!v){var x=function(e){return null!=e?e[Symbol.toStringTag]:void 0}(e);x&&(v=p[x])}if(v)return v(e,f,m)}return!1}}var Ra=Da();Da({strict:!0}),Da({circular:!0}),Da({circular:!0,strict:!0}),Da({createInternalComparator:function(){return fa}}),Da({strict:!0,createInternalComparator:function(){return fa}}),Da({circular:!0,createInternalComparator:function(){return fa}}),Da({circular:!0,createInternalComparator:function(){return fa},strict:!0});function Da(e){void 0===e&&(e={});var t,n=e.circular,i=void 0!==n&&n,r=e.createInternalComparator,a=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,i=e.strict,r={areArraysEqual:i?_a:ba,areDatesEqual:ya,areErrorsEqual:va,areFunctionsEqual:xa,areMapsEqual:i?da(wa,_a):wa,areNumbersEqual:ja,areObjectsEqual:i?_a:Sa,arePrimitiveWrappersEqual:ka,areRegExpsEqual:Ca,areSetsEqual:i?da(Aa,_a):Aa,areTypedArraysEqual:i?_a:Na,areUrlsEqual:Oa,unknownTagComparators:void 0};if(n&&(r=Ta({},r,n(r))),t){var a=ua(r.areArraysEqual),o=ua(r.areMapsEqual),s=ua(r.areObjectsEqual),l=ua(r.areSetsEqual);r=Ta({},r,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return r}(e),c=Ma(l),d=r?r(c):(t=c,function(e,n,i,r,a,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,i=e.createState,r=e.equals,a=e.strict;if(i)return function(e,o){var s=i(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,d=s.meta;return n(e,o,{cache:c,equals:r,meta:d,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};var o={cache:void 0,equals:r,meta:void 0,strict:a};return function(e,t){return n(e,t,o)}}({circular:i,comparator:c,createState:a,equals:d,strict:s})}function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function i(r){n<0&&(n=r),r-n>t?(e(r),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(i)})}function Ba(e){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(e)}function za(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ua(){var e=function(){return null},t=!1,n=function n(i){if(!t){if(Array.isArray(i)){if(!i.length)return;var r=za(i),a=r[0],o=r.slice(1);return"number"===typeof a?void Fa(n.bind(null,o),a):(n(a),void Fa(n.bind(null,o)))}"object"===Ba(i)&&e(i),"function"===typeof i&&i()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function qa(e){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach(function(t){Ga(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ga(e,t,n){return t=function(e){var t=function(e,t){if("object"!==qa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==qa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qa(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Za=function(e){return e},Ya=function(e,t){return Object.keys(t).reduce(function(n,i){return Va(Va({},n),{},Ga({},i,e(i,t[i])))},{})},Ka=function(e,t,n){return e.map(function(e){return"".concat((i=e,i.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var i}).join(",")};function Ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||$a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e){return function(e){if(Array.isArray(e))return Qa(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(e,t){if(e){if("string"===typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qa(e,t):void 0}}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var eo=1e-4,to=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},no=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},io=function(e,t){return function(n){var i=to(e,t);return no(i,n)}},ro=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],r=t[1],a=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":i=0,r=0,a=1,o=1;break;case"ease":i=.25,r=.1,a=.25,o=1;break;case"ease-in":i=.42,r=0,a=1,o=1;break;case"ease-out":i=.42,r=0,a=.58,o=1;break;case"ease-in-out":i=0,r=0,a=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=Ja(l,4);i=c[0],r=c[1],a=c[2],o=c[3]}}[i,a,r,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var d,u,h=io(i,a),p=io(r,o),f=(d=i,u=a,function(e){var t=to(d,u),n=[].concat(Xa(t.map(function(e,t){return e*t}).slice(1)),[0]);return no(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,i=0;i<8;++i){var r=h(n)-t,a=f(n);if(Math.abs(r-t)<eo||a<eo)return p(n);n=m(n-r/a)}return p(n)};return g.isStepper=!1,g},ao=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if("string"===typeof i)switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ro(i);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,i=e.damping,r=void 0===i?8:i,a=e.dt,o=void 0===a?17:a,s=function(e,t,i){var a=i+(-(e-t)*n-i*r)*o/1e3,s=i*o/1e3+e;return Math.abs(s-t)<eo&&Math.abs(a)<eo?[t,0]:[s,a]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===i.split("(")[0])return ro(i)}return"function"===typeof i?i:null};function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function so(e){return function(e){if(Array.isArray(e))return fo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||po(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach(function(t){uo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uo(e,t,n){return t=function(e){var t=function(e,t){if("object"!==oo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==oo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oo(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||po(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){if(e){if("string"===typeof e)return fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fo(e,t):void 0}}function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var mo=function(e,t,n){return e+(t-e)*n},go=function(e){return e.from!==e.to},bo=function e(t,n,i){var r=Ya(function(e,n){if(go(n)){var i=ho(t(n.from,n.to,n.velocity),2),r=i[0],a=i[1];return co(co({},n),{},{from:r,velocity:a})}return n},n);return i<1?Ya(function(e,t){return go(t)?co(co({},t),{},{velocity:mo(t.velocity,r[e].velocity,i),from:mo(t.from,r[e].from,i)}):t},n):e(t,r,i-1)};const yo=function(e,t,n,i,r){var a,o,s,l,c=(a=e,o=t,[Object.keys(a),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(n,i){return co(co({},n),{},uo({},i,[e[i],t[i]]))},{}),u=c.reduce(function(n,i){return co(co({},n),{},uo({},i,{from:e[i],velocity:0,to:t[i]}))},{}),h=-1,p=function(){return null};return p=n.isStepper?function(i){s||(s=i);var a=(i-s)/n.dt;u=bo(n,u,a),r(co(co(co({},e),t),Ya(function(e,t){return t.from},u))),s=i,Object.values(u).filter(go).length&&(h=requestAnimationFrame(p))}:function(a){l||(l=a);var o=(a-l)/i,s=Ya(function(e,t){return mo.apply(void 0,so(t).concat([n(o)]))},d);if(r(co(co(co({},e),t),s)),o<1)h=requestAnimationFrame(p);else{var c=Ya(function(e,t){return mo.apply(void 0,so(t).concat([n(1)]))},d);r(co(co(co({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function vo(e){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(e)}var xo=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wo(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jo(e){return function(e){if(Array.isArray(e))return So(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return So(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach(function(t){Co(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Co(e,t,n){return(t=No(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ao(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,No(i.key),i)}}function No(e){var t=function(e,t){if("object"!==vo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==vo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vo(t)?t:String(t)}function Oo(e,t){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oo(e,t)}function Po(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=To(e);if(t){var r=To(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Io(this,n)}}function Io(e,t){if(t&&("object"===vo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},To(e)}var Lo=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oo(e,t)}(o,e);var t,n,r,a=Po(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=(n=a.call(this,e,t)).props,r=i.isActive,s=i.attributeName,l=i.from,c=i.to,d=i.steps,u=i.children,h=i.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Eo(n)),n.changeStyle=n.changeStyle.bind(Eo(n)),!r||h<=0)return n.state={style:{}},"function"===typeof u&&(n.state={style:c}),Io(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"===typeof u)return n.state={style:l},Io(n);n.state={style:s?Co({},s,l):l}}else n.state={style:{}};return n}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,i=t.canBegin,r=t.attributeName,a=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(i)if(n){if(!(Ra(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||a?s:e.to;if(this.state&&l){var u={style:r?Co({},r,d):d};(r&&l[r]!==d||!r&&l!==d)&&this.setState(u)}this.runAnimation(ko(ko({},this.props),{},{from:d,begin:0}))}}else{var h={style:r?Co({},r,o):o};this.state&&l&&(r&&l[r]!==o||!r&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,i=e.to,r=e.duration,a=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=yo(n,i,ao(a),r,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},r,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,i=e.begin,r=e.onAnimationStart,a=n[0],o=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([r].concat(jo(n.reduce(function(e,i,r){if(0===r)return e;var a=i.duration,o=i.easing,s=void 0===o?"ease":o,l=i.style,c=i.properties,d=i.onAnimationEnd,u=r>0?n[r-1]:i,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(jo(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:a,easing:s}),a]);var p=Ka(h,a,s),f=ko(ko(ko({},u.style),l),{},{transition:p});return[].concat(jo(e),[f,a,d]).filter(Za)},[o,Math.max(l,i)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Ua());var t=e.begin,n=e.duration,i=e.attributeName,r=e.to,a=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var u=i?Co({},i,r):r,h=Ka(Object.keys(u),n,a);d.start([o,t,ko(ko({},u),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,wo(e,xo)),o=i.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!r||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,o=t.className;return(0,i.cloneElement)(e,ko(ko({},a),{},{style:ko(ko({},r),s),className:o}))};return 1===o?l(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,function(e){return l(e)}))}}],n&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent);Lo.displayName="Animate",Lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Lo.propTypes={from:u().oneOfType([u().object,u().string]),to:u().oneOfType([u().object,u().string]),attributeName:u().string,duration:u().number,begin:u().number,easing:u().oneOfType([u().string,u().func]),steps:u().arrayOf(u().shape({duration:u().number.isRequired,style:u().object.isRequired,easing:u().oneOfType([u().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),u().func]),properties:u().arrayOf("string"),onAnimationEnd:u().func})),children:u().oneOfType([u().node,u().func]),isActive:u().bool,canBegin:u().bool,onAnimationEnd:u().func,shouldReAnimate:u().bool,onAnimationStart:u().func,onAnimationReStart:u().func};const Mo=Lo;function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Do.apply(this,arguments)}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach(function(t){Uo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uo(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ro(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ro(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ro(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qo=function(e,t,n,i,r){var a,o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0;if(o>0&&r instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=r[u]>o?o:r[u];a="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(a+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),a+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(a+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*d[1])),a+="L ".concat(e+n,",").concat(t+i-s*d[2]),d[2]>0&&(a+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+i)),a+="L ".concat(e+l*d[3],",").concat(t+i),d[3]>0&&(a+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+i-s*d[3])),a+="Z"}else if(o>0&&r===+r&&r>0){var h=Math.min(o,r);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+i-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+i,"\n            L ").concat(e+l*h,",").concat(t+i,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+i-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return a},Ho=function(e,t){if(!e||!t)return!1;var n=e.x,i=e.y,r=t.x,a=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(r,r+o),c=Math.max(r,r+o),d=Math.min(a,a+s),u=Math.max(a,a+s);return n>=l&&n<=c&&i>=d&&i<=u}return!1},Vo={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Go=function(e){var t=Wo(Wo({},Vo),e),n=(0,i.useRef)(),r=Fo((0,i.useState)(-1),2),a=r[0],o=r[1];(0,i.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,h=t.className,p=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,b=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var y=xt("recharts-rectangle",h);return b?i.createElement(Mo,{canBegin:a>0,from:{width:c,height:d,x:s,y:l},to:{width:c,height:d,x:s,y:l},duration:f,animationEasing:p,isActive:b},function(e){var r=e.width,o=e.height,s=e.x,l=e.y;return i.createElement(Mo,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,isActive:g,easing:p},i.createElement("path",Do({},vn(t,!0),{className:y,d:qo(s,l,r,o,u),ref:n})))}):i.createElement("path",Do({},vn(t,!0),{className:y,d:qo(s,l,c,d,u)}))};function Zo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Yo(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Ko extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Jo(this,e))}has(e){return super.has(Jo(this,e))}set(e,t){return super.set(Xo(this,e),t)}delete(e){return super.delete($o(this,e))}}Set;function Jo(e,t){let{_intern:n,_key:i}=e;const r=i(t);return n.has(r)?n.get(r):t}function Xo(e,t){let{_intern:n,_key:i}=e;const r=i(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function $o(e,t){let{_intern:n,_key:i}=e;const r=i(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function Qo(e){return null!==e&&"object"===typeof e?e.valueOf():e}const es=Symbol("implicit");function ts(){var e=new Ko,t=[],n=[],i=es;function r(r){let a=e.get(r);if(void 0===a){if(i!==es)return i;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ko;for(const i of n)e.has(i)||e.set(i,t.push(i)-1);return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return ts(t,n).unknown(i)},Zo.apply(r,arguments),r}function ns(){var e,t,n=ts().unknown(void 0),i=n.domain,r=n.range,a=0,o=1,s=!1,l=0,c=0,d=.5;function u(){var n=i().length,u=o<a,h=u?o:a,p=u?a:o;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*d,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}(n).map(function(t){return h+e*t});return r(u?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),u()):i()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,u()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,u()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return ns(i(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(d)},Zo.apply(u(),arguments)}function is(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return is(t())},e}function rs(){return is(ns.apply(null,arguments).paddingInner(1))}function as(e){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(e)}function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach(function(t){ls(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ls(e,t,n){return t=function(e){var t=function(e,t){if("object"!=as(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=as(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==as(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cs={widthCache:{},cacheCount:0},ds={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},us="recharts_measurement_span";var hs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||fi.isSsr)return{width:0,height:0};var n=function(e){var t=ss({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),i=JSON.stringify({text:e,copyStyle:n});if(cs.widthCache[i])return cs.widthCache[i];try{var r=document.getElementById(us);r||((r=document.createElement("span")).setAttribute("id",us),r.setAttribute("aria-hidden","true"),document.body.appendChild(r));var a=ss(ss({},ds),n);Object.assign(r.style,a),r.textContent="".concat(e);var o=r.getBoundingClientRect(),s={width:o.width,height:o.height};return cs.widthCache[i]=s,++cs.cacheCount>2e3&&(cs.cacheCount=0,cs.widthCache={}),s}catch(l){return{width:0,height:0}}};function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ms(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,bs(i.key),i)}}function bs(e){var t=function(e,t){if("object"!=ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ps(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ps(t)?t:t+""}var ys=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vs=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xs=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ws=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,js={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ss=Object.keys(js),_s="NaN";var ks=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||xs.test(n)||(this.num=NaN,this.unit=""),Ss.includes(n)&&(this.num=function(e,t){return e*js[t]}(t,n),this.unit="px")}return t=e,i=[{key:"parse",value:function(t){var n,i=fs(null!==(n=ws.exec(t))&&void 0!==n?n:[],3),r=i[1],a=i[2];return new e(parseFloat(r),null!==a&&void 0!==a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&gs(t.prototype,n),i&&gs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();function Cs(e){if(e.includes(_s))return _s;for(var t=e;t.includes("*")||t.includes("/");){var n,i=fs(null!==(n=ys.exec(t))&&void 0!==n?n:[],4),r=i[1],a=i[2],o=i[3],s=ks.parse(null!==r&&void 0!==r?r:""),l=ks.parse(null!==o&&void 0!==o?o:""),c="*"===a?s.multiply(l):s.divide(l);if(c.isNaN())return _s;t=t.replace(ys,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=fs(null!==(d=vs.exec(t))&&void 0!==d?d:[],4),h=u[1],p=u[2],f=u[3],m=ks.parse(null!==h&&void 0!==h?h:""),g=ks.parse(null!==f&&void 0!==f?f:""),b="+"===p?m.add(g):m.subtract(g);if(b.isNaN())return _s;t=t.replace(vs,b.toString())}return t}var As=/\(([^()]*)\)/;function Ns(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=fs(As.exec(t),2)[1];t=t.replace(As,Cs(n))}return t}(t),t=Cs(t)}function Os(e){var t=function(e){try{return Ns(e)}catch(t){return _s}}(e.slice(5,-1));return t===_s?"":t}var Ps=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Is=["dx","dy","angle","className","breakAll"];function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Es.apply(this,arguments)}function Ts(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ms(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Rs=/[ \f\n\r\t\v\u2028\u2029]+/,Ds=function(e){var t=e.children,n=e.breakAll,i=e.style;try{var r=[];return Et()(t)||(r=n?t.toString().split(""):t.toString().split(Rs)),{wordsWithComputedWidth:r.map(function(e){return{word:e,width:hs(e,i).width}}),spaceWidth:n?0:hs("\xa0",i).width}}catch(a){return null}},Fs=function(e){return[{words:Et()(e)?[]:e.toString().split(Rs)}]},Bs=function(e){var t=e.width,n=e.scaleToFit,i=e.children,r=e.style,a=e.breakAll,o=e.maxLines;if((t||n)&&!fi.isSsr){var s=Ds({breakAll:a,children:i,style:r});return s?function(e,t,n,i,r){var a=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Mt(a),d=o,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.word,o=t.width,s=e[e.length-1];if(s&&(null==i||r||s.width+o+n<Number(i)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=u(t);if(!c)return h;for(var p,f=function(e){var t=d.slice(0,e),n=Ds({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,r=u(n),o=r.length>a||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(r).width>Number(i);return[o,r]},m=0,g=d.length-1,b=0;m<=g&&b<=d.length-1;){var y=Math.floor((m+g)/2),v=Ls(f(y-1),2),x=v[0],w=v[1],j=Ls(f(y),1)[0];if(x||j||(m=y+1),x&&j&&(g=y-1),!x&&j){p=w;break}b++}return p||h}({breakAll:a,children:i,maxLines:o,style:r},s.wordsWithComputedWidth,s.spaceWidth,t,n):Fs(i)}return Fs(i)},zs="#808080",Ws=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,h=e.textAnchor,p=void 0===h?"start":h,f=e.verticalAnchor,m=void 0===f?"end":f,g=e.fill,b=void 0===g?zs:g,y=Ts(e,Ps),v=(0,i.useMemo)(function(){return Bs({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),x=y.dx,w=y.dy,j=y.angle,S=y.className,_=y.breakAll,k=Ts(y,Is);if(!Rt(n)||!Rt(a))return null;var C,A=n+(Mt(x)?x:0),N=a+(Mt(w)?w:0);switch(m){case"start":C=Os("calc(".concat(c,")"));break;case"middle":C=Os("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:C=Os("calc(".concat(v.length-1," * -").concat(s,")"))}var O=[];if(u){var P=v[0].width,I=y.width;O.push("scale(".concat((Mt(I)?I/P:1)/P,")"))}return j&&O.push("rotate(".concat(j,", ").concat(A,", ").concat(N,")")),O.length&&(k.transform=O.join(" ")),i.createElement("text",Es({},vn(k,!0),{x:A,y:N,className:xt("recharts-text",S),textAnchor:p,fill:b.includes("url")?zs:b}),v.map(function(e,t){var n=e.words.join(_?"":" ");return i.createElement("tspan",{x:A,dy:0===t?C:s,key:"".concat(n,"-").concat(t)},n)}))};const Us=Math.sqrt(50),qs=Math.sqrt(10),Hs=Math.sqrt(2);function Vs(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=Us?10:a>=qs?5:a>=Hs?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Vs(e,t,2*n):[s,l,c]}function Gs(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const i=t<e,[r,a,o]=i?Vs(t,e,n):Vs(e,t,n);if(!(a>=r))return[];const s=a-r+1,l=new Array(s);if(i)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(r+c)/-o;else for(let c=0;c<s;++c)l[c]=(r+c)*o;return l}function Zs(e,t,n){return Vs(e=+e,t=+t,n=+n)[2]}function Ys(e,t,n){n=+n;const i=(t=+t)<(e=+e),r=i?Zs(t,e,n):Zs(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function Ks(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Js(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xs(e){let t,n,i;function r(e,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<a){if(0!==t(i,i))return a;do{const t=r+a>>>1;n(e[t],i)<0?r=t+1:a=t}while(r<a)}return r}return 2!==e.length?(t=Ks,n=(t,n)=>Ks(e(t),n),i=(t,n)=>e(t)-n):(t=e===Ks||e===Js?e:$s,n=e,i=e),{left:r,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=r(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&i(e[a-1],t)>-i(e[a],t)?a-1:a},right:function(e,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<a){if(0!==t(i,i))return a;do{const t=r+a>>>1;n(e[t],i)<=0?r=t+1:a=t}while(r<a)}return r}}}function $s(){return 0}function Qs(e){return null===e?NaN:+e}const el=Xs(Ks),tl=el.right,nl=(el.left,Xs(Qs).center,tl);function il(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rl(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function al(){}var ol=.7,sl=1/ol,ll="\\s*([+-]?\\d+)\\s*",cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ul=/^#([0-9a-f]{3,8})$/,hl=new RegExp("^rgb\\(".concat(ll,",").concat(ll,",").concat(ll,"\\)$")),pl=new RegExp("^rgb\\(".concat(dl,",").concat(dl,",").concat(dl,"\\)$")),fl=new RegExp("^rgba\\(".concat(ll,",").concat(ll,",").concat(ll,",").concat(cl,"\\)$")),ml=new RegExp("^rgba\\(".concat(dl,",").concat(dl,",").concat(dl,",").concat(cl,"\\)$")),gl=new RegExp("^hsl\\(".concat(cl,",").concat(dl,",").concat(dl,"\\)$")),bl=new RegExp("^hsla\\(".concat(cl,",").concat(dl,",").concat(dl,",").concat(cl,"\\)$")),yl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vl(){return this.rgb().formatHex()}function xl(){return this.rgb().formatRgb()}function wl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ul.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?jl(t):3===n?new kl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Sl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Sl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=hl.exec(e))?new kl(t[1],t[2],t[3],1):(t=pl.exec(e))?new kl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=fl.exec(e))?Sl(t[1],t[2],t[3],t[4]):(t=ml.exec(e))?Sl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=gl.exec(e))?Il(t[1],t[2]/100,t[3]/100,1):(t=bl.exec(e))?Il(t[1],t[2]/100,t[3]/100,t[4]):yl.hasOwnProperty(e)?jl(yl[e]):"transparent"===e?new kl(NaN,NaN,NaN,0):null}function jl(e){return new kl(e>>16&255,e>>8&255,255&e,1)}function Sl(e,t,n,i){return i<=0&&(e=t=n=NaN),new kl(e,t,n,i)}function _l(e,t,n,i){return 1===arguments.length?function(e){return e instanceof al||(e=wl(e)),e?new kl((e=e.rgb()).r,e.g,e.b,e.opacity):new kl}(e):new kl(e,t,n,null==i?1:i)}function kl(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Cl(){return"#".concat(Pl(this.r)).concat(Pl(this.g)).concat(Pl(this.b))}function Al(){const e=Nl(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ol(this.r),", ").concat(Ol(this.g),", ").concat(Ol(this.b)).concat(1===e?")":", ".concat(e,")"))}function Nl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ol(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return((e=Ol(e))<16?"0":"")+e.toString(16)}function Il(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tl(e,t,n,i)}function El(e){if(e instanceof Tl)return new Tl(e.h,e.s,e.l,e.opacity);if(e instanceof al||(e=wl(e)),!e)return new Tl;if(e instanceof Tl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=t===a?(n-i)/s+6*(n<i):n===a?(i-t)/s+2:(t-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new Tl(o,s,l,e.opacity)}function Tl(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Ll(e){return(e=(e||0)%360)<0?e+360:e}function Ml(e){return Math.max(0,Math.min(1,e||0))}function Rl(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Dl(e,t,n,i,r){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*i+o*r)/6}il(al,wl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vl,formatHex:vl,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return El(this).formatHsl()},formatRgb:xl,toString:xl}),il(kl,_l,rl(al,{brighter(e){return e=null==e?sl:Math.pow(sl,e),new kl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ol:Math.pow(ol,e),new kl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kl(Ol(this.r),Ol(this.g),Ol(this.b),Nl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cl,formatHex:Cl,formatHex8:function(){return"#".concat(Pl(this.r)).concat(Pl(this.g)).concat(Pl(this.b)).concat(Pl(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Al,toString:Al})),il(Tl,function(e,t,n,i){return 1===arguments.length?El(e):new Tl(e,t,n,null==i?1:i)},rl(al,{brighter(e){return e=null==e?sl:Math.pow(sl,e),new Tl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ol:Math.pow(ol,e),new Tl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new kl(Rl(e>=240?e-240:e+120,r,i),Rl(e,r,i),Rl(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Tl(Ll(this.h),Ml(this.s),Ml(this.l),Nl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nl(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Ll(this.h),", ").concat(100*Ml(this.s),"%, ").concat(100*Ml(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Fl=e=>()=>e;function Bl(e,t){return function(n){return e+n*t}}function zl(e){return 1===(e=+e)?Wl:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):Fl(isNaN(t)?n:t)}}function Wl(e,t){var n=t-e;return n?Bl(e,n):Fl(isNaN(e)?t:e)}const Ul=function e(t){var n=zl(t);function i(e,t){var i=n((e=_l(e)).r,(t=_l(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),o=Wl(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function ql(e){return function(t){var n,i,r=t.length,a=new Array(r),o=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=_l(t[n]),a[n]=i.r||0,o[n]=i.g||0,s[n]=i.b||0;return a=e(a),o=e(o),s=e(s),i.opacity=1,function(e){return i.r=a(e),i.g=o(e),i.b=s(e),i+""}}}ql(function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],a=e[i+1],o=i>0?e[i-1]:2*r-a,s=i<t-1?e[i+2]:2*a-r;return Dl((n-i/t)*t,o,r,a,s)}}),ql(function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],a=e[i%t],o=e[(i+1)%t],s=e[(i+2)%t];return Dl((n-i/t)*t,r,a,o,s)}});function Hl(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=$l(e[n],t[n]);for(;n<i;++n)o[n]=t[n];return function(e){for(n=0;n<r;++n)o[n]=a[n](e);return o}}function Vl(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Gl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zl(e,t){var n,i={},r={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=$l(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}var Yl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kl=new RegExp(Yl.source,"g");function Jl(e,t){var n,i,r,a=Yl.lastIndex=Kl.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Yl.exec(e))&&(i=Kl.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Gl(n,i)})),a=Kl.lastIndex;return a<t.length&&(r=t.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}function Xl(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<i;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}}function $l(e,t){var n,i=typeof t;return null==t||"boolean"===i?Fl(t):("number"===i?Gl:"string"===i?(n=wl(t))?(t=n,Ul):Jl:t instanceof wl?Ul:t instanceof Date?Vl:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Xl:Array.isArray(t)?Hl:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Zl:Gl)(e,t)}function Ql(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ec(e){return+e}var tc=[0,1];function nc(e){return e}function ic(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function rc(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=ic(r,i),a=n(o,a)):(i=ic(i,r),a=n(a,o)),function(e){return a(i(e))}}function ac(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=ic(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=nl(e,t,1,i)-1;return a[n](r[n](t))}}function oc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sc(){var e,t,n,i,r,a,o=tc,s=tc,l=$l,c=nc;function d(){var e=Math.min(o.length,s.length);return c!==nc&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),i=e>2?ac:rc,r=a=null,u}function u(t){return null==t||isNaN(t=+t)?n:(r||(r=i(o.map(e),s,l)))(e(c(t)))}return u.invert=function(n){return c(t((a||(a=i(s,o.map(e),Gl)))(n)))},u.domain=function(e){return arguments.length?(o=Array.from(e,ec),d()):o.slice()},u.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},u.rangeRound=function(e){return s=Array.from(e),l=Ql,d()},u.clamp=function(e){return arguments.length?(c=!!e||nc,d()):c!==nc},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,i){return e=n,t=i,d()}}function lc(){return sc()(nc,nc)}var cc,dc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(e){if(!(t=dc.exec(e)))throw new Error("invalid format: "+e);var t;return new hc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function hc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function pc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function fc(e){return(e=pc(Math.abs(e)))?e[1]:NaN}function mc(e,t){var n=pc(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}uc.prototype=hc.prototype,hc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const gc={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mc(100*e,t),r:mc,s:function(e,t){var n=pc(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(cc=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+pc(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bc(e){return e}var yc,vc,xc,wc=Array.prototype.map,jc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Sc(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?bc:(t=wc.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,a=[],o=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?bc:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(wc.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=uc(e)).fill,n=e.align,u=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,b=e.trim,y=e.type;"n"===y?(m=!0,y="g"):gc[y]||(void 0===g&&(g=12),b=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===h?r:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?a:/[%p]/.test(y)?l:"",w=gc[y],j=/[defgprs%]/.test(y);function S(e){var r,a,l,h=v,S=x;if("c"===y)S=w(e)+S,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==u&&(_=!1),h=(_?"("===u?u:c:"-"===u||"("===u?"":u)+h,S=("s"===y?jc[8+cc/3]:"")+S+(_&&"("===u?")":""),j)for(r=-1,a=e.length;++r<a;)if(48>(l=e.charCodeAt(r))||l>57){S=(46===l?o+e.slice(r+1):e.slice(r))+S,e=e.slice(0,r);break}}m&&!p&&(e=i(e,1/0));var k=h.length+e.length+S.length,C=k<f?new Array(f-k+1).join(t):"";switch(m&&p&&(e=i(C+e,C.length?f-S.length:1/0),C=""),n){case"<":e=h+e+S+C;break;case"=":e=h+C+e+S;break;case"^":e=C.slice(0,k=C.length>>1)+h+e+S+C.slice(k);break;default:e=C+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:u,formatPrefix:function(e,t){var n=u(((e=uc(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(fc(t)/3))),r=Math.pow(10,-i),a=jc[8+i/3];return function(e){return n(r*e)+a}}}}function _c(e,t,n,i){var r,a=Ys(e,t,n);switch((i=uc(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fc(t)/3)))-fc(Math.abs(e)))}(a,o))||(i.precision=r),xc(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fc(t)-fc(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-fc(Math.abs(e)))}(a))||(i.precision=r-2*("%"===i.type))}return vc(i)}function kc(e){var t=e.domain;return e.ticks=function(e){var n=t();return Gs(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return _c(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],d=10;for(c<l&&(r=l,l=c,c=r,r=o,o=s,s=r);d-- >0;){if((r=Zs(l,c,n))===i)return a[o]=l,a[s]=c,t(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function Cc(){var e=lc();return e.copy=function(){return oc(e,Cc())},Zo.apply(e,arguments),kc(e)}function Ac(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,ec),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Ac(e).unknown(t)},e=arguments.length?Array.from(e,ec):[0,1],kc(n)}function Nc(e,t){var n,i=0,r=(e=e.slice()).length-1,a=e[i],o=e[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),e[i]=t.floor(a),e[r]=t.ceil(o),e}function Oc(e){return Math.log(e)}function Pc(e){return Math.exp(e)}function Ic(e){return-Math.log(-e)}function Ec(e){return-Math.exp(-e)}function Tc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lc(e){return(t,n)=>-e(-t,n)}function Mc(e){const t=e(Oc,Pc),n=t.domain;let i,r,a=10;function o(){return i=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),r=function(e){return 10===e?Tc:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(i=Lc(i),r=Lc(r),e(Ic,Ec)):e(Oc,Pc),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,d,u=i(o),h=i(s);const p=null==e?10:+e;let f=[];if(!(a%1)&&h-u<p){if(u=Math.floor(u),h=Math.ceil(h),o>0){for(;u<=h;++u)for(c=1;c<a;++c)if(d=u<0?c/r(-u):c*r(u),!(d<o)){if(d>s)break;f.push(d)}}else for(;u<=h;++u)for(c=a-1;c>=1;--c)if(d=u>0?c/r(-u):c*r(u),!(d<o)){if(d>s)break;f.push(d)}2*f.length<p&&(f=Gs(o,s,p))}else f=Gs(u,h,Math.min(h-u,p)).map(r);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=uc(n)).precision||(n.trim=!0),n=vc(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/r(Math.round(i(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(Nc(n(),{floor:e=>r(Math.floor(i(e))),ceil:e=>r(Math.ceil(i(e)))})),t}function Rc(){const e=Mc(sc()).domain([1,10]);return e.copy=()=>oc(e,Rc()).base(e.base()),Zo.apply(e,arguments),e}function Dc(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fc(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Bc(e){var t=1,n=e(Dc(t),Fc(t));return n.constant=function(n){return arguments.length?e(Dc(t=+n),Fc(t)):t},kc(n)}function zc(){var e=Bc(sc());return e.copy=function(){return oc(e,zc()).constant(e.constant())},Zo.apply(e,arguments)}function Wc(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qc(e){return e<0?-e*e:e*e}function Hc(e){var t=e(nc,nc),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(nc,nc):.5===n?e(Uc,qc):e(Wc(n),Wc(1/n)):n},kc(t)}function Vc(){var e=Hc(sc());return e.copy=function(){return oc(e,Vc()).exponent(e.exponent())},Zo.apply(e,arguments),e}function Gc(){return Vc.apply(null,arguments).exponent(.5)}function Zc(e){return Math.sign(e)*e*e}function Yc(){var e,t=lc(),n=[0,1],i=!1;function r(n){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(r)?e:i?Math.round(r):r}return r.invert=function(e){return t.invert(Zc(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain()},r.range=function(e){return arguments.length?(t.range((n=Array.from(e,ec)).map(Zc)),r):n.slice()},r.rangeRound=function(e){return r.range(e).round(!0)},r.round=function(e){return arguments.length?(i=!!e,r):i},r.clamp=function(e){return arguments.length?(t.clamp(e),r):t.clamp()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return Yc(t.domain(),n).round(i).clamp(t.clamp()).unknown(e)},Zo.apply(r,arguments),kc(r)}function Kc(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function Jc(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function Xc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ks;if(e===Ks)return $c;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||0===i?i:(0===e(n,n))-(0===e(t,t))}}function $c(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Qc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,r=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=void 0===r?$c:Xc(r);i>n;){if(i-n>600){const a=i-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);Qc(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(i,Math.floor(t+(a-o)*l/a+c)),r)}const a=e[t];let o=n,s=i;for(ed(e,n,t),r(e[i],a)>0&&ed(e,n,i);o<s;){for(ed(e,o,s),++o,--s;r(e[o],a)<0;)++o;for(;r(e[s],a)>0;)--s}0===r(e[n],a)?ed(e,n,s):(++s,ed(e,s,i)),s<=t&&(n=s+1),t<=s&&(i=s-1)}return e}function ed(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function td(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}(e,n)),(i=e.length)&&!isNaN(t=+t)){if(t<=0||i<2)return Jc(e);if(t>=1)return Kc(e);var i,r=(i-1)*t,a=Math.floor(r),o=Kc(Qc(e,a).subarray(0,a+1));return o+(Jc(e.subarray(a+1))-o)*(r-a)}}function nd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qs;if((i=e.length)&&!isNaN(t=+t)){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(r-a)}}function id(){var e,t=[],n=[],i=[];function r(){var e=0,r=Math.max(1,n.length);for(i=new Array(r-1);++e<r;)i[e-1]=nd(t,e/r);return a}function a(t){return null==t||isNaN(t=+t)?e:n[nl(i,t)]}return a.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ks),r()},a.range=function(e){return arguments.length?(n=Array.from(e),r()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return id().domain(t).range(n).unknown(e)},Zo.apply(a,arguments)}function rd(){var e,t=0,n=1,i=1,r=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[nl(r,t,0,i)]:e}function s(){var e=-1;for(r=new Array(i);++e<i;)r[e]=((e+1)*n-(e-i)*t)/(i+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=i?[r[i-1],n]:[r[o-1],r[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return r.slice()},o.copy=function(){return rd().domain([t,n]).range(a).unknown(e)},Zo.apply(kc(o),arguments)}function ad(){var e,t=[.5],n=[0,1],i=1;function r(r){return null!=r&&r<=r?n[nl(t,r,0,i)]:e}return r.domain=function(e){return arguments.length?(t=Array.from(e),i=Math.min(t.length,n.length-1),r):t.slice()},r.range=function(e){return arguments.length?(n=Array.from(e),i=Math.min(t.length,n.length-1),r):n.slice()},r.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return ad().domain(t).range(n).unknown(e)},Zo.apply(r,arguments)}yc=Sc({thousands:",",grouping:[3],currency:["$",""]}),vc=yc.format,xc=yc.formatPrefix;const od=1e3,sd=6e4,ld=36e5,cd=864e5,dd=6048e5,ud=2592e6,hd=31536e6,pd=new Date,fd=new Date;function md(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=t=>(e(t=new Date(+t)),t),r.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),r.round=e=>{const t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),r.range=(n,i,a)=>{const o=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<i);return o},r.filter=n=>md(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,i)=>{if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}),n&&(r.count=(t,i)=>(pd.setTime(+t),fd.setTime(+i),e(pd),e(fd),Math.floor(n(pd,fd))),r.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?t=>i(t)%e===0:t=>r.count(0,t)%e===0):r:null)),r}const gd=md(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gd.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?md(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):gd:null);gd.range;const bd=md(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*od)},(e,t)=>(t-e)/od,e=>e.getUTCSeconds()),yd=(bd.range,md(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*od)},(e,t)=>{e.setTime(+e+t*sd)},(e,t)=>(t-e)/sd,e=>e.getMinutes())),vd=(yd.range,md(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sd)},(e,t)=>(t-e)/sd,e=>e.getUTCMinutes())),xd=(vd.range,md(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*od-e.getMinutes()*sd)},(e,t)=>{e.setTime(+e+t*ld)},(e,t)=>(t-e)/ld,e=>e.getHours())),wd=(xd.range,md(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ld)},(e,t)=>(t-e)/ld,e=>e.getUTCHours())),jd=(wd.range,md(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sd)/cd,e=>e.getDate()-1)),Sd=(jd.range,md(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cd,e=>e.getUTCDate()-1)),_d=(Sd.range,md(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cd,e=>Math.floor(e/cd)));_d.range;function kd(e){return md(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sd)/dd)}const Cd=kd(0),Ad=kd(1),Nd=kd(2),Od=kd(3),Pd=kd(4),Id=kd(5),Ed=kd(6);Cd.range,Ad.range,Nd.range,Od.range,Pd.range,Id.range,Ed.range;function Td(e){return md(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/dd)}const Ld=Td(0),Md=Td(1),Rd=Td(2),Dd=Td(3),Fd=Td(4),Bd=Td(5),zd=Td(6),Wd=(Ld.range,Md.range,Rd.range,Dd.range,Fd.range,Bd.range,zd.range,md(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Ud=(Wd.range,md(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),qd=(Ud.range,md(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));qd.every=e=>isFinite(e=Math.floor(e))&&e>0?md(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;qd.range;const Hd=md(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hd.every=e=>isFinite(e=Math.floor(e))&&e>0?md(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Hd.range;function Vd(e,t,n,i,r,a){const o=[[bd,1,od],[bd,5,5e3],[bd,15,15e3],[bd,30,3e4],[a,1,sd],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,ld],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,cd],[i,2,1728e5],[n,1,dd],[t,1,ud],[t,3,7776e6],[e,1,hd]];function s(t,n,i){const r=Math.abs(n-t)/i,a=Xs(e=>{let[,,t]=e;return t}).right(o,r);if(a===o.length)return e.every(Ys(t/hd,n/hd,i));if(0===a)return gd.every(Math.max(Ys(t,n,i),1));const[s,l]=o[r/o[a-1][2]<o[a][2]/r?a-1:a];return s.every(l)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const r=n&&"function"===typeof n.range?n:s(e,t,n),a=r?r.range(e,+t+1):[];return i?a.reverse():a},s]}const[Gd,Zd]=Vd(Hd,Ud,Ld,_d,wd,vd),[Yd,Kd]=Vd(qd,Wd,Cd,jd,xd,yd);function Jd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $d(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Qd,eu,tu,nu={"-":"",_:" ",0:"0"},iu=/^\s*\d+/,ru=/^%/,au=/[\\^$*+?|[\]().{}]/g;function ou(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function su(e){return e.replace(au,"\\$&")}function lu(e){return new RegExp("^(?:"+e.map(su).join("|")+")","i")}function cu(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function du(e,t,n){var i=iu.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function uu(e,t,n){var i=iu.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function hu(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function pu(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function fu(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function mu(e,t,n){var i=iu.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function gu(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function bu(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function yu(e,t,n){var i=iu.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function vu(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function xu(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function wu(e,t,n){var i=iu.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function ju(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Su(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function _u(e,t,n){var i=iu.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ku(e,t,n){var i=iu.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Cu(e,t,n){var i=iu.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Au(e,t,n){var i=ru.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Nu(e,t,n){var i=iu.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Ou(e,t,n){var i=iu.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function Pu(e,t){return ou(e.getDate(),t,2)}function Iu(e,t){return ou(e.getHours(),t,2)}function Eu(e,t){return ou(e.getHours()%12||12,t,2)}function Tu(e,t){return ou(1+jd.count(qd(e),e),t,3)}function Lu(e,t){return ou(e.getMilliseconds(),t,3)}function Mu(e,t){return Lu(e,t)+"000"}function Ru(e,t){return ou(e.getMonth()+1,t,2)}function Du(e,t){return ou(e.getMinutes(),t,2)}function Fu(e,t){return ou(e.getSeconds(),t,2)}function Bu(e){var t=e.getDay();return 0===t?7:t}function zu(e,t){return ou(Cd.count(qd(e)-1,e),t,2)}function Wu(e){var t=e.getDay();return t>=4||0===t?Pd(e):Pd.ceil(e)}function Uu(e,t){return e=Wu(e),ou(Pd.count(qd(e),e)+(4===qd(e).getDay()),t,2)}function qu(e){return e.getDay()}function Hu(e,t){return ou(Ad.count(qd(e)-1,e),t,2)}function Vu(e,t){return ou(e.getFullYear()%100,t,2)}function Gu(e,t){return ou((e=Wu(e)).getFullYear()%100,t,2)}function Zu(e,t){return ou(e.getFullYear()%1e4,t,4)}function Yu(e,t){var n=e.getDay();return ou((e=n>=4||0===n?Pd(e):Pd.ceil(e)).getFullYear()%1e4,t,4)}function Ku(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ou(t/60|0,"0",2)+ou(t%60,"0",2)}function Ju(e,t){return ou(e.getUTCDate(),t,2)}function Xu(e,t){return ou(e.getUTCHours(),t,2)}function $u(e,t){return ou(e.getUTCHours()%12||12,t,2)}function Qu(e,t){return ou(1+Sd.count(Hd(e),e),t,3)}function eh(e,t){return ou(e.getUTCMilliseconds(),t,3)}function th(e,t){return eh(e,t)+"000"}function nh(e,t){return ou(e.getUTCMonth()+1,t,2)}function ih(e,t){return ou(e.getUTCMinutes(),t,2)}function rh(e,t){return ou(e.getUTCSeconds(),t,2)}function ah(e){var t=e.getUTCDay();return 0===t?7:t}function oh(e,t){return ou(Ld.count(Hd(e)-1,e),t,2)}function sh(e){var t=e.getUTCDay();return t>=4||0===t?Fd(e):Fd.ceil(e)}function lh(e,t){return e=sh(e),ou(Fd.count(Hd(e),e)+(4===Hd(e).getUTCDay()),t,2)}function ch(e){return e.getUTCDay()}function dh(e,t){return ou(Md.count(Hd(e)-1,e),t,2)}function uh(e,t){return ou(e.getUTCFullYear()%100,t,2)}function hh(e,t){return ou((e=sh(e)).getUTCFullYear()%100,t,2)}function ph(e,t){return ou(e.getUTCFullYear()%1e4,t,4)}function fh(e,t){var n=e.getUTCDay();return ou((e=n>=4||0===n?Fd(e):Fd.ceil(e)).getUTCFullYear()%1e4,t,4)}function mh(){return"+0000"}function gh(){return"%"}function bh(e){return+e}function yh(e){return Math.floor(+e/1e3)}function vh(e){return new Date(e)}function xh(e){return e instanceof Date?+e:+new Date(+e)}function wh(e,t,n,i,r,a,o,s,l,c){var d=lc(),u=d.invert,h=d.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),y=c("%b %d"),v=c("%B"),x=c("%Y");function w(e){return(l(e)<e?p:s(e)<e?f:o(e)<e?m:a(e)<e?g:i(e)<e?r(e)<e?b:y:n(e)<e?v:x)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,xh)):h().map(vh)},d.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Nc(n,e)):d},d.copy=function(){return oc(d,wh(e,t,n,i,r,a,o,s,l,c))},d}function jh(){return Zo.apply(wh(Yd,Kd,qd,Wd,Cd,jd,xd,yd,bd,eu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sh(){return Zo.apply(wh(Gd,Zd,Hd,Ud,Ld,Sd,wd,vd,bd,tu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _h(){var e,t,n,i,r,a=0,o=1,s=nc,l=!1;function c(t){return null==t||isNaN(t=+t)?r:s(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,i;return arguments.length?([n,i]=t,s=e(n,i),c):[s(0),s(1)]}}return c.domain=function(r){return arguments.length?([a,o]=r,e=i(a=+a),t=i(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=d($l),c.rangeRound=d(Ql),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return i=r,e=r(a),t=r(o),n=e===t?0:1/(t-e),c}}function kh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ch(){var e=kc(_h()(nc));return e.copy=function(){return kh(e,Ch())},Yo.apply(e,arguments)}function Ah(){var e=Mc(_h()).domain([1,10]);return e.copy=function(){return kh(e,Ah()).base(e.base())},Yo.apply(e,arguments)}function Nh(){var e=Bc(_h());return e.copy=function(){return kh(e,Nh()).constant(e.constant())},Yo.apply(e,arguments)}function Oh(){var e=Hc(_h());return e.copy=function(){return kh(e,Oh()).exponent(e.exponent())},Yo.apply(e,arguments)}function Ph(){return Oh.apply(null,arguments).exponent(.5)}function Ih(){var e=[],t=nc;function n(n){if(null!=n&&!isNaN(n=+n))return t((nl(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Ks),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,i)=>td(e,i/t))},n.copy=function(){return Ih(t).domain(e)},Yo.apply(n,arguments)}function Eh(){var e,t,n,i,r,a,o,s=0,l=.5,c=1,d=1,u=nc,h=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(d*e<d*t?i:r),u(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,i,r;return arguments.length?([n,i,r]=t,u=function(e,t){void 0===t&&(t=e,e=$l);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(i-1,Math.floor(e*=i)));return a[t](e-t)}}(e,[n,i,r]),p):[u(0),u(.5),u(1)]}}return p.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=f($l),p.rangeRound=f(Ql),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d=t<e?-1:1,p}}function Th(){var e=kc(Eh()(nc));return e.copy=function(){return kh(e,Th())},Yo.apply(e,arguments)}function Lh(){var e=Mc(Eh()).domain([.1,1,10]);return e.copy=function(){return kh(e,Lh()).base(e.base())},Yo.apply(e,arguments)}function Mh(){var e=Bc(Eh());return e.copy=function(){return kh(e,Mh()).constant(e.constant())},Yo.apply(e,arguments)}function Rh(){var e=Hc(Eh());return e.copy=function(){return kh(e,Rh()).exponent(e.exponent())},Yo.apply(e,arguments)}function Dh(){return Rh.apply(null,arguments).exponent(.5)}function Fh(e,t){if((r=e.length)>1)for(var n,i,r,a=1,o=e[t[0]],s=o.length;a<r;++a)for(i=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}!function(e){Qd=function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=lu(r),d=cu(r),u=lu(a),h=cu(a),p=lu(o),f=cu(o),m=lu(s),g=cu(s),b=lu(l),y=cu(l),v={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Pu,e:Pu,f:Mu,g:Gu,G:Yu,H:Iu,I:Eu,j:Tu,L:Lu,m:Ru,M:Du,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:bh,s:yh,S:Fu,u:Bu,U:zu,V:Uu,w:qu,W:Hu,x:null,X:null,y:Vu,Y:Zu,Z:Ku,"%":gh},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ju,e:Ju,f:th,g:hh,G:fh,H:Xu,I:$u,j:Qu,L:eh,m:nh,M:ih,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:bh,s:yh,S:rh,u:ah,U:oh,V:lh,w:ch,W:dh,x:null,X:null,y:uh,Y:ph,Z:mh,"%":gh},w={a:function(e,t,n){var i=p.exec(t.slice(n));return i?(e.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=u.exec(t.slice(n));return i?(e.w=h.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=b.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=m.exec(t.slice(n));return i?(e.m=g.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return _(e,t,n,i)},d:xu,e:xu,f:Cu,g:gu,G:mu,H:ju,I:ju,j:wu,L:ku,m:vu,M:Su,p:function(e,t,n){var i=c.exec(t.slice(n));return i?(e.p=d.get(i[0].toLowerCase()),n+i[0].length):-1},q:yu,Q:Nu,s:Ou,S:_u,u:uu,U:hu,V:pu,w:du,W:fu,x:function(e,t,i){return _(e,n,t,i)},X:function(e,t,n){return _(e,i,t,n)},y:gu,Y:mu,Z:bu,"%":Au};function j(e,t){return function(n){var i,r,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(r=nu[i=e.charAt(++s)])?i=e.charAt(++s):r="e"===i?" ":"0",(a=t[i])&&(i=a(n,r)),o.push(i),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var i,r,a=$d(1900,void 0,1);if(_(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=Xd($d(a.y,0,1))).getUTCDay(),i=r>4||0===r?Md.ceil(i):Md(i),i=Sd.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(r=(i=Jd($d(a.y,0,1))).getDay(),i=r>4||0===r?Ad.ceil(i):Ad(i),i=jd.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?Xd($d(a.y,0,1)).getUTCDay():Jd($d(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Xd(a)):Jd(a)}}function _(e,t,n,i){for(var r,a,o=0,s=t.length,l=n.length;o<s;){if(i>=l)return-1;if(37===(r=t.charCodeAt(o++))){if(r=t.charAt(o++),!(a=w[r in nu?t.charAt(o++):r])||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return v.x=j(n,v),v.X=j(i,v),v.c=j(t,v),x.x=j(n,x),x.X=j(i,x),x.c=j(t,x),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),eu=Qd.format,Qd.parse,tu=Qd.utcFormat,Qd.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Bh(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function zh(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Wh(e,t){return e[t]}function Uh(e){const t=[];return t.key=e,t}var qh=n(539),Hh=n.n(qh),Vh=n(6745),Gh=n.n(Vh),Zh=n(3538),Yh=n.n(Zh),Kh=n(9853),Jh=n.n(Kh),Xh=n(8210),$h=n.n(Xh);function Qh(e){return function(e){if(Array.isArray(e))return ep(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ep(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ep(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var tp=function(e){return e},np={"@@functional/placeholder":!0},ip=function(e){return e===np},rp=function(e){return function t(){return 0===arguments.length||1===arguments.length&&ip(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},ap=function e(t,n){return 1===t?n:rp(function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=r.filter(function(e){return e!==np}).length;return o>=t?n.apply(void 0,r):e(t-o,rp(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=r.map(function(e){return ip(e)?t.shift():e});return n.apply(void 0,Qh(a).concat(t))}))})},op=function(e){return ap(e.length,e)},sp=function(e,t){for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},lp=op(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),cp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return tp;var i=t.reverse(),r=i[0],a=i.slice(1);return function(){return a.reduce(function(e,t){return t(e)},r.apply(void 0,arguments))}},dp=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},up=function(e){var t=null,n=null;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t&&r.every(function(e,n){return e===t[n]})?n:(t=r,n=e.apply(void 0,r))}};var hp=op(function(e,t,n){var i=+e;return i+n*(+t-i)}),pp=op(function(e,t,n){var i=t-+e;return(n-e)/(i=i||1/0)}),fp=op(function(e,t,n){var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});const mp={rangeStep:function(e,t,n){for(var i=new($h())(e),r=0,a=[];i.lt(t)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new($h())(e).abs().log(10).toNumber())+1},interpolateNumber:hp,uninterpolateNumber:pp,uninterpolateTruncation:fp};function gp(e){return function(e){if(Array.isArray(e))return vp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||yp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){if(e){if("string"===typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vp(e,t):void 0}}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function xp(e){var t=bp(e,2),n=t[0],i=t[1],r=n,a=i;return n>i&&(r=i,a=n),[r,a]}function wp(e,t,n){if(e.lte(0))return new($h())(0);var i=mp.getDigitCount(e.toNumber()),r=new($h())(10).pow(i),a=e.div(r),o=1!==i?.05:.1,s=new($h())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(r);return t?s:new($h())(Math.ceil(s))}function jp(e,t,n){var i=1,r=new($h())(e);if(!r.isint()&&n){var a=Math.abs(e);a<1?(i=new($h())(10).pow(mp.getDigitCount(e)-1),r=new($h())(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new($h())(Math.floor(e)))}else 0===e?r=new($h())(Math.floor((t-1)/2)):n||(r=new($h())(Math.floor(e)));var o=Math.floor((t-1)/2);return cp(lp(function(e){return r.add(new($h())(e-o).mul(i)).toNumber()}),sp)(0,t)}function Sp(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new($h())(0),tickMin:new($h())(0),tickMax:new($h())(0)};var a,o=wp(new($h())(t).sub(e).div(n-1),i,r);a=e<=0&&t>=0?new($h())(0):(a=new($h())(e).add(t).div(2)).sub(new($h())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new($h())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?Sp(e,t,n,i,r+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new($h())(s).mul(o)),tickMax:a.add(new($h())(l).mul(o))})}var _p=up(function(e){var t=bp(e,2),n=t[0],i=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(r,2),s=bp(xp([n,i]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(gp(sp(0,r-1).map(function(){return 1/0}))):[].concat(gp(sp(0,r-1).map(function(){return-1/0})),[c]);return n>i?dp(d):d}if(l===c)return jp(l,r,a);var u=Sp(l,c,o,a),h=u.step,p=u.tickMin,f=u.tickMax,m=mp.rangeStep(p,f.add(new($h())(.1).mul(h)),h);return n>i?dp(m):m}),kp=(up(function(e){var t=bp(e,2),n=t[0],i=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(r,2),s=bp(xp([n,i]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return jp(l,r,a);var d=wp(new($h())(c).sub(l).div(o-1),a,0),u=cp(lp(function(e){return new($h())(l).add(new($h())(e).mul(d)).toNumber()}),sp)(0,o).filter(function(e){return e>=l&&e<=c});return n>i?dp(u):u}),up(function(e,t){var n=bp(e,2),i=n[0],r=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=bp(xp([i,r]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[i,r];if(s===l)return[s];var c=Math.max(t,2),d=wp(new($h())(l).sub(s).div(c-1),a,0),u=[].concat(gp(mp.rangeStep(new($h())(s),new($h())(l).sub(new($h())(.99).mul(d)),d)),[l]);return i>r?dp(u):u})),Cp=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ap(e){return Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Np.apply(this,arguments)}function Op(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ip(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ep(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fp(i.key),i)}}function Tp(e,t,n){return t=Mp(t),function(e,t){if(t&&("object"===Ap(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lp()?Reflect.construct(t,n||[],Mp(e).constructor):t.apply(e,n))}function Lp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Lp=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(e)}function Rp(e,t){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rp(e,t)}function Dp(e,t,n){return(t=Fp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e){var t=function(e,t){if("object"!=Ap(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ap(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ap(t)?t:t+""}var Bp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tp(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,a=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=Ip(e,Cp),u=vn(d,!1);"x"===this.props.direction&&"number"!==l.type&&b(!1);var h=o.map(function(e){var o=s(e,a),d=o.x,h=o.y,p=o.value,f=o.errorVal;if(!f)return null;var m,g,b=[];if(Array.isArray(f)){var y=Op(f,2);m=y[0],g=y[1]}else m=g=f;if("vertical"===n){var v=l.scale,x=h+t,w=x+r,j=x-r,S=v(p-m),_=v(p+g);b.push({x1:_,y1:w,x2:_,y2:j}),b.push({x1:S,y1:x,x2:_,y2:x}),b.push({x1:S,y1:w,x2:S,y2:j})}else if("horizontal"===n){var k=c.scale,C=d+t,A=C-r,N=C+r,O=k(p-m),P=k(p+g);b.push({x1:A,y1:P,x2:N,y2:P}),b.push({x1:C,y1:O,x2:C,y2:P}),b.push({x1:A,y1:O,x2:N,y2:O})}return i.createElement(Wn,Np({className:"recharts-errorBar",key:"bar-".concat(b.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),b.map(function(e){return i.createElement("line",Np({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return i.createElement(Wn,{className:"recharts-errorBars"},h)}}],r&&Ep(n.prototype,r),a&&Ep(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);function zp(e){return zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(e)}function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wp(Object(n),!0).forEach(function(t){qp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=zp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Dp(Bp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Dp(Bp,"displayName","ErrorBar");var Hp=function(e){var t=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,r=e.legendContent,a=mn(t,ra);if(!a)return null;var o,s=ra.defaultProps,l=void 0!==s?Up(Up({},s),a.props):{};return o=a.props&&a.props.payload?a.props&&a.props.payload:"children"===r?(n||[]).reduce(function(e,t){var n=t.item,i=t.props,r=i.sectors||i.data||[];return e.concat(r.map(function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,i=void 0!==n?Up(Up({},n),t.props):{},r=i.dataKey,a=i.name,o=i.legendType;return{inactive:i.hide,dataKey:r,type:l.iconType||o||"square",color:Qp(t),value:a||r,payload:i}}),Up(Up(Up({},l),ra.getWithHeight(a,i)),{},{payload:o,item:a})};function Vp(e){return Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(e)}function Gp(e){return function(e){if(Array.isArray(e))return Zp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach(function(t){Jp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jp(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Vp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Vp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xp(e,t,n){return Et()(e)||Et()(t)?n:Rt(t)?Nt()(e,t,n):Gt()(t)?t(e):n}function $p(e,t,n,i){var r=Yh()(e,function(e){return Xp(e,t)});if("number"===n){var a=r.filter(function(e){return Mt(e)||parseFloat(e)});return a.length?[Gh()(a),Hh()(a)]:[1/0,-1/0]}return(i?r.filter(function(e){return!Et()(e)}):r).map(function(e){return Rt(e)||e instanceof Date?e:""})}var Qp=function(e){var t,n,i=e.type.displayName,r=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Kp(Kp({},e.type.defaultProps),e.props):e.props,a=r.stroke,o=r.fill;switch(i){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:o;break;default:n=o}return n},ef=function(e,t,n,i,r){var a=fn(t.props.children,Bp).filter(function(e){return function(e,t,n){return!!Et()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(i,r,e.props.direction)});if(a&&a.length){var o=a.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var i=Xp(t,n);if(Et()(i))return e;var r=Array.isArray(i)?[Gh()(i),Hh()(i)]:[i,i],a=o.reduce(function(e,n){var i=Xp(t,n,0),a=r[0]-Math.abs(Array.isArray(i)?i[0]:i),o=r[1]+Math.abs(Array.isArray(i)?i[1]:i);return[Math.min(a,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0])}return null},tf=function(e,t,n,i,r){var a=t.map(function(t){var a=t.props.dataKey;return"number"===n&&a&&ef(e,t,a,i)||$p(e,a,n,r)});if("number"===n)return a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return a.reduce(function(e,t){for(var n=0,i=t.length;n<i;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},nf=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},rf=function(e,t,n,i){if(i)return e.map(function(e){return e.coordinate});var r,a,o=e.map(function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(a=!0),e.coordinate});return r||o.push(t),a||o.push(n),o},af=function(e,t,n){if(!e)return null;var i=e.scale,r=e.duplicateDomain,a=e.type,o=e.range,s="scaleBand"===e.realScaleType?i.bandwidth()/2:2,l=(t||n)&&"category"===a&&i.bandwidth?i.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Tt(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=r?r.indexOf(e):e;return{coordinate:i(t)+l,value:e,offset:l}}).filter(function(e){return!Ct()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:i(e)+l,value:e,index:t,offset:l}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(e){return{coordinate:i(e)+l,value:e,offset:l}}):i.domain().map(function(e,t){return{coordinate:i(e)+l,value:r?r[e]:e,index:t,offset:l}})},of=new WeakMap,sf=function(e,t){if("function"!==typeof t)return e;of.has(e)||of.set(e,new WeakMap);var n=of.get(e);if(n.has(t))return n.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,i),i},lf=1e-4,cf={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var r=0,a=0,o=0;o<t;++o){var s=Ct()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=r,e[o][n][1]=r+s,r=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((i=e.length)>0){for(var n,i,r,a=0,o=e[0].length;a<o;++a){for(r=n=0;n<i;++n)r+=e[n][a][1]||0;if(r)for(n=0;n<i;++n)e[n][a][1]/=r}Fh(e,t)}},none:Fh,silhouette:function(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],a=r.length;i<a;++i){for(var o=0,s=0;o<n;++o)s+=e[o][i][1]||0;r[i][1]+=r[i][0]=-s/2}Fh(e,t)}},wiggle:function(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,a=0,o=1;o<i;++o){for(var s=0,l=0,c=0;s<r;++s){for(var d=e[t[s]],u=d[o][1]||0,h=(u-(d[o-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[o][1]||0)-(f[o-1][1]||0)}l+=u,c+=h*u}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,Fh(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var r=0,a=0;a<t;++a){var o=Ct()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=r,e[a][n][1]=r+o,r=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},df=function(e,t,n){var i=t.map(function(e){return e.props.dataKey}),r=cf[n],a=function(){var e=er([]),t=zh,n=Fh,i=Wh;function r(r){var a,o,s=Array.from(e.apply(this,arguments),Uh),l=s.length,c=-1;for(const e of r)for(a=0,++c;a<l;++a)(s[a][c]=[0,+i(e,s[a].key,c,r)]).data=e;for(a=0,o=Bh(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return r.keys=function(t){return arguments.length?(e="function"===typeof t?t:er(Array.from(t)),r):e},r.value=function(e){return arguments.length?(i="function"===typeof e?e:er(+e),r):i},r.order=function(e){return arguments.length?(t=null==e?zh:"function"===typeof e?e:er(Array.from(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?Fh:e,r):n},r}().keys(i).value(function(e,t){return+Xp(e,t,0)}).order(zh).offset(r);return a(e)};function uf(e){var t=e.axis,n=e.ticks,i=e.bandSize,r=e.entry,a=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Et()(r[t.dataKey])){var s=Ut(n,"value",r[t.dataKey]);if(s)return s.coordinate+i/2}return n[a]?n[a].coordinate+i/2:null}var l=Xp(r,Et()(o)?t.dataKey:o);return Et()(l)?null:t.scale(l)}var hf=function(e){var t=e.axis,n=e.ticks,i=e.offset,r=e.bandSize,a=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+i:null;var s=Xp(a,t.dataKey,t.domain[o]);return Et()(s)?null:t.scale(s)-r/2+i},pf=function(e,t,n){return Object.keys(e).reduce(function(i,r){var a=e[r].stackedData.reduce(function(e,i){var r=i.slice(t,n+1).reduce(function(e,t){return[Gh()(t.concat([e[0]]).filter(Mt)),Hh()(t.concat([e[1]]).filter(Mt))]},[1/0,-1/0]);return[Math.min(e[0],r[0]),Math.max(e[1],r[1])]},[1/0,-1/0]);return[Math.min(a[0],i[0]),Math.max(a[1],i[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},ff=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mf=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gf=function(e,t,n){if(Gt()(e))return e(t,n);if(!Array.isArray(e))return t;var i=[];if(Mt(e[0]))i[0]=n?e[0]:Math.min(e[0],t[0]);else if(ff.test(e[0])){var r=+ff.exec(e[0])[1];i[0]=t[0]-r}else Gt()(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(Mt(e[1]))i[1]=n?e[1]:Math.max(e[1],t[1]);else if(mf.test(e[1])){var a=+mf.exec(e[1])[1];i[1]=t[1]+a}else Gt()(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},bf=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var r=Tn()(t,function(e){return e.coordinate}),a=1/0,o=1,s=r.length;o<s;o++){var l=r[o],c=r[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},yf=function(e,t,n){return e&&e.length?Jh()(e,Nt()(n,"type.defaultProps.domain"))?t:e:t},vf=function(e,t){var n=e.type.defaultProps?Kp(Kp({},e.type.defaultProps),e.props):e.props,i=n.dataKey,r=n.name,a=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return Kp(Kp({},vn(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:r||i,color:Qp(e),value:Xp(t,i),type:s,payload:t,chartType:l,hide:c})};function xf(e){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(e)}function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach(function(t){Sf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=xf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _f=["Webkit","Moz","O","ms"];function kf(e){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cf.apply(this,arguments)}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Af(Object(n),!0).forEach(function(t){Lf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Of(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Mf(i.key),i)}}function Pf(e,t,n){return t=Ef(t),function(e,t){if(t&&("object"===kf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,If()?Reflect.construct(t,n||[],Ef(e).constructor):t.apply(e,n))}function If(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(If=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ef(e)}function Tf(e,t){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tf(e,t)}function Lf(e,t,n){return(t=Mf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mf(e){var t=function(e,t){if("object"!=kf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=kf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kf(t)?t:t+""}var Rf=function(e){return e.changedTouches&&!!e.changedTouches.length},Df=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lf(n=Pf(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),Lf(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),Lf(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,i=e.onDragEnd,r=e.startIndex;null===i||void 0===i||i({endIndex:t,startIndex:r})}),n.detachDragEndListener()}),Lf(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Lf(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Lf(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Lf(n,"handleSlideDragStart",function(e){var t=Rf(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tf(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,i=e.endX,r=this.state.scaleValues,a=this.props,o=a.gap,s=a.data.length-1,l=Math.min(n,i),c=Math.max(n,i),d=t.getIndexInRange(r,l),u=t.getIndexInRange(r,c);return{startIndex:d-d%o,endIndex:u===s?s:u-u%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,i=t.tickFormatter,r=t.dataKey,a=Xp(n[e],r,e);return Gt()(i)?i(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,i=t.startX,r=t.endX,a=this.props,o=a.x,s=a.width,l=a.travellerWidth,c=a.startIndex,d=a.endIndex,u=a.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+s-l-r,o+s-l-i):h<0&&(h=Math.max(h,o-i,o-r));var p=this.getIndex({startX:i+h,endX:r+h});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:i+h,endX:r+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Rf(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,i=t.movingTravellerId,r=t.endX,a=t.startX,o=this.state[i],s=this.props,l=s.x,c=s.width,d=s.travellerWidth,u=s.onChange,h=s.gap,p=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-d-o):m<0&&(m=Math.max(m,l-o)),f[i]=o+m;var g=this.getIndex(f),b=g.startIndex,y=g.endIndex;this.setState(Lf(Lf({},i,o+m),"brushMoveStartX",e.pageX),function(){u&&function(){var e=p.length-1;return"startX"===i&&(r>a?b%h===0:y%h===0)||r<a&&y===e||"endX"===i&&(r>a?y%h===0:b%h===0)||r>a&&y===e}()&&u(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,i=this.state,r=i.scaleValues,a=i.startX,o=i.endX,s=this.state[t],l=r.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=r.length)){var d=r[c];"startX"===t&&d>=o||"endX"===t&&d<=a||this.setState(Lf({},t,d),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,o=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:o,x:t,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,o=e.data,s=e.children,l=e.padding,c=i.Children.only(s);return c?i.cloneElement(c,{x:t,y:n,width:r,height:a,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,a,o=this,s=this.props,l=s.y,c=s.travellerWidth,d=s.height,u=s.traveller,h=s.ariaLabel,p=s.data,f=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),b=Nf(Nf({},vn(this.props,!1)),{},{x:g,y:l,width:c,height:d}),y=h||"Min value: ".concat(null===(r=p[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(a=p[m])||void 0===a?void 0:a.name);return i.createElement(Wn,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,b))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,a=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:r,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,a=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:s};return i.createElement(Wn,{className:"recharts-brush-texts"},i.createElement(Ws,Cf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:r+a/2},u),this.getTextOfTick(t)),i.createElement(Ws,Cf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+o+5,y:r+a/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,a=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,h=d.endX,p=d.isTextActive,f=d.isSlideMoving,m=d.isTravellerMoving,g=d.isTravellerFocused;if(!t||!t.length||!Mt(a)||!Mt(o)||!Mt(s)||!Mt(l)||s<=0||l<=0)return null;var b=xt("recharts-brush",n),y=1===i.Children.count(r),v=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),i=_f.reduce(function(e,i){return jf(jf({},e),{},Sf({},i+n,t))},{});return i[e]=t,i}("userSelect","none");return i.createElement(Wn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,h),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(h,"endX"),(p||f||m||g||c)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.stroke,s=Math.floor(n+a/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:a,fill:o,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):Gt()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,i=e.width,r=e.x,a=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return Nf({prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:r,prevWidth:i},n&&n.length?function(e){var t=e.data,n=e.startIndex,i=e.endIndex,r=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=rs().domain(In()(0,s)).range([r,r+a-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(i),scale:l,scaleValues:c}}({data:n,width:i,x:r,travellerWidth:a,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(i!==t.prevWidth||r!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([r,r+i-a]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:r,prevWidth:i,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,i=e.length-1;i-n>1;){var r=Math.floor((n+i)/2);e[r]>t?i=r:n=r}return t>=e[i]?i:n}}],r&&Of(n.prototype,r),a&&Of(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent);function Ff(e){return Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(e)}function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach(function(t){Wf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wf(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ff(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ff(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ff(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lf(Df,"displayName","Brush"),Lf(Df,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Uf=Math.PI/180,qf=function(e){return 180*e/Math.PI},Hf=function(e,t,n,i){return{x:e+Math.cos(-Uf*i)*n,y:t+Math.sin(-Uf*i)*n}},Vf=function(e,t){var n=e.x,i=e.y,r=t.cx,a=t.cy,o=function(e,t){var n=e.x,i=e.y,r=t.x,a=t.y;return Math.sqrt(Math.pow(n-r,2)+Math.pow(i-a,2))}({x:n,y:i},{x:r,y:a});if(o<=0)return{radius:o};var s=(n-r)/o,l=Math.acos(s);return i>a&&(l=2*Math.PI-l),{radius:o,angle:qf(l),angleInRadian:l}},Gf=function(e,t){var n=t.startAngle,i=t.endAngle,r=Math.floor(n/360),a=Math.floor(i/360);return e+360*Math.min(r,a)},Zf=function(e,t){var n=e.x,i=e.y,r=Vf({x:n,y:i},t),a=r.radius,o=r.angle,s=t.innerRadius,l=t.outerRadius;if(a<s||a>l)return!1;if(0===a)return!0;var c,d=function(e){var t=e.startAngle,n=e.endAngle,i=Math.floor(t/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:t-360*a,endAngle:n-360*a}}(t),u=d.startAngle,h=d.endAngle,p=o;if(u<=h){for(;p>h;)p-=360;for(;p<u;)p+=360;c=p>=u&&p<=h}else{for(;p>u;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=u}return c?zf(zf({},t),{},{radius:a,angle:Gf(p,t)}):null};function Yf(e){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(e)}var Kf=["offset"];function Jf(e){return function(e){if(Array.isArray(e))return Xf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Xf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $f(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach(function(t){tm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Yf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Yf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yf(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nm.apply(this,arguments)}var im=function(e,t,n){var r,a,o=e.position,s=e.viewBox,l=e.offset,c=e.className,d=s,u=d.cx,h=d.cy,p=d.innerRadius,f=d.outerRadius,m=d.startAngle,g=d.endAngle,b=d.clockWise,y=(p+f)/2,v=function(e,t){return Tt(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=v>=0?1:-1;"insideStart"===o?(r=m+x*l,a=b):"insideEnd"===o?(r=g-x*l,a=!b):"end"===o&&(r=g+x*l,a=b),a=v<=0?a:!a;var w=Hf(u,h,y,r),j=Hf(u,h,y,r+359*(a?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),_=Et()(e.id)?Ft("recharts-radial-line-"):e.id;return i.createElement("text",nm({},n,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:_,d:S})),i.createElement("textPath",{xlinkHref:"#".concat(_)},t))};function rm(e){var t,n=e.offset,r=em({offset:void 0===n?5:n},$f(e,Kf)),a=r.viewBox,o=r.position,s=r.value,l=r.children,c=r.content,d=r.className,u=void 0===d?"":d,h=r.textBreakAll;if(!a||Et()(s)&&Et()(l)&&!(0,i.isValidElement)(c)&&!Gt()(c))return null;if((0,i.isValidElement)(c))return(0,i.cloneElement)(c,r);if(Gt()(c)){if(t=(0,i.createElement)(c,r),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,i=Et()(e.children)?t:e.children;return Gt()(n)?n(i):i}(r);var p=function(e){return"cx"in e&&Mt(e.cx)}(a),f=vn(r,!0);if(p&&("insideStart"===o||"insideEnd"===o||"end"===o))return im(r,t,f);var m=p?function(e){var t=e.viewBox,n=e.offset,i=e.position,r=t,a=r.cx,o=r.cy,s=r.innerRadius,l=r.outerRadius,c=(r.startAngle+r.endAngle)/2;if("outside"===i){var d=Hf(a,o,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if("center"===i)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===i)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===i)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=Hf(a,o,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,i=e.offset,r=e.position,a=t,o=a.x,s=a.y,l=a.width,c=a.height,d=c>=0?1:-1,u=d*i,h=d>0?"end":"start",p=d>0?"start":"end",f=l>=0?1:-1,m=f*i,g=f>0?"end":"start",b=f>0?"start":"end";if("top"===r)return em(em({},{x:o+l/2,y:s-d*i,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===r)return em(em({},{x:o+l/2,y:s+c+u,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===r){var y={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return em(em({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===r){var v={x:o+l+m,y:s+c/2,textAnchor:b,verticalAnchor:"middle"};return em(em({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===r?em({x:o+m,y:s+c/2,textAnchor:b,verticalAnchor:"middle"},x):"insideRight"===r?em({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===r?em({x:o+l/2,y:s+u,textAnchor:"middle",verticalAnchor:p},x):"insideBottom"===r?em({x:o+l/2,y:s+c-u,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===r?em({x:o+m,y:s+u,textAnchor:b,verticalAnchor:p},x):"insideTopRight"===r?em({x:o+l-m,y:s+u,textAnchor:g,verticalAnchor:p},x):"insideBottomLeft"===r?em({x:o+m,y:s+c-u,textAnchor:b,verticalAnchor:h},x):"insideBottomRight"===r?em({x:o+l-m,y:s+c-u,textAnchor:g,verticalAnchor:h},x):Yt()(r)&&(Mt(r.x)||Lt(r.x))&&(Mt(r.y)||Lt(r.y))?em({x:o+Bt(r.x,l),y:s+Bt(r.y,c),textAnchor:"end",verticalAnchor:"end"},x):em({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return i.createElement(Ws,nm({className:xt("recharts-label",u)},f,m,{breakAll:h}),t)}rm.displayName="Label";var am=function(e){var t=e.cx,n=e.cy,i=e.angle,r=e.startAngle,a=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,h=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,b=e.labelViewBox;if(b)return b;if(Mt(f)&&Mt(m)){if(Mt(d)&&Mt(u))return{x:d,y:u,width:f,height:m};if(Mt(h)&&Mt(p))return{x:h,y:p,width:f,height:m}}return Mt(d)&&Mt(u)?{x:d,y:u,width:0,height:0}:Mt(t)&&Mt(n)?{cx:t,cy:n,startAngle:r||i||0,endAngle:a||i||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};rm.parseViewBox=am,rm.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=am(e),o=fn(r,rm).map(function(e,n){return(0,i.cloneElement)(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return o;var s=function(e,t){return e?!0===e?i.createElement(rm,{key:"label-implicit",viewBox:t}):Rt(e)?i.createElement(rm,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===rm?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(rm,{key:"label-implicit",content:e,viewBox:t}):Gt()(e)?i.createElement(rm,{key:"label-implicit",content:e,viewBox:t}):Yt()(e)?i.createElement(rm,nm({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(Jf(o))};var om=function(e,t){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===t},sm=n(1733),lm=n.n(sm),cm=n(7002),dm=n.n(cm),um=function(e){return null};um.displayName="Cell";var hm=n(4065),pm=n.n(hm);function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}var mm=["valueAccessor"],gm=["data","dataKey","clockWise","id","textBreakAll"];function bm(e){return function(e){if(Array.isArray(e))return ym(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ym(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vm.apply(this,arguments)}function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach(function(t){jm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sm(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _m=function(e){return Array.isArray(e.value)?pm()(e.value):e.value};function km(e){var t=e.valueAccessor,n=void 0===t?_m:t,r=Sm(e,mm),a=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,d=Sm(r,gm);return a&&a.length?i.createElement(Wn,{className:"recharts-label-list"},a.map(function(e,t){var r=Et()(o)?n(e,t):Xp(e&&e.payload,o),a=Et()(l)?{}:{id:"".concat(l,"-").concat(t)};return i.createElement(rm,vm({},vn(e,!0),d,a,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:rm.parseViewBox(Et()(s)?e:wm(wm({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}km.displayName="LabelList",km.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=fn(e.children,km).map(function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?i.createElement(km,{key:"labelList-implicit",data:t}):i.isValidElement(e)||Gt()(e)?i.createElement(km,{key:"labelList-implicit",data:t,content:e}):Yt()(e)?i.createElement(km,vm({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(bm(r)):r};var Cm=n(2322),Am=n.n(Cm),Nm=n(6361),Om=n.n(Nm);function Pm(e){return Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Im.apply(this,arguments)}function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach(function(t){Rm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Pm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Pm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dm=function(e,t,n,i,r){var a,o=n-i;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+r),a+="L ".concat(e+n-o/2-i,",").concat(t+r),a+="L ".concat(e,",").concat(t," Z")},Fm={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bm=function(e){var t=Mm(Mm({},Fm),e),n=(0,i.useRef)(),r=Em((0,i.useState)(-1),2),a=r[0],o=r[1];(0,i.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,h=t.className,p=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var b=xt("recharts-trapezoid",h);return g?i.createElement(Mo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:s,y:l},duration:f,animationEasing:p,isActive:g},function(e){var r=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return i.createElement(Mo,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,easing:p},i.createElement("path",Im({},vn(t,!0),{className:b,d:Dm(l,c,r,o,s),ref:n})))}):i.createElement("g",null,i.createElement("path",Im({},vn(t,!0),{className:b,d:Dm(s,l,c,d,u)})))};function zm(e){return zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(e)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wm.apply(this,arguments)}function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(n),!0).forEach(function(t){Hm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=zm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vm=function(e){var t=e.cx,n=e.cy,i=e.radius,r=e.angle,a=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+i,d=Math.asin(s/c)/Uf,u=l?r:r+a*d,h=l?r-a*d:r;return{center:Hf(t,n,c,u),circleTangency:Hf(t,n,i,u),lineTangency:Hf(t,n,c*Math.cos(d*Uf),h),theta:d}},Gm=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,r=e.outerRadius,a=e.startAngle,o=function(e,t){return Tt(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),s=a+o,l=Hf(t,n,r,a),c=Hf(t,n,r,s),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(r,",").concat(r,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(i>0){var u=Hf(t,n,i,a),h=Hf(t,n,i,s);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(i,",").concat(i,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=s),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Zm={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ym=function(e){var t=qm(qm({},Zm),e),n=t.cx,r=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=t.className;if(o<a||d===u)return null;var p,f=xt("recharts-sector",h),m=o-a,g=Bt(s,m,0,!0);return p=g>0&&Math.abs(d-u)<360?function(e){var t=e.cx,n=e.cy,i=e.innerRadius,r=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=Tt(c-l),u=Vm({cx:t,cy:n,radius:r,angle:l,sign:d,cornerRadius:a,cornerIsExternal:s}),h=u.circleTangency,p=u.lineTangency,f=u.theta,m=Vm({cx:t,cy:n,radius:r,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:s}),g=m.circleTangency,b=m.lineTangency,y=m.theta,v=s?Math.abs(l-c):Math.abs(l-c)-f-y;if(v<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):Gm({cx:t,cy:n,innerRadius:i,outerRadius:r,startAngle:l,endAngle:c});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(r,",").concat(r,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,"\n  ");if(i>0){var w=Vm({cx:t,cy:n,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),j=w.circleTangency,S=w.lineTangency,_=w.theta,k=Vm({cx:t,cy:n,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),C=k.circleTangency,A=k.lineTangency,N=k.theta,O=s?Math.abs(l-c):Math.abs(l-c)-_-N;if(O<0&&0===a)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(A.x,",").concat(A.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):Gm({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:u}),i.createElement("path",Wm({},vn(t,!0),{className:f,d:p,role:"img"}))},Km=["option","shapeType","propTransformer","activeClassName","isActive"];function Jm(e){return Jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(e)}function Xm(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(n),!0).forEach(function(t){eg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Jm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Jm(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jm(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e,t){return Qm(Qm({},t),e)}function ng(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement(Go,n);case"trapezoid":return i.createElement(Bm,n);case"sector":return i.createElement(Ym,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(Er,n);break;default:return null}}function ig(e){var t,n=e.option,r=e.shapeType,a=e.propTransformer,o=void 0===a?tg:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,d=Xm(e,Km);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,Qm(Qm({},d),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(Gt()(n))t=n(d);else if(Am()(n)&&!Om()(n)){var u=o(n,d);t=i.createElement(ng,{shapeType:r,elementProps:u})}else{var h=d;t=i.createElement(ng,{shapeType:r,elementProps:h})}return c?i.createElement(Wn,{className:l},t):t}function rg(e,t){return null!=t&&"trapezoids"in e.props}function ag(e,t){return null!=t&&"sectors"in e.props}function og(e,t){return null!=t&&"points"in e.props}function sg(e,t){var n,i,r=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null===t||void 0===t||null===(i=t.labelViewBox)||void 0===i?void 0:i.y)||e.y===t.y;return r&&a}function lg(e,t){var n=e.endAngle===t.endAngle,i=e.startAngle===t.startAngle;return n&&i}function cg(e,t){var n=e.x===t.x,i=e.y===t.y,r=e.z===t.z;return n&&i&&r}function dg(e){var t=e.activeTooltipItem,n=e.graphicalItem,i=e.itemData,r=function(e,t){var n;return rg(e,t)?n="trapezoids":ag(e,t)?n="sectors":og(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,i;return rg(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ag(e,t)?null===(i=t.tooltipPayload)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.payload)||void 0===i?void 0:i.payload:og(e,t)?t.payload:{}}(n,t),o=i.filter(function(e,i){var o=Jh()(a,e),s=n.props[r].filter(function(e){var i=function(e,t){var n;return rg(e,t)?n=sg:ag(e,t)?n=lg:og(e,t)&&(n=cg),n}(n,t);return i(e,t)}),l=n.props[r].indexOf(s[s.length-1]);return o&&i===l});return i.indexOf(o[o.length-1])}var ug=["x","y"];function hg(e){return hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pg.apply(this,arguments)}function fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fg(Object(n),!0).forEach(function(t){gg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=hg(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hg(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bg(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yg(e,t){var n=e.x,i=e.y,r=bg(e,ug),a="".concat(n),o=parseInt(a,10),s="".concat(i),l=parseInt(s,10),c="".concat(t.height||r.height),d=parseInt(c,10),u="".concat(t.width||r.width),h=parseInt(u,10);return mg(mg(mg(mg(mg({},t),r),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function vg(e){return i.createElement(ig,pg({shapeType:"rectangle",propTransformer:yg,activeClassName:"recharts-active-bar"},e))}var xg,wg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,i){if("number"===typeof e)return e;var r=Mt(n)||function(e){return Et()(e)}(n);return r?e(n,i):(r||b(!1),t)}},jg=["value","background"];function Sg(e){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(e)}function _g(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kg.apply(this,arguments)}function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(n),!0).forEach(function(t){Tg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ng(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Lg(i.key),i)}}function Og(e,t,n){return t=Ig(t),function(e,t){if(t&&("object"===Sg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pg()?Reflect.construct(t,n||[],Ig(e).constructor):t.apply(e,n))}function Pg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Pg=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ig(e)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eg(e,t)}function Tg(e,t,n){return(t=Lg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lg(e){var t=function(e,t){if("object"!=Sg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Sg(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sg(t)?t:t+""}var Mg=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return Tg(e=Og(this,t,[].concat(i)),"state",{isAnimationFinished:!1}),Tg(e,"id",Ft("recharts-bar-")),Tg(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),Tg(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.dataKey,o=n.activeIndex,s=n.activeBar,l=vn(this.props,!1);return e&&e.map(function(e,n){var c=n===o,d=c?s:r,u=Ag(Ag(Ag({},l),e),{},{isActive:c,option:d,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(Wn,kg({className:"recharts-bar-rectangle"},rn(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),i.createElement(vg,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,a=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return i.createElement(Mo,{begin:o,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,o=n.map(function(e,t){var n=d&&d[t];if(n){var i=Wt(n.x,e.x),o=Wt(n.y,e.y),s=Wt(n.width,e.width),l=Wt(n.height,e.height);return Ag(Ag({},e),{},{x:i(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===r){var c=Wt(0,e.height)(a);return Ag(Ag({},e),{},{y:e.y+e.height-c,height:c})}var u=Wt(0,e.width)(a);return Ag(Ag({},e),{},{width:u})});return i.createElement(Wn,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,i=this.state.prevData;return!(n&&t&&t.length)||i&&Jh()(i,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,a=t.activeIndex,o=vn(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,l=_g(t,jg);if(!s)return null;var c=Ag(Ag(Ag(Ag(Ag({},l),{},{fill:"#eee"},s),o),rn(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(vg,kg({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,a=n.xAxis,o=n.yAxis,s=n.layout,l=fn(n.children,Bp);if(!l)return null;var c="vertical"===s?r[0].height/2:r[0].width/2,d=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Xp(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Wn,u,l.map(function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:a,yAxis:o,layout:s,offset:c,dataPointFormatter:d})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,a=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,h=e.background,p=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,m=xt("recharts-bar",r),g=a&&a.allowDataOverflow,b=o&&o.allowDataOverflow,y=g||b,v=Et()(p)?this.id:p;return i.createElement(Wn,{className:m},g||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(v)},i.createElement("rect",{x:g?s:s-c/2,y:b?l:l-d/2,width:g?c:2*c,height:b?d:2*d}))):null,i.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(v,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,v),(!u||f)&&km.renderCallByParent(this.props,n))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&Ng(n.prototype,r),a&&Ng(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent);function Rg(e){return Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(e)}function Dg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Wg(i.key),i)}}function Fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fg(Object(n),!0).forEach(function(t){zg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zg(e,t,n){return(t=Wg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wg(e){var t=function(e,t){if("object"!=Rg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Rg(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rg(t)?t:t+""}xg=Mg,Tg(Mg,"displayName","Bar"),Tg(Mg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Tg(Mg,"getComposedData",function(e){var t=e.props,n=e.item,i=e.barPosition,r=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===t)return e[n].position;return null}(i,n);if(!p)return null;var f=t.layout,m=n.type.defaultProps,g=void 0!==m?Ag(Ag({},m),n.props):n.props,b=g.dataKey,y=g.children,v=g.minPointSize,x="horizontal"===f?o:a,w=c?x.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return i<=0&&r>=0?0:r<0?r:i}return n[0]}({numericAxis:x}),S=fn(y,um),_=u.map(function(e,t){var i,u,h,m,g,y;c?i=function(e,t){if(!t||2!==t.length||!Mt(t[0])||!Mt(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),r=[e[0],e[1]];return(!Mt(e[0])||e[0]<n)&&(r[0]=n),(!Mt(e[1])||e[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<n&&(r[1]=n),r}(c[d+t],w):(i=Xp(e,b),Array.isArray(i)||(i=[j,i]));var x=wg(v,xg.defaultProps.minPointSize)(i[1],t);if("horizontal"===f){var _,k=[o.scale(i[0]),o.scale(i[1])],C=k[0],A=k[1];u=hf({axis:a,ticks:s,bandSize:r,offset:p.offset,entry:e,index:t}),h=null!==(_=null!==A&&void 0!==A?A:C)&&void 0!==_?_:void 0,m=p.size;var N=C-A;if(g=Number.isNaN(N)?0:N,y={x:u,y:o.y,width:m,height:o.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var O=Tt(g||x)*(Math.abs(x)-Math.abs(g));h-=O,g+=O}}else{var P=[a.scale(i[0]),a.scale(i[1])],I=P[0],E=P[1];if(u=I,h=hf({axis:o,ticks:l,bandSize:r,offset:p.offset,entry:e,index:t}),m=E-I,g=p.size,y={x:a.x,y:h,width:a.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=Tt(m||x)*(Math.abs(x)-Math.abs(m))}return Ag(Ag(Ag({},e),{},{x:u,y:h,width:m,height:g,value:c?i:i[1],payload:e,background:y},S&&S[t]&&S[t].props),{},{tooltipPayload:[vf(n,e)],tooltipPosition:{x:u+m/2,y:h+g/2}})});return Ag({data:_,layout:f},h)});var Ug=function(t,n,i,r,a){var o=t.width,s=t.height,l=t.layout,c=t.children,d=Object.keys(n),u={left:i.left,leftMirror:i.left,right:o-i.right,rightMirror:o-i.right,top:i.top,topMirror:i.top,bottom:s-i.bottom,bottomMirror:s-i.bottom},h=!!mn(c,Mg);return d.reduce(function(o,s){var c,d,p,f,m,g=n[s],b=g.orientation,y=g.domain,v=g.padding,x=void 0===v?{}:v,w=g.mirror,j=g.reversed,S="".concat(b).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var _=y[1]-y[0],k=1/0,C=g.categoricalDomain.sort(qt);if(C.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(C[t-1]||0),k))}),Number.isFinite(k)){var A=k/_,N="vertical"===g.layout?i.height:i.width;if("gap"===g.padding&&(c=A*N/2),"no-gap"===g.padding){var O=Bt(t.barCategoryGap,A*N),P=A*N/2;c=P-O-(P-O)/N*O}}}d="xAxis"===r?[i.left+(x.left||0)+(c||0),i.left+i.width-(x.right||0)-(c||0)]:"yAxis"===r?"horizontal"===l?[i.top+i.height-(x.bottom||0),i.top+(x.top||0)]:[i.top+(x.top||0)+(c||0),i.top+i.height-(x.bottom||0)-(c||0)]:g.range,j&&(d=[d[1],d[0]]);var I=function(t,n,i){var r=t.scale,a=t.type,o=t.layout,s=t.axisType;if("auto"===r)return"radial"===o&&"radiusAxis"===s?{scale:ns(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:Cc(),realScaleType:"linear"}:"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:rs(),realScaleType:"point"}:"category"===a?{scale:ns(),realScaleType:"band"}:{scale:Cc(),realScaleType:"linear"};if(_t()(r)){var l="scale".concat(Ii()(r));return{scale:(e[l]||rs)(),realScaleType:e[l]?l:"point"}}return Gt()(r)?{scale:r}:{scale:rs(),realScaleType:"point"}}(g,a,h),E=I.scale,T=I.realScaleType;E.domain(y).range(d),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,i=e.range(),r=Math.min(i[0],i[1])-lf,a=Math.max(i[0],i[1])+lf,o=e(t[0]),s=e(t[n-1]);(o<r||o>a||s<r||s>a)&&e.domain([t[0],t[n-1]])}}(E);var L=function(e,t){var n=t.realScaleType,i=t.type,r=t.tickCount,a=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(r&&"number"===i&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=_p(l,r,o);return e.domain([Gh()(c),Hh()(c)]),{niceTicks:c}}if(r&&"number"===i){var d=e.domain();return{niceTicks:kp(d,r,o)}}return null}(E,Bg(Bg({},g),{},{realScaleType:T}));"xAxis"===r?(m="top"===b&&!w||"bottom"===b&&w,p=i.left,f=u[S]-m*g.height):"yAxis"===r&&(m="left"===b&&!w||"right"===b&&w,p=u[S]-m*g.width,f=i.top);var M=Bg(Bg(Bg({},g),L),{},{realScaleType:T,x:p,y:f,scale:E,width:"xAxis"===r?i.width:g.width,height:"yAxis"===r?i.height:g.height});return M.bandSize=bf(M,L),g.hide||"xAxis"!==r?g.hide||(u[S]+=(m?-1:1)*M.width):u[S]+=(m?-1:1)*M.height,Bg(Bg({},o),{},zg({},s,M))},{})},qg=function(e,t){var n=e.x,i=e.y,r=t.x,a=t.y;return{x:Math.min(n,r),y:Math.min(i,a),width:Math.abs(r-n),height:Math.abs(a-i)}},Hg=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,i=t.position;if(void 0!==e){if(i)switch(i){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],i=t[t.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}],i=[{key:"create",value:function(t){return new e(t)}}],n&&Dg(t.prototype,n),i&&Dg(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();zg(Hg,"EPS",1e-4);var Vg=function(e){var t=Object.keys(e).reduce(function(t,n){return Bg(Bg({},t),{},zg({},n,Hg.create(e[n])))},{});return Bg(Bg({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.bandAware,r=n.position;return lm()(e,function(e,n){return t[n].apply(e,{bandAware:i,position:r})})},isInRange:function(e){return dm()(e,function(e,n){return t[n].isInRange(e)})}})};function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gg.apply(this,arguments)}function Zg(e){return Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(e)}function Yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Kg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(n),!0).forEach(function(t){tb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,nb(i.key),i)}}function Xg(e,t,n){return t=Qg(t),function(e,t){if(t&&("object"===Zg(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$g()?Reflect.construct(t,n||[],Qg(e).constructor):t.apply(e,n))}function $g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($g=function(){return!!e})()}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qg(e)}function eb(e,t){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eb(e,t)}function tb(e,t,n){return(t=nb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e){var t=function(e,t){if("object"!=Zg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Zg(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zg(t)?t:t+""}var ib=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xg(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,a=e.r,o=e.alwaysShow,s=e.clipPathId,l=Rt(n),c=Rt(r);if(Ht(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,n=e.y,i=e.xAxis,r=e.yAxis,a=Vg({x:i.scale,y:r.scale}),o=a.apply({x:t,y:n},{bandAware:!0});return om(e,"discard")&&!a.isInRange(o)?null:o}(this.props);if(!d)return null;var u=d.x,h=d.y,p=this.props,f=p.shape,m=p.className,g=Kg(Kg({clipPath:om(this.props,"hidden")?"url(#".concat(s,")"):void 0},vn(this.props,!0)),{},{cx:u,cy:h});return i.createElement(Wn,{className:xt("recharts-reference-dot",m)},t.renderDot(f,g),rm.renderCallByParent(this.props,{x:u-a,y:h-a,width:2*a,height:2*a}))}}],r&&Jg(n.prototype,r),a&&Jg(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);tb(ib,"displayName","ReferenceDot"),tb(ib,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),tb(ib,"renderDot",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):Gt()(e)?e(t):i.createElement(oa,Gg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var rb=n(4597),ab=n.n(rb),ob=n(8990),sb=n.n(ob),lb=n(5797),cb=n.n(lb)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var db=(0,i.createContext)(void 0),ub=(0,i.createContext)(void 0),hb=(0,i.createContext)(void 0),pb=(0,i.createContext)({}),fb=(0,i.createContext)(void 0),mb=(0,i.createContext)(0),gb=(0,i.createContext)(0),bb=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,a=t.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,d=cb(a);return i.createElement(db.Provider,{value:n},i.createElement(ub.Provider,{value:r},i.createElement(pb.Provider,{value:a},i.createElement(hb.Provider,{value:d},i.createElement(fb.Provider,{value:o},i.createElement(mb.Provider,{value:c},i.createElement(gb.Provider,{value:l},s)))))))};var yb=function(e){var t=(0,i.useContext)(db);null==t&&b(!1);var n=t[e];return null==n&&b(!1),n},vb=function(e){var t=(0,i.useContext)(ub);null==t&&b(!1);var n=t[e];return null==n&&b(!1),n},xb=function(){return(0,i.useContext)(gb)},wb=function(){return(0,i.useContext)(mb)};function jb(e){return jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(e)}function Sb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ib(i.key),i)}}function _b(e,t,n){return t=Cb(t),function(e,t){if(t&&("object"===jb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kb()?Reflect.construct(t,n||[],Cb(e).constructor):t.apply(e,n))}function kb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kb=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cb(e)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ab(e,t)}function Nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ob(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nb(Object(n),!0).forEach(function(t){Pb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pb(e,t,n){return(t=Ib(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ib(e){var t=function(e,t){if("object"!=jb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=jb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jb(t)?t:t+""}function Eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lb.apply(this,arguments)}function Mb(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=(0,i.useContext)(fb),u=yb(a),h=vb(o),p=(0,i.useContext)(hb);if(!d||!p)return null;Ht(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,i,r,a,o,s,l){var c=r.x,d=r.y,u=r.width,h=r.height;if(n){var p=l.y,f=e.y.apply(p,{position:a});if(om(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:c+u,y:f},{x:c,y:f}];return"left"===s?m.reverse():m}if(t){var g=l.x,b=e.x.apply(g,{position:a});if(om(l,"discard")&&!e.x.isInRange(b))return null;var y=[{x:b,y:d+h},{x:b,y:d}];return"top"===o?y.reverse():y}if(i){var v=l.segment.map(function(t){return e.apply(t,{position:a})});return om(l,"discard")&&ab()(v,function(t){return!e.isInRange(t)})?null:v}return null}(Vg({x:u.scale,y:h.scale}),Rt(t),Rt(n),r&&2===r.length,p,e.position,u.orientation,h.orientation,e);if(!f)return null;var m=Eb(f,2),g=m[0],b=g.x,y=g.y,v=m[1],x=v.x,w=v.y,j=Ob(Ob({clipPath:om(e,"hidden")?"url(#".concat(d,")"):void 0},vn(e,!0)),{},{x1:b,y1:y,x2:x,y2:w});return i.createElement(Wn,{className:xt("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):Gt()(e)?e(t):i.createElement("line",Lb({},t,{className:"recharts-reference-line-line"}))}(s,j),rm.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,i=e.x2,r=e.y2;return qg({x:t,y:n},{x:i,y:r})}({x1:b,y1:y,x2:x,y2:w})))}var Rb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_b(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(Mb,this.props)}}])&&Sb(n.prototype,r),a&&Sb(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Db.apply(this,arguments)}function Fb(e){return Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(e)}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach(function(t){Gb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Zb(i.key),i)}}function Ub(e,t,n){return t=Hb(t),function(e,t){if(t&&("object"===Fb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qb()?Reflect.construct(t,n||[],Hb(e).constructor):t.apply(e,n))}function qb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qb=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hb(e)}function Vb(e,t){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vb(e,t)}function Gb(e,t,n){return(t=Zb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zb(e){var t=function(e,t){if("object"!=Fb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Fb(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fb(t)?t:t+""}Pb(Rb,"displayName","ReferenceLine"),Pb(Rb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Yb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ub(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vb(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,a=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;Ht(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Rt(n),u=Rt(r),h=Rt(a),p=Rt(o),f=this.props.shape;if(!d&&!u&&!h&&!p&&!f)return null;var m=function(e,t,n,i,r){var a=r.x1,o=r.x2,s=r.y1,l=r.y2,c=r.xAxis,d=r.yAxis;if(!c||!d)return null;var u=Vg({x:c.scale,y:d.scale}),h={x:e?u.x.apply(a,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(s,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(o,{position:"end"}):u.x.rangeMax,y:i?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!om(r,"discard")||u.isInRange(h)&&u.isInRange(p)?qg(h,p):null}(d,u,h,p,this.props);if(!m&&!f)return null;var g=om(this.props,"hidden")?"url(#".concat(c,")"):void 0;return i.createElement(Wn,{className:xt("recharts-reference-area",s)},t.renderRect(f,zb(zb({clipPath:g},vn(this.props,!0)),m)),rm.renderCallByParent(this.props,m))}}],r&&Wb(n.prototype,r),a&&Wb(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);function Kb(e){return function(e){if(Array.isArray(e))return Jb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Gb(Yb,"displayName","ReferenceArea"),Gb(Yb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Gb(Yb,"renderRect",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):Gt()(e)?e(t):i.createElement(Go,Db({},t,{className:"recharts-reference-area-rect"}))});var Xb=function(e,t,n,i,r){var a=fn(e,Rb),o=fn(e,ib),s=[].concat(Kb(a),Kb(o)),l=fn(e,Yb),c="".concat(i,"Id"),d=i[0],u=t;if(s.length&&(u=s.reduce(function(e,t){if(t.props[c]===n&&om(t.props,"extendDomain")&&Mt(t.props[d])){var i=t.props[d];return[Math.min(e[0],i),Math.max(e[1],i)]}return e},u)),l.length){var h="".concat(d,"1"),p="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===n&&om(t.props,"extendDomain")&&Mt(t.props[h])&&Mt(t.props[p])){var i=t.props[h],r=t.props[p];return[Math.min(e[0],i,r),Math.max(e[1],i,r)]}return e},u)}return r&&r.length&&(u=r.reduce(function(e,t){return Mt(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},$b=n(7283),Qb=new(n.n($b)()),ey="recharts.syncMouseEvents";function ty(e){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(e)}function ny(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ry(i.key),i)}}function iy(e,t,n){return(t=ry(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ry(e){var t=function(e,t){if("object"!=ty(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ty(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ty(t)?t:t+""}var ay=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iy(this,"activeIndex",0),iy(this,"coordinateList",[]),iy(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,i=void 0===n?null:n,r=e.container,a=void 0===r?null:r,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==i&&void 0!==i?i:this.coordinateList)&&void 0!==t?t:[],this.container=null!==a&&void 0!==a?a:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),i=n.x,r=n.y,a=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=i+o+s,d=r+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&ny(e.prototype,t),n&&ny(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function oy(){}function sy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ly(e){this._context=e}function cy(e){this._context=e}function dy(e){this._context=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cy.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:sy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class uy{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function hy(e){this._context=e}function py(e){this._context=e}function fy(e){return new py(e)}function my(e){return e<0?-1:1}function gy(e,t,n){var i=e._x1-e._x0,r=t-e._x1,a=(e._y1-e._y0)/(i||r<0&&-0),o=(n-e._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(my(a)+my(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function by(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function yy(e,t,n){var i=e._x0,r=e._y0,a=e._x1,o=e._y1,s=(a-i)/3;e._context.bezierCurveTo(i+s,r+s*t,a-s,o-s*n,a,o)}function vy(e){this._context=e}function xy(e){this._context=new wy(e)}function wy(e){this._context=e}function jy(e){this._context=e}function Sy(e){var t,n,i=e.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(r[i-1]=o[i-1]/a[i-1],t=i-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}function _y(e,t){this._context=e,this._t=t}function ky(e){return e[0]}function Cy(e){return e[1]}function Ay(e,t){var n=er(!0),i=null,r=fy,a=null,o=jr(s);function s(s){var l,c,d,u=(s=Bh(s)).length,h=!1;for(null==i&&(a=r(d=o())),l=0;l<=u;++l)!(l<u&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(d)return a=null,d+""||null}return e="function"===typeof e?e:void 0===e?ky:er(e),t="function"===typeof t?t:void 0===t?Cy:er(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:er(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:er(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:er(!!e),s):n},s.curve=function(e){return arguments.length?(r=e,null!=i&&(a=r(i)),s):r},s.context=function(e){return arguments.length?(null==e?i=a=null:a=r(i=e),s):i},s}function Ny(e,t,n){var i=null,r=er(!0),a=null,o=fy,s=null,l=jr(c);function c(c){var d,u,h,p,f,m=(c=Bh(c)).length,g=!1,b=new Array(m),y=new Array(m);for(null==a&&(s=o(f=l())),d=0;d<=m;++d){if(!(d<m&&r(p=c[d],d,c))===g)if(g=!g)u=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=d-1;h>=u;--h)s.point(b[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(b[d]=+e(p,d,c),y[d]=+t(p,d,c),s.point(i?+i(p,d,c):b[d],n?+n(p,d,c):y[d]))}if(f)return s=null,f+""||null}function d(){return Ay().defined(r).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?ky:er(+e),t="function"===typeof t?t:er(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Cy:er(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:er(+t),i=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:er(+t),c):e},c.x1=function(e){return arguments.length?(i=null==e?null:"function"===typeof e?e:er(+e),c):i},c.y=function(e){return arguments.length?(t="function"===typeof e?e:er(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:er(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:er(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(i).y(t)},c.defined=function(e){return arguments.length?(r="function"===typeof e?e:er(!!e),c):r},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function Oy(e){return Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Py.apply(this,arguments)}function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach(function(t){Ty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ty(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Oy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Oy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}hy.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yy(this,this._t0,by(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yy(this,by(this,n=gy(this,e,t)),n);break;default:yy(this,this._t0,n=gy(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(xy.prototype=Object.create(vy.prototype)).point=function(e,t){vy.prototype.point.call(this,t,e)},wy.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}},jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=Sy(e),r=Sy(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},_y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ly={curveBasisClosed:function(e){return new cy(e)},curveBasisOpen:function(e){return new dy(e)},curveBasis:function(e){return new ly(e)},curveBumpX:function(e){return new uy(e,!0)},curveBumpY:function(e){return new uy(e,!1)},curveLinearClosed:function(e){return new hy(e)},curveLinear:fy,curveMonotoneX:function(e){return new vy(e)},curveMonotoneY:function(e){return new xy(e)},curveNatural:function(e){return new jy(e)},curveStep:function(e){return new _y(e,.5)},curveStepAfter:function(e){return new _y(e,1)},curveStepBefore:function(e){return new _y(e,0)}},My=function(e){return e.x===+e.x&&e.y===+e.y},Ry=function(e){return e.x},Dy=function(e){return e.y},Fy=function(e){var t,n=e.type,i=void 0===n?"linear":n,r=e.points,a=void 0===r?[]:r,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(Gt()(e))return e;var n="curve".concat(Ii()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Ly[n]||fy:Ly["".concat(n).concat("vertical"===t?"Y":"X")]}(i,s),u=c?a.filter(function(e){return My(e)}):a;if(Array.isArray(o)){var h=c?o.filter(function(e){return My(e)}):o,p=u.map(function(e,t){return Ey(Ey({},e),{},{base:h[t]})});return t="vertical"===s?Ny().y(Dy).x1(Ry).x0(function(e){return e.base.x}):Ny().x(Ry).y1(Dy).y0(function(e){return e.base.y}),t.defined(My).curve(d),t(p)}return(t="vertical"===s&&Mt(o)?Ny().y(Dy).x1(Ry).x0(o):Mt(o)?Ny().x(Ry).y1(Dy).y0(o):Ay().x(Ry).y(Dy)).defined(My).curve(d),t(u)},By=function(e){var t=e.className,n=e.points,r=e.path,a=e.pathRef;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Fy(e):r;return i.createElement("path",Py({},vn(e,!1),nn(e),{className:xt("recharts-curve",t),d:o,ref:a}))};function zy(e){return zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(e)}var Wy=["x","y","top","left","width","height","className"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uy.apply(this,arguments)}function qy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Hy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=zy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vy(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Gy=function(e,t,n,i,r,a){return"M".concat(e,",").concat(r,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(n)},Zy=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,h=e.height,p=void 0===h?0:h,f=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(n),!0).forEach(function(t){Hy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:s,left:c,width:u,height:p},Vy(e,Wy));return Mt(n)&&Mt(a)&&Mt(u)&&Mt(p)&&Mt(s)&&Mt(c)?i.createElement("path",Uy({},vn(m,!0),{className:xt("recharts-cross",f),d:Gy(n,a,u,p,s,c)})):null};function Yy(e){var t=e.cx,n=e.cy,i=e.radius,r=e.startAngle,a=e.endAngle;return{points:[Hf(t,n,i,r),Hf(t,n,i,a)],cx:t,cy:n,radius:i,startAngle:r,endAngle:a}}function Ky(e,t,n){var i,r,a,o;if("horizontal"===e)a=i=t.x,r=n.top,o=n.top+n.height;else if("vertical"===e)o=r=t.y,i=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Yy(t);var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,h=Hf(s,l,c,u),p=Hf(s,l,d,u);i=h.x,r=h.y,a=p.x,o=p.y}return[{x:i,y:r},{x:a,y:o}]}function Jy(e){return Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(e)}function Xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function $y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xy(Object(n),!0).forEach(function(t){Qy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Jy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Jy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jy(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ev(e){var t,n,r,a=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,p=e.layout,f=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!m||!s||!l||"ScatterChart"!==f&&"axis"!==o)return null;var g=By;if("ScatterChart"===f)r=l,g=Zy;else if("BarChart"===f)r=function(e,t,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-r:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-r,width:"horizontal"===e?i:n.width-1,height:"horizontal"===e?n.height-1:i}}(p,l,d,h),g=Go;else if("radial"===p){var b=Yy(l),y=b.cx,v=b.cy,x=b.radius;r={cx:y,cy:v,startAngle:b.startAngle,endAngle:b.endAngle,innerRadius:x,outerRadius:x},g=Ym}else r={points:Ky(p,l,d)},g=By;var w=$y($y($y($y({stroke:"#ccc",pointerEvents:"none"},d),r),vn(m,!1)),{},{payload:c,payloadIndex:u,className:xt("recharts-tooltip-cursor",m.className)});return(0,i.isValidElement)(m)?(0,i.cloneElement)(m,w):(0,i.createElement)(g,w)}var tv=["item"],nv=["children","className","width","height","style","compact","title","desc"];function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rv.apply(this,arguments)}function av(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||pv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ov(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,yv(i.key),i)}}function lv(e,t,n){return t=dv(t),function(e,t){if(t&&("object"===iv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cv()?Reflect.construct(t,n||[],dv(e).constructor):t.apply(e,n))}function cv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cv=function(){return!!e})()}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dv(e)}function uv(e,t){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uv(e,t)}function hv(e){return function(e){if(Array.isArray(e))return fv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pv(e,t){if(e){if("string"===typeof e)return fv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fv(e,t):void 0}}function fv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach(function(t){bv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bv(e,t,n){return(t=yv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yv(e){var t=function(e,t){if("object"!=iv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=iv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iv(t)?t:t+""}var vv={xAxis:["bottom","top"],yAxis:["left","right"]},xv={width:"100%",height:"100%"},wv={x:0,y:0};function jv(e){return e}var Sv=function(e,t){var n=t.graphicalItems,i=t.dataStartIndex,r=t.dataEndIndex,a=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(hv(e),hv(n)):e},[]);return a.length>0?a:e&&e.length&&Mt(i)&&Mt(r)?e.slice(i,r+1):[]};function _v(e){return"number"===e?[0,"auto"]:void 0}var kv=function(e,t,n,i){var r=e.graphicalItems,a=e.tooltipAxis,o=Sv(t,e);return n<0||!r||!r.length||n>=o.length?null:r.reduce(function(r,s){var l,c,d=null!==(l=s.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?c=Ut(void 0===d?o:d,a.dataKey,i):c=d&&d[n]||o[n];return c?[].concat(hv(r),[vf(s,c)]):r},[])},Cv=function(e,t,n,i){var r=i||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(r,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(r&&"angleAxis"===r.axisType&&Math.abs(Math.abs(r.range[1]-r.range[0])-360)<=1e-6)for(var s=r.range,l=0;l<o;l++){var c=l>0?i[l-1].coordinate:i[o-1].coordinate,d=i[l].coordinate,u=l>=o-1?i[0].coordinate:i[l+1].coordinate,h=void 0;if(Tt(d-c)!==Tt(u-d)){var p=[];if(Tt(u-d)===Tt(s[1]-s[0])){h=u;var f=d+s[1]-s[0];p[0]=Math.min(f,(f+c)/2),p[1]=Math.max(f,(f+c)/2)}else{h=c;var m=u+s[1]-s[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){a=i[l].index;break}}else{var b=Math.min(c,u),y=Math.max(c,u);if(e>(b+d)/2&&e<=(y+d)/2){a=i[l].index;break}}}else for(var v=0;v<o;v++)if(0===v&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<o-1&&e>(n[v].coordinate+n[v-1].coordinate)/2&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v===o-1&&e>(n[v].coordinate+n[v-1].coordinate)/2){a=n[v].index;break}return a}(a,o,l,s);if(c>=0&&l){var d=l[c]&&l[c].value,u=kv(e,t,c,d),h=function(e,t,n,i){var r=t.find(function(e){return e&&e.index===n});if(r){if("horizontal"===e)return{x:r.coordinate,y:i.y};if("vertical"===e)return{x:i.x,y:r.coordinate};if("centric"===e){var a=r.coordinate,o=i.radius;return gv(gv(gv({},i),Hf(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var s=r.coordinate,l=i.angle;return gv(gv(gv({},i),Hf(i.cx,i.cy,s,l)),{},{angle:l,radius:s})}return wv}(n,o,c,r);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:h}}return null},Av=function(e,t){var n=t.axes,i=t.graphicalItems,r=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,h=nf(c,r);return n.reduce(function(t,n){var p,f=void 0!==n.type.defaultProps?gv(gv({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,b=f.allowDataOverflow,y=f.allowDuplicatedCategory,v=f.scale,x=f.ticks,w=f.includeHidden,j=f[a];if(t[j])return t;var S,_,k,C=Sv(e.data,{graphicalItems:i.filter(function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===j}),dataStartIndex:s,dataEndIndex:l}),A=C.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var i=null===e||void 0===e?void 0:e[0],r=null===e||void 0===e?void 0:e[1];if(i&&r&&Mt(i)&&Mt(r))return!0}return!1})(f.domain,b,m)&&(S=gf(f.domain,null,b),!h||"number"!==m&&"auto"===v||(k=$p(C,g,"category")));var N=_v(m);if(!S||0===S.length){var O,P=null!==(O=f.domain)&&void 0!==O?O:N;if(g){if(S=$p(C,g,m),"category"===m&&h){var I=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++){if(n[e[i]])return!0;n[e[i]]=!0}return!1}(S);y&&I?(_=S,S=In()(0,A)):y||(S=yf(P,S,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(hv(e),[t])},[]))}else if("category"===m)S=y?S.filter(function(e){return""!==e&&!Et()(e)}):yf(P,S,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Et()(t)?e:[].concat(hv(e),[t])},[]);else if("number"===m){var E=function(e,t,n,i,r){var a=t.map(function(t){return ef(e,t,n,r,i)}).filter(function(e){return!Et()(e)});return a&&a.length?a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,i.filter(function(e){var t,n,i=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],r="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return i===j&&(w||!r)}),g,r,c);E&&(S=E)}!h||"number"!==m&&"auto"===v||(k=$p(C,g,"category"))}else S=h?In()(0,A):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===u?[0,1]:pf(o[j].stackGroups,s,l):tf(C,i.filter(function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),m,c,!0);if("number"===m)S=Xb(d,S,j,r,x),P&&(S=gf(P,S,b));else if("category"===m&&P){var T=P;S.every(function(e){return T.indexOf(e)>=0})&&(S=T)}}return gv(gv({},t),{},bv({},j,gv(gv({},f),{},{axisType:r,domain:S,categoricalDomain:k,duplicateDomain:_,originalDomain:null!==(p=f.domain)&&void 0!==p?p:N,isCategorical:h,layout:c})))},{})},Nv=function(e,t){var n=t.axisType,i=void 0===n?"xAxis":n,r=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(i,"Id"),u=fn(c,r),h={};return u&&u.length?h=Av(e,{axes:u,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):a&&a.length&&(h=function(e,t){var n=t.graphicalItems,i=t.Axis,r=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=Sv(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=u.length,p=nf(c,r),f=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?gv(gv({},t.type.defaultProps),t.props):t.props)[a],b=_v("number");return e[g]?e:(f++,p?m=In()(0,h):o&&o[g]&&o[g].hasStack?(m=pf(o[g].stackGroups,s,l),m=Xb(d,m,g,r)):(m=gf(b,tf(u,n.filter(function(e){var t,n,i=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],r="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return i===g&&!r}),"number",c),i.defaultProps.allowDataOverflow),m=Xb(d,m,g,r)),gv(gv({},e),{},bv({},g,gv(gv({axisType:r},i.defaultProps),{},{hide:!0,orientation:Nt()(vv,"".concat(r,".").concat(f%2),null),domain:m,originalDomain:b,isCategorical:p,layout:c}))))},{})}(e,{Axis:r,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),h},Ov=function(e){var t=e.children,n=e.defaultShowTooltip,i=mn(t,Df),r=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(r=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:r,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},Pv=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Iv=function(e,t){var n=e.props,i=(e.graphicalItems,e.xAxisMap),r=void 0===i?{}:i,a=e.yAxisMap,o=void 0===a?{}:a,s=n.width,l=n.height,c=n.children,d=n.margin||{},u=mn(c,Df),h=mn(c,ra),p=Object.keys(o).reduce(function(e,t){var n=o[t],i=n.orientation;return n.mirror||n.hide?e:gv(gv({},e),{},bv({},i,e[i]+n.width))},{left:d.left||0,right:d.right||0}),f=Object.keys(r).reduce(function(e,t){var n=r[t],i=n.orientation;return n.mirror||n.hide?e:gv(gv({},e),{},bv({},i,Nt()(e,"".concat(i))+n.height))},{top:d.top||0,bottom:d.bottom||0}),m=gv(gv({},f),p),g=m.bottom;u&&(m.bottom+=u.props.height||Df.defaultProps.height),h&&t&&(m=function(e,t,n,i){var r=n.children,a=n.width,o=n.margin,s=a-(o.left||0)-(o.right||0),l=Hp({children:r,legendWidth:s});if(l){var c=i||{},d=c.width,u=c.height,h=l.align,p=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==h&&Mt(e[h]))return Kp(Kp({},e),{},Jp({},h,e[h]+(d||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==p&&Mt(e[p]))return Kp(Kp({},e),{},Jp({},p,e[p]+(u||0)))}return e}(m,0,n,t));var b=s-m.left-m.right,y=l-m.top-m.bottom;return gv(gv({brushBottom:g},m),{},{width:Math.max(b,0),height:Math.max(y,0)})},Ev=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Tv=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,a=void 0===r?"axis":r,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,h=function(e,t){var n=t.graphicalItems,i=t.stackGroups,r=t.offset,a=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,f=Pv(d),m=f.numericAxisName,g=f.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=dn(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,f){var x=Sv(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),w=void 0!==n.type.defaultProps?gv(gv({},n.type.defaultProps),n.props):n.props,j=w.dataKey,S=w.maxBarSize,_=w["".concat(m,"Id")],k=w["".concat(g,"Id")],C=l.reduce(function(e,n){var i=t["".concat(n.axisType,"Map")],r=w["".concat(n.axisType,"Id")];i&&i[r]||"zAxis"===n.axisType||b(!1);var a=i[r];return gv(gv({},e),{},bv(bv({},n.axisType,a),"".concat(n.axisType,"Ticks"),af(a)))},{}),A=C[g],N=C["".concat(g,"Ticks")],O=i&&i[_]&&i[_].hasStack&&function(e,t){var n,i=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Kp(Kp({},e.type.defaultProps),e.props):e.props).stackId;if(Rt(i)){var r=t[i];if(r){var a=r.items.indexOf(e);return a>=0?r.stackedData[a]:null}}return null}(n,i[_].stackGroups),P=dn(n.type).indexOf("Bar")>=0,I=bf(A,N),E=[],T=y&&function(e){var t=e.barSize,n=e.totalSize,i=e.stackGroups,r=void 0===i?{}:i;if(!r)return{};for(var a={},o=Object.keys(r),s=0,l=o.length;s<l;s++)for(var c=r[o[s]].stackGroups,d=Object.keys(c),u=0,h=d.length;u<h;u++){var p=c[d[u]],f=p.items,m=p.cateAxisId,g=f.filter(function(e){return dn(e.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,y=void 0!==b?Kp(Kp({},b),g[0].props):g[0].props,v=y.barSize,x=y[m];a[x]||(a[x]=[]);var w=Et()(v)?t:v;a[x].push({item:g[0],stackList:g.slice(1),barSize:Et()(w)?void 0:Bt(w,n,0)})}}return a}({barSize:c,stackGroups:i,totalSize:Ev(C,g)});if(P){var L,M,R=Et()(S)?p:S,D=null!==(L=null!==(M=bf(A,N,!0))&&void 0!==M?M:R)&&void 0!==L?L:0;E=function(e){var t=e.barGap,n=e.barCategoryGap,i=e.bandSize,r=e.sizeList,a=void 0===r?[]:r,o=e.maxBarSize,s=a.length;if(s<1)return null;var l,c=Bt(t,i,0,!0),d=[];if(a[0].barSize===+a[0].barSize){var u=!1,h=i/s,p=a.reduce(function(e,t){return e+t.barSize||0},0);(p+=(s-1)*c)>=i&&(p-=(s-1)*c,c=0),p>=i&&h>0&&(u=!0,p=s*(h*=.9));var f={offset:((i-p)/2|0)-c,size:0};l=a.reduce(function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+c,size:u?h:t.barSize}},i=[].concat(Gp(e),[n]);return f=i[i.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){i.push({item:e,position:f})}),i},d)}else{var m=Bt(n,i,0,!0);i-2*m-(s-1)*c<=0&&(c=0);var g=(i-2*m-(s-1)*c)/s;g>1&&(g>>=0);var b=o===+o?Math.min(g,o):g;l=a.reduce(function(e,t,n){var i=[].concat(Gp(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-b)/2,size:b}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){i.push({item:e,position:i[i.length-1].position})}),i},d)}return l}({barGap:u,barCategoryGap:h,bandSize:D!==I?D:I,sizeList:T[k],maxBarSize:R}),D!==I&&(E=E.map(function(e){return gv(gv({},e),{},{position:gv(gv({},e.position),{},{offset:e.position.offset-D/2})})}))}var F,B,z=n&&n.type&&n.type.getComposedData;z&&v.push({props:gv(gv({},z(gv(gv({},C),{},{displayedData:x,props:e,dataKey:j,item:n,bandSize:I,barPosition:E,offset:r,stackedData:O,layout:d,dataStartIndex:o,dataEndIndex:s}))),{},bv(bv(bv({key:n.key||"item-".concat(f)},m,C[m]),g,C[g]),"animationId",a)),childIndex:(F=n,B=e.children,pn(B).indexOf(F)),item:n})}),v},p=function(e,i){var r=e.props,a=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!gn({props:r}))return null;var c=r.children,u=r.layout,p=r.stackOffset,f=r.data,m=r.reverseStackOrder,g=Pv(u),b=g.numericAxisName,y=g.cateAxisName,v=fn(c,n),x=function(e,t,n,i,r,a){if(!e)return null;var o=(a?t.reverse():t).reduce(function(e,t){var r,a=null!==(r=t.type)&&void 0!==r&&r.defaultProps?Kp(Kp({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(a.hide)return e;var s=a[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Rt(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:i,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Ft("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[t]};return Kp(Kp({},e),{},Jp({},s,l))},{});return Object.keys(o).reduce(function(t,a){var s=o[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,a){var o=s.stackGroups[a];return Kp(Kp({},t),{},Jp({},a,{numericAxisId:n,cateAxisId:i,items:o.items,stackedData:df(e,o.items,r)}))},{})),Kp(Kp({},t),{},Jp({},a,s))},{})}(f,v,"".concat(b,"Id"),"".concat(y,"Id"),p,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return gv(gv({},e),{},bv({},n,Nv(r,gv(gv({},t),{},{graphicalItems:v,stackGroups:t.axisType===b&&x,dataStartIndex:a,dataEndIndex:o}))))},{}),j=Iv(gv(gv({},w),{},{props:r,graphicalItems:v}),null===i||void 0===i?void 0:i.legendBBox);Object.keys(w).forEach(function(e){w[e]=d(r,w[e],j,e.replace("Map",""),t)});var S=function(e){var t=zt(e),n=af(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Tn()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:bf(t,n)}}(w["".concat(y,"Map")]),_=h(r,gv(gv({},w),{},{dataStartIndex:a,dataEndIndex:o,updateId:s,graphicalItems:v,stackGroups:x,offset:j}));return gv(gv({formattedGraphicalItems:_,graphicalItems:v,offset:j,stackGroups:x},S),w)},f=function(e){function n(e){var r,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),bv(o=lv(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bv(o,"accessibilityManager",new ay),bv(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,i=t.dataEndIndex,r=t.updateId;o.setState(gv({legendBBox:e},p({props:o.props,dataStartIndex:n,dataEndIndex:i,updateId:r},gv(gv({},o.state),{},{legendBBox:e}))))}}),bv(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),bv(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var i=o.state.updateId;o.setState(function(){return gv({dataStartIndex:t,dataEndIndex:n},p({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:i},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),bv(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=gv(gv({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var i=o.props.onMouseEnter;Gt()(i)&&i(n,e)}}),bv(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?gv(gv({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var i=o.props.onMouseMove;Gt()(i)&&i(n,e)}),bv(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),bv(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),bv(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),bv(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;Gt()(n)&&n(t,e)}),bv(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&cn[t]?cn[t]:null}(e),i=Nt()(o.props,"".concat(n));n&&Gt()(i)&&i(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),bv(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=gv(gv({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var i=o.props.onClick;Gt()(i)&&i(n,e)}}),bv(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;Gt()(t)&&t(o.getMouseInfo(e),e)}),bv(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;Gt()(t)&&t(o.getMouseInfo(e),e)}),bv(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),bv(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),bv(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),bv(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;Gt()(t)&&t(o.getMouseInfo(e),e)}),bv(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;Gt()(t)&&t(o.getMouseInfo(e),e)}),bv(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&Qb.emit(ey,o.props.syncId,e,o.eventEmitterSymbol)}),bv(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,i=t.syncMethod,r=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(gv({dataStartIndex:a,dataEndIndex:s},p({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:r},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=o.state,h=u.offset,f=u.tooltipTicks;if(!h)return;if("function"===typeof i)d=i(f,e);else if("value"===i){d=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){d=m;break}}var g=gv(gv({},h),{},{x:h.left,y:h.top}),b=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),v=f[d]&&f[d].value,x=kv(o.state,o.props.data,d),w=f[d]?{x:"horizontal"===n?f[d].coordinate:b,y:"horizontal"===n?y:f[d].coordinate}:wv;o.setState(gv(gv({},e),{},{activeLabel:v,activeCoordinate:w,activePayload:x,activeTooltipIndex:d}))}else o.setState(e)}),bv(o,"renderCursor",function(e){var n,r=o.state,a=r.isTooltipActive,s=r.activeCoordinate,l=r.activePayload,c=r.offset,d=r.activeTooltipIndex,u=r.tooltipAxisBandSize,h=o.getTooltipEventType(),p=null!==(n=e.props.active)&&void 0!==n?n:a,f=o.props.layout,m=e.key||"_recharts-cursor";return i.createElement(ev,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:p,layout:f,offset:c,tooltipAxisBandSize:u,tooltipEventType:h})}),bv(o,"renderPolarAxis",function(e,t,n){var r=Nt()(e,"type.axisType"),a=Nt()(o.state,"".concat(r,"Map")),s=e.type.defaultProps,l=void 0!==s?gv(gv({},s),e.props):e.props,c=a&&a[l["".concat(r,"Id")]];return(0,i.cloneElement)(e,gv(gv({},c),{},{className:xt(r,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:af(c,!0)}))}),bv(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,a=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,d=zt(l),u=zt(c),h=u.cx,p=u.cy,f=u.innerRadius,m=u.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:af(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:af(d,!0).map(function(e){return e.coordinate}),cx:h,cy:p,innerRadius:f,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),bv(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,r=t.width,a=t.height,s=o.props.margin||{},l=r-(s.left||0)-(s.right||0),d=Hp({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,h=ov(d,tv);return(0,i.cloneElement)(u,gv(gv({},h),{},{chartWidth:r,chartHeight:a,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),bv(o,"renderTooltip",function(){var e,t=o.props,n=t.children,r=t.accessibilityLayer,a=mn(n,Oi);if(!a)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,d=s.activePayload,u=s.activeLabel,h=s.offset,p=null!==(e=a.props.active)&&void 0!==e?e:l;return(0,i.cloneElement)(a,{viewBox:gv(gv({},h),{},{x:h.left,y:h.top}),active:p,label:u,payload:p?d:[],coordinate:c,accessibilityLayer:r})}),bv(o,"renderBrush",function(e){var t=o.props,n=t.margin,r=t.data,a=o.state,s=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,d=a.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:sf(o.handleBrushChange,e.props.onChange),data:r,x:Mt(e.props.x)?e.props.x:s.left,y:Mt(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Mt(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})}),bv(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=o.clipPathId,a=o.state,s=a.xAxisMap,l=a.yAxisMap,c=a.offset,d=e.type.defaultProps||{},u=e.props,h=u.xAxisId,p=void 0===h?d.xAxisId:h,f=u.yAxisId,m=void 0===f?d.yAxisId:f;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})}),bv(o,"renderActivePoints",function(e){var t=e.item,i=e.activePoint,r=e.basePoint,a=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?gv(gv({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=gv(gv({index:a,dataKey:c.dataKey,cx:i.x,cy:i.y,r:4,fill:Qp(t.item),strokeWidth:2,stroke:"#fff",payload:i.payload,value:i.value},vn(d,!1)),nn(d));return s.push(n.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(a))),r?s.push(n.renderActiveDot(d,gv(gv({},u),{},{cx:r.x,cy:r.y}),"".concat(l,"-basePoint-").concat(a))):o&&s.push(null),s}),bv(o,"renderGraphicChild",function(e,t,n){var r=o.filterFormatItem(e,t,n);if(!r)return null;var a=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,d=s.activeTooltipIndex,u=s.activeLabel,h=mn(o.props.children,Oi),p=r.props,f=p.points,m=p.isRange,g=p.baseLine,b=void 0!==r.item.type.defaultProps?gv(gv({},r.item.type.defaultProps),r.item.props):r.item.props,y=b.activeDot,v=b.hide,x=b.activeBar,w=b.activeShape,j=Boolean(!v&&l&&h&&(y||x||w)),S={};"axis"!==a&&h&&"click"===h.props.trigger?S={onClick:sf(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(S={onMouseLeave:sf(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:sf(o.handleItemMouseEnter,e.props.onMouseEnter)});var _=(0,i.cloneElement)(e,gv(gv({},r.props),S));if(j){if(!(d>=0)){var k,C=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:_}).graphicalItem,A=C.item,N=void 0===A?e:A,O=C.childIndex,P=gv(gv(gv({},r.props),S),{},{activeIndex:O});return[(0,i.cloneElement)(N,P),null,null]}var I,E;if(c.dataKey&&!c.allowDuplicatedCategory){var T="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());I=Ut(f,T,u),E=m&&g&&Ut(g,T,u)}else I=null===f||void 0===f?void 0:f[d],E=m&&g&&g[d];if(w||x){var L=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,i.cloneElement)(e,gv(gv(gv({},r.props),S),{},{activeIndex:L})),null,null]}if(!Et()(I))return[_].concat(hv(o.renderActivePoints({item:r,activePoint:I,basePoint:E,childIndex:d,isRange:m})))}return m?[_,null,null]:[_,null]}),bv(o,"renderCustomized",function(e,t,n){return(0,i.cloneElement)(e,gv(gv({key:"recharts-customized-".concat(n)},o.props),o.state))}),bv(o,"renderMap",{CartesianGrid:{handler:jv,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:jv},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:jv},YAxis:{handler:jv},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:Ft("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=jt()(o.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uv(e,t)}(n,e),r=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,i=e.height,r=e.layout,a=mn(t,Oi);if(a){var o=a.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=kv(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,d=(this.state.offset.top+i)/2,u="horizontal"===r?{x:c,y:d}:{y:c,x:d},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(u=gv(gv({},u),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var p={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(a),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(i=this.props.margin.top)&&void 0!==i?i:0}}),null):null;var n,i}},{key:"componentDidUpdate",value:function(e){xn([mn(e.children,Oi)],[mn(this.props.children,Oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=mn(this.props.children,Oi);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,i=n.getBoundingClientRect(),r={top:(t=i).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-r.left),chartY:Math.round(e.pageY-r.top)},o=i.width/n.offsetWidth||1,s=this.inRange(a.chartX,a.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),h=Cv(this.state,this.props.data,this.props.layout,s);if("axis"!==u&&c&&d){var p=zt(c).scale,f=zt(d).scale,m=p&&p.invert?p.invert(a.chartX):null,g=f&&f.invert?f.invert(a.chartY):null;return gv(gv({},a),{},{xValue:m,yValue:g},h)}return h?gv(gv({},a),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.props.layout,r=e/n,a=t/n;if("horizontal"===i||"vertical"===i){var o=this.state.offset;return r>=o.left&&r<=o.left+o.width&&a>=o.top&&a<=o.top+o.height?{x:r,y:a}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var d=zt(l);return Zf({x:r,y:a},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=mn(e,Oi),i={};return n&&"axis"===t&&(i="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),gv(gv({},nn(this.props,this.handleOuterEvent)),i)}},{key:"addListener",value:function(){Qb.on(ey,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Qb.removeListener(ey,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var i=this.state.formattedGraphicalItems,r=0,a=i.length;r<a;r++){var o=i[r];if(o.item===e||o.props.key===e.key||t===dn(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,a=t.height,o=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:a,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=av(t,2),i=n[0],r=n[1];return gv(gv({},e),{},bv({},i,r.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=av(t,2),i=n[0],r=n[1];return gv(gv({},e),{},bv({},i,r.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,i=t.activeItem;if(n&&n.length)for(var r=0,a=n.length;r<a;r++){var o=n[r],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?gv(gv({},l.type.defaultProps),l.props):l.props,d=dn(l.type);if("Bar"===d){var u=(s.data||[]).find(function(t){return Ho(e,t)});if(u)return{graphicalItem:o,payload:u}}else if("RadialBar"===d){var h=(s.data||[]).find(function(t){return Zf(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(rg(o,i)||ag(o,i)||og(o,i)){var p=dg({graphicalItem:o,activeTooltipItem:i,itemData:c.data}),f=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:gv(gv({},o),{},{childIndex:f}),payload:og(o,i)?c.data[p]:o.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!gn(this))return null;var t,n,r=this.props,a=r.children,o=r.className,s=r.width,l=r.height,c=r.style,d=r.compact,u=r.title,h=r.desc,p=ov(r,nv),f=vn(p,!1);if(d)return i.createElement(bb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(Dn,rv({},f,{width:s,height:l,title:u,desc:h}),this.renderClipPath(),jn(a,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(bb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",rv({className:xt("recharts-wrapper",o),style:gv({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),i.createElement(Dn,rv({},f,{width:s,height:l,title:u,desc:h,style:xv}),this.renderClipPath(),jn(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&sv(r.prototype,o),l&&sv(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,l}(i.Component);bv(f,"displayName",t),bv(f,"defaultProps",gv({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),bv(f,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,i=e.data,r=e.children,a=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var h=Ov(e);return gv(gv(gv({},h),{},{updateId:0},p(gv(gv({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:i,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:r})}if(n!==t.prevDataKey||i!==t.prevData||a!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Jt(c,t.prevMargin)){var f=Ov(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=gv(gv({},Cv(t,i,s)),{},{updateId:t.updateId+1}),b=gv(gv(gv({},f),m),g);return gv(gv(gv({},b),p(gv({props:e},b),t)),{},{prevDataKey:n,prevData:i,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:r})}if(!xn(r,t.prevChildren)){var y,v,x,w,j=mn(r,Df),S=j&&null!==(y=null===(v=j.props)||void 0===v?void 0:v.startIndex)&&void 0!==y?y:d,_=j&&null!==(x=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:u,k=S!==d||_!==u,C=!Et()(i)&&!k?t.updateId:t.updateId+1;return gv(gv({updateId:C},p(gv(gv({props:e},t),{},{updateId:C,dataStartIndex:S,dataEndIndex:_}),t)),{},{prevChildren:r,dataStartIndex:S,dataEndIndex:_})}return null}),bv(f,"renderActiveDot",function(e,t,n){var r;return r=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):Gt()(e)?e(t):i.createElement(oa,t),i.createElement(Wn,{className:"recharts-active-dot",key:n},r)});var m=(0,i.forwardRef)(function(e,t){return i.createElement(f,rv({},e,{ref:t}))});return m.displayName=f.displayName,m},Lv=["type","layout","connectNulls","ref"],Mv=["key"];function Rv(e){return Rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(e)}function Dv(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fv.apply(this,arguments)}function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wv(e){return function(e){if(Array.isArray(e))return Uv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Kv(i.key),i)}}function Hv(e,t,n){return t=Gv(t),function(e,t){if(t&&("object"===Rv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vv()?Reflect.construct(t,n||[],Gv(e).constructor):t.apply(e,n))}function Vv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vv=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gv(e)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zv(e,t)}function Yv(e,t,n){return(t=Kv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kv(e){var t=function(e,t){if("object"!=Rv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Rv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rv(t)?t:t+""}var Jv=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return Yv(e=Hv(this,t,[].concat(i)),"state",{isAnimationFinished:!0,totalLength:0}),Yv(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),Yv(e,"getStrokeDasharray",function(n,i,r){var a=r.reduce(function(e,t){return e+t});if(!a)return e.generateSimpleStrokeDasharray(i,n);for(var o=Math.floor(n/a),s=n%a,l=i-n,c=[],d=0,u=0;d<r.length;u+=r[d],++d)if(u+r[d]>s){c=[].concat(Wv(r.slice(0,d)),[s-u]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(Wv(t.repeat(r,o)),Wv(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),Yv(e,"id",Ft("recharts-line-")),Yv(e,"pathRef",function(t){e.mainCurve=t}),Yv(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),Yv(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,a=n.xAxis,o=n.yAxis,s=n.layout,l=fn(n.children,Bp);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Xp(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Wn,d,l.map(function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:a,yAxis:o,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.dot,s=a.points,l=a.dataKey,c=vn(this.props,!1),d=vn(o,!0),u=s.map(function(e,n){var i=zv(zv(zv({key:"dot-".concat(n),r:3},c),d),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(o,i)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(Wn,Fv({className:"recharts-line-dots",key:"dots"},h),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var a=this.props,o=a.type,s=a.layout,l=a.connectNulls,c=(a.ref,Dv(a,Lv)),d=zv(zv(zv({},vn(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:o,layout:s,connectNulls:l});return i.createElement(By,Fv({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,o=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,d=r.animationEasing,u=r.animationId,h=r.animateNewValues,p=r.width,f=r.height,m=this.state,g=m.prevPoints,b=m.totalLength;return i.createElement(Mo,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(i){var r=i.t;if(g){var s=g.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var i=g[n],a=Wt(i.x,e.x),o=Wt(i.y,e.y);return zv(zv({},e),{},{x:a(r),y:o(r)})}if(h){var l=Wt(2*p,e.x),c=Wt(f/2,e.y);return zv(zv({},e),{},{x:l(r),y:c(r)})}return zv(zv({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,d=Wt(0,b)(r);if(o){var u="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(d,b,u)}else c=n.generateSimpleStrokeDasharray(b,d);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,i=n.points,r=n.isAnimationActive,a=this.state,o=a.prevPoints,s=a.totalLength;return r&&i&&i.length&&(!o&&s>0||!Jh()(o,i))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(i,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,o=t.className,s=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,h=t.height,p=t.isAnimationActive,f=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,b=xt("recharts-line",o),y=s&&s.allowDataOverflow,v=l&&l.allowDataOverflow,x=y||v,w=Et()(f)?this.id:f,j=null!==(e=vn(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=j.r,_=void 0===S?3:S,k=j.strokeWidth,C=void 0===k?2:k,A=(function(e){return e&&"object"===ln(e)&&"clipDot"in e}(r)?r:{}).clipDot,N=void 0===A||A,O=2*_+C;return i.createElement(Wn,{className:b},y||v?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(w)},i.createElement("rect",{x:y?d:d-u/2,y:v?c:c-h/2,width:y?u:2*u,height:v?h:2*h})),!N&&i.createElement("clipPath",{id:"clipPath-dots-".concat(w)},i.createElement("rect",{x:d-O/2,y:c-O/2,width:u+O,height:h+O}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||r)&&this.renderDots(x,N,w),(!p||m)&&km.renderCallByParent(this.props,a))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(Wv(e),[0]):e,i=[],r=0;r<t;++r)i=[].concat(Wv(i),Wv(n));return i}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(Gt()(e))n=e(t);else{var r=t.key,a=Dv(t,Mv),o=xt("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement(oa,Fv({key:r},a,{className:o}))}return n}}],r&&qv(n.prototype,r),a&&qv(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.PureComponent);function Xv(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var i=[],r=0;r<e.length;r+=t){if(void 0!==n&&!0!==n(e[r]))return;i.push(e[r])}return i}function $v(e,t,n){return function(e){var t=e.width,n=e.height,i=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),r=i*Math.PI/180,a=Math.atan(n/t),o=r>a&&r<Math.PI-a?n/Math.sin(r):t/Math.cos(r);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function Qv(e,t,n,i,r){if(e*t<e*i||e*t>e*r)return!1;var a=n();return e*(t-e*a/2-i)>=0&&e*(t+e*a/2-r)<=0}function ex(e){return ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(e)}function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach(function(t){ix(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ix(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ex(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ex(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rx(e,t,n){var i=e.tick,r=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!r||!r.length||!i)return[];if(Mt(l)||fi.isSsr)return function(e,t){return Xv(e,t+1)}(r,"number"===typeof l&&Mt(l)?l:0);var h=[],p="top"===s||"bottom"===s?"width":"height",f=d&&"width"===p?hs(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,i){var r=Gt()(c)?c(e.value,i):e.value;return"width"===p?$v(hs(r,{fontSize:t,letterSpacing:n}),f,u):hs(r,{fontSize:t,letterSpacing:n})[p]},g=r.length>=2?Tt(r[1].coordinate-r[0].coordinate):1,b=function(e,t,n){var i="width"===n,r=e.x,a=e.y,o=e.width,s=e.height;return 1===t?{start:i?r:a,end:i?r+o:a+s}:{start:i?r+o:a+s,end:i?r:a}}(a,g,p);return"equidistantPreserveStart"===l?function(e,t,n,i,r){for(var a,o=(i||[]).slice(),s=t.start,l=t.end,c=0,d=1,u=s,h=function(){var t=null===i||void 0===i?void 0:i[c];if(void 0===t)return{v:Xv(i,d)};var a,o=c,h=function(){return void 0===a&&(a=n(t,o)),a},p=t.coordinate,f=0===c||Qv(e,p,h,u,l);f||(c=0,u=s,d+=1),f&&(u=p+e*(h()/2+r),c+=d)};d<=o.length;)if(a=h())return a.v;return[]}(g,b,m,r,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,i,r,a){var o=(i||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var d=i[s-1],u=n(d,s-1),h=e*(d.coordinate+e*u/2-c);o[s-1]=d=nx(nx({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),Qv(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+r),o[s-1]=nx(nx({},d),{},{isShow:!0}))}for(var p=a?s-1:s,f=function(t){var i,a=o[t],s=function(){return void 0===i&&(i=n(a,t)),i};if(0===t){var d=e*(a.coordinate-e*s()/2-l);o[t]=a=nx(nx({},a),{},{tickCoord:d<0?a.coordinate-d*e:a.coordinate})}else o[t]=a=nx(nx({},a),{},{tickCoord:a.coordinate});Qv(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+r),o[t]=nx(nx({},a),{},{isShow:!0}))},m=0;m<p;m++)f(m);return o}(g,b,m,r,o,"preserveStartEnd"===l):function(e,t,n,i,r){for(var a=(i||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(t){var i,c=a[t],d=function(){return void 0===i&&(i=n(c,t)),i};if(t===o-1){var u=e*(c.coordinate+e*d()/2-l);a[t]=c=nx(nx({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else a[t]=c=nx(nx({},c),{},{tickCoord:c.coordinate});Qv(e,c.tickCoord,d,s,l)&&(l=c.tickCoord-e*(d()/2+r),a[t]=nx(nx({},c),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}(g,b,m,r,o),h.filter(function(e){return e.isShow}))}Yv(Jv,"displayName","Line"),Yv(Jv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Yv(Jv,"getComposedData",function(e){var t=e.props,n=e.xAxis,i=e.yAxis,r=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(e,t){var l=Xp(e,o);return"horizontal"===d?{x:uf({axis:n,ticks:r,bandSize:s,entry:e,index:t}),y:Et()(l)?null:i.scale(l),value:l,payload:e}:{x:Et()(l)?null:n.scale(l),y:uf({axis:i,ticks:a,bandSize:s,entry:e,index:t}),value:l,payload:e}});return zv({points:u,layout:d},c)});var ax=["viewBox"],ox=["viewBox"],sx=["ticks"];function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cx.apply(this,arguments)}function dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dx(Object(n),!0).forEach(function(t){yx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hx(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function px(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vx(i.key),i)}}function fx(e,t,n){return t=gx(t),function(e,t){if(t&&("object"===lx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mx()?Reflect.construct(t,n||[],gx(e).constructor):t.apply(e,n))}function mx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mx=function(){return!!e})()}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gx(e)}function bx(e,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bx(e,t)}function yx(e,t,n){return(t=vx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vx(e){var t=function(e,t){if("object"!=lx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=lx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lx(t)?t:t+""}var xx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=fx(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bx(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,i=hx(e,ax),r=this.props,a=r.viewBox,o=hx(r,ox);return!Jt(n,a)||!Jt(i,o)||!Jt(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,i,r,a,o,s=this.props,l=s.x,c=s.y,d=s.width,u=s.height,h=s.orientation,p=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,b=e.tickSize||p,y=Mt(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(i=(r=c+ +!f*u)-g*b)-g*m,a=y;break;case"left":i=r=e.coordinate,a=(t=(n=l+ +!f*d)-g*b)-g*m,o=y;break;case"right":i=r=e.coordinate,a=(t=(n=l+ +f*d)+g*b)+g*m,o=y;break;default:t=n=e.coordinate,o=(i=(r=c+ +f*u)+g*b)+g*m,a=y}return{line:{x1:t,y1:i,x2:n,y2:r},tick:{x:a,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,i=t.mirror;switch(n){case"left":e=i?"start":"end";break;case"right":e=i?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,i="end";switch(t){case"left":case"right":i="middle";break;case"top":i=n?"start":"end";break;default:i=n?"end":"start"}return i}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=ux(ux(ux({},vn(this.props,!1)),vn(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var d=+("top"===o&&!s||"bottom"===o&&s);c=ux(ux({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var u=+("left"===o&&!s||"right"===o&&s);c=ux(ux({},c),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+a})}return i.createElement("line",cx({},c,{className:xt("recharts-cartesian-axis-line",Nt()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var a=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,d=o.tickFormatter,u=o.unit,h=rx(ux(ux({},this.props),{},{ticks:e}),n,r),p=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=vn(this.props,!1),g=vn(c,!1),b=ux(ux({},m),{},{fill:"none"},vn(s,!1)),y=h.map(function(e,n){var r=a.getTickLineCoord(e),o=r.line,y=r.tick,v=ux(ux(ux(ux({textAnchor:p,verticalAnchor:f},m),{},{stroke:"none",fill:l},g),y),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:d});return i.createElement(Wn,cx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},rn(a.props,e,n)),s&&i.createElement("line",cx({},b,o,{className:xt("recharts-cartesian-axis-tick-line",Nt()(s,"className"))})),c&&t.renderTickItem(c,v,"".concat(Gt()(d)?d(e.value,n):e.value).concat(u||"")))});return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,a=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=hx(l,sx),u=c;return Gt()(o)&&(u=c&&c.length>0?o(this.props):o(d)),r<=0||a<=0||!u||!u.length?null:i.createElement(Wn,{className:xt("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),rm.renderCallByParent(this.props))}}],a=[{key:"renderTickItem",value:function(e,t,n){var r=xt(t.className,"recharts-cartesian-axis-tick-value");return i.isValidElement(e)?i.cloneElement(e,ux(ux({},t),{},{className:r})):Gt()(e)?e(ux(ux({},t),{},{className:r})):i.createElement(Ws,cx({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&px(n.prototype,r),a&&px(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);function wx(e){return wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(e)}function jx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Nx(i.key),i)}}function Sx(e,t,n){return t=kx(t),function(e,t){if(t&&("object"===wx(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_x()?Reflect.construct(t,n||[],kx(e).constructor):t.apply(e,n))}function _x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_x=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kx(e)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cx(e,t)}function Ax(e,t,n){return(t=Nx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nx(e){var t=function(e,t){if("object"!=wx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wx(t)?t:t+""}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ox.apply(this,arguments)}function Px(e){var t=e.xAxisId,n=xb(),r=wb(),a=yb(t);return null==a?null:i.createElement(xx,Ox({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return af(e,!0)}}))}yx(xx,"displayName","CartesianAxis"),yx(xx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ix=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sx(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(Px,this.props)}}])&&jx(n.prototype,r),a&&jx(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}function Tx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Bx(i.key),i)}}function Lx(e,t,n){return t=Rx(t),function(e,t){if(t&&("object"===Ex(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mx()?Reflect.construct(t,n||[],Rx(e).constructor):t.apply(e,n))}function Mx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Mx=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rx(e)}function Dx(e,t){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dx(e,t)}function Fx(e,t,n){return(t=Bx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bx(e){var t=function(e,t){if("object"!=Ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ex(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ex(t)?t:t+""}function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zx.apply(this,arguments)}Ax(Ix,"displayName","XAxis"),Ax(Ix,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var Wx=function(e){var t=e.yAxisId,n=xb(),r=wb(),a=vb(t);return null==a?null:i.createElement(xx,zx({},a,{className:xt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return af(e,!0)}}))},Ux=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lx(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dx(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(Wx,this.props)}}])&&Tx(n.prototype,r),a&&Tx(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(i.Component);Fx(Ux,"displayName","YAxis"),Fx(Ux,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var qx=Tv({chartName:"LineChart",GraphicalChild:Jv,axisComponents:[{axisType:"xAxis",AxisComp:Ix},{axisType:"yAxis",AxisComp:Ux}],formatAxisMap:Ug}),Hx=["x1","y1","x2","y2","key"],Vx=["offset"];function Gx(e){return Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(e)}function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Yx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zx(Object(n),!0).forEach(function(t){Kx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kx(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Gx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Gx(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gx(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jx.apply(this,arguments)}function Xx(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $x=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return i.createElement("rect",{x:r,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Qx(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(Gt()(e))n=e(t);else{var r=t.x1,a=t.y1,o=t.x2,s=t.y2,l=t.key,c=Xx(t,Hx),d=vn(c,!1),u=(d.offset,Xx(d,Vx));n=i.createElement("line",Jx({},u,{x1:r,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function ew(e){var t=e.x,n=e.width,r=e.horizontal,a=void 0===r||r,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(i,r){var o=Yx(Yx({},e),{},{x1:t,y1:i,x2:t+n,y2:i,key:"line-".concat(r),index:r});return Qx(a,o)});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function tw(e){var t=e.y,n=e.height,r=e.vertical,a=void 0===r||r,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(i,r){var o=Yx(Yx({},e),{},{x1:i,y1:t,x2:i,y2:t+n,key:"line-".concat(r),index:r});return Qx(a,o)});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function nw(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var u=d.map(function(e,l){var c=!d[l+1]?a+s-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function iw(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var h=u.map(function(e,t){var n=!u[t+1]?o+l-e:u[t+1]-e;if(n<=0)return null;var d=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var rw=function(e,t){var n=e.xAxis,i=e.width,r=e.height,a=e.offset;return rf(rx(Yx(Yx(Yx({},xx.defaultProps),n),{},{ticks:af(n,!0),viewBox:{x:0,y:0,width:i,height:r}})),a.left,a.left+a.width,t)},aw=function(e,t){var n=e.yAxis,i=e.width,r=e.height,a=e.offset;return rf(rx(Yx(Yx(Yx({},xx.defaultProps),n),{},{ticks:af(n,!0),viewBox:{x:0,y:0,width:i,height:r}})),a.top,a.top+a.height,t)},ow={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sw(e){var t,n,r,a,o,s,l=xb(),c=wb(),d=(0,i.useContext)(pb),u=Yx(Yx({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:ow.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:ow.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:ow.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:ow.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:ow.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:ow.verticalFill,x:Mt(e.x)?e.x:d.left,y:Mt(e.y)?e.y:d.top,width:Mt(e.width)?e.width:d.width,height:Mt(e.height)?e.height:d.height}),h=u.x,p=u.y,f=u.width,m=u.height,g=u.syncWithTicks,b=u.horizontalValues,y=u.verticalValues,v=function(){var e=(0,i.useContext)(db);return zt(e)}(),x=function(){var e=(0,i.useContext)(ub);return sb()(e,function(e){return dm()(e.domain,Number.isFinite)})||zt(e)}();if(!Mt(f)||f<=0||!Mt(m)||m<=0||!Mt(h)||h!==+h||!Mt(p)||p!==+p)return null;var w=u.verticalCoordinatesGenerator||rw,j=u.horizontalCoordinatesGenerator||aw,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&Gt()(j)){var k=b&&b.length,C=j({yAxis:x?Yx(Yx({},x),{},{ticks:k?b:x.ticks}):void 0,width:l,height:c,offset:d},!!k||g);Ht(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gx(C),"]")),Array.isArray(C)&&(S=C)}if((!_||!_.length)&&Gt()(w)){var A=y&&y.length,N=w({xAxis:v?Yx(Yx({},v),{},{ticks:A?y:v.ticks}):void 0,width:l,height:c,offset:d},!!A||g);Ht(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gx(N),"]")),Array.isArray(N)&&(_=N)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement($x,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),i.createElement(ew,Jx({},u,{offset:d,horizontalPoints:S,xAxis:v,yAxis:x})),i.createElement(tw,Jx({},u,{offset:d,verticalPoints:_,xAxis:v,yAxis:x})),i.createElement(nw,Jx({},u,{horizontalPoints:S})),i.createElement(iw,Jx({},u,{verticalPoints:_})))}function lw(e){let{patient:t,icfList:n=[],ichiSelected:r=[],previousProgress:a=[],onSubmit:o,onBack:l}=e;const c=Number(t.weight)||0,d=Number(t.height)||0,u=c&&d?(c/(d/100)**2).toFixed(1):"-",[h,p]=(0,i.useState)({intake_type:"",intake_text:"",texture_modification:"",texture_food:"",texture_drink:"",texture_free_text:"",intake_vs_requirement:"",intake_vs_text:"",nutrition_goal:"",ichi_intervention:r.join(", "),diet_prescription:"",counselling:"",monitoring_params:[],progress:"",action:"",next_review:"",current_weight:t.weight||"",current_height:t.height||""}),f=(e,t)=>p(n=>je(je({},n),{},{[e]:t})),m=(0,i.useMemo)(()=>{const e=Number(h.current_weight),t=Number(h.current_height);return e&&t?(e/(t/100)**2).toFixed(1):""},[h.current_weight,h.current_height]),g=(0,i.useMemo)(()=>{const e=[];c&&d&&e.push({label:"Initial",weight:c,bmi:Number(u)||null});const t=Number(h.current_weight),n=Number(h.current_height),i=t&&n?t/(n/100)**2:null;return t&&n&&e.push({label:"Current",weight:t,bmi:i?Number(i.toFixed(1)):null}),e},[c,d,u,h.current_weight,h.current_height]);return(0,s.jsxs)("div",{style:{maxWidth:950,margin:"0 auto",padding:20,fontFamily:"'Inter', sans-serif"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[(0,s.jsx)("h2",{children:"Follow-Up Nutrition Assessment"}),(0,s.jsx)("button",{style:pw,onClick:l,children:"\u2190 Back"})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Assessment Summary"}),(0,s.jsx)("label",{children:"Current Nutrition Intake"}),(0,s.jsxs)("select",{style:cw,value:h.intake_type,onChange:e=>f("intake_type",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"ORAL",children:"ORAL"}),(0,s.jsx)("option",{value:"EN",children:"EN (Enteral)"}),(0,s.jsx)("option",{value:"COMBINATION",children:"Combination"})]}),(0,s.jsx)("textarea",{style:uw,placeholder:"Enter intake description...",value:h.intake_text,onChange:e=>f("intake_text",e.target.value)}),(0,s.jsx)("label",{style:hw,children:"Texture Modification @ IDDSI Level"}),(0,s.jsxs)("select",{style:cw,value:h.texture_modification,onChange:e=>f("texture_modification",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"YES",children:"YES"}),(0,s.jsx)("option",{value:"NO",children:"NO"})]}),"YES"===h.texture_modification&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{children:"Food Texture Level"}),(0,s.jsxs)("select",{style:cw,value:h.texture_food,onChange:e=>f("texture_food",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"3",children:"Level 3 \u2013 Liquidised"}),(0,s.jsx)("option",{value:"4",children:"Level 4 \u2013 Pur\xe9ed"}),(0,s.jsx)("option",{value:"5",children:"Level 5 \u2013 Soft & Bite Sized"}),(0,s.jsx)("option",{value:"6",children:"Level 6 \u2013 Easy to Chew"}),(0,s.jsx)("option",{value:"7",children:"Level 7 \u2013 Regular"})]}),(0,s.jsx)("label",{children:"Drink Texture Level"}),(0,s.jsxs)("select",{style:cw,value:h.texture_drink,onChange:e=>f("texture_drink",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"0",children:"Level 0 \u2013 Thin"}),(0,s.jsx)("option",{value:"1",children:"Level 1 \u2013 Slightly Thick"}),(0,s.jsx)("option",{value:"2",children:"Level 2 \u2013 Mildly Thick"}),(0,s.jsx)("option",{value:"3",children:"Level 3 \u2013 Moderately Thick"}),(0,s.jsx)("option",{value:"4",children:"Level 4 \u2013 Extremely Thick"})]}),(0,s.jsx)("textarea",{style:uw,placeholder:"Additional texture notes...",value:h.texture_free_text,onChange:e=>f("texture_free_text",e.target.value)})]}),(0,s.jsx)("label",{style:hw,children:"Intake vs Requirement"}),(0,s.jsxs)("select",{style:cw,value:h.intake_vs_requirement,onChange:e=>f("intake_vs_requirement",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),(0,s.jsx)("option",{value:"Adequate",children:"Adequate"}),(0,s.jsx)("option",{value:"Inadequate",children:"Inadequate"}),(0,s.jsx)("option",{value:"Excessive",children:"Excessive"}),(0,s.jsx)("option",{value:"Not Relevant",children:"Not Relevant"})]}),(0,s.jsx)("textarea",{style:uw,placeholder:"Explain intake vs requirement...",value:h.intake_vs_text,onChange:e=>f("intake_vs_text",e.target.value)}),(0,s.jsx)("h4",{style:{marginTop:18},children:"Anthropometry (Registration / Initial)"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Weight (kg)"}),(0,s.jsx)("input",{style:dw,value:c||"",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Height (cm)"}),(0,s.jsx)("input",{style:dw,value:d||"",readOnly:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"BMI"}),(0,s.jsx)("input",{style:dw,value:u,readOnly:!0})]})]}),(0,s.jsx)("label",{style:{marginTop:18},children:"ICF List (auto-generated)"}),(0,s.jsx)("textarea",{style:uw,value:n.join(", "),readOnly:!0})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Anthropometry (Current Follow-Up)"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Current Weight (kg)"}),(0,s.jsx)("input",{type:"number",style:cw,value:h.current_weight,onChange:e=>f("current_weight",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Current Height (cm)"}),(0,s.jsx)("input",{type:"number",style:cw,value:h.current_height,onChange:e=>f("current_height",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Current BMI (Auto)"}),(0,s.jsx)("input",{style:dw,value:m,readOnly:!0})]})]}),c&&d&&m&&(0,s.jsxs)("div",{style:{marginTop:10,fontSize:13},children:[(0,s.jsx)("strong",{children:"Change from Initial:"})," ",(0,s.jsxs)("span",{children:["\u0394Weight ="," ",(Number(h.current_weight||0)-Number(c||0)).toFixed(1)," ","kg, \u0394BMI ="," ",(Number(m||0)-Number(u||0)).toFixed(1)]})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Trend Analysis (Anthropometry)"}),g.length>=2?(0,s.jsx)("div",{style:{height:260},children:(0,s.jsx)(On,{width:"100%",height:"100%",children:(0,s.jsxs)(qx,{data:g,children:[(0,s.jsx)(sw,{strokeDasharray:"3 3"}),(0,s.jsx)(Ix,{dataKey:"label"}),(0,s.jsx)(Ux,{yAxisId:"left",label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),(0,s.jsx)(Ux,{yAxisId:"right",orientation:"right",label:{value:"BMI",angle:90,position:"insideRight"}}),(0,s.jsx)(Oi,{}),(0,s.jsx)(ra,{}),(0,s.jsx)(Jv,{yAxisId:"left",type:"monotone",dataKey:"weight",name:"Weight (kg)",stroke:"#0067ff",strokeWidth:3,dot:{r:5}}),(0,s.jsx)(Jv,{yAxisId:"right",type:"monotone",dataKey:"bmi",name:"BMI",stroke:"#ff7a00",strokeWidth:3,dot:{r:5}})]})})}):(0,s.jsx)("p",{style:{fontSize:13,color:"#666"},children:"Enter current weight and height to see trend compared with initial registration."})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Nutrition Intervention"}),(0,s.jsx)("label",{children:"Nutrition Goals / Plan"}),(0,s.jsx)("textarea",{style:uw,value:h.nutrition_goal,onChange:e=>f("nutrition_goal",e.target.value)}),(0,s.jsx)("label",{children:"ICHI Intervention"}),(0,s.jsx)("textarea",{style:uw,value:h.ichi_intervention,readOnly:!0}),(0,s.jsx)("label",{children:"Type of Diet @ Diet Prescription"}),(0,s.jsx)("input",{style:cw,value:h.diet_prescription,onChange:e=>f("diet_prescription",e.target.value)}),(0,s.jsx)("label",{children:"Education / Counselling"}),(0,s.jsx)("textarea",{style:uw,value:h.counselling,onChange:e=>f("counselling",e.target.value)}),(0,s.jsx)("label",{style:hw,children:"Monitoring Parameters"}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:10},children:["Weight","Intake %","Bowel Pattern","Muscle Loss","Appetite","GM","BP","Sleep","Others"].map(e=>(0,s.jsxs)("label",{style:{display:"flex",gap:6},children:[(0,s.jsx)("input",{type:"checkbox",checked:h.monitoring_params.includes(e),onChange:()=>{return t=e,void p(e=>je(je({},e),{},{monitoring_params:e.monitoring_params.includes(t)?e.monitoring_params.filter(e=>e!==t):[...e.monitoring_params,t]}));var t}}),e]},e))})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Monitoring"}),(0,s.jsx)("label",{children:"Progress"}),(0,s.jsx)("textarea",{style:uw,value:h.progress,onChange:e=>f("progress",e.target.value)}),(0,s.jsx)("label",{children:"Action"}),(0,s.jsx)("textarea",{style:uw,value:h.action,onChange:e=>f("action",e.target.value)}),(0,s.jsx)("label",{children:"Next Review"}),(0,s.jsx)("input",{style:cw,type:"date",value:h.next_review,onChange:e=>f("next_review",e.target.value)})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Patient Summary"}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{background:"#0b6685",color:"white"},children:[(0,s.jsx)("th",{style:{padding:10},children:"Time"}),(0,s.jsx)("th",{style:{padding:10},children:"Assessment"}),(0,s.jsx)("th",{style:{padding:10},children:"ICF"}),(0,s.jsx)("th",{style:{padding:10},children:"ICHI"}),(0,s.jsx)("th",{style:{padding:10},children:"Actions"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:10},children:"4/12/2025, 11:24:43 am"}),(0,s.jsx)("td",{style:{padding:10},children:"MST"}),(0,s.jsx)("td",{style:{padding:10},children:"b440"}),(0,s.jsx)("td",{style:{padding:10,whiteSpace:"pre-wrap"},children:"PZA.AB.ZZ - Whole-body measurement, ATI.AN.ZZ - Interview in relation to energy & drive functions, SMF.AN.ZZ - Interview in relation to eating, SDG.AN.ZZ - Interview in relation to daily routine, PZA.DA.ZZ - Administering nutritional requirements, UAB.DA.ZZ - Food modification, UAB.PM.ZZ - Education about food, KT2.PP.ZZ - Counselling for digestive system functions"}),(0,s.jsx)("td",{style:{padding:10},children:(0,s.jsx)("button",{style:{padding:"6px 12px",background:"#047bff",color:"white",borderRadius:6},children:"View"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:10},children:"4/12/2025, 11:30:01 am"}),(0,s.jsx)("td",{style:{padding:10},children:"IA"}),(0,s.jsx)("td",{style:{padding:10},children:"b510"}),(0,s.jsx)("td",{style:{padding:10,whiteSpace:"pre-wrap"},children:"KTC.AA.ZZ Assessment of swallowing, KTC.AC.ZZ Test of swallowing, KTC.AE.AD Video endoscopic evaluation of swallowing, KTC.AM.ZZ Observation of swallowing, KTC.AN.ZZ Interview in relation to swallowing, KTC.BA.BB Video fluoroscopy to evaluate swallowing, KTC.PG.ZZ Assisting and leading exercise in relation to swallowing, KTC.PH.ZZ Training about swallowing, KTC.PM.ZZ Education about swallowing, KTC.PN.ZZ Advising about swallowing, KTC.RB.ZZ Practical support with swallowing, KTC.RC.ZZ Emotional support in relation to swallowing, KTC.SC.ZZ Facilitating swallowing"}),(0,s.jsx)("td",{style:{padding:10},children:(0,s.jsx)("button",{style:{padding:"6px 12px",background:"#047bff",color:"white",borderRadius:6},children:"View"})})]})]})]})]}),(0,s.jsx)("div",{style:{textAlign:"right",marginTop:20},children:(0,s.jsx)("button",{style:fw,onClick:()=>{const e=je(je({date:(new Date).toLocaleString()},h),{},{current_bmi:m});o(e)},children:"Save Follow-Up \u2192"})}),(0,s.jsx)("style",{jsx:!0,children:"\n        .card {\n          background: white;\n          padding: 20px;\n          border-radius: 10px;\n          margin-bottom: 25px;\n          border: 1px solid #ddd;\n        }\n      "})]})}sw.displayName="CartesianGrid";const cw={width:"100%",padding:"10px",borderRadius:6,border:"1px solid #ccc",marginBottom:10},dw=je(je({},cw),{},{background:"#f1f1f1"}),uw=je(je({},cw),{},{minHeight:60}),hw={fontWeight:600,marginTop:12,display:"block"},pw={padding:"8px 16px",background:"#444",color:"white",borderRadius:6,cursor:"pointer",border:"none"},fw={padding:"12px 24px",background:"#0067ff",color:"white",borderRadius:6,cursor:"pointer",border:"none",fontSize:16};function mw(e){let{patients:t,department:n}=e;const[r,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)("dashboard"),[u,h]=(0,i.useState)("new");let p=t.map(e=>{let t=localStorage.getItem("patient_"+e.id);return t?je(je({},e),JSON.parse(t)):e});const f=p.filter(e=>e.departments.includes(n));function m(e){try{const t="patient_"+e.id+"_icf_map_v1_final_v1";return!!localStorage.getItem(t)}catch(t){return!1}}const g=f.filter(e=>!m(e)),b=f.filter(e=>m(e)),[y,v]=(0,i.useState)(null),[x,w]=(0,i.useState)(!1);function j(e){v(e),w(!0)}if(y&&x)return(0,s.jsx)(lw,{patient:y,department:n,onBack:()=>{v(null),w(!1)}});function S(e){a(e);const t=function(e){if(!e)return!1;try{const t="patient_"+(e.id?e.id:"anon")+"_finalSubmittedAt";return!!localStorage.getItem(t)}catch(t){return!1}}(e);l(t)}return r&&o?(0,s.jsx)(ht,{patient:r,department:n,onBack:()=>{a(null),l(!1)}}):r&&!o?(0,s.jsx)(Ee,{patient:r,department:n,onSubmit:()=>l(!0),onBack:()=>a(null)}):(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsxs)("h2",{children:[n," Department"]}),(0,s.jsxs)("div",{style:{marginBottom:16,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:()=>d("dashboard"),style:{padding:"8px 14px",borderRadius:6,border:"dashboard"===c?"2px solid #000":"1px solid #ccc",color:"dashboard"===c?"#fff":"#000",backgroundColor:"dashboard"===c?"#007bff":"#fff",cursor:"pointer"},children:"Dashboard"}),(0,s.jsx)("button",{onClick:()=>d("patients"),style:{padding:"8px 14px",borderRadius:6,border:"patients"===c?"2px solid #000":"1px solid #ccc",color:"patients"===c?"#fff":"#000",backgroundColor:"patients"===c?"#007bff":"#fff",cursor:"pointer"},children:"Patients"})]}),"dashboard"===c&&(0,s.jsx)(gt,{patients:f,onSelectPatient:e=>S(e),onOpenPatients:()=>d("patients"),onOpenAppointments:()=>alert("Appointments page coming soon")}),"patients"===c&&(0,s.jsxs)("div",{style:{marginTop:10},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:30,borderBottom:"1px solid #d3d3d3",marginBottom:12},children:[(0,s.jsx)("div",{onClick:()=>h("new"),style:{paddingBottom:6,cursor:"pointer",fontSize:16,borderBottom:"new"===u?"3px solid #2a41e8":"3px solid transparent",color:"new"===u?"#000":"#555",fontWeight:"new"===u?"600":"500"},children:"New Patients"}),(0,s.jsx)("div",{onClick:()=>h("existing"),style:{paddingBottom:6,cursor:"pointer",fontSize:16,borderBottom:"existing"===u?"3px solid #2a41e8":"3px solid transparent",color:"existing"===u?"#000":"#555",fontWeight:"existing"===u?"600":"500"},children:"Existing Patients"}),(0,s.jsx)("div",{onClick:()=>h("reports"),style:{paddingBottom:6,cursor:"pointer",fontSize:16,borderBottom:"reports"===u?"3px solid #2a41e8":"3px solid transparent",color:"reports"===u?"#000":"#555",fontWeight:"reports"===u?"600":"500"},children:"Reports"})]}),"new"===u&&(0,s.jsx)("div",{children:0===g.length?(0,s.jsx)("div",{style:{fontSize:13,color:"#777"},children:"No new patients."}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:g.map(e=>(0,s.jsxs)("div",{onClick:()=>j(e),style:{padding:"8px 10px",border:"1px solid #ddd",borderRadius:6,cursor:"pointer",background:"#f7faff",fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:e.name})," \u2014 ICD: ",e.icd]}),(0,s.jsx)("span",{style:{fontSize:12,color:"#0050ff"},children:"Start \u2192"})]},e.id))})}),"existing"===u&&(0,s.jsx)("div",{children:0===b.length?(0,s.jsx)("div",{style:{fontSize:13,color:"#777"},children:"No final-submitted patients yet."}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:b.map(e=>(0,s.jsxs)("div",{onClick:()=>j(e),style:{padding:"8px 10px",border:"1px solid #ddd",borderRadius:6,cursor:"pointer",background:"#f3fff3",fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:e.name})," \u2014 ICD: ",e.icd]}),(0,s.jsx)("span",{style:{fontSize:12,color:"green"},children:"Finalised"})]},e.id))})}),"reports"===u&&(0,s.jsx)("div",{children:r?(0,s.jsx)(Oe,{patient:r}):(0,s.jsx)("div",{style:{fontSize:13,color:"#777"},children:"Select a patient from New/Existing to view reports."})})]})]})}function gw(e){let{selectedPatientId:t}=e;const[n,r]=(0,i.useState)([]);(0,i.useEffect)(()=>{fetch("/patients_list").then(e=>e.json()).then(r).catch(e=>console.error("Error loading patient list",e))},[]);const a=n.find(e=>e.id===t);return(0,s.jsx)("div",{style:{padding:"20px"},children:a?(0,s.jsx)("div",{children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px",backgroundColor:"#f9f9f9",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#F1F1F1",border:"1px solid #353333ff",color:"#3A3FAD",textAlign:"center",padding:"10px"},children:[(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Gender"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Marital Status"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Nationality"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Occupation"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Date of Birth"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Registered Date"}),(0,s.jsx)("th",{style:{padding:"10px",border:"1px solid #000"},children:"Created Date"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{style:{textAlign:"center"},children:[(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.name}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.sex}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.marital}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.nationality}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.occupation}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.dob}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.registered_date}),(0,s.jsx)("td",{style:{padding:"10px",border:"1px solid #000"},children:a.created_date})]})})]})}):(0,s.jsx)("p",{children:"Loading patient details..."})})}function bw(e){let{patientId:t}=e;const[n,r]=(0,i.useState)([{id:1,name:"Dr. Ratan",department:"Neurology"},{id:2,name:"Dr. Meera Raghavan",department:"Cardiology"},{id:3,name:"Dr. Madhavan",department:"Physical Therapy"},{id:4,name:"Dr. Arvind Rao",department:"Occupational Therapy"}]),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1);return(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsxs)("h3",{children:["Book Appointment for Patient ID: ",t]}),(0,s.jsxs)("div",{style:{marginBottom:"10px",display:"flex",gap:50},children:[(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{children:"Doctor: "}),(0,s.jsxs)("select",{value:a,onChange:e=>o(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Doctor"}),n.map(e=>(0,s.jsxs)("option",{value:e.name,children:[e.name," (",e.department,")"]},e.id))]})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{children:"Department: "}),(0,s.jsxs)("select",{value:l,onChange:e=>c(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Department"}),(0,s.jsx)("option",{value:"Neurology",children:"Neurology"}),(0,s.jsx)("option",{value:"Cardiology",children:"Cardiology"}),(0,s.jsx)("option",{value:"PT",children:"Physical Therapy"}),(0,s.jsx)("option",{value:"OT",children:"Occupational Therapy"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{children:"Appointment Date: "}),(0,s.jsx)("input",{type:"datetime-local",value:d,onChange:e=>u(e.target.value)})]}),(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)("button",{onClick:()=>{a&&l&&d?(console.log("Booking Appointment with:",{doctor_name:a,department:l,appointment_date:d}),m(!0),fetch("/book_appointment/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doctor_name:a,department:l,appointment_date:d})}).then(e=>e.json()).then(e=>{m(!1),p(e.message)}).catch(e=>{m(!1),console.error("Error booking appointment:",e)})):alert("Please fill in all the details!")},disabled:f,style:{backgroundColor:"#3A3FAD",color:"#fff",padding:"6px 6px",cursor:"pointer"},children:f?"Booking...":"Book Appointment"})})]}),h&&(0,s.jsx)("div",{style:{marginTop:"20px",color:"green"},children:(0,s.jsx)("strong",{children:h})})]})}function yw(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{fetch("/patients_icd_existing").then(e=>e.json()).then(t).catch(e=>console.error("Error loading ICD list",e))},[]);return(0,s.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{style:{fontSize:"24px",marginBottom:"20px"},children:"Existing Patients Data"}),(0,s.jsxs)("table",{border:"1",cellPadding:"8",style:{borderCollapse:"collapse",width:"100%",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#606468ff",color:"white",fontWeight:"bold"},children:[(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"ID"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Main ICD"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"ICD Code"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left"},children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,s.jsx)("td",{style:{padding:"10px"},children:e.id}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.main_icd}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.icd_code}),(0,s.jsx)("td",{style:{padding:"10px"},children:(0,s.jsx)("button",{onClick:()=>{return t=e.id,r(t),o(!0),void fetch("/patient_appointments/".concat(t)).then(e=>e.json()).then(c).catch(e=>console.error("Error fetching patient appointments",e));var t},style:{border:"none",backgroundColor:"#3a40ad00",color:"#3A3FAD",padding:"6px 12px",cursor:"pointer",borderRadius:"5px"},children:"Edit"})})]},e.id))})]})]}),a&&n&&(0,s.jsxs)("div",{style:{marginTop:"20px"},children:[(0,s.jsxs)("h2",{style:{fontSize:"24px",marginBottom:"20px"},children:["Patient Details (ID: ",n,")"]}),(0,s.jsx)(gw,{selectedPatientId:n}),(0,s.jsx)("h3",{style:{marginTop:"20px",fontSize:"20px"},children:"Previous Appointments"}),(0,s.jsx)("ul",{children:l.map(e=>(0,s.jsx)("li",{style:{marginBottom:"10px"},children:(0,s.jsxs)("button",{onClick:()=>{console.log("Rescheduling appointment with ".concat(e.doctor_name))},style:{border:"1px solid #007bff",backgroundColor:"white",color:"#007bff",padding:"10px 20px",cursor:"pointer",marginBottom:"5px",textAlign:"left",width:"100%",borderRadius:"5px"},children:[(0,s.jsx)("strong",{children:"Doctor:"})," ",e.doctor_name," |"," ",(0,s.jsx)("strong",{children:"Department:"})," ",e.department," |"," ",(0,s.jsx)("strong",{children:"Time:"})," ",e.appointment_time]})},e.appointment_id))}),(0,s.jsx)(bw,{patientId:n})," ",(0,s.jsx)("button",{style:{marginTop:"20px",padding:"10px 20px",borderRadius:"5px",backgroundColor:"#222121ff",cursor:"pointer"},onClick:()=>o(!1),children:"Back"})]})]})}function vw(e){let{setTab:t}=e;const[n,r]=(0,i.useState)([]);(0,i.useEffect)(()=>{fetch("/patients_icd_existing").then(e=>e.json()).then(r).catch(e=>console.error("Error loading ICD list",e))},[]);return(0,s.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,s.jsx)("h2",{style:{fontSize:"24px",marginBottom:"20px"},children:"Existing Patients Data"}),(0,s.jsx)("div",{style:{border:"1px solid #d1d5db",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{backgroundColor:"#374151",color:"white",textAlign:"left"},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px 16px",width:"80px"},children:"ID"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Main ICD"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"ICD Code"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center"},children:"Action"})]})}),(0,s.jsx)("tbody",{children:0===n.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"4",style:{textAlign:"center",padding:"16px"},children:"No patient records found"})}):n.map((e,n)=>(0,s.jsxs)("tr",{style:{backgroundColor:n%2===0?"#f9fafb":"#ffffff",borderBottom:"1px solid #e5e7eb"},children:[(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.id}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.main_icd}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.icd_code}),(0,s.jsx)("td",{style:{textAlign:"center",padding:"12px 16px"},children:(0,s.jsx)("button",{onClick:()=>{return n=e.id,alert("\u2705 Patient ID ".concat(n," viewed.")),void t("ICD");var n},style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",fontSize:"14px",cursor:"pointer"},children:"Edit"})})]},e.id))})]})})]})}function xw(e,t){return function(){return e.apply(t,arguments)}}const{toString:ww}=Object.prototype,{getPrototypeOf:jw}=Object,{iterator:Sw,toStringTag:_w}=Symbol,kw=(e=>t=>{const n=ww.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cw=e=>(e=e.toLowerCase(),t=>kw(t)===e),Aw=e=>t=>typeof t===e,{isArray:Nw}=Array,Ow=Aw("undefined");function Pw(e){return null!==e&&!Ow(e)&&null!==e.constructor&&!Ow(e.constructor)&&Tw(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Iw=Cw("ArrayBuffer");const Ew=Aw("string"),Tw=Aw("function"),Lw=Aw("number"),Mw=e=>null!==e&&"object"===typeof e,Rw=e=>{if("object"!==kw(e))return!1;const t=jw(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(_w in e)&&!(Sw in e)},Dw=Cw("Date"),Fw=Cw("File"),Bw=Cw("Blob"),zw=Cw("FileList"),Ww=Cw("URLSearchParams"),[Uw,qw,Hw,Vw]=["ReadableStream","Request","Response","Headers"].map(Cw);function Gw(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Nw(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Pw(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function Zw(e,t){if(Pw(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Yw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Kw=e=>!Ow(e)&&e!==Yw;const Jw=(Xw="undefined"!==typeof Uint8Array&&jw(Uint8Array),e=>Xw&&e instanceof Xw);var Xw;const $w=Cw("HTMLFormElement"),Qw=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ej=Cw("RegExp"),tj=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Gw(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)}),Object.defineProperties(e,i)};const nj=Cw("AsyncFunction"),ij=(rj="function"===typeof setImmediate,aj=Tw(Yw.postMessage),rj?setImmediate:aj?((e,t)=>(Yw.addEventListener("message",n=>{let{source:i,data:r}=n;i===Yw&&r===e&&t.length&&t.shift()()},!1),n=>{t.push(n),Yw.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var rj,aj;const oj="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Yw):"undefined"!==typeof process&&process.nextTick||ij,sj={isArray:Nw,isArrayBuffer:Iw,isBuffer:Pw,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Tw(e.append)&&("formdata"===(t=kw(e))||"object"===t&&Tw(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Iw(e.buffer),t},isString:Ew,isNumber:Lw,isBoolean:e=>!0===e||!1===e,isObject:Mw,isPlainObject:Rw,isEmptyObject:e=>{if(!Mw(e)||Pw(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Uw,isRequest:qw,isResponse:Hw,isHeaders:Vw,isUndefined:Ow,isDate:Dw,isFile:Fw,isBlob:Bw,isRegExp:ej,isFunction:Tw,isStream:e=>Mw(e)&&Tw(e.pipe),isURLSearchParams:Ww,isTypedArray:Jw,isFileList:zw,forEach:Gw,merge:function e(){const{caseless:t,skipUndefined:n}=Kw(this)&&this||{},i={},r=(r,a)=>{const o=t&&Zw(i,a)||a;Rw(i[o])&&Rw(r)?i[o]=e(i[o],r):Rw(r)?i[o]=e({},r):Nw(r)?i[o]=r.slice():n&&Ow(r)||(i[o]=r)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Gw(arguments[a],r);return i},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Gw(t,(t,i)=>{n&&Tw(t)?e[i]=xw(t,n):e[i]=t},{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,o;const s={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)o=r[a],i&&!i(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&jw(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:kw,kindOfTest:Cw,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Nw(e))return e;let t=e.length;if(!Lw(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Sw]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:$w,hasOwnProperty:Qw,hasOwnProp:Qw,reduceDescriptors:tj,freezeMethods:e=>{tj(e,(t,n)=>{if(Tw(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Tw(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Nw(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Zw,global:Yw,isContextDefined:Kw,isSpecCompliantForm:function(e){return!!(e&&Tw(e.append)&&"FormData"===e[_w]&&e[Sw])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Mw(e)){if(t.indexOf(e)>=0)return;if(Pw(e))return e;if(!("toJSON"in e)){t[i]=e;const r=Nw(e)?[]:{};return Gw(e,(e,t)=>{const a=n(e,i+1);!Ow(a)&&(r[t]=a)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:nj,isThenable:e=>e&&(Mw(e)||Tw(e))&&Tw(e.then)&&Tw(e.catch),setImmediate:ij,asap:oj,isIterable:e=>null!=e&&Tw(e[Sw])};function lj(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}sj.inherits(lj,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:sj.toJSONObject(this.config),code:this.code,status:this.status}}});const cj=lj.prototype,dj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dj[e]={value:e}}),Object.defineProperties(lj,dj),Object.defineProperty(cj,"isAxiosError",{value:!0}),lj.from=(e,t,n,i,r,a)=>{const o=Object.create(cj);sj.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return lj.call(o,s,l,n,i,r),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const uj=lj;function hj(e){return sj.isPlainObject(e)||sj.isArray(e)}function pj(e){return sj.endsWith(e,"[]")?e.slice(0,-2):e}function fj(e,t,n){return e?e.concat(t).map(function(e,t){return e=pj(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const mj=sj.toFlatObject(sj,{},null,function(e){return/^is[A-Z]/.test(e)});const gj=function(e,t,n){if(!sj.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=sj.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!sj.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&sj.isSpecCompliantForm(t);if(!sj.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(sj.isDate(e))return e.toISOString();if(sj.isBoolean(e))return e.toString();if(!s&&sj.isBlob(e))throw new uj("Blob is not supported. Use a Buffer instead.");return sj.isArrayBuffer(e)||sj.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"===typeof e)if(sj.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(sj.isArray(e)&&function(e){return sj.isArray(e)&&!e.some(hj)}(e)||(sj.isFileList(e)||sj.endsWith(n,"[]"))&&(s=sj.toArray(e)))return n=pj(n),s.forEach(function(e,i){!sj.isUndefined(e)&&null!==e&&t.append(!0===o?fj([n],i,a):null===o?n:n+"[]",l(e))}),!1;return!!hj(e)||(t.append(fj(r,n,a),l(e)),!1)}const d=[],u=Object.assign(mj,{defaultVisitor:c,convertValue:l,isVisitable:hj});if(!sj.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!sj.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),sj.forEach(n,function(n,a){!0===(!(sj.isUndefined(n)||null===n)&&r.call(t,n,sj.isString(a)?a.trim():a,i,u))&&e(n,i?i.concat(a):[a])}),d.pop()}}(e),t};function bj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function yj(e,t){this._pairs=[],e&&gj(e,this,t)}const vj=yj.prototype;vj.append=function(e,t){this._pairs.push([e,t])},vj.toString=function(e){const t=e?function(t){return e.call(this,t,bj)}:bj;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const xj=yj;function wj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jj(e,t,n){if(!t)return e;const i=n&&n.encode||wj;sj.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):sj.isURLSearchParams(t)?t.toString():new xj(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Sj=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){sj.forEach(this.handlers,function(t){null!==t&&e(t)})}},_j={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kj={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:xj,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Cj="undefined"!==typeof window&&"undefined"!==typeof document,Aj="object"===typeof navigator&&navigator||void 0,Nj=Cj&&(!Aj||["ReactNative","NativeScript","NS"].indexOf(Aj.product)<0),Oj="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Pj=Cj&&window.location.href||"http://localhost",Ij=je(je({},t),kj);const Ej=function(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=r>=e.length;if(a=!a&&sj.isArray(i)?i.length:a,s)return sj.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o;i[a]&&sj.isObject(i[a])||(i[a]=[]);return t(e,n,i[a],r)&&sj.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!o}if(sj.isFormData(e)&&sj.isFunction(e.entries)){const n={};return sj.forEachEntry(e,(e,i)=>{t(function(e){return sj.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null};const Tj={transitional:_j,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=sj.isObject(e);r&&sj.isHTMLForm(e)&&(e=new FormData(e));if(sj.isFormData(e))return i?JSON.stringify(Ej(e)):e;if(sj.isArrayBuffer(e)||sj.isBuffer(e)||sj.isStream(e)||sj.isFile(e)||sj.isBlob(e)||sj.isReadableStream(e))return e;if(sj.isArrayBufferView(e))return e.buffer;if(sj.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return gj(e,new Ij.classes.URLSearchParams,je({visitor:function(e,t,n,i){return Ij.isNode&&sj.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=sj.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return gj(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(sj.isString(e))try{return(t||JSON.parse)(e),sj.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Tj.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(sj.isResponse(e)||sj.isReadableStream(e))return e;if(e&&sj.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(r){if(n){if("SyntaxError"===r.name)throw uj.from(r,uj.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ij.classes.FormData,Blob:Ij.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};sj.forEach(["delete","get","head","post","put","patch"],e=>{Tj.headers[e]={}});const Lj=Tj,Mj=sj.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rj=Symbol("internals");function Dj(e){return e&&String(e).trim().toLowerCase()}function Fj(e){return!1===e||null==e?e:sj.isArray(e)?e.map(Fj):String(e)}function Bj(e,t,n,i,r){return sj.isFunction(i)?i.call(this,t,n):(r&&(t=n),sj.isString(t)?sj.isString(i)?-1!==t.indexOf(i):sj.isRegExp(i)?i.test(t):void 0:void 0)}class zj{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Dj(t);if(!r)throw new Error("header name must be a non-empty string");const a=sj.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=Fj(e))}const a=(e,t)=>sj.forEach(e,(e,n)=>r(e,n,t));if(sj.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(sj.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Mj[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(sj.isObject(e)&&sj.isIterable(e)){let n,i,r={};for(const t of e){if(!sj.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?sj.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Dj(e)){const n=sj.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(sj.isFunction(t))return t.call(this,e,n);if(sj.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Dj(e)){const n=sj.findKey(this,e);return!(!n||void 0===this[n]||t&&!Bj(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Dj(e)){const r=sj.findKey(n,e);!r||t&&!Bj(0,n[r],r,t)||(delete n[r],i=!0)}}return sj.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!Bj(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return sj.forEach(this,(i,r)=>{const a=sj.findKey(n,r);if(a)return t[a]=Fj(i),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();o!==r&&delete t[r],t[o]=Fj(i),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return sj.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&sj.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Rj]=this[Rj]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Dj(e);t[i]||(!function(e,t){const n=sj.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return sj.isArray(e)?e.forEach(i):i(e),this}}zj.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),sj.reduceDescriptors(zj.prototype,(e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}}),sj.freezeMethods(zj);const Wj=zj;function Uj(e,t){const n=this||Lj,i=t||n,r=Wj.from(i.headers);let a=i.data;return sj.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function qj(e){return!(!e||!e.__CANCEL__)}function Hj(e,t,n){uj.call(this,null==e?"canceled":e,uj.ERR_CANCELED,t,n),this.name="CanceledError"}sj.inherits(Hj,uj,{__CANCEL__:!0});const Vj=Hj;function Gj(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new uj("Request failed with status code "+n.status,[uj.ERR_BAD_REQUEST,uj.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Zj=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=i[o];r||(r=l),n[a]=s,i[a]=l;let d=o,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Yj=function(e,t){let n,i,r=0,a=1e3/t;const o=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,n=null,i&&(clearTimeout(i),i=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=a?o(l,e):(n=l,i||(i=setTimeout(()=>{i=null,o(n)},a-t)))},()=>n&&o(n)]},Kj=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=Zj(50,250);return Yj(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-i,l=r(s);i=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Jj=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Xj=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return sj.asap(()=>e(...n))},$j=Ij.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ij.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ij.origin),Ij.navigator&&/(msie|trident)/i.test(Ij.navigator.userAgent)):()=>!0,Qj=Ij.hasStandardBrowserEnv?{write(e,t,n,i,r,a,o){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];sj.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),sj.isString(i)&&s.push("path=".concat(i)),sj.isString(r)&&s.push("domain=".concat(r)),!0===a&&s.push("secure"),sj.isString(o)&&s.push("SameSite=".concat(o)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function eS(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const tS=e=>e instanceof Wj?je({},e):e;function nS(e,t){t=t||{};const n={};function i(e,t,n,i){return sj.isPlainObject(e)&&sj.isPlainObject(t)?sj.merge.call({caseless:i},e,t):sj.isPlainObject(t)?sj.merge({},t):sj.isArray(t)?t.slice():t}function r(e,t,n,r){return sj.isUndefined(t)?sj.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function a(e,t){if(!sj.isUndefined(t))return i(void 0,t)}function o(e,t){return sj.isUndefined(t)?sj.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>r(tS(e),tS(t),0,!0)};return sj.forEach(Object.keys(je(je({},e),t)),function(i){const a=l[i]||r,o=a(e[i],t[i],i);sj.isUndefined(o)&&a!==s||(n[i]=o)}),n}const iS=e=>{const t=nS({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=Wj.from(o),t.url=jj(eS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),sj.isFormData(n))if(Ij.hasStandardBrowserEnv||Ij.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(sj.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,i]=e;t.includes(n.toLowerCase())&&o.set(n,i)})}if(Ij.hasStandardBrowserEnv&&(i&&sj.isFunction(i)&&(i=i(t)),i||!1!==i&&$j(t.url))){const e=r&&a&&Qj.read(a);e&&o.set(r,e)}return t},rS="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const i=iS(e);let r=i.data;const a=Wj.from(i.headers).normalize();let o,s,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=i;function f(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const i=Wj.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Gj(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new uj("Request aborted",uj.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const i=t&&t.message?t.message:"Network Error",r=new uj(i,uj.ERR_NETWORK,e,m);r.event=t||null,n(r),m=null},m.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||_j;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new uj(t,r.clarifyTimeoutError?uj.ETIMEDOUT:uj.ECONNABORTED,e,m)),m=null},void 0===r&&a.setContentType(null),"setRequestHeader"in m&&sj.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),sj.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),u&&"json"!==u&&(m.responseType=i.responseType),p&&([l,d]=Kj(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=Kj(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(o=t=>{m&&(n(!t||t.type?new Vj(null,e,m):t),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);b&&-1===Ij.protocols.indexOf(b)?n(new uj("Unsupported protocol "+b+":",uj.ERR_BAD_REQUEST,e)):m.send(r||null)})},aS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;i.abort(t instanceof uj?t:new Vj(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new uj("timeout ".concat(t," of ms exceeded"),uj.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:s}=i;return s.unsubscribe=()=>sj.asap(o),s}};function oS(e,t){this.v=e,this.k=t}function sS(e){return function(){return new lS(e.apply(this,arguments))}}function lS(e){var t,n;function i(t,n){try{var a=e[t](n),o=a.value,s=o instanceof oS;Promise.resolve(s?o.v:o).then(function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return i(l,n);n=e[l](n).value}r(a.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(a,o){var s={key:e,arg:r,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function cS(e){return new oS(e,0)}function dS(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new oS(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function uS(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new hS(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function hS(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return hS=function(e){this.s=e,this.n=e.next},hS.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new hS(e)}lS.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},lS.prototype.next=function(e){return this._invoke("next",e)},lS.prototype.throw=function(e){return this._invoke("throw",e)},lS.prototype.return=function(e){return this._invoke("return",e)};const pS=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},fS=function(){var e=sS(function*(e,t){var n,i=!1,r=!1;try{for(var a,o=uS(mS(e));i=!(a=yield cS(o.next())).done;i=!1){const e=a.value;yield*dS(uS(pS(e,t)))}}catch(s){r=!0,n=s}finally{try{i&&null!=o.return&&(yield cS(o.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),mS=function(){var e=sS(function*(e){if(e[Symbol.asyncIterator])return void(yield*dS(uS(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield cS(t.read());if(e)break;yield n}}finally{yield cS(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),gS=(e,t,n,i)=>{const r=fS(e,t);let a,o=0,s=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return s(),void e.close();let a=i.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw s(t),t}},cancel:e=>(s(e),r.return())},{highWaterMark:2})},{isFunction:bS}=sj,yS=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(sj.global),{ReadableStream:vS,TextEncoder:xS}=sj.global,wS=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(r){return!1}},jS=e=>{e=sj.merge.call({skipUndefined:!0},yS,e);const{fetch:t,Request:n,Response:i}=e,r=t?bS(t):"function"===typeof fetch,a=bS(n),o=bS(i);if(!r)return!1;const s=r&&bS(vS),l=r&&("function"===typeof xS?(e=>t=>e.encode(t))(new xS):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&s&&wS(()=>{let e=!1;const t=new n(Ij.origin,{body:new vS,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=o&&s&&wS(()=>sj.isReadableStream(new i("").body)),u={stream:d&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,n)=>{let i=t&&t[e];if(i)return i.call(t);throw new uj("Response type '".concat(e,"' is not supported"),uj.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const i=sj.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(sj.isBlob(e))return e.size;if(sj.isSpecCompliantForm(e)){const t=new n(Ij.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return sj.isArrayBufferView(e)||sj.isArrayBuffer(e)?e.byteLength:(sj.isURLSearchParams(e)&&(e+=""),sj.isString(e)?(await l(e)).byteLength:void 0)})(t):i};return async e=>{let{url:r,method:o,data:s,signal:l,cancelToken:p,timeout:f,onDownloadProgress:m,onUploadProgress:g,responseType:b,headers:y,withCredentials:v="same-origin",fetchOptions:x}=iS(e),w=t||fetch;b=b?(b+"").toLowerCase():"text";let j=aS([l,p&&p.toAbortSignal()],f),S=null;const _=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let k;try{if(g&&c&&"get"!==o&&"head"!==o&&0!==(k=await h(y,s))){let e,t=new n(r,{method:"POST",body:s,duplex:"half"});if(sj.isFormData(s)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=Jj(k,Kj(Xj(g)));s=gS(t.body,65536,e,n)}}sj.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in n.prototype,l=je(je({},x),{},{signal:j,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:t?v:void 0});S=a&&new n(r,l);let p=await(a?w(S,x):w(r,l));const f=d&&("stream"===b||"response"===b);if(d&&(m||f&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=sj.toFiniteNumber(p.headers.get("content-length")),[n,r]=m&&Jj(t,Kj(Xj(m),!0))||[];p=new i(gS(p.body,65536,n,()=>{r&&r(),_&&_()}),e)}b=b||"text";let C=await u[sj.findKey(u,b)||"text"](p,e);return!f&&_&&_(),await new Promise((t,n)=>{Gj(t,n,{data:C,headers:Wj.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:S})})}catch(C){if(_&&_(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new uj("Network Error",uj.ERR_NETWORK,e,S),{cause:C.cause||C});throw uj.from(C,C&&C.code,e,S)}}},SS=new Map,_S=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:r}=t,a=[i,r,n];let o,s,l=a.length,c=SS;for(;l--;)o=a[l],s=c.get(o),void 0===s&&c.set(o,s=l?new Map:jS(t)),c=s;return s},kS=(_S(),{http:null,xhr:rS,fetch:{get:_S}});sj.forEach(kS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const CS=e=>"- ".concat(e),AS=e=>sj.isFunction(e)||null===e||!1===e;const NS={getAdapter:function(e,t){e=sj.isArray(e)?e:[e];const{length:n}=e;let i,r;const a={};for(let o=0;o<n;o++){let n;if(i=e[o],r=i,!AS(i)&&(r=kS[(n=String(i)).toLowerCase()],void 0===r))throw new uj("Unknown adapter '".concat(n,"'"));if(r&&(sj.isFunction(r)||(r=r.get(t))))break;a[n||"#"+o]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(CS).join("\n"):" "+CS(e[0]):"as no adapter specified";throw new uj("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:kS};function OS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vj(null,e)}function PS(e){OS(e),e.headers=Wj.from(e.headers),e.data=Uj.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return NS.getAdapter(e.adapter||Lj.adapter,e)(e).then(function(t){return OS(e),t.data=Uj.call(e,e.transformResponse,t),t.headers=Wj.from(t.headers),t},function(t){return qj(t)||(OS(e),t&&t.response&&(t.response.data=Uj.call(e,e.transformResponse,t.response),t.response.headers=Wj.from(t.response.headers))),Promise.reject(t)})}const IS="1.13.2",ES={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ES[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const TS={};ES.transitional=function(e,t,n){function i(e,t){return"[Axios v"+IS+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new uj(i(r," has been removed"+(t?" in "+t:"")),uj.ERR_DEPRECATED);return t&&!TS[r]&&(TS[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},ES.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const LS={assertOptions:function(e,t,n){if("object"!==typeof e)throw new uj("options must be an object",uj.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new uj("option "+a+" must be "+n,uj.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new uj("Unknown option "+a,uj.ERR_BAD_OPTION)}},validators:ES},MS=LS.validators;class RS{constructor(e){this.defaults=e||{},this.interceptors={request:new Sj,response:new Sj}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(i){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=nS(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&LS.assertOptions(n,{silentJSONParsing:MS.transitional(MS.boolean),forcedJSONParsing:MS.transitional(MS.boolean),clarifyTimeoutError:MS.transitional(MS.boolean)},!1),null!=i&&(sj.isFunction(i)?t.paramsSerializer={serialize:i}:LS.assertOptions(i,{encode:MS.function,serialize:MS.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),LS.assertOptions(t,{baseUrl:MS.spelling("baseURL"),withXsrfToken:MS.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&sj.merge(r.common,r[t.method]);r&&sj.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Wj.concat(a,r);const o=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!s){const e=[PS.bind(this),void 0];for(e.unshift(...o),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let h=t;for(;u<d;){const e=o[u++],t=o[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=PS.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return jj(eS((e=nS(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}sj.forEach(["delete","get","head","options"],function(e){RS.prototype[e]=function(t,n){return this.request(nS(n||{},{method:e,url:t,data:(n||{}).data}))}}),sj.forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request(nS(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}RS.prototype[e]=t(),RS.prototype[e+"Form"]=t(!0)});const DS=RS;class FS{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,r){n.reason||(n.reason=new Vj(e,i,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new FS(function(t){e=t});return{token:t,cancel:e}}}const BS=FS;const zS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zS).forEach(e=>{let[t,n]=e;zS[n]=t});const WS=zS;const US=function e(t){const n=new DS(t),i=xw(DS.prototype.request,n);return sj.extend(i,DS.prototype,n,{allOwnKeys:!0}),sj.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(nS(t,n))},i}(Lj);US.Axios=DS,US.CanceledError=Vj,US.CancelToken=BS,US.isCancel=qj,US.VERSION=IS,US.toFormData=gj,US.AxiosError=uj,US.Cancel=US.CanceledError,US.all=function(e){return Promise.all(e)},US.spread=function(e){return function(t){return e.apply(null,t)}},US.isAxiosError=function(e){return sj.isObject(e)&&!0===e.isAxiosError},US.mergeConfig=nS,US.AxiosHeaders=Wj,US.formToJSON=e=>Ej(sj.isHTMLForm(e)?new FormData(e):e),US.getAdapter=NS.getAdapter,US.HttpStatusCode=WS,US.default=US;const qS=US;function HS(e){let{department:t,setTab:n}=e;const[r,a]=(0,i.useState)([]),[o,l]=(0,i.useState)([]);(0,i.useEffect)(()=>{qS.get("".concat("http://127.0.0.1:5000","/api/patients/departments/").concat(t)).then(e=>{const t=e.data.filter(e=>!o.includes(e.patient_id));a(t)}).catch(e=>console.error("Error fetching patients:",e))},[t,o]);const c=e=>new Date(e).toLocaleString();return(0,s.jsxs)("div",{style:{padding:"10px 20px"},children:[(0,s.jsxs)("h2",{style:{marginBottom:"20px",color:"#1f2937"},children:["Patients in ",t," Department"]}),(0,s.jsx)("div",{style:{border:"1px solid #d1d5db",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{backgroundColor:"#374151",color:"white",textAlign:"left"},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px 16px",width:"80px"},children:"Token"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Patient ID"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Departments"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Appointment"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center"},children:"Action"})]})}),(0,s.jsx)("tbody",{children:0===r.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"16px",color:"#6b7280",fontStyle:"italic"},children:"No patient records found"})}):r.map((e,t)=>{var i;return(0,s.jsxs)("tr",{style:{backgroundColor:t%2===0?"#f9fafb":"#ffffff",borderBottom:"1px solid #e5e7eb"},children:[(0,s.jsx)("td",{style:{padding:"12px 16px"},children:t+1}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.patient_id}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.patient_name}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:(null===(i=e.departments)||void 0===i?void 0:i.join(", "))||"\u2014"}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:c(e.appointment_date)}),(0,s.jsx)("td",{style:{padding:"12px 16px",textAlign:"center"},children:(0,s.jsx)("button",{onClick:()=>{return t=e.patient_id,alert("\u2705 Patient ID ".concat(t," viewed.")),l(e=>[...e,t]),void n("ICDAD");var t},style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",fontSize:"14px",cursor:"pointer"},children:"Edit"})})]},e.patient_id)})})]})})]})}const VS="http://127.0.0.1:5000";qS.create({baseURL:VS});const GS={display:"flex",gap:10,borderBottom:"1px solid #ddd",marginBottom:12},ZS={padding:"8px 16px",border:"none",cursor:"pointer",fontWeight:600},YS=je(je({},ZS),{},{backgroundColor:"#0f172a"}),KS={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:12},JS={padding:"12px",borderRadius:8,cursor:"pointer",fontWeight:600,textAlign:"left"},XS={marginTop:20,padding:16,border:"1px solid #ddd",borderRadius:8,background:"#fff"},$S={whiteSpace:"pre-wrap",background:"#f9fafb",padding:12,borderRadius:6},QS={marginTop:10,padding:"6px 14px"},e_=function(e){let{patientId:t,encounterId:n,onSaved:r}=e;const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,16)},o=e=>""===e||null===e?"":Number(e),l=(e,t)=>""!==e&&""!==t?Math.round((Number(e)+2*Number(t))/3):"",c=(e,t)=>{if(""===e||""===t)return"";const n=Number(e)/100;return n>0?Number(t)/(n*n):""},[d,u]=i.useState("VITALS"),[h,p]=i.useState(null),[f,m]=i.useState({ts:a(),position:"sitting",hr_bpm:"",bp_sys:"",bp_dia:"",rr_bpm:"",spo2_pct:"",o2_flow_lpm:"",temp_c:"",temp_method:"oral",pain_0_10:"",rpe_0_10:"",o_sup_hr:"",o_sup_sys:"",o_sup_dia:"",o_sit_hr:"",o_sit_sys:"",o_sit_dia:"",o_std_hr:"",o_std_sys:"",o_std_dia:"",peak_hr:"",peak_spo2:"",peak_rpe:"",rec1_hr:"",rec1_spo2:"",rec3_hr:"",height_cm:"",weight_kg:"",bmi:"",device:"",site_bp:"",cuff_size:"",site_spo2:"",notes:""});i.useEffect(()=>{m(e=>je(je({},e),{},{map:l(e.bp_sys,e.bp_dia)}))},[f.bp_sys,f.bp_dia]),i.useEffect(()=>{m(e=>je(je({},e),{},{bmi:c(e.height_cm,e.weight_kg)}))},[f.height_cm,f.weight_kg]);const g=e=>t=>m(n=>je(je({},n),{},{[e]:t.target.value})),[b,y]=i.useState("idle");return(0,s.jsxs)("section",{className:"card vitals",children:[(0,s.jsxs)("div",{style:GS,children:[(0,s.jsx)("button",{style:"VITALS"===d?YS:ZS,onClick:()=>u("VITALS"),children:"Vitals"}),(0,s.jsx)("button",{style:"REPORTS"===d?YS:ZS,onClick:()=>u("REPORTS"),children:"Medical Reports"})]}),"VITALS"===d&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Vitals \u2014 Rehab Capture"})}),(0,s.jsxs)("div",{className:"section",style:{margin:"12px 20px"},children:[(0,s.jsxs)("div",{className:"grid",style:{alignItems:"end"},children:[(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 3"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Time"}),(0,s.jsx)("div",{className:"control",children:(0,s.jsx)("input",{type:"datetime-local",className:"input-sm",value:f.ts,onChange:g("ts")})})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Position"}),(0,s.jsxs)("select",{className:"select-sm",value:f.position,onChange:g("position"),children:[(0,s.jsx)("option",{children:"sitting"}),(0,s.jsx)("option",{children:"standing"}),(0,s.jsx)("option",{children:"supine"})]})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"HR (bpm)"}),(0,s.jsx)("div",{className:"control",children:(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.hr_bpm,onChange:g("hr_bpm")})})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"RR (bpm)"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.rr_bpm,onChange:g("rr_bpm")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 1"},children:[(0,s.jsx)("div",{className:"label-sm",children:"SpO\u2082 (%)"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.spo2_pct,onChange:g("spo2_pct")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"O\u2082 flow (L/min)"}),(0,s.jsx)("input",{type:"number",step:"0.1",className:"input-sm num",value:f.o2_flow_lpm,onChange:g("o2_flow_lpm")})]})]}),(0,s.jsxs)("div",{className:"grid",style:{marginTop:10,alignItems:"end"},children:[(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"BP systolic"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.bp_sys,onChange:g("bp_sys")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"BP diastolic"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.bp_dia,onChange:g("bp_dia")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"MAP (auto)"}),(0,s.jsx)("input",{className:"input-sm num",value:f.map,readOnly:!0})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"BP site"}),(0,s.jsx)("input",{className:"input-sm",placeholder:"Left Arm",value:f.site_bp,onChange:g("site_bp")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"BP cuff"}),(0,s.jsx)("input",{className:"input-sm",placeholder:"Adult / Large",value:f.cuff_size,onChange:g("cuff_size")})]}),(0,s.jsxs)("div",{className:"right",style:{gridColumn:"span 2"},children:[(0,s.jsx)("button",{className:"btn btn-link",onClick:()=>m(e=>je(je({},e),{},{ts:a()})),children:"Now"}),(0,s.jsx)("div",{className:"chip-info",children:"Last edited auto-saves on Save"})]})]}),(0,s.jsxs)("div",{className:"grid",style:{marginTop:10},children:[(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Temp (\xb0C)"}),(0,s.jsx)("input",{type:"number",step:"0.1",className:"input-sm num",value:f.temp_c,onChange:g("temp_c")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Method"}),(0,s.jsxs)("select",{className:"select-sm",value:f.temp_method,onChange:g("temp_method"),children:[(0,s.jsx)("option",{children:"Oral"}),(0,s.jsx)("option",{children:"Tympanic"}),(0,s.jsx)("option",{children:"Axillary"}),(0,s.jsx)("option",{children:"Rectal"})]})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Pain (0\u201310)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"10",className:"input-sm num",value:f.pain_0_10,onChange:g("pain_0_10")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"RPE (0\u201310)"}),(0,s.jsx)("input",{type:"number",min:"0",max:"10",className:"input-sm num",value:f.rpe_0_10,onChange:g("rpe_0_10")})]})]})]}),(0,s.jsxs)("div",{className:"section",style:{margin:"12px 20px"},children:[(0,s.jsx)("div",{className:"box-title",style:{marginBottom:6},children:"Orthostatics (HR & BP)"}),(0,s.jsx)("table",{className:"vtable",children:(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"right",style:{textAlign:"left"},children:"Position"}),(0,s.jsx)("th",{children:"HR (bpm)"}),(0,s.jsx)("th",{children:"Sys"}),(0,s.jsx)("th",{children:"Dia"})]})})}),(0,s.jsxs)("div",{className:"vrow",children:[(0,s.jsx)("div",{className:"pos",children:"Supine"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_sup_hr,onChange:g("o_sup_hr")}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_sup_sys,onChange:g("o_sup_sys")}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_sup_dia,onChange:g("o_sup_dia")})]}),(0,s.jsxs)("div",{className:"vrow",children:[(0,s.jsx)("div",{className:"pos",children:"Sitting"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_sit_hr,onChange:g("o_sit_hr")}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_sit_sys,onChange:g("o_sit_sys")}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_sit_dia,onChange:g("o_sit_dia")})]}),(0,s.jsxs)("div",{className:"vrow",children:[(0,s.jsx)("div",{className:"pos",children:"Standing"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_std_hr,onChange:g("o_std_hr")}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_std_sys,onChange:g("o_std_sys")}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.o_std_dia,onChange:g("o_std_dia")})]})]}),(0,s.jsxs)("div",{className:"section",style:{margin:"12px 20px"},children:[(0,s.jsx)("div",{className:"box-title",style:{marginBottom:6},children:"Exercise Session \u2014 Peak & Recovery"}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Peak HR"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.peak_hr,onChange:g("peak_hr")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Peak SpO\u2082"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.peak_spo2,onChange:g("peak_spo2")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Peak RPE"}),(0,s.jsx)("input",{type:"number",min:"0",max:"10",className:"input-sm num",value:f.peak_rpe,onChange:g("peak_rpe")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"HR @ 1 min"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.rec1_hr,onChange:g("rec1_hr")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"SpO\u2082 @ 1 min"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.rec1_spo2,onChange:g("rec1_spo2")})]}),(0,s.jsx)("div",{className:"field",style:{gridColumn:"span 2"}})]}),(0,s.jsxs)("div",{className:"grid",style:{marginTop:10},children:[(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"HR @ 3 min"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.rec3_hr,onChange:g("rec3_hr")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"SpO\u2082 @ 3 min"}),(0,s.jsx)("input",{type:"number",className:"input-sm num",value:f.rec3_spo2,onChange:g("rec3_spo2")})]})]})]}),(0,s.jsxs)("div",{className:"section",style:{margin:"12px 20px"},children:[(0,s.jsx)("div",{className:"box-title",style:{marginBottom:6},children:"Anthropometrics & Notes"}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Height (cm)"}),(0,s.jsx)("input",{type:"number",step:"0.1",className:"input-sm num",value:f.height_cm,onChange:g("height_cm")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Weight (kg)"}),(0,s.jsx)("input",{type:"number",step:"0.1",className:"input-sm num",value:f.weight_kg,onChange:g("weight_kg")})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 2"},children:[(0,s.jsx)("div",{className:"label-sm",children:"BMI (auto)"}),(0,s.jsx)("input",{className:"input-sm num",value:""===f.bmi?"":Number(f.bmi).toFixed(1),readOnly:!0})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 3"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Device"}),(0,s.jsx)("input",{className:"input-sm",value:f.device,onChange:g("device"),placeholder:"Welch Allyn Connex 6000"})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 3"},children:[(0,s.jsx)("div",{className:"label-sm",children:"SpO\u2082 site"}),(0,s.jsx)("input",{className:"input-sm",value:f.site_spo2,onChange:g("site_spo2"),placeholder:"finger / ear"})]}),(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 12"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Notes"}),(0,s.jsx)("textarea",{className:"ta-sm",rows:3,maxLength:1e3,value:f.notes,onChange:g("notes"),placeholder:"e.g., arrhythmia detected, movement artifact, cuff mismatch"})]})]})]}),(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Allergic To "})}),(0,s.jsxs)("div",{className:"section",style:{margin:"12px 20px"},children:[(0,s.jsx)("div",{className:"box-title",style:{marginBottom:6},children:"Allergic Reactions to "}),(0,s.jsx)("div",{className:"grid",children:(0,s.jsxs)("div",{className:"field",style:{gridColumn:"span 12"},children:[(0,s.jsx)("div",{className:"label-sm",children:"Mention to which the Patient feels allergic reactions for "}),(0,s.jsx)("textarea",{className:"ta-sm",rows:3,maxLength:1e3,value:f.notes,onChange:g("notes"),placeholder:"e.g., Eating Brinjal"})]})})]}),(0,s.jsxs)("div",{className:"actions",style:{display:"flex",gap:10,margin:"10px 20px 20px",justifyContent:"flex-end"},children:[(0,s.jsx)("button",{className:"btn",onClick:()=>m(e=>je(je({},e),{},{ts:a()})),children:"Set time to Now"}),(0,s.jsx)("button",{className:"btn",style:{backgroundColor:"#0284c7",color:"#fff"},onClick:()=>{const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(Math.random()*(t-e)+e).toFixed(n)},t={bp_sys:e(110,130),bp_dia:e(70,85),rr_bpm:e(12,20),spo2_pct:e(95,99),o2_flow_lpm:e(0,2,1),temp_c:e(36.3,37.4,1),pain_0_10:e(0,3),rpe_0_10:e(0,5),peak_hr:e(120,160),peak_spo2:e(94,98),rec1_hr:e(100,120),rec1_spo2:e(95,98),rec3_hr:e(80,100),height_cm:e(155,185),weight_kg:e(55,90),device:"Welch Allyn Connex 6000",site_bp:"Left Arm",site_spo2:"Finger"};t.map=l(t.bp_sys,t.bp_dia),t.bmi=c(t.height_cm,t.weight_kg),m(e=>je(je({},e),t))},children:"\ud83d\udd04 Fetch From Machine"}),(0,s.jsx)("button",{className:"btn savebtn ".concat("saving"===b?"is-busy":""),onClick:async()=>{if(!t)return;y("saving");const e={patient_id:t,encounter_id:n||null,vitals:{ts:new Date(f.ts).toISOString(),position:f.position,hr_bpm:o(f.hr_bpm),bp:{sys:o(f.bp_sys),dia:o(f.bp_dia),map:o(f.map),site:f.site_bp,cuff:f.cuff_size},rr_bpm:o(f.rr_bpm),spo2_pct:o(f.spo2_pct),o2_flow_lpm:""===f.o2_flow_lpm?null:o(f.o2_flow_lpm),temp_c:""===f.temp_c?null:o(f.temp_c),temp_method:f.temp_method,pain_0_10:""===f.pain_0_10?null:o(f.pain_0_10),rpe_0_10:""===f.rpe_0_10?null:o(f.rpe_0_10)},device:f.device,site_spo2:f.site_spo2,notes:f.notes,allergy:f.allergy};try{if(!(await fetch("".concat(VS,"/patients/").concat(encodeURIComponent(t),"/vitals"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("save failed");y("saved"),null===r||void 0===r||r(),setTimeout(()=>y("idle"),1500)}catch(i){console.error(i),y("idle"),alert("Failed to save vitals.")}},disabled:"saving"===b,children:"saving"===b?"Saving\u2026":"saved"===b?"Saved":"Save"})]})]})}),"REPORTS"===d&&(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsx)("div",{style:KS,children:[{id:"cbc",title:"Complete Blood Count (CBC)",content:"\nHemoglobin: 13.4 g/dL\nWBC: 7,800 /\xb5L\nPlatelets: 2.4 lakh /\xb5L\nRBC Count: 4.8 million /\xb5L\nInterpretation: Within normal limits\n    "},{id:"echo",title:"2D Echocardiography",content:"\nLV Ejection Fraction: 60%\nNo regional wall motion abnormality\nValves: Normal\nImpression: Normal cardiac function\n    "},{id:"urine",title:"Urine Routine Examination",content:"\nColor: Pale yellow\nProtein: Nil\nSugar: Nil\nPus cells: 1\u20132 / HPF\nImpression: Normal\n    "},{id:"xray",title:"Chest X-Ray",content:"\nLung fields: Clear\nCardiac silhouette: Normal\nNo active pulmonary disease\n    "}].map(e=>(0,s.jsxs)("button",{style:JS,onClick:()=>p(e),children:["\ud83d\udcc4 ",e.title]},e.id))}),h&&(0,s.jsxs)("div",{style:XS,children:[(0,s.jsx)("h3",{children:h.title}),(0,s.jsx)("pre",{style:$S,children:h.content}),(0,s.jsx)("button",{style:QS,onClick:()=>p(null),children:"Close Report"})]})]})]})};qS.create({baseURL:"http://127.0.0.1:5000"});const t_=function(e){let{options:t,selected:n,onChange:r,placeholder:a="Select\u2026",width:o=420}=e;const[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(""),h=(0,i.useMemo)(()=>{const e=(d||"").toLowerCase();return e?t.filter(t=>t.value.toLowerCase().includes(e)||(t.label||"").toLowerCase().includes(e)):t},[d,t]),p=h.length>0&&h.every(e=>n.has(e.value));return(0,s.jsxs)("div",{className:"ms",style:{width:o},children:[(0,s.jsxs)("button",{type:"button",className:"ms-btn",onClick:()=>c(e=>!e),children:[n.size?"".concat(n.size," selected"):a,(0,s.jsx)("span",{className:"ms-caret",children:"\u25be"})]}),l&&(0,s.jsxs)("div",{className:"ms-pop",children:[(0,s.jsxs)("div",{className:"ms-hdr",children:[(0,s.jsx)("input",{className:"ms-search",placeholder:"Search\u2026",value:d,onChange:e=>u(e.target.value)}),(0,s.jsxs)("div",{className:"ms-actions",children:[(0,s.jsx)("button",{className:"ms-mini",onClick:()=>{const e=new Set(n);h.forEach(t=>e.add(t.value)),r(e)},disabled:0===h.length||p,children:"Select All"}),(0,s.jsx)("button",{className:"ms-mini",onClick:()=>{const e=new Set(n);h.forEach(t=>e.delete(t.value)),r(e)},disabled:0===h.length,children:"Clear"}),(0,s.jsx)("button",{className:"ms-mini",onClick:()=>c(!1),children:"Apply"})]})]}),(0,s.jsx)("div",{className:"ms-list",children:0===h.length?(0,s.jsx)("div",{className:"ms-empty",children:"No matches"}):h.map(e=>(0,s.jsxs)("label",{className:"ms-item",children:[(0,s.jsx)("input",{type:"checkbox",checked:n.has(e.value),onChange:()=>(e=>{const t=new Set(n);t.has(e)?t.delete(e):t.add(e),r(t)})(e.value)}),(0,s.jsx)("span",{children:e.label||e.value})]},e.value))})]})]})};qS.create({baseURL:"http://127.0.0.1:5000"});const n_=function(e){let{apiBase:t,selectedIchiCodes:n,onSummaryChange:r}=e;const[a,o]=i.useState([]),[l,c]=i.useState({}),[d,u]=i.useState({}),[h,p]=i.useState({}),[f,m]=i.useState(""),g=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("HTTP ".concat(t.status));return t.json()};return i.useEffect(()=>{let e=!1;return(async()=>{try{m("");const i=new Set;for(const e of n){(await g("".concat(t,"/assessments/by-ichi/").concat(encodeURIComponent(e)))).forEach(e=>i.add(e))}if(e)return;const r=Array.from(i).sort();o(r);const a={};for(const e of r){const n=await g("".concat(t,"/assessments/inputs/").concat(encodeURIComponent(e)));a[e]=n}if(e)return;c(a)}catch(i){m("Failed to load assessments: ".concat(i.message)),o([]),c({})}})(),()=>{e=!0}},[t,n.join("|")]),i.useEffect(()=>{const e=a.map(e=>{const t=Array.from(d[e]||[]);return{assessment:e,items:t.map(t=>({input:t,score:h["".concat(e,"|").concat(t)]}))}}).filter(e=>e.items.length>0);null===r||void 0===r||r(e)},[a,d,h,r]),(0,s.jsxs)("div",{className:"box",style:{marginTop:12,paddingLeft:"40px"},children:[(0,s.jsx)("div",{className:"box-title",style:{fontWeight:600},children:"Assessments"}),f&&(0,s.jsx)("div",{className:"note",children:f}),0===a.length?(0,s.jsx)("div",{className:"muted",children:"No Assessments for the Selected ICHI."}):(0,s.jsx)(s.Fragment,{children:a.map(e=>{const t=l[e]||[],n=d[e]||new Set;return(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,s.jsx)("div",{className:"label",children:e}),(0,s.jsx)("div",{children:(0,s.jsx)(t_,{options:t.map(e=>({value:e.input,label:e.input})),selected:n,onChange:t=>u(n=>je(je({},n),{},{[e]:t})),placeholder:"Select ".concat(e," Inputs\u2026"),width:560})})]}),Array.from(n).map(n=>{var i;const r=t.find(e=>e.input===n)||{},a=((e,t,n)=>{if(Number.isFinite(t)&&Number.isFinite(n)&&t<=n)return Array.from({length:n-t+1},(e,n)=>t+n);const i=(e||"").match(/^(\d+)\s*-\s*(\d+)$/);if(!i)return[];const r=parseInt(i[1],10),a=parseInt(i[2],10);return isNaN(r)||isNaN(a)||r>a?[]:Array.from({length:a-r+1},(e,t)=>r+t)})(r.range,r.min,r.max),o="".concat(e,"|").concat(n),l=null!==(i=h[o])&&void 0!==i?i:a.length?a[0]:"";return(0,s.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,s.jsx)("div",{className:"label",style:{fontWeight:500},children:n}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsxs)("span",{className:"pill",children:["range: ",(0,s.jsx)("b",{children:r.range||(Number.isFinite(r.min)&&Number.isFinite(r.max)?"".concat(r.min,"-").concat(r.max):"\u2014")})]}),a.length>0?(0,s.jsx)("select",{className:"input",value:l,onChange:e=>p(t=>je(je({},t),{},{[o]:Number(e.target.value)})),style:{maxWidth:160},children:a.map(e=>(0,s.jsx)("option",{value:e,children:e},e))}):(0,s.jsx)("span",{className:"muted",children:"No numeric range"})]})]},o)})]},e)})})]})};function i_(e){var t;let{schema:n,values:i,onChange:r,submitted:a,onAction:o,assessmentRegistry:l={},children:c,layout:d="root"}=e;const u=n.sections||[{title:null,fields:n.fields}];return(0,s.jsx)("div",{style:d_.page,children:(0,s.jsx)("div",{style:d_.content,children:(0,s.jsxs)("div",{style:"root"===d?d_.card:d_.nestedContainer,children:[(0,s.jsxs)("div",{style:d_.header,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d_.title,children:n.title}),n.subtitle&&(0,s.jsx)("div",{style:d_.subtitle,children:n.subtitle})]}),(null===(t=n.actions)||void 0===t?void 0:t.length)>0&&(0,s.jsx)("div",{style:d_.actions,children:n.actions.map(e=>(0,s.jsx)("button",{style:d_.mstBtn,onClick:()=>null===o||void 0===o?void 0:o(e.type),children:e.label},e.type))})]}),(0,s.jsx)("div",{style:d_.body,children:u.map((e,t)=>{if(e.showIf){const t=i[e.showIf.field];if("equals"in e.showIf&&t!==e.showIf.equals)return null;if("exists"in e.showIf&&!t)return null}return(0,s.jsxs)("div",{style:"root"===d?d_.sectionCard:d_.nestedSection,children:[e.title&&(0,s.jsx)("div",{style:d_.sectionTitle,children:e.title}),e.fields.some(e=>"radio-matrix"===e.type)&&(0,s.jsxs)("div",{style:d_.matrixHeader,children:[(0,s.jsx)("div",{style:d_.matrixLabel,children:"Scale"}),(0,s.jsx)("div",{style:d_.matrixOptions,children:e.fields.find(e=>"radio-matrix"===e.type).options.map(e=>(0,s.jsx)("div",{style:d_.matrixHeaderCell,children:e.label},e.value))})]}),e.fields.map(e=>{if(e.showIf){const t=i[e.showIf.field];if("equals"in e.showIf)if(Array.isArray(t)){if(!t.includes(e.showIf.equals))return null}else if(t!==e.showIf.equals)return null;if("includes"in e.showIf&&(!Array.isArray(t)||!t.includes(e.showIf.includes)))return null;if("exists"in e.showIf&&!t)return null}const t=i[e.name],n=a?function(e,t){if(!t)return null;if(t.required&&!e)return t.message||"This field is required";return null}(t,e.validation):null;return(0,s.jsxs)("div",{style:je(je({},d_.field),{},{marginBottom:"nested"===d?10:18}),children:["radio"!==e.type||e.inRow?"subheading"===e.type?l_(e):(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsxs)(s.Fragment,{children:[!["button","subheading","radio-matrix","score-box","inline-input"].includes(e.type)&&"checkbox-group"!==e.type&&(0,s.jsx)("label",{style:d_.label,children:e.label}),l_(e,t,i,r,o,l)]}),e.helper&&(0,s.jsx)("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:e.helper})]}):(0,s.jsxs)("div",{style:d_.radioRow,children:[(0,s.jsx)("div",{style:d_.radioLabel,children:e.label}),l_(e,t,i,r,o,l)]}),n&&(0,s.jsx)("div",{style:d_.error,children:n})]},e.name)})]},t)})}),c&&(0,s.jsx)("div",{style:d_.footer,children:c})]})})})}function r_(e){let{info:t}=e;const[n,r]=i.useState(!1);if(!t)return null;const a="string"===typeof t?[t]:t.content;return(0,s.jsxs)("span",{style:d_.infoWrapper,onClick:e=>{e.stopPropagation(),r(e=>!e)},children:["\u24d8",n&&(0,s.jsxs)("div",{style:d_.tooltip,children:[t.title&&(0,s.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:t.title}),(0,s.jsx)("ul",{style:{paddingLeft:16,margin:0},children:a.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]})]})}function a_(e){let{field:t,values:n,onChange:i,assessmentRegistry:r}=e;const a="".concat(t.name,"_active"),o=n[a]||null,l=o?null===r||void 0===r?void 0:r[o]:null;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d_.inlineGroup,children:t.options.map(e=>(0,s.jsx)("button",{style:je(je({},d_.btnOutline),{},{background:o===e.value?"#2563EB":"#fff",color:o===e.value?"#fff":"#111827"}),onClick:()=>i(a,o===e.value?null:e.value),children:e.label},e.value))}),l?(0,s.jsx)("div",{style:{marginTop:20},children:(0,s.jsx)(l,{values:n,onChange:i})}):o?(0,s.jsxs)("div",{style:{marginTop:10,color:"red"},children:["\u26a0 No component registered for: ",(0,s.jsx)("b",{children:o})]}):null]})}function o_(e){let{field:t,value:n,onChange:r}=e;const[a,o]=i.useState(!1),l=i.useRef(null);i.useEffect(()=>{function e(e){l.current&&!l.current.contains(e.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const c=0===n.length?"Select":t.options.filter(e=>n.includes(e.value)).map(e=>e.label).join(", ");return(0,s.jsxs)("div",{ref:l,style:d_.multiSelectWrap,children:[(0,s.jsxs)("div",{style:d_.multiSelectControl,onClick:()=>o(e=>!e),children:[(0,s.jsx)("span",{style:{color:n.length?"#111827":"#9ca3af"},children:c}),(0,s.jsx)("span",{style:d_.caret,children:"\u25be"})]}),a&&(0,s.jsx)("div",{style:d_.multiSelectMenu,children:t.options.map(e=>(0,s.jsxs)("label",{style:d_.multiSelectItem,children:[(0,s.jsx)("input",{type:"checkbox",checked:n.includes(e.value),onChange:()=>(e=>{const i=n.includes(e)?n.filter(t=>t!==e):[...n,e];r(t.name,i)})(e.value)}),e.label]},e.value))})]})}function s_(e){let{field:t,value:n,onChange:i}=e;return(0,s.jsxs)("div",{style:d_.matrixRow,children:[(0,s.jsxs)("div",{style:d_.matrixLabel,children:[t.label,t.info&&(0,s.jsx)(r_,{info:t.info})]}),(0,s.jsx)("div",{style:d_.matrixOptions,children:t.options.map(e=>(0,s.jsx)("label",{style:d_.matrixCell,children:(0,s.jsx)("input",{type:"radio",name:t.name,checked:n===e.value,onChange:()=>i(t.name,e.value)})},e.value))})]})}function l_(e,t,n,i,r,a){switch(e.type){case"input":return(0,s.jsx)("input",{style:d_.input,value:t||"",onChange:t=>i(e.name,t.target.value)});case"milestone-grid":return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d_.subheading,children:e.heading}),e.rows.map((e,t)=>(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:e.right?"1fr 1fr":"1fr",gap:24,marginBottom:16},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d_.milestoneLabel,children:e.left.label}),(0,s.jsx)("input",{style:d_.input,value:n[e.left.name]||"",placeholder:e.left.placeholder,onChange:t=>i(e.left.name,t.target.value)})]}),e.right&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:d_.milestoneLabel,children:e.right.label}),(0,s.jsx)("input",{style:d_.input,value:n[e.right.name]||"",placeholder:e.right.placeholder,onChange:t=>i(e.right.name,t.target.value)})]})]},t))]});case"multi-select-details":{const t=n[e.sourceField]||[];return Array.isArray(t)&&0!==t.length?(0,s.jsx)("div",{style:{marginTop:12},children:t.map(t=>(0,s.jsxs)("div",{style:{marginBottom:14},children:[(0,s.jsxs)("label",{style:{display:"block",fontWeight:600,marginBottom:6},children:[e.labelPrefix," ",t]}),(0,s.jsx)("input",{style:d_.textarea,value:n["".concat(e.namePrefix,"_").concat(t)]||"",onChange:n=>i("".concat(e.namePrefix,"_").concat(t),n.target.value)})]},t))}):null}case"row":return(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:e.fields.map(e=>{const t=n[e.name];return(0,s.jsxs)("div",{children:[e.label&&(0,s.jsx)("label",{style:{display:"block",fontWeight:600,marginBottom:6},children:e.label}),l_(e,t,i,r)]},e.name)})});case"multi-notes":const o=n[e.source]||[];return o.length?(0,s.jsx)("div",{style:{display:"grid",gap:12},children:o.map(n=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontWeight:600,display:"block",marginBottom:4},children:[n," \u2013 Notes"]}),(0,s.jsx)("textarea",{style:d_.textarea,value:(t||{})[n]||"",onChange:r=>i(e.name,je(je({},t||{}),{},{[n]:r.target.value}))})]},n))}):null;case"score-box":return(0,s.jsxs)("div",{style:d_.scoreBox,children:[(0,s.jsx)("div",{style:d_.scoreLabel,children:e.label}),(0,s.jsx)("div",{style:d_.scoreValue,children:null!==t&&void 0!==t?t:0})]});case"paired-select":return(0,s.jsxs)("div",{style:d_.pairedBlock,children:[(0,s.jsxs)("div",{style:d_.pairedTitles,children:[(0,s.jsx)("div",{style:d_.pairedTitleCell,children:e.right.title}),(0,s.jsx)("div",{style:d_.pairedTitleCell,children:e.left.title})]}),(0,s.jsxs)("div",{style:d_.pairedInputs,children:[(0,s.jsxs)("select",{style:d_.select,value:n[e.right.name]||"",onChange:t=>i(e.right.name,t.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),e.options.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,s.jsxs)("select",{style:d_.select,value:n[e.left.name]||"",onChange:t=>i(e.left.name,t.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),e.options.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]});case"radio-matrix":case"radio-matrix":return(0,s.jsx)(s_,{field:e,value:t,onChange:i});case"textarea":return(0,s.jsx)("textarea",{style:d_.textarea,value:t||"",readOnly:e.readOnly,onChange:t=>!e.readOnly&&i(e.name,t.target.value)});case"date":return(0,s.jsx)("input",{type:"date",style:d_.input,value:t||"",onChange:t=>i(e.name,t.target.value)});case"single-select":return(0,s.jsxs)("select",{style:d_.select,value:null!==t&&void 0!==t?t:"",onChange:t=>i(e.name,t.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(e.options||[]).map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]});case"radio":return(0,s.jsx)("div",{style:{marginTop:6},children:(0,s.jsx)("div",{style:d_.inlineGroup,children:(e.options||[]).map(n=>(0,s.jsxs)("label",{style:d_.inlineItem,children:[(0,s.jsx)("input",{type:"radio",name:e.name,checked:t===n.value,onChange:()=>i(e.name,n.value)}),n.label]},n.value))})});case"attach-file":return(0,s.jsxs)("div",{style:d_.field,children:[(0,s.jsxs)("label",{style:d_.label,children:[e.title,e.required&&(0,s.jsx)("span",{style:{color:"red"},children:" *"})]}),(0,s.jsxs)("div",{style:d_.inlineGroup,children:[(0,s.jsx)("input",{type:"file",accept:e.accept,multiple:e.multiple,onChange:t=>{var n;const r=e.multiple?Array.from(t.target.files||[]):(null===(n=t.target.files)||void 0===n?void 0:n[0])||null;i(e.name,r)},style:d_.fileInput}),t&&!Array.isArray(t)&&(0,s.jsx)(c_,{file:t}),Array.isArray(t)&&t.map((e,t)=>(0,s.jsx)(c_,{file:e},t))]})]});case"paired-text":const l=e.pairs||[];return(0,s.jsxs)("div",{style:d_.field,children:[(0,s.jsx)("label",{style:d_.label,children:e.label}),(0,s.jsx)("div",{style:{display:"flex",gap:12},children:l.map(n=>(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",color:"#0f172a"},children:n.title||n.label}),(0,s.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t[n.name])||"",onChange:r=>i(e.name,je(je({},t||{}),{},{[n.name]:r.target.value})),style:d_.input})]},n.name))})]});case"assessment-launcher":return(0,s.jsx)(a_,{field:e,values:n,onChange:i,assessmentRegistry:a});case"checkbox-group":return e.inlineWithLabel?(0,s.jsxs)("div",{style:{display:"flex",gridTemplateColumns:"220px 1fr",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("div",{style:d_.label,children:e.label}),(0,s.jsx)("div",{style:{display:"flex",gap:28,flexWrap:"wrap"},children:(e.options||[]).map(n=>(0,s.jsxs)("label",{style:d_.inlineItem,children:[(0,s.jsx)("input",{type:"checkbox",checked:(t||[]).includes(n.value),onChange:()=>{const r=null!==t&&void 0!==t&&t.includes(n.value)?t.filter(e=>e!==n.value):[...t||[],n.value];i(e.name,r)}}),n.label]},n.value))})]}):(0,s.jsx)("div",{style:d_.inlineGroup,children:(e.options||[]).map(n=>(0,s.jsxs)("label",{style:d_.inlineItem,children:[(0,s.jsx)("input",{type:"checkbox",checked:(t||[]).includes(n.value),onChange:()=>{const r=null!==t&&void 0!==t&&t.includes(n.value)?t.filter(e=>e!==n.value):[...t||[],n.value];i(e.name,r)}}),n.label]},n.value))});case"subheading":return(0,s.jsx)("div",{style:d_.subheading,children:e.label});case"multi-select-dropdown":return(0,s.jsx)(o_,{field:e,value:t||[],onChange:i});case"inline-input":return(0,s.jsxs)("div",{style:d_.inlineRow,children:[(0,s.jsx)("div",{style:d_.inlineLabel,children:e.inlineLabel}),(0,s.jsx)("input",{style:d_.inlineInput,value:t||"",onChange:t=>i(e.name,t.target.value),placeholder:e.placeholder||""})]});case"dual-radio-row":return(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px 200px",alignItems:"center",gap:16},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:e.label}),(0,s.jsx)("div",{style:d_.inlineGroup,children:["yes","no"].map(n=>(0,s.jsxs)("label",{style:d_.inlineItem,children:[(0,s.jsx)("input",{type:"radio",name:e.rightName,checked:(null===t||void 0===t?void 0:t.right)===n,onChange:()=>i(e.name,je(je({},t||{}),{},{right:n}))}),"yes"===n?"Yes":"No"]},n))}),(0,s.jsx)("div",{style:d_.inlineGroup,children:["yes","no"].map(n=>(0,s.jsxs)("label",{style:d_.inlineItem,children:[(0,s.jsx)("input",{type:"radio",name:e.leftName,checked:(null===t||void 0===t?void 0:t.left)===n,onChange:()=>i(e.name,je(je({},t||{}),{},{left:n}))}),"yes"===n?"Yes":"No"]},n))})]});case"button":return(0,s.jsx)("button",{style:d_.btnOutline,onClick:()=>null===r||void 0===r?void 0:r(e.action),children:e.label});default:return null}}function c_(e){let{file:t}=e;const n=t.type.startsWith("image/");return(0,s.jsx)("div",{style:{marginTop:6},children:n?(0,s.jsx)("img",{src:URL.createObjectURL(t),alt:t.name,style:{maxWidth:160,maxHeight:120,borderRadius:6,border:"1px solid #ddd"}}):(0,s.jsxs)("div",{style:{fontSize:13,color:"#2563eb"},children:["\ud83d\udcc4 ",t.name]})})}const d_={page:{minHeight:"auto",fontFamily:"Inter, system-ui"},milestoneLabel:{fontSize:14,fontWeight:600,marginBottom:6,color:"#0F172A"},content:{display:"flex",justifyContent:"center"},card:{width:"90%",background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:20,boxShadow:"0 4px 14px rgba(15,23,42,0.04)"},header:{display:"flex",justifyContent:"space-between",marginBottom:20},title:{fontSize:20,fontWeight:700},subtitle:{fontSize:13,color:"#6b7280"},actions:{display:"flex",gap:8},scoreBox:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 14px",borderRadius:8,margin:"20px 0px 5px 0px",border:"1px solid #e5e7eb",background:"#f9fafb",fontWeight:600,fontSize:14},scoreLabel:{color:"#0F172A"},scoreValue:{minWidth:48,textAlign:"right",fontSize:16,fontWeight:700,color:"#111827"},mstBtn:{background:"#fff",border:"1.5px solid #111827",color:"#0f172A",padding:"8px 14px",borderRadius:999,fontWeight:600,cursor:"pointer",color:"#111827"},body:{marginTop:10},sectionCard:{border:"1px solid #e5e7eb",borderRadius:10,padding:16,marginBottom:20,background:"#fafafa"},sectionTitle:{fontSize:16,fontWeight:700,marginBottom:12},field:{marginBottom:18},label:{fontWeight:600,marginBottom:6,display:"block",color:"#0F172A"},input:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #d1d5db"},textarea:{width:"100%",minHeight:90,padding:"10px 12px",borderRadius:6,border:"1px solid #d1d5db"},select:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #d1d5db"},inlineGroup:{display:"flex",gap:16,flexWrap:"wrap"},radiofield:{marginBottom:18,display:"flex",alignItems:"center",justifyContent:"space-between"},radioRow:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",gap:20},radioLabel:{fontWeight:600,fontSize:14,color:"#0F172A"},subheading:{marginTop:20,marginBottom:10,fontWeight:700,fontSize:15,color:"#0F172A",borderBottom:"1px solid #e5e7eb",paddingBottom:4},multiSelectWrap:{position:"relative",width:"100%"},multiSelectControl:{border:"1px solid #d1d5db",borderRadius:6,padding:"10px 12px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff"},caret:{fontSize:12,color:"#6b7280"},multiSelectMenu:{position:"absolute",top:"100%",left:0,right:0,zIndex:20,background:"#fff",border:"1px solid #d1d5db",borderRadius:6,marginTop:4,maxHeight:220,overflowY:"auto",boxShadow:"0 8px 20px rgba(0,0,0,0.08)"},inlineRow:{display:"grid",gridTemplateColumns:"120px 1fr",alignItems:"center",gap:12,marginBottom:12},multiSelectMenu:{position:"absolute",top:"100%",left:0,right:0,zIndex:20,background:"#fff",border:"1px solid #d1d5db",borderRadius:6,marginTop:4,maxHeight:220,overflowY:"auto",boxShadow:"0 8px 20px rgba(0,0,0,0.08)"},inlineRow:{display:"grid",gridTemplateColumns:"120px 1fr",alignItems:"center",gap:12,marginBottom:12},matrixHeader:{display:"grid",gridTemplateColumns:"1fr auto",marginBottom:10,borderBottom:"1px solid #0000002e",fontSize:14,fontWeight:600,paddingBottom:10,color:"#0F172A"},matrixHeaderCell:{width:110,textAlign:"center"},nestedContainer:{border:"1px solid #e5e7eb",borderRadius:"10px",padding:"16px",width:"100%",background:" #fff"},nestedSection:{border:"none",padding:0,marginBottom:8},pairedBlock:{display:"grid",gap:6},pairedTitles:{display:"grid",gridTemplateColumns:"1fr 1fr",fontSize:13,fontWeight:600,color:"#0F172A"},pairedTitleCell:{textAlign:"left"},pairedInputs:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},matrixRow:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center",marginBottom:14},matrixLabel:{fontWeight:600,fontSize:14,color:"#0F172A"},matrixOptions:{display:"flex",gap:22},matrixCell:{width:110,display:"flex",justifyContent:"center"},inlineLabel:{fontWeight:500,color:"#111827"},inlineInput:{width:"100%",padding:"8px 10px",borderRadius:6,border:"1px solid #d1d5db"},multiSelectItem:{display:"flex",gap:8,padding:"8px 12px",cursor:"pointer",alignItems:"center"},inlineItem:{display:"flex",gap:6,alignItems:"center"},helper:{fontSize:12,color:"#6b7280",marginTop:4},error:{fontSize:12,color:"#dc2626",marginTop:4},fileInput:{fontSize:14,padding:"6px 0"},btnOutline:{padding:"8px 14px",borderRadius:999,border:"1.5px solid #111827",background:"#fff",fontWeight:600,cursor:"pointer"},pairedRow:{display:"grid",gridTemplateColumns:"200px 1fr",gap:16,alignItems:"center"},pairedLabel:{fontWeight:600,color:"#0F172A"},pairedControls:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},pairedSide:{display:"flex",flexDirection:"column",gap:4},sideLabel:{fontSize:12,fontWeight:600,color:"#6b7280"},footer:{marginTop:20},infoWrapper:{position:"relative",marginLeft:6,cursor:"pointer",fontWeight:"bold"},tooltip:{position:"absolute",top:"100%",left:0,background:"#222",color:"#fff",padding:"8px 10px",borderRadius:4,fontSize:12,width:220,zIndex:100},infoWrapperHover:{display:"block"}},u_=[{label:"0 \u2013 Nothing, no muscle contraction",value:"0"},{label:"1 \u2013 Flicker (palpable contraction, no movement)",value:"1"},{label:"2\u2212 \u2013 Part ROM with gravity counterbalanced ",value:"2-"},{label:"2 \u2013 Full ROM with gravity counterbalanced",value:"2"},{label:"2+ \u2013 Full ROM with gravity counterbalanced and a little resistance, no antigravity moment",value:"2+"},{label:"3\u2212 \u2013 Antigravity movement through part (most of range) ",value:"3-"},{label:"3 \u2013 Full range antigravity movement",value:"3"},{label:"3+ \u2013 Full antigravity ROM with some resistance through part of range",value:"3+"},{label:"4 \u2013 Full antigravity ROM with some resistance through the whole range",value:"4"},{label:"4+ \u2013 Full antigravity ROM with normal power in part of range",value:"4+"},{label:"5 \u2013 Full ROM with full normal resistance throughout range",value:"5"}],h_={title:"Manual Muscle Testing (MMT)",sections:[{title:"Upper Extremities",fields:[{type:"subheading",label:"Shoulder"},{type:"paired-select",left:{name:"mmt_sh_flex_l",title:"Shoulder Flexion Left"},right:{name:"mmt_sh_flex_r",title:"Shoulder Flexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_se_flex_l",title:"Shoulder Extension Left"},right:{name:"mmt_se_flex_r",title:"Shoulder Extension Right"},options:u_},{type:"paired-select",left:{name:"mmt_sa_flex_l",title:"Shoulder Abduction Left"},right:{name:"mmt_sa_flex_r",title:"Shoulder Abduction Right"},options:u_},{type:"paired-select",left:{name:"mmt_sad_flex_l",title:"Shoulder Adduction Left"},right:{name:"mmt_sad_flex_r",title:"Shoulder Adduction Right"},options:u_},{type:"paired-select",left:{name:"mmt_ir_flex_l",title:"Internal rotation Left"},right:{name:"mmt_ir_flex_r",title:"Internal rotation Right"},options:u_},{type:"paired-select",left:{name:"mmt_er_flex_l",title:"External rotation Left"},right:{name:"mmt_er_flex_r",title:"External rotation Right"},options:u_},{type:"subheading",label:"Elbow"},{type:"paired-select",left:{name:"mmt_el_flex_l",title:"Elbow Flexion Left"},right:{name:"mmt_el_flex_r",title:"Elbow Flexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_el_ext_l",title:"Elbow Extension Left"},right:{name:"mmt_el_ext_r",title:"Elbow Extension Right"},options:u_},{type:"subheading",label:"Wrist"},{type:"paired-select",left:{name:"mmt_wr_flex_l",title:"Wrist Flexion Left"},right:{name:"mmt_wr_flex_r",title:"Wrist Flexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_wr_ext_l",title:"Wrist Extension Left"},right:{name:"mmt_wr_ext_r",title:"Wrist Extension Right"},options:u_}]},{title:"Lower Extremities",fields:[{type:"subheading",label:"Hip"},{type:"paired-select",left:{name:"mmt_hip_flex_l",title:"Hip Flexion Left"},right:{name:"mmt_hip_flex_r",title:"Hip Flexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_hip_ext_l",title:"Hip Extension Left"},right:{name:"mmt_hip_ext_r",title:"Hip Extension Right"},options:u_},{type:"paired-select",left:{name:"mmt_hip_abd_l",title:"Hip Abduction Left"},right:{name:"mmt_hip_abd_r",title:"Hip Abduction Right"},options:u_},{type:"paired-select",left:{name:"mmt_hip_add_l",title:"Hip Adduction Left"},right:{name:"mmt_hip_add_r",title:"Hip Adduction Right"},options:u_},{type:"paired-select",left:{name:"mmt_hir_add_l",title:"Hip Internal rotation Left"},right:{name:"mmt_hir_add_r",title:"Hip Internal rotation Right"},options:u_},{type:"paired-select",left:{name:"mmt_her_add_l",title:"Hip External rotation Left"},right:{name:"mmt_her_add_r",title:"Hip External rotation Right"},options:u_},{type:"subheading",label:"Knee"},{type:"paired-select",left:{name:"mmt_knee_flex_l",title:"Knee Flexion Left"},right:{name:"mmt_knee_flex_r",title:"Knee Flexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_knee_ext_l",title:"Knee Extension Left"},right:{name:"mmt_knee_ext_r",title:"Knee Extension Right"},options:u_},{type:"subheading",label:"Ankle"},{type:"paired-select",left:{name:"mmt_ank_df_l",title:"Ankle Dorsiflexion Left"},right:{name:"mmt_ank_df_r",title:"Ankle Dorsiflexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_ank_pf_l",title:"Ankle Plantarflexion Left"},right:{name:"mmt_ank_pf_r",title:"Ankle Plantarflexion Right"},options:u_},{type:"paired-select",left:{name:"mmt_ank_inv_l",title:"Ankle Inversion Left"},right:{name:"mmt_ank_inv_r",title:"Ankle Inversion Right"},options:u_},{type:"paired-select",left:{name:"mmt_ank_evr_l",title:"Ankle Eversion Left"},right:{name:"mmt_ank_evr_r",title:"Ankle Eversion Right"},options:u_}]}]};const p_={title:"Assistive Device & Mobility",subtitle:"Functional Mobility Assessment",sections:[{fields:[{type:"textarea",name:"assistive_device",label:"Assistive Device and/or Bracing Used",helper:"Example: Walker, Cane, AFO, Knee brace, None"},{type:"input",name:"tug_time",label:"Timed Up and Go (TUG) \u2013 Time",helper:"Enter time in seconds (e.g., 12.4 s)"}]}]};const f_=[{label:"0 \u2013 No increase in tone",value:"0"},{label:"1 \u2013 Slight increase in tone, catch/ release at end ROM",value:"1"},{label:"1+ \u2013 Slight increase in tone, catch/ release and resistance through rest ROM (\xbd ROM) ",value:"2-"},{label:"2 \u2013 More marked increase in tone through ROM, but affected part moved easily",value:"2"},{label:"3 \u2013 Considerable increase in tone, passive movement difficult",value:"2+"},{label:"4 \u2013 Affected part in rigid flexion and extension",value:"3-"}],m_={title:"Modified Ashworth Scale (MAS) ",sections:[{fields:[{type:"subheading",label:"Shoulder"},{type:"paired-select",left:{name:"mas_sh_flex_l",title:"Shoulder Flexion Left"},right:{name:"mas_sh_flex_r",title:"Shoulder Flexion Right"},options:f_},{type:"paired-select",left:{name:"mas_se_flex_l",title:"Shoulder Extension Left"},right:{name:"mas_se_flex_r",title:"Shoulder Extension Right"},options:f_},{type:"paired-select",left:{name:"mas_sa_flex_l",title:"Shoulder Abduction Left"},right:{name:"mas_sa_flex_r",title:"Shoulder Abduction Right"},options:f_},{type:"subheading",label:"Elbow"},{type:"paired-select",left:{name:"mas_el_flex_l",title:"Elbow Flexion Left"},right:{name:"mas_el_flex_r",title:"Elbow Flexion Right"},options:f_},{type:"paired-select",left:{name:"mas_el_ext_l",title:"Elbow Extension Left"},right:{name:"mas_el_ext_r",title:"Elbow Extension Right"},options:f_},{type:"subheading",label:"Forearm"},{type:"paired-select",left:{name:"mas_fa_flex_l",title:"Forearm supination/pronation Left"},right:{name:"mas_fa_flex_r",title:"Forearm supination/pronation Right"},options:f_},{type:"subheading",label:"Wrist"},{type:"paired-select",left:{name:"mas_wr_flex_l",title:"Wrist Flexion Left"},right:{name:"mas_wr_flex_r",title:"Wrist Flexion Right"},options:f_},{type:"paired-select",left:{name:"mas_wr_ext_l",title:"Wrist Extension Left"},right:{name:"mas_wr_ext_r",title:"Wrist Extension Right"},options:f_}]}]};const g_=Array.from({length:9},(e,t)=>({label:String(t),value:t})),b_=Array.from({length:7},(e,t)=>({label:String(t),value:t})),y_=Array.from({length:5},(e,t)=>({label:String(t),value:t})),v_={title:"Scale for the Assessment and Rating of Ataxia (SARA)",subtitle:"Neurological Ataxia Assessment",sections:[{title:"1. Gait",fields:[{type:"single-select",name:"gait",label:"Gait (0\u20138)",options:g_}]},{title:"2. Stance",fields:[{type:"single-select",name:"stance",label:"Stance (0\u20136)",options:b_}]},{title:"3. Sitting",fields:[{type:"single-select",name:"sitting",label:"Sitting (0\u20134)",options:y_}]},{title:"4. Speech Disturbance",fields:[{type:"single-select",name:"speech",label:"Speech (0\u20136)",options:b_}]},{title:"5. Finger Chase",fields:[{type:"radio-matrix",name:"finger_chase_right",label:"Right",options:y_},{type:"radio-matrix",name:"finger_chase_left",label:"Left",options:y_},{type:"score-box",name:"finger_chase_mean",label:"Mean (R+L)/2"}]},{title:"6. Nose\u2013Finger Test",fields:[{type:"radio-matrix",name:"nose_finger_right",label:"Right",options:y_},{type:"radio-matrix",name:"nose_finger_left",label:"Left",options:y_},{type:"score-box",name:"nose_finger_mean",label:"Mean (R+L)/2"}]},{title:"7. Fast Alternating Hand Movements",fields:[{type:"radio-matrix",name:"fast_hand_right",label:"Right",options:y_},{type:"radio-matrix",name:"fast_hand_left",label:"Left",options:y_},{type:"score-box",name:"fast_hand_mean",label:"Mean (R+L)/2"}]},{title:"8. Heel\u2013Shin Slide",fields:[{type:"radio-matrix",name:"heel_shin_right",label:"Right",options:y_},{type:"radio-matrix",name:"heel_shin_left",label:"Left",options:y_},{type:"score-box",name:"heel_shin_mean",label:"Mean (R+L)/2"}]},{title:"Final SARA Score",fields:[{type:"score-box",name:"sara_total",label:"Total SARA Score (0\u201340)"}]}]};const x_=[{label:"0",value:0},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4}],w_={title:"Berg Balance Scale (BBS)",subtitle:"Balance Assessment \u2013 Maximum Score 56",sections:[{fields:[{name:"bbs_1",label:"1. Sitting to Standing",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Sitting to Standing",content:["4 \u2013 Able to stand without using hands independently","3 \u2013 Able to stand using hands independently","2 \u2013 Able to stand using hands after >1 attempt","1 \u2013 Needs assistance to stand or stabilize","0 \u2013 Needs moderate or maximal assistance"]}},{name:"bbs_2",label:"2. Standing Unsupported",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Standing Unsupported",content:["4 \u2013 Able to stand safely for 2 minutes","3 \u2013 Able to stand 2 minutes with supervision","2 \u2013 Able to stand 30 seconds unsupported","1 \u2013 Needs >1 attempt to stand 30 seconds unsupported","0 \u2013 Unable to stand 30 seconds unsupported"]}},{name:"bbs_3",label:"3. Sitting with No Back Support (Feet Supported)",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Sitting Unsupported",content:["4 \u2013 Able to sit safely for 2 minutes","3 \u2013 Able to sit 2 minutes under supervision","2 \u2013 Able to sit 30 seconds","1 \u2013 Able to sit 10 seconds","0 \u2013 Unable to sit without support for 10 seconds"]}},{name:"bbs_4",label:"4. Standing to Sitting",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Standing to Sitting",content:["4 \u2013 Sits safely with minimal use of hands","3 \u2013 Controls descent using hands","2 \u2013 Uses back of legs against chair","1 \u2013 Sits independently but uncontrolled","0 \u2013 Needs assistance"]}},{name:"bbs_5",label:"5. Pivot Transfers",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Transfers",content:["4 \u2013 Transfers safely with minimal use of hands","3 \u2013 Transfers safely but needs hands","2 \u2013 Transfers with verbal cues or supervision","1 \u2013 Needs one person assist","0 \u2013 Needs two person assist or supervision"]}},{name:"bbs_6",label:"6. Standing Unsupported \u2013 Eyes Closed",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Eyes Closed",content:["4 \u2013 Stands safely for 10 seconds","3 \u2013 Stands 10 seconds with supervision","2 \u2013 Stands for 3 seconds","1 \u2013 Unable to keep eyes closed for 3 seconds but stands safely","0 \u2013 Needs assistance"]}},{name:"bbs_7",label:"7. Standing Unsupported \u2013 Feet Together",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Feet Together",content:["4 \u2013 Places feet together independently and stands 1 minute safely","3 \u2013 Stands 1 minute with supervision","2 \u2013 Unable to hold position for 30 seconds","1 \u2013 Needs assistance to attain position, holds 15 seconds","0 \u2013 Needs assistance and unable to hold 15 seconds"]}},{name:"bbs_8",label:"8. Reaching Forward with Outstretched Arm",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Forward Reach",content:["4 \u2013 Reaches forward confidently \u226510 inches","3 \u2013 Reaches forward \u22655 inches","2 \u2013 Reaches forward \u22652 inches","1 \u2013 Reaches but needs supervision","0 \u2013 Loses balance or needs assistance"]}},{name:"bbs_9",label:"9. Pick Up Object From Floor",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Pick Up Object",content:["4 \u2013 Able to pick up object safely","3 \u2013 Picks up object with supervision","2 \u2013 Unable but reaches 1\u20132 inches from object safely","1 \u2013 Unable and needs supervision","0 \u2013 Unable and needs assistance"]}},{name:"bbs_10",label:"10. Turn to Look Over Shoulders",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Look Over Shoulders",content:["4 \u2013 Looks behind from both sides with good weight shift","3 \u2013 Looks behind from one side only","2 \u2013 Turns sideways but maintains balance","1 \u2013 Needs supervision","0 \u2013 Needs assistance"]}},{name:"bbs_11",label:"11. Turn 360 Degrees",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Turn 360\xb0",content:["4 \u2013 Turns safely in 4 seconds or less","3 \u2013 Turns safely one side only in 4 seconds or less","2 \u2013 Turns safely but slowly","1 \u2013 Needs supervision or verbal cues","0 \u2013 Needs assistance"]}},{name:"bbs_12",label:"12. Place Foot on Stool",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Foot on Stool",content:["4 \u2013 Completes 8 steps independently in 20 seconds","3 \u2013 Completes 8 steps in >20 seconds","2 \u2013 Completes 4 steps with supervision","1 \u2013 Completes >2 steps with minimal assistance","0 \u2013 Needs assistance to prevent fall"]}},{name:"bbs_13",label:"13. Standing Unsupported \u2013 One Foot in Front",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Tandem Standing",content:["4 \u2013 Holds tandem stance independently for 30 seconds","3 \u2013 Places foot ahead independently and holds 30 seconds","2 \u2013 Small step independently for 30 seconds","1 \u2013 Needs assistance to step but holds 15 seconds","0 \u2013 Loses balance"]}},{name:"bbs_14",label:"14. Standing on One Leg",type:"radio-matrix",options:x_,info:{title:"Scoring \u2013 Single Leg Stance",content:["4 \u2013 Lifts leg independently and holds >10 seconds","3 \u2013 Holds 5\u201310 seconds","2 \u2013 Holds \u22653 seconds","1 \u2013 Attempts to lift but unable to hold 3 seconds","0 \u2013 Unable"]}},{name:"bbs_total",label:"Total BBS Score",type:"score-box"}]}]};const j_=[{label:"None",value:0},{label:"Partial",value:1},{label:"Full",value:2}],S_=[{label:"None",value:0},{label:"Can be elicited",value:2}],__=[{label:"Marked",value:0},{label:"Slight",value:1},{label:"None",value:2}],k_=[{label:"Anesthesia",value:0},{label:"Hypoesthesia / Dysesthesia",value:1},{label:"Normal",value:2}],C_=[{label:"less than 3/4correct or absence",value:0},{label:"3/4 correct or considerable difference",value:1},{label:"3/4 correct or considerable difference",value:2}],A_=[{label:"Only few degrees",value:0},{label:"Decreased",value:1},{label:"Normal",value:2}],N_=[{label:"Pronounced pain during movement",value:0},{label:"Some pain",value:1},{label:"No pain",value:2}],O_={title:"Fugl\u2013Meyer Assessment \u2013 Lower Extremity (FMA-LE)",subtitle:"Assessment of Sensorimotor Function",sections:[{title:"I. Reflex Activity (Supine)",fields:[{type:"radio-matrix",name:"reflex_knee_flexors",label:"Knee flexors",options:S_},{type:"radio-matrix",name:"reflex_extensors",label:"Extensors (Patellar / Achilles (\u22651))",options:S_},{type:"score-box",name:"subtotal_I",label:"Subtotal I (Max 4)",readOnly:!0}]},{title:"II. Volitional Movement within Synergies (Supine)",fields:[{type:"radio-matrix",name:"flexor_hip",label:"Hip flexion",options:j_},{type:"radio-matrix",name:"flexor_knee",label:"Knee flexion",options:j_},{type:"radio-matrix",name:"flexor_ankle",label:"Ankle dorsiflexion",options:j_},{type:"radio-matrix",name:"extensor_hipe",label:"Hip extension",options:j_},{type:"radio-matrix",name:"extensor_hipa",label:"Hip adduction",options:j_},{type:"radio-matrix",name:"extensor_knee",label:"Knee extension",options:j_},{type:"radio-matrix",name:"extensor_ankle",label:"Ankle plantarflexion",options:j_},{type:"score-box",name:"subtotal_II",label:"Subtotal II (Max 14)",readOnly:!0}]},{title:"III. Volitional Movement Mixing Synergies (Sitting)",fields:[{type:"radio-matrix",name:"mix_knee",label:"Knee flexion",options:j_},{type:"radio-matrix",name:"mix_ankle",label:"Ankle dorsiflexion",options:j_},{type:"score-box",name:"subtotal_III",label:"Subtotal III (Max 4)",readOnly:!0}]},{title:"IV. Volitional Movement with Little or No Synergy (Standing)",fields:[{type:"radio-matrix",name:"nosyn_knee",label:"Knee flexion to 90\xb0",options:j_},{type:"radio-matrix",name:"nosyn_ankle",label:"Ankle dorsiflexion",options:j_},{type:"score-box",name:"subtotal_IV",label:"Subtotal IV (Max 4)",readOnly:!0}]},{title:"V. Normal Reflex Activity",showIf:{field:"subtotal_IV",equals:4},fields:[{type:"radio-matrix",name:"normal_reflex",label:"Reflex activity",options:[{label:"Hyper",value:0},{label:"Lively",value:1},{label:"Normal",value:2}]},{type:"textarea",name:"subtotal_V",label:"Subtotal V (Max 2)",readOnly:!0}]},{title:"F. Coordination / Speed \u2013 Movement Quality",fields:[{type:"radio-matrix",name:"coord_tremor",label:"Tremor",options:__},{type:"radio-matrix",name:"coord_dysmetria",label:"Dysmetria",options:__}]},{fields:[{type:"radio-matrix",name:"coord_time",label:"Time difference",options:[{label:"\u2265 6s",value:0},{label:"2\u20135s",value:1},{label:"< 2s",value:2}]},{type:"core-box",name:"subtotal_F",readOnly:!0}]},{fields:[{type:"score-box",name:"total_EF",label:"TOTAL E \u2013 F (Motor Function) /34",readOnly:!0}]},{title:"H. Sensation (Lower Extremity)",fields:[{type:"radio-matrix",name:"sens_light_leg",label:"Light touch \u2013 Leg",options:k_},{type:"radio-matrix",name:"sens_light_foot",label:"Light touch \u2013 Foot (sole)",options:k_}]},{fields:[{type:"radio-matrix",name:"pos_hip",label:"Position Hip",options:C_},{type:"radio-matrix",name:"pos_knee",label:"Position Knee",options:C_},{type:"radio-matrix",name:"pos_ankle",label:"Position Ankle",options:C_},{type:"radio-matrix",name:"pos_toe",label:"Position Great toe",options:C_},{type:"score-box",name:"subtotal_H",label:"Total H (Max 12)",readOnly:!0}]},{title:"I. Passive Joint Motion (Lower Extremity)",fields:[{type:"radio-matrix",name:"pm_hip_flex",label:"Hip Flexion",options:A_},{type:"radio-matrix",name:"pm_hip_abd",label:"Hip Abduction",options:A_},{type:"radio-matrix",name:"pm_hip_er",label:"Hip External rotation",options:A_},{type:"radio-matrix",name:"pm_hip_ir",label:"Hip Internal rotation",options:A_},{type:"radio-matrix",name:"pm_knee_flex",label:"Knee Flexion",options:A_},{type:"radio-matrix",name:"pm_knee_ext",label:"Knee Extension",options:A_},{type:"radio-matrix",name:"pm_ankle_df",label:"Ankle Dorsiflexion",options:A_},{type:"radio-matrix",name:"pm_ankle_pf",label:"Ankle Plantarflexion",options:A_},{type:"radio-matrix",name:"pm_foot_pro",label:"Foot Pronation",options:A_},{type:"radio-matrix",name:"pm_foot_sup",label:"Foot Supination",options:A_},{type:"score-box",name:"subtotal_I_motion",label:"Total I (Max 20)",readOnly:!0}]},{title:"J. Joint Pain during Passive Motion",fields:[{type:"radio-matrix",name:"jp_hip_flex",label:"Hip Flexion",options:N_},{type:"radio-matrix",name:"jp_hip_abd",label:"Hip Abduction",options:N_},{type:"radio-matrix",name:"jp_hip_er",label:"Hip External rotation",options:N_},{type:"radio-matrix",name:"jp_hip_ir",label:"Hip Internal rotation",options:N_},{type:"radio-matrix",name:"jp_knee_flex",label:"Knee Flexion",options:N_},{type:"radio-matrix",name:"jp_knee_ext",label:"Knee Extension",options:N_},{type:"radio-matrix",name:"jp_ankle_df",label:"Ankle Dorsiflexion",options:N_},{type:"radio-matrix",name:"jp_ankle_pf",label:"Ankle Plantarflexion",options:N_},{type:"radio-matrix",name:"jp_foot_pro",label:"Foot Pronation",options:N_},{type:"radio-matrix",name:"jp_foot_sup",label:"Foot Supination",options:N_},{type:"score-box",name:"subtotal_J",label:"Total J (Max 20)",readOnly:!0}]},{title:"Final Scores",fields:[{type:"score-box",name:"score_E",label:"E. Lower Extremity /28",readOnly:!0},{type:"score-box",name:"score_F",label:"F. Coordination /6",readOnly:!0},{type:"score-box",name:"score_EF",label:"TOTAL E\u2013F (Motor) /34",readOnly:!0},{type:"score-box",name:"score_H",label:"H. Sensation /12",readOnly:!0},{type:"score-box",name:"score_I",label:"I. Passive Joint Motion /20",readOnly:!0},{type:"score-box",name:"score_J",label:"J. Joint Pain /20",readOnly:!0}]}]},P_=(e,t)=>t.reduce((t,n)=>t+(Number(e[n])||0),0);const I_={mmt:function(e){let{values:t,onChange:n}=e;return(0,s.jsx)(i_,{schema:h_,values:t,onChange:n,layout:"nested"})},tug:function(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1);return(0,s.jsx)(i_,{schema:p_,values:e,onChange:(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))},submitted:n,layout:"nested",children:(0,s.jsx)("button",{style:{padding:"10px 16px",fontWeight:600},onClick:()=>r(!0),children:"Save"})})},mas:function(e){let{values:t,onChange:n}=e;return(0,s.jsx)(i_,{schema:m_,values:t,onChange:n,layout:"nested"})},sara:function(){const[e,t]=(0,i.useState)({}),n=e=>""===e||null==e?0:Number(e),r=(e,t)=>Number(((n(e)+n(t))/2).toFixed(1)),a=(0,i.useMemo)(()=>{const t=r(e.finger_chase_right,e.finger_chase_left),i=r(e.nose_finger_right,e.nose_finger_left),a=r(e.fast_hand_right,e.fast_hand_left),o=r(e.heel_shin_right,e.heel_shin_left);return{finger_chase_mean:t,nose_finger_mean:i,fast_hand_mean:a,heel_shin_mean:o,sara_total:Number((n(e.gait)+n(e.stance)+n(e.sitting)+n(e.speech)+t+i+a+o).toFixed(1))}},[e]);return(0,s.jsx)(i_,{schema:v_,values:je(je({},e),a),layout:"nested",onChange:(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))}})},bbs:function(e){let{values:t,onChange:n}=e;return i.useEffect(()=>{const e=Array.from({length:14},(e,n)=>Number(t["bbs_".concat(n+1)]||0)).reduce((e,t)=>e+t,0);t.bbs_total!==e&&n("bbs_total",e)},[t,n]),(0,s.jsx)(i_,{schema:w_,values:t,layout:"nested",onChange:n})},fma_le:function(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{var n;const i=P_(e,["reflex_knee_flexors","reflex_extensors"]),r=P_(e,["flexor_hip","flexor_knee","flexor_ankle","extensor_hipe","extensor_hipa","extensor_knee","extensor_ankle"]),a=P_(e,["mix_knee","mix_ankle"]),o=P_(e,["nosyn_knee","nosyn_ankle"]),s=null!==(n=e.normal_reflex)&&void 0!==n?n:0,l=P_(e,["coord_tremor","coord_dysmetria","coord_time"]),c=P_(e,["sens_light_leg","sens_light_foot","pos_hip","pos_knee","pos_ankle","pos_toe"]),d=P_(e,["pm_hip_flex","pm_hip_abd","pm_hip_er","pm_hip_ir","pm_knee_flex","pm_knee_ext","pm_ankle_df","pm_ankle_pf","pm_foot_pro","pm_foot_sup"]),u=P_(e,["jp_hip_flex","jp_hip_abd","jp_hip_er","jp_hip_ir","jp_knee_flex","jp_knee_ext","jp_ankle_df","jp_ankle_pf","jp_foot_pro","jp_foot_sup"]);t(e=>je(je({},e),{},{subtotal_H:c,subtotal_I_motion:d,subtotal_J:u,score_E:i+r+a+o+s,score_F:l,score_EF:h,score_H:c,score_I:d,score_J:u}));const h=i+r+a+o+s+l;t(e=>je(je({},e),{},{subtotal_I:i,subtotal_II:r,subtotal_III:a,subtotal_IV:o,subtotal_V:s,subtotal_F:l,total_EF:h}))},[e.reflex_knee_flexors,e.reflex_extensors,e.flexor_hip,e.flexor_knee,e.flexor_ankle,e.extensor_hipe,e.extensor_hipa,e.extensor_knee,e.extensor_ankle,e.mix_knee,e.mix_ankle,e.nosyn_knee,e.nosyn_ankle,e.normal_reflex,e.coord_tremor,e.coord_dysmetria,e.coord_time,e.sens_light_leg,e.sens_light_foot,e.pos_hip,e.pos_knee,e.pos_ankle,e.pos_toe,e.pm_hip_flex,e.pm_hip_abd,e.pm_hip_er,e.pm_hip_ir,e.pm_knee_flex,e.pm_knee_ext,e.pm_ankle_df,e.pm_ankle_pf,e.pm_foot_pro,e.pm_foot_sup,e.jp_hip_flex,e.jp_hip_abd,e.jp_hip_er,e.jp_hip_ir,e.jp_knee_flex,e.jp_knee_ext,e.jp_ankle_df,e.jp_ankle_pf,e.jp_foot_pro,e.jp_foot_sup]),(0,s.jsx)(i_,{schema:O_,values:e,onChange:(e,n)=>t(t=>je(je({},t),{},{[e]:n})),layout:"nested",submitted:n,children:(0,s.jsx)("button",{style:{padding:"10px 16px",fontWeight:600},onClick:()=>r(!0),children:"Save Assessment"})})}},E_=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],T_=[{label:"Static",value:"static"},{label:"Dynamic",value:"dynamic"}],L_=[{label:"Independent",value:"independent"},{label:"Supervision",value:"supervision"},{label:"Minimal Assistance",value:"mia"},{label:"Moderate Assistance",value:"moa"},{label:"Maximal Assistance",value:"maa"},{label:"Dependent",value:"dependent"},{label:"Not Assessed / NotApplicable",value:"NA"}],M_=[{label:"Excellent",value:"excellent"},{label:"Good",value:"good"},{label:"Fair",value:"fair"},{label:"Poor",value:"poor"}],R_=[{label:"Independent walking",value:"independent"},{label:"Wheelchair",value:"wheelchair"},{label:"Quadripod narrowbase",value:"Quadripodnarrowbase"},{label:"Quadripod wide base",value:"Quadripodwidebase"},{label:"Walking stick",value:"stick"},{label:"Walking frame",value:"frame"},{label:"Elbow crutches",value:"crutches"},{label:"Others",value:"others"}],D_={title:"Patient Environment",sections:[{fields:[{name:"equipment_owned",label:"List of Equipment Owned",type:"checkbox-group",options:[{label:"PERKESO",value:"perkeso"},{label:"NGO",value:"ngo"},{label:"Self-purchased",value:"self"},{label:"Others",value:"others"}]},{name:"equipment_perkeso",label:"PERKESO Equipment Details",type:"textarea",showIf:{field:"equipment_owned",includes:"perkeso"}},{name:"equipment_ngo",label:"NGO Equipment Details",type:"textarea",showIf:{field:"equipment_owned",includes:"ngo"}},{name:"equipment_self",label:"Self-purchased Equipment Details",type:"textarea",showIf:{field:"equipment_owned",includes:"self"}},{name:"equipment_others",label:"Other Equipment Details",type:"textarea",showIf:{field:"equipment_owned",includes:"others"}},{name:"home_environment",label:"Home Environment",type:"textarea"},{name:"house_type",label:"Type of House",type:"single-select",options:[{label:"Single-storey",value:"single"},{label:"Double-storey",value:"double"},{label:"Apartment with elevator",value:"apartment"},{label:"Others",value:"others"}]},{name:"house_type_other",label:"If Others, specify",type:"textarea",showIf:{field:"house_type",equals:"others"}},{name:"toilet_type",label:"Toilet Type",type:"checkbox-group",options:[{label:"Sitting",value:"sitting"},{label:"Squatting",value:"squatting"}]},{name:"education_level",label:"Education Level",type:"single-select",options:[{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Diploma",value:"diploma"},{label:"Degree",value:"degree"},{label:"Master",value:"master"},{label:"PhD",value:"phd"},{label:"Others",value:"others"}]},{name:"education_other",label:"If Others, specify",type:"textarea",showIf:{field:"education_level",equals:"others"}}]}]};function F_(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)("subjective"),h=t?"neuro_assessment_draft_".concat(t.id):null;(0,i.useEffect)(()=>{if(!h)return;const e=localStorage.getItem(h);e&&o(JSON.parse(e).values||{})},[h]),(0,i.useEffect)(()=>{t&&o(e=>je(je({},e),{},{pmh_from_registration:t.medical_history||"No data available",family_social_from_registration:t.diagnosis_history||"No data available"}))},[t]);const p=(e,t)=>{o(n=>je(je({},n),{},{[e]:t}))},f={actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"save",label:"Save"}],fields:[{name:"chief_complaint",label:"Chief Complaint",type:"textarea"},{name:"hpi",label:"History of Present Illness",type:"textarea"},{name:"pmh_from_registration",label:"Past Medical History",type:"textarea",readOnly:!0},{name:"family_social_from_registration",label:"Family & Social History",type:"textarea",readOnly:!0},{name:"work_history",label:"Work History",type:"textarea"},{name:"work_status",label:"Work Status",type:"radio",options:[{label:"Employed",value:"employed"},{label:"Unemployed",value:"unemployed"}]},{name:"rtw_status",label:"Return to Work",type:"radio",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Others",value:"others"}]},{name:"rtw_status_other",label:"Others (specify)",type:"textarea",showIf:{field:"rtw_status",equals:"others"}},{name:"Client_Expectations",label:"Client Goals",type:"textarea"},{name:"special_questions",label:"Clinical Considerations",type:"checkbox-group",options:[{label:"Fall risks",value:"fall"},{label:"Shoulder pain (Hemiplegic shoulder)",value:"shoulder_pain"},{label:"Incontinence (Bowel /Bladder)",value:"incontinence"},{label:"Uses Diapers",value:"pampers"},{label:"Seizure History",value:"seizure"}]},{name:"subjective_remark",label:"Remarks",type:"textarea"}]},m={title:"Functional and Mobility Status",actions:f.actions,sections:[{fields:[{name:"dominant_side",label:"Dominant",type:"single-select",options:[{label:"Right",value:"right"},{label:"Left",value:"left"}]},{name:"affected_limbs",label:"Affected",type:"multi-select-dropdown",options:[{label:"Left Upper Extremity",value:"lue"},{label:"Right Upper Extremity",value:"rue"},{label:"Left Lower Extremity",value:"lle"},{label:"Right Lower Extremity",value:"rle"}]},{name:"short_distance",label:"Ambulatory Status \u2013 Short Distance",type:"single-select",options:R_},{name:"short_distance_others",label:"Specify Others",type:"textarea",showIf:{field:"short_distance",equals:"others"}},{name:"long_distance",label:"Ambulatory Status \u2013 Long Distance",type:"single-select",options:R_},{name:"long_distance_others",label:"Specify Others",type:"textarea",showIf:{field:"long_distance",equals:"others"}},{type:"subheading",label:"Scales / Outcome Measures"},{name:"neuro_scales",type:"assessment-launcher",options:[{label:"Range of Motion (ROM)",value:"rom"},{label:"Manual Muscle Test (MMT)",value:"mmt"},{label:"Muscle Tone (MAS)",value:"mas"},{label:"Functional Ambulation Category (FAC)",value:"fac"},{label:"Motor Assessment Scale",value:"motor_mas"},{label:"Fugl Meyer Assessment \u2013 Lower Extremity (FMA-LE)",value:"fma_le"},{label:"Stand and Reposition Aids (SARA)",value:"sara"},{label:"10 Meter Walk Test",value:"10mwt"},{label:"Berg Balance Scale (BBS)",value:"bbs"},{label:"Visual Analog Scale (VAS)",value:"vas"},{label:"Timed Up and Go (TUG)",value:"tug"},{label:"6 Minutes Walk Test (6MWT)",value:"6mwt"}]},{type:"subheading",label:"Functional Assessment"},{name:"fa_transfer",label:"Transfer",type:"radio",options:E_},{name:"fa_bed_mobility",label:"Bed Mobility",type:"radio",options:E_},{name:"fa_sit_to_stand",label:"Sit to Stand",type:"radio",options:E_},{name:"fa_stairs",label:"Climbing Up & Down Stairs",type:"radio",options:E_},{name:"fa_floor_to_stand",label:"Floor to Stand",type:"radio",options:E_},{name:"fa_stand_to_floor",label:"Stand to Floor",type:"radio",options:E_},{name:"fa_sitting_balance_static",label:"Sitting Balance",type:"radio",options:T_},{name:"fa_standing_balance_static",label:"Standing Balance",type:"radio",options:T_},{type:"subheading",label:"Gait Assessment"},{name:"gait_pattern",label:"Gait Pattern",type:"single-select",options:[{label:"Normal",value:"normal"},{label:"Antalgic",value:"antalgic"},{label:"Hemiplegic",value:"hemiplegic"},{label:"Spastic (scissoring)",value:"spastic_scissoring"},{label:"Ataxic",value:"ataxic"},{label:"Parkinsonian",value:"parkinsonian"},{label:"Steppage (high-stepping)",value:"steppage"},{label:"Trendelenburg",value:"trendelenburg"},{label:"Circumduction",value:"circumduction"},{label:"Crouch gait",value:"crouch_gait"},{label:"Others",value:"others"}]},{name:"Gait_Other",label:"Other",type:"textarea",showIf:{field:"gait_pattern",equals:"others"}},{name:"weight_shifting",label:"Weight Shifting",type:"single-select",options:[{label:"Symmetrical",value:"symmetrical"},{label:"Reduced",value:"reduced"},{label:"Absent",value:"absent"}]},{name:"reduced_specify",label:"Specify Reduced",type:"single-select",options:[{label:"Left",value:"Rleft"},{label:"Right",value:"Rright"},{label:"Bilateral",value:"Rbilateral"}],showIf:{field:"weight_shifting",equals:"reduced"}},{name:"absent_specify",label:"Specify Absent",type:"single-select",options:[{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Bilateral",value:"bilateral"}],showIf:{field:"weight_shifting",equals:"absent"}},{name:"stance_phase_left",label:"Stance Phase Left",type:"single-select",options:[{label:"Normal",value:"normal"},{label:"Prolonged",value:"prolonged"},{label:"Reduced",value:"reduced"},{label:"Instability noted",value:"instabilitynoted"}]},{name:"stance_phase_right",label:"Stance Phase Right",type:"single-select",options:[{label:"Normal",value:"Rnormal"},{label:"Prolonged",value:"Rprolonged"},{label:"Reduced",value:"Rreduced"},{label:"Instability noted",value:"Rinstabilitynoted"}]},{name:"swing_phase",label:"Swing Phase (Foot\u2013Ground Clearance)",type:"textarea",helper:"foot-ground clearance / without"},{type:"subheading",label:"Observations / Tests"},{name:"observation_tests",type:"assessment-launcher",options:[{label:"Strength Test",value:"strength"},{label:"Sensation Test",value:"sensation"},{label:"Coordination Assessment",value:"coordination"},{label:"Proprioception Assessment",value:"proprioception"}]},{name:"sulcus_sign",label:"Sulcus Sign",type:"radio",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]}]},{fields:[{type:"radio-matrix",name:"rolling",label:"Rolling",options:L_,info:{title:"Functional Assessment",content:["0 \u2013 Unable","1 \u2013 Needs assistance","2 \u2013 Independent"]}},{type:"radio-matrix",name:"supinetosit",label:"Supine \u2194 Sit",options:L_}]},{title:"Transfers",fields:[{type:"radio-matrix",name:"bedtochair",label:"Bed \u2194 Chair",options:L_},{type:"radio-matrix",name:"sittostand",label:"Sit \u2194 Stand",options:L_},{type:"radio-matrix",name:"floortostand",label:"Floor \u2194 Stand",options:L_}]}]},g={actions:f.actions,fields:[{name:"problem_list",label:"Problem Listing",type:"textarea"},{name:"clinical_impression",label:"Clinical Impression",type:"textarea"},{name:"prognosis",label:"Rehab Prognosis",type:"single-select",options:M_},{name:"short_term_goals",label:"Short Term Goals",type:"textarea"},{name:"short_term_goals_date",label:"Target Date (Short Term)",type:"date"},{name:"long_term_goals",label:"Long Term Goals",type:"textarea"},{name:"long_term_goals_date",label:"Target Date (Long Term)",type:"date"}]},b={actions:f.actions,fields:[{name:"referrals",label:"Referrals",type:"checkbox-group",options:[{label:"Refer Cyberdyne ",value:"cyberdyne "},{label:"Refer Vicon ",value:"vicon"},{label:"Refer Hydro",value:"hydro"},{label:"Refer Gym",value:"gym"},{label:"Refer MSD  ",value:"msd"}]},{name:"treatment_plan",label:"Treatment Plan",type:"multi-select-dropdown",options:[{label:"Bed mobility training",value:"bed_mobility"},{label:"Transfer training",value:"transfer"},{label:"Muscle tone management",value:"MTM"},{label:"Sitting balance training ",value:"SBT"},{label:"Standing balance training ",value:"StBT"},{label:"Functional ROM Exercise",value:"FRE"},{label:"Functional strengthening exercise",value:"strength"},{label:"Endurance training",value:"endurance"},{label:"Functional training",value:"FT"},{label:"Gait training",value:"gait"},{label:"Walking aid prescription",value:"WAP"},{label:"Bobath / NDT",value:"bobath"},{label:"Others",value:"others"}]},{name:"treatment_plan_others",label:"Specify Others",type:"textarea",showIf:{field:"treatment_plan",includes:"others"}}]},y={bed_mobility:"Bed mobility training",transfer:"Transfer training",MTM:"Muscle tone management",SBT:"Sitting balance training",StBT:"Standing balance training",FRE:"Functional ROM Exercise",strength:"Functional strengthening exercise",endurance:"Endurance training",FT:"Functional training",gait:"Gait training",WAP:"Walking aid prescription",bobath:"Bobath / NDT",others:"Others"},v=e=>e?new Date(e).toLocaleDateString():"-",x=new Date,w=e=>{if(!e)return"-";const t=new Date(e),n=x-t;if(n<0)return"-";const i=Math.floor(n/864e5),r=Math.floor(i/30),a=Math.floor(r/12);return a>0?"".concat(a," yr ").concat(r%12," mo"):r>0?"".concat(r," mo"):"".concat(i," days")},j={subjective:f,objective:m,assessment:g,plan:b};function S(e){let{patient:t}=e;return t?(0,s.jsx)("div",{style:W_,children:(0,s.jsxs)("div",{style:U_,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Name:"})," ",t.name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"IC:"})," ",t.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"DOB:"})," ",v(t.dob)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Age / Gender:"})," ",t.age," / ",t.sex]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"ICD:"})," ",t.icd]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Date of Assessment:"})," ",x.toLocaleDateString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Date of Onset:"})," ",v(t.date_of_onset)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Duration of Diagnosis:"})," ",w(t.date_of_onset)]})]})}):null}return(0,s.jsxs)("div",{style:B_,children:[(0,s.jsx)(i_,{schema:{title:"Patient Information",sections:[]},values:{},onChange:()=>{},children:(0,s.jsx)(S,{patient:t})}),(0,s.jsx)(i_,{schema:D_,values:a,onChange:p}),(0,s.jsx)("div",{style:z_,children:["subjective","objective","assessment","plan"].map(e=>(0,s.jsx)("div",{style:d===e?H_:q_,onClick:()=>u(e),children:e.toUpperCase()},e))}),(0,s.jsxs)(i_,{schema:j[d],values:a,onChange:p,submitted:l,onAction:e=>{"back"===e&&(null===r||void 0===r||r()),"clear"===e&&(o({}),c(!1),localStorage.removeItem(h)),"save"===e&&(localStorage.setItem(h,JSON.stringify({values:a,updatedAt:new Date})),alert("Neuro draft saved"))},assessmentRegistry:I_,children:["plan"===d&&Array.isArray(a.treatment_plan)&&a.treatment_plan.length>0&&(0,s.jsxs)("div",{style:{marginTop:20},children:[(0,s.jsx)("h3",{children:"Treatment Plan Schedule"}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{background:"#f1f5f9"},children:[(0,s.jsx)("th",{style:Z_,children:"Treatment"}),(0,s.jsx)("th",{style:Z_,children:"Frequency"}),(0,s.jsx)("th",{style:Z_,children:"Duration"})]})}),(0,s.jsx)("tbody",{children:a.treatment_plan.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:Y_,children:(0,s.jsx)("b",{children:y[e]||e})}),(0,s.jsx)("td",{style:Y_,children:(0,s.jsx)("input",{type:"text",placeholder:"e.g. 5 days/week",value:a["freq_".concat(e)]||"",onChange:t=>p("freq_".concat(e),t.target.value)})}),(0,s.jsx)("td",{style:Y_,children:(0,s.jsx)("input",{type:"text",placeholder:"e.g. 30 mins / 6 weeks",value:a["dur_".concat(e)]||"",onChange:t=>p("dur_".concat(e),t.target.value)})})]},e))})]})]}),(0,s.jsx)("div",{style:V_,children:(0,s.jsx)("button",{style:G_,onClick:()=>{c(!0),null===n||void 0===n||n(a),alert("Neuro assessment submitted")},children:"Submit Neuro Assessment"})})]})]})}const B_={margin:"0 auto"},z_={display:"flex",gap:12,justifyContent:"center",borderBottom:"1px solid #ddd",marginBottom:12},W_={marginBottom:24},U_={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:12,fontSize:14},q_={padding:"10px 22px",fontWeight:600,cursor:"pointer",color:"#0f172a"},H_=je(je({},q_),{},{borderBottom:"3px solid #2451b3",color:"#2451b3"}),V_={display:"flex",justifyContent:"flex-end",marginTop:20},G_={padding:"12px 32px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700},Z_={border:"1px solid #ccc",padding:10,textAlign:"left"},Y_={border:"1px solid #ccc",padding:10};function K_(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"SpinalCordInjury Rehabilitation"}),(0,s.jsx)("p",{children:"Neuro-specific assessments and interventions go here."})]})}function J_(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Hydro Rehabilitation"}),(0,s.jsx)("p",{children:"Neuro-specific assessments and interventions go here."})]})}function X_(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Musculoskeletal Rehabilitation"}),(0,s.jsx)("p",{children:"Neuro-specific assessments and interventions go here."})]})}function $_(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Conditioning Rehabilitation"}),(0,s.jsx)("p",{children:"Neuro-specific assessments and interventions go here."})]})}function Q_(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Cardiorespiratory Rehabilitation"}),(0,s.jsx)("p",{children:"Neuro-specific assessments and interventions go here."})]})}function ek(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Amputee Rehabilitation"}),(0,s.jsx)("p",{children:"Neuro-specific assessments and interventions go here."})]})}function tk(e){let{patient:t}=e;const[n,r]=(0,i.useState)("sci");return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:nk,children:[{key:"sci",label:"Spinal Cord Injury"},{key:"neuro",label:"Neuro"},{key:"hydro",label:"Hydro"},{key:"msk",label:"Musculoskeletal"},{key:"conditioning",label:"Conditioning"},{key:"cardio",label:"Cardiorespiratory"},{key:"amputee",label:"Amputee"}].map(e=>(0,s.jsx)("div",{onClick:()=>r(e.key),style:je(je({},ik),n===e.key?rk:{}),children:e.label},e.key))}),(0,s.jsx)("div",{style:ak,children:(()=>{switch(n){case"neuro":return(0,s.jsx)(F_,{patient:t});case"sci":return(0,s.jsx)(K_,{});case"hydro":return(0,s.jsx)(J_,{});case"msk":return(0,s.jsx)(X_,{});case"conditioning":return(0,s.jsx)($_,{});case"cardio":return(0,s.jsx)(Q_,{});case"amputee":return(0,s.jsx)(ek,{});default:return null}})()})]})}const nk={display:"flex",gap:40,padding:"12px 12px 0px 12px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb"},ik={paddingBottom:8,fontSize:15,fontWeight:600,cursor:"pointer",color:"#111827",borderBottom:"3px solid transparent"},rk={color:"#2563eb",borderBottom:"3px solid #2563eb"},ak={padding:16};function ok(e){let{patients:t=[],department:n}=e;const[r,a]=(0,i.useState)("dashboard"),[o,l]=(0,i.useState)(null);if(!n)return(0,s.jsx)("div",{style:{padding:20},children:"Department not assigned"});const c=t.filter(e=>{var t;return null===(t=e.departments)||void 0===t?void 0:t.includes(n)});return"details"===r&&o?(0,s.jsx)(tk,{patient:o,department:n,onBack:()=>a("patients")}):"patients"===r?(0,s.jsxs)("div",{style:uk,children:[(0,s.jsx)(sk,{title:"Patients List",onBack:()=>a("dashboard")}),0===c.length?(0,s.jsx)("div",{style:Ak,children:"No patients assigned"}):c.map(e=>(0,s.jsxs)("div",{style:Ck,onClick:()=>{l(e),a("details")},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:e.name}),(0,s.jsxs)("div",{style:Ak,children:["ICD: ",e.icd]})]},e.id))]}):(0,s.jsxs)("div",{style:uk,children:[(0,s.jsxs)("div",{style:hk,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:pk,children:"Therapist Dashboard"}),(0,s.jsx)("div",{style:fk,children:"Rehabilitation EMR"})]}),(0,s.jsxs)("div",{style:mk,children:[(0,s.jsx)("input",{placeholder:"Search Patient",style:gk}),(0,s.jsxs)("div",{style:bk,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"My Active Cases:"})," ",c.length]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Scheduled Today:"})," 5"]})]})]})]}),(0,s.jsxs)("div",{style:yk,children:[(0,s.jsxs)(lk,{title:"Today's Appointments",children:[(0,s.jsx)(dk,{time:"09:00",name:"John Lim",tag:"PT"}),(0,s.jsx)(dk,{time:"10:00",name:"Amina B",tag:"OT"}),(0,s.jsx)(dk,{time:"11:00",name:"Ravi K",tag:"PT"}),(0,s.jsx)("div",{style:Ak,children:"+ more"})]}),(0,s.jsx)(lk,{title:"Patient Queue",children:(0,s.jsxs)("div",{style:Pk,children:[(0,s.jsx)("div",{style:Ik,children:"Waiting: 3 patients"}),(0,s.jsxs)("ul",{style:Ek,children:[(0,s.jsx)("li",{children:"Farah A"}),(0,s.jsx)("li",{children:"Mohd Razif"}),(0,s.jsx)("li",{children:"Ong Wen"})]})]})}),(0,s.jsx)(lk,{title:"My Tasks",children:(0,s.jsxs)("ul",{style:Tk,children:[(0,s.jsx)("li",{children:"\ud83d\udcdd 3 Notes Pending"}),(0,s.jsx)("li",{children:"\ud83d\udcc4 1 Progress Report Due"})]})}),(0,s.jsx)(lk,{title:"Quick Access",children:(0,s.jsxs)("div",{style:_k,children:[(0,s.jsx)(ck,{label:"Patients List",onClick:()=>a("patients")}),(0,s.jsx)(ck,{label:"Tickets"}),(0,s.jsx)(ck,{label:"Policies"}),(0,s.jsx)(ck,{label:"360\xb0 View"}),(0,s.jsx)(ck,{label:"Billing"}),(0,s.jsx)(ck,{label:"Inventory"}),(0,s.jsx)(ck,{label:"Prescription"}),(0,s.jsx)(ck,{label:"My RAP"})]})})]})]})}function sk(e){let{title:t,onBack:n}=e;return(0,s.jsxs)("div",{style:Nk,children:[(0,s.jsx)("button",{onClick:n,style:Ok,children:"\u2190 Back"}),(0,s.jsx)("h3",{children:t})]})}function lk(e){let{title:t,children:n}=e;return(0,s.jsxs)("div",{style:vk,children:[(0,s.jsx)("div",{style:xk,children:t}),n]})}function ck(e){let{label:t,onClick:n}=e;return(0,s.jsx)("div",{style:kk,onClick:n,children:t})}function dk(e){let{time:t,name:n,tag:i}=e;return(0,s.jsxs)("div",{style:wk,children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("span",{children:n}),(0,s.jsx)("span",{style:"PT"===i?jk:Sk,children:i})]})}const uk={padding:24,fontFamily:"Inter, system-ui",background:"#f8fafc",minHeight:"100vh"},hk={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},pk={margin:0,fontSize:22},fk={fontSize:13,color:"#6b7280"},mk={display:"flex",gap:16,alignItems:"center"},gk={padding:"10px 14px",borderRadius:8,border:"1px solid #d1d5db",width:220},bk={fontSize:13},yk={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:20},vk={background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:18,boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},xk={fontWeight:700,marginBottom:12},wk={display:"grid",gridTemplateColumns:"60px 1fr 50px",alignItems:"center",padding:"8px 0",fontSize:14,borderBottom:"1px solid #f1f5f9"},jk={background:"#e0f2fe",color:"#0369a1",borderRadius:999,fontSize:12,padding:"2px 8px",textAlign:"center"},Sk={background:"#fef3c7",color:"#92400e",borderRadius:999,fontSize:12,padding:"2px 8px",textAlign:"center"},_k={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10},kk={background:"#f1f5f9",padding:"12px 10px",borderRadius:8,textAlign:"center",fontWeight:600,fontSize:13,cursor:"pointer"},Ck={padding:14,border:"1px solid #e5e7eb",background:"#fff",borderRadius:8,marginBottom:10,cursor:"pointer"},Ak={fontSize:12,color:"#9ca3af"},Nk={display:"flex",gap:12,alignItems:"center"},Ok={background:"none",border:"none",cursor:"pointer",color:"#2563eb"},Pk={background:"#f9fafb",padding:12,borderRadius:8},Ik={fontWeight:600},Ek={paddingLeft:18,fontSize:14},Tk={paddingLeft:18,fontSize:14},Lk=[{label:"No",value:"0"},{label:"Right",value:"1"},{label:"Left",value:"2"},{label:"Bilateral",value:"3"}];function Mk(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)("subjective"),h=t?"audiology_assessment_draft_".concat(t.id):null;(0,i.useEffect)(()=>{if(!h)return;const e=localStorage.getItem(h);e&&o(JSON.parse(e).values||{})},[h]),(0,i.useEffect)(()=>{t&&o(e=>je(je({},e),{},{pmh_from_registration:t.medical_history||"No data available",family_social_from_registration:t.diagnosis_history||"No data available"}))},[t]);const p=(e,t)=>{o(n=>je(je({},n),{},{[e]:t}))},f={actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"save",label:"Save"}],sections:[{title:"A. Otology",fields:[{name:"ear_infection",label:"Ear Infection",type:"radio",options:Lk},{name:"ear_infection_notes",label:"Additional Information",type:"textarea",showIf:{field:"ear_infection",exists:!0}},{name:"ear_fullness",label:"Echo or Ear Fullness",type:"radio",options:Lk},{name:"ear_fullness_notes",label:"Additional Information",type:"textarea",showIf:{field:"ear_fullness",exists:!0}},{name:"head_neck_injury",label:"Head or Neck Injury",type:"textarea"},{name:"ear_pain",label:"Ear Pain",type:"radio",options:Lk},{name:"ear_pain_notes",label:"Additional Information",type:"textarea",showIf:{field:"ear_pain",exists:!0}},{name:"otorrhea",label:"Otorrhea",type:"radio",options:Lk},{name:"otorrhea_notes",label:"Additional Information",type:"textarea",showIf:{field:"otorrhea",exists:!0}},{name:"otology_others",label:"Others",type:"textarea"}]},{title:"B. Hearing",fields:[{name:"tinnitus",label:"Tinnitus",type:"radio",options:[{label:"No",value:"0"},{label:"Right",value:"1"},{label:"Left",value:"2"},{label:"Bilateral",value:"3"},{label:"In the Head",value:"4"}]},{name:"tinnitus_notes",label:"Additional Information",type:"textarea",showIf:{field:"tinnitus",exists:!0}},{name:"loudness_discomfort",label:"Loudness Discomfort",type:"radio",options:Lk},{name:"loudness_notes",label:"Additional Information",type:"textarea",showIf:{field:"loudness_discomfort",exists:!0}},{name:"hearing_difficulties",label:"Hearing Difficulties",type:"radio",options:Lk},{name:"hearing_difficulties_notes",label:"Additional Information",type:"textarea",showIf:{field:"hearing_difficulties",exists:!0}},{name:"better_hearing",label:"Better Hearing",type:"radio",options:[{label:"Right",value:"0"},{label:"Left",value:"1"},{label:"Bilateral",value:"2"}]},{name:"better_hearing_notes",label:"Additional Information",type:"textarea",showIf:{field:"better_hearing",exists:!0}},{name:"communication_difficulties",label:"Communication Difficulties",type:"radio",options:[{label:"No",value:"0"},{label:"In quiet",value:"1"},{label:"In noise",value:"2"},{label:"Group",value:"3"},{label:"Telephone",value:"4"}]},{name:"communication_notes",label:"Additional Information",type:"textarea",showIf:{field:"communication_difficulties",exists:!0}},{name:"exposure_loud_sounds",label:"Exposure to Loud Sounds",type:"radio",options:[{label:"No",value:"0"},{label:"Occupational",value:"1"},{label:"Recreational",value:"2"}]},{name:"exposure_notes",label:"Additional Information",type:"textarea",showIf:{field:"exposure_loud_sounds",exists:!0}},{name:"family_history",label:"Family History",type:"radio",options:[{label:"No",value:"0"},{label:"Yes",value:"1"}]},{name:"family_history_notes",label:"Additional Information",type:"textarea",showIf:{field:"family_history",exists:!0}},{name:"psychosocial_impact",label:"Psychosocial Impact",type:"radio",options:[{label:"No",value:"0"},{label:"Withdrawal",value:"1"},{label:"Stress",value:"2"},{label:"Anxiety",value:"3"},{label:"Low self-confidence",value:"4"}]},{name:"psychosocial_notes",label:"Additional Information",type:"textarea",showIf:{field:"psychosocial_impact",exists:!0}},{name:"environmental_context",label:"Environmental Context",type:"radio",options:[{label:"No",value:"0"},{label:"Noisy environment",value:"1"},{label:"Supportive family",value:"2"},{label:"Uses assistive device",value:"3"}]},{name:"environmental_notes",label:"Additional Information",type:"textarea",showIf:{field:"environmental_context",exists:!0}},{name:"presence_amplification",label:"Presence of Amplification",type:"radio",options:[{label:"No",value:"0"},{label:"Yes",value:"1"}]},{name:"amplification_notes",label:"Additional Information",type:"textarea",showIf:{field:"presence_amplification",exists:!0}}]},{title:"C. Vestibular",fields:[{name:"vestibular_symptoms",label:"Symptoms",type:"radio",options:[{label:"No",value:"0"},{label:"Vertigo",value:"1"},{label:"Imbalance",value:"2"},{label:"Dizziness",value:"3"},{label:"Oscillopsia",value:"4"}]},{name:"vestibular_notes",label:"Additional Information",type:"textarea",showIf:{field:"vestibular_symptoms",exists:!0}},{name:"duration_frequency",label:"Duration / Frequency",type:"textarea"},{name:"triggers",label:"Triggers",type:"radio",options:[{label:"No",value:"0"},{label:"Positional",value:"1"},{label:"Head movement",value:"2"},{label:"Visual stimuli",value:"3"},{label:"Spontaneous",value:"4"}]},{name:"trigger_notes",label:"Additional Information",type:"textarea",showIf:{field:"triggers",exists:!0}},{name:"falls_history",label:"Falls History",type:"textarea"},{name:"vestibular_others",label:"Others",type:"textarea"}]}]},m={subjective:f,objective:{actions:f.actions,sections:[{title:"Tympanometry (Attach PDF)",fields:[{type:"attach-file",name:"audiology_report",accept:"application/pdf,image/*",multiple:!1},{type:"subheading",label:"Tympanogram Type"},{type:"paired-select",left:{name:"tymp_type_r",title:"Right Ear"},right:{name:"tymp_type_l",title:"Left Ear"},options:[{label:"Type A",value:"A"},{label:"Type As",value:"As"},{label:"Type Ad",value:"Ad"},{label:"Type B (Normal ECV)",value:"B_normal"},{label:"Type B (Small ECV)",value:"B_small"},{label:"Type B (Large ECV)",value:"B_large"},{label:"Type C",value:"C"}]},{type:"paired-text",pairs:[{name:"peak_pressure_r",title:"Peak Pressure (daPa) \u2013 Right"},{name:"peak_pressure_l",title:"Peak Pressure (daPa) \u2013 Left"}]},{type:"paired-text",pairs:[{name:"static_compliance_r",title:"Static Compliance (ml / cm\xb3) \u2013 Right"},{name:"static_compliance_l",title:"Static Compliance (ml / cm\xb3) \u2013 Left"}]},{type:"paired-text",pairs:[{name:"ecv_r",title:"Ear Canal Volume (ml / cm\xb3) \u2013 Right"},{name:"ecv_l",title:"Ear Canal Volume (ml / cm\xb3) \u2013 Left"}]}]},{fields:[{type:"attach-file",name:"OAEaudiology_report",title:"OAE Screening (Attach PDF)",accept:"application/pdf,image/*",multiple:!1},{name:"oae_right",label:"OAE \u2013 Right Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"oae_left",label:"OAE \u2013 Left Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"dpoae_right",label:"DPOAE \u2013 Right Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"dpoae_left",label:"DPOAE \u2013 Left Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"teoae_right",label:"TEOAE \u2013 Right Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"teoae_left",label:"TEOAE \u2013 Left Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]}]},{fields:[{type:"attach-file",name:"audiology_report",accept:"application/pdf,image/*",title:"Otoscopic Examination (Attach PDF)",multiple:!1},{type:"paired-select",left:{name:"external_canal_r",title:"External Ear Canal \u2013 Right"},right:{name:"external_canal_l",title:"External Ear Canal \u2013 Left"},options:[{label:"Clear",value:"clear"},{label:"Inflamed",value:"inflamed"},{label:"Minimal cerumen",value:"minimal_cerumen"},{label:"Impacted cerumen",value:"impacted_cerumen"},{label:"Discharge present",value:"discharge"},{label:"Swelling",value:"swelling"}]},{type:"paired-select",left:{name:"tm_appearance_r",title:"Tympanic Membrane (TM) Appearance \u2013 Right"},right:{name:"tm_appearance_l",title:"Tympanic Membrane (TM) Appearance \u2013 Left"},options:[{label:"Intact",value:"intact"},{label:"Perforated",value:"perforated"},{label:"Dull",value:"dull"},{label:"Retracted",value:"retracted"},{label:"Bulging",value:"bulging"},{label:"Opaque",value:"opaque"}]},{type:"paired-select",left:{name:"tm_colour_r",title:"TM Colour \u2013 Right"},right:{name:"tm_colour_l",title:"TM Colour \u2013 Left"},options:[{label:"Pearly grey",value:"pearly_grey"},{label:"Reddened",value:"red"},{label:"Yellowish",value:"yellow"},{label:"Bluish",value:"blue"},{label:"White patches",value:"white_patches"}]},{type:"paired-text",pairs:[{name:"otoscopy_other_r",title:"Other Findings \u2013 Right"},{name:"otoscopy_other_l",title:"Other Findings \u2013 Left"}]}]},{fields:[{type:"attach-file",name:"audiometry_audiology_report",title:"Audiometry (Attach PDF)",accept:"application/pdf,image/*",multiple:!1},{name:"audiometry_type",label:"Type of Audiometry",type:"radio",options:[{label:"Screening",value:"screening"},{label:"Diagnostic Pure Tone",value:"pta"},{label:"Play",value:"play"},{label:"Visual Reinforcement (VR)",value:"vra"}]},{name:"masking",label:"Masking",type:"radio",options:[{label:"Unmasked",value:"unmasked"},{label:"Masking",value:"masked"}]}]}]},assessment:{actions:f.actions,fields:[{name:"problem_list",label:"Problem Listing",type:"textarea"},{name:"clinical_impression",label:"Clinical Impression",type:"textarea"}]},plan:{actions:f.actions,fields:[{name:"plan_list",label:"Plan",type:"textarea"}]}};function g(e){let{value:t={},onChange:n}=e;const i=[{key:"ac_right",label:"Air Conduction Right (dB HL)"},{key:"ac_left",label:"Air Conduction Left (dB HL)"},{key:"bc_right",label:"Bone Conduction Right (dB HL)"},{key:"bc_left",label:"Bone Conduction Left (dB HL)"}],r=[-20,-15,-10,-5,0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120].map(e=>({label:String(e),value:e}));return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"120px repeat(4, 170px)",fontSize:14,fontWeight:600,gap:20,marginBottom:8},children:[(0,s.jsx)("div",{children:"Frequency (Hz)"}),i.map(e=>(0,s.jsx)("div",{children:e.label},e.key))]}),[250,500,1e3,2e3,3e3,4e3,6e3,8e3].map(e=>(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"120px repeat(4, 170px)",gap:20,gap:12,marginBottom:6},children:[(0,s.jsx)("div",{style:{fontSize:14,fontWeight:500},children:e}),i.map(i=>{var a,o;return(0,s.jsxs)("select",{value:null!==(a=null===t||void 0===t||null===(o=t[e])||void 0===o?void 0:o[i.key])&&void 0!==a?a:"",style:{width:170,gap:20,padding:"6px 8px",fontSize:14},onChange:r=>n("pta_matrix",je(je({},t),{},{[e]:je(je({},t[e]),{},{[i.key]:Number(r.target.value)})})),children:[(0,s.jsx)("option",{value:"",children:"\u2013"}),r.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]},i.key)})]},e))]})}return(0,s.jsxs)("div",{style:Rk,children:[(0,s.jsx)("div",{style:Dk,children:["subjective","objective","assessment","plan"].map(e=>(0,s.jsx)("div",{style:d===e?Bk:Fk,onClick:()=>u(e),children:e.toUpperCase()},e))}),(0,s.jsxs)(i_,{schema:m[d],values:a,onChange:p,submitted:l,onAction:e=>{"back"===e&&(null===r||void 0===r||r()),"clear"===e&&(o({}),c(!1),localStorage.removeItem(h)),"save"===e&&(localStorage.setItem(h,JSON.stringify({values:a,updatedAt:new Date})),alert("Audiology draft saved"))},children:["objective"===d&&(0,s.jsx)(g,{value:a.pta_matrix,onChange:p}),"objective"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{marginTop:20},children:[(0,s.jsx)("label",{children:"Impression \u2013 Right Ear"}),(0,s.jsx)("textarea",{value:a.impression_r||"",onChange:e=>p("impression_r",e.target.value),style:{width:"100%",marginBottom:12}}),(0,s.jsx)("label",{children:"Impression \u2013 Left Ear"}),(0,s.jsx)("textarea",{value:a.impression_l||"",onChange:e=>p("impression_l",e.target.value),style:{width:"100%",marginBottom:12}})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("label",{children:"Reliability"}),(0,s.jsx)("div",{style:{display:"flex",gap:12},children:["Good","Fair","Poor"].map(e=>(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",checked:a.reliability===e,onChange:()=>p("reliability",e)}),e]},e))})]})]}),(0,s.jsx)("div",{style:zk,children:(0,s.jsx)("button",{style:Wk,onClick:()=>{c(!0),null===n||void 0===n||n(a),alert("Audiology assessment submitted")},children:"Submit Audiology Assessment"})})]})]})}const Rk={margin:"0 auto",width:"100%"},Dk={display:"flex",gap:12,justifyContent:"center",borderBottom:"1px solid #ddd",marginBottom:12},Fk={padding:"10px 22px",fontWeight:600,cursor:"pointer",color:"#0f172a"},Bk=je(je({},Fk),{},{borderBottom:"3px solid #2451b3",color:"#2451b3"}),zk={display:"flex",justifyContent:"flex-end",marginTop:20},Wk={padding:"12px 32px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700},Uk=[{label:"No",value:"0"},{label:"Yes",value:"1"}],qk=[{label:"Full term",value:"0"},{label:"Pre-term",value:"1"}];function Hk(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)("subjective"),h=t?"audiology_assessment_draft_".concat(t.id):null;(0,i.useEffect)(()=>{if(!h)return;const e=localStorage.getItem(h);e&&o(JSON.parse(e).values||{})},[h]),(0,i.useEffect)(()=>{t&&o(e=>je(je({},e),{},{pmh_from_registration:t.medical_history||"No data available",family_social_from_registration:t.diagnosis_history||"No data available"}))},[t]);const p=(e,t)=>{o(n=>je(je({},n),{},{[e]:t}))},f={actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"save",label:"Save"}],sections:[{title:"A. Prenatal and Delivery History",fields:[{name:"length_of_pregnancy",label:"Length of pregnancy",type:"radio",options:qk},{name:"length_of_pregnancy_notes",label:"Additional Information",type:"textarea",showIf:{field:"length_of_pregnancy",equals:"1"}},{name:"birth_weight",label:"Birth Weight",type:"textarea"},{name:"pregnancy_complications",label:"Complication during pregnancy",type:"radio",options:Uk},{name:"pregnancy_complications_notes",label:"Additional Information",type:"textarea",showIf:{field:"pregnancy_complications",equals:"1"}},{name:"nicu_history",label:"Did the child spend any time in NICU?",type:"radio",options:qk},{name:"nicu_notes",label:"Additional Information",type:"textarea",showIf:{field:"nicu_history",equals:"1"}},{name:"apgar_score",label:"APGAR Score",type:"textarea"},{name:"prenatal_risk_factors",label:"Did any of the following occur during pregnancy?",type:"multi-select-dropdown",options:[{label:"No",value:"0"},{label:"Alcohol abuse",value:"1"},{label:"Measles / Rubella",value:"2"},{label:"Infections",value:"3"},{label:"Substance abuse",value:"4"},{label:"Sexually transmitted disease",value:"5"},{label:"Communicable diseases",value:"6"},{label:"Maternal illness",value:"7"},{label:"Rh incompatibility",value:"8"},{label:"Toxemia",value:"9"},{label:"Zika virus",value:"10"},{label:"Cytomegalovirus (CMV)",value:"11"},{label:"Maternal X-rays",value:"12"},{label:"Smoking",value:"13"},{label:"Toxoplasmosis",value:"14"}]},{name:"prenatal_risk_notes",label:"Additional Information",type:"textarea",showIf:{field:"prenatal_risk_factors",exists:!0}}]},{title:"B. Health History",fields:[{name:"ototoxic_medications",label:"Has your child taken any of the following medications?",type:"multi-select-dropdown",options:[{label:"No",value:"0"},{label:"Vancomycin",value:"1"},{label:"Chemotherapy",value:"2"},{label:"Gentamycin",value:"3"},{label:"Streptomycin",value:"4"}]},{name:"ototoxic_notes",label:"Additional Information",type:"textarea",showIf:{field:"ototoxic_medications",exists:!0}},{name:"high_fever_history",label:"Has your child had a fever greater than 38 degree celcius?",type:"radio",options:Uk},{name:"high_fever_notes",label:"Additional Information",type:"textarea",showIf:{field:"high_fever_history",equals:"1"}},{name:"hospitalisation_history",label:"Has your child ever been hospitalised?",type:"radio",options:Uk},{name:"hospitalisation_notes",label:"Additional Information",type:"textarea",showIf:{field:"hospitalisation_history",equals:"1"}},{name:"specialist_history",label:"Has your child ever seen by a specialist?",type:"radio",options:Uk},{name:"specialist_notes",label:"Additional Information",type:"textarea",showIf:{field:"specialist_history",equals:"1"}},{name:"ear_conditions",label:"Has your child had any of the following?",type:"multi-select-dropdown",options:[{label:"No",value:"0"},{label:"Allergies / Sinus problems",value:"1"},{label:"Ear infections",value:"2"},{label:"Draining ears",value:"3"},{label:"Chicken pox",value:"4"},{label:"Frequent colds",value:"5"},{label:"Head injury",value:"6"},{label:"Measles",value:"7"},{label:"Mumps",value:"8"},{label:"Tonsillitis",value:"9"},{label:"Seizures",value:"10"},{label:"Breathing difficulties",value:"11"},{label:"Flu",value:"12"},{label:"High fever",value:"13"},{label:"Meningitis",value:"14"},{label:"Blood transfusion",value:"15"},{label:"CMV",value:"16"},{label:"Encephalitis",value:"17"},{label:"Meconium aspiration",value:"18"},{label:"Rubella",value:"19"}]},{name:"ear_conditions_notes",label:"Additional Information",type:"textarea",showIf:{field:"ear_conditions",exists:!0}},{name:"surgical_history",label:"Has your child had medical or surgical treatment of their ears? (grommet/ PE tubes)",type:"radio",options:Uk},{name:"surgical_notes",label:"Additional Information",type:"textarea",showIf:{field:"surgical_history",equals:"1"}},{name:"pain_history",label:"Does your child ever complain of pain or fullness of their ears?",type:"radio",options:Uk},{name:"pain_notes",label:"Additional Information",type:"textarea",showIf:{field:"pain_history",equals:"1"}},{name:"noise_history",label:"Has your child ever been exposed to loud noise or an explosion?",type:"radio",options:Uk},{name:"noise_notes",label:"Additional Information",type:"textarea",showIf:{field:"noise_history",equals:"1"}},{name:"noise_in_ear_history",label:"Has your child ever described noises on their ears?",type:"radio",options:Uk},{name:"noise_in_ear",label:"In which ear you feel noise",type:"radio",options:[{label:"Rigt",value:"Right"},{label:"Left",value:"Left"},{label:"bilateral",value:"bilateral"}],showIf:{field:"noise_in_ear_history",equals:"1"}},{name:"condition_history",label:"Has your child been diagnoses with any specific condition?",type:"radio",options:Uk},{name:"condition_notes",label:"Additional Information",type:"textarea",showIf:{field:"condition_history",equals:"1"}},{name:"current_medications",label:"List any medication your child is taking",type:"textarea"}]},{title:"C. Developmental Milestones",fields:[{type:"subheading",label:"At what age did your child:"},{type:"paired-text",pairs:[{name:"first_word_age",title:"a) Say their first word?"},{name:"three_word_sentence_age",title:"b) Speak in three word sentences?"}]},{type:"paired-text",pairs:[{name:"head_control_age",title:"c) Hold their head erect?"},{name:"sit_unsupported_age",title:"d) Sit unsupported?"}]},{name:"walk_alone_age",label:"e) Walk alone?",type:"textarea"},{name:"communicate_with_others",label:"How does your child communicate with others?",type:"textarea"},{type:"subheading",label:"How much of your child's speech can be understood?"},{name:"speech_understood_family",label:"Speech understood by family",type:"radio",options:Uk},{name:"speech_understood_family_notes",label:"Additional Information",type:"textarea",showIf:{field:"speech_understood_family",equals:"1"}},{name:"speech_understood_others",label:"Speech understood by others",type:"radio",options:Uk},{name:"speech_understood_others_notes",label:"Additional Information",type:"textarea",showIf:{field:"speech_understood_others",equals:"1"}},{name:"speech_concerns",label:"Do you have any concerns regarding your childs's speech?",type:"radio",options:Uk},{name:"speech_concerns_notes",label:"Additional Information",type:"textarea",showIf:{field:"speech_concerns",equals:"1"}}]},{title:"D. Hearing History",fields:[{name:"hearing_loss_risk_factors",label:"Factors associated with hearing loss",type:"multi-select-dropdown",options:[{label:"None",value:"0"},{label:"Family history",value:"1"},{label:"Jaundice",value:"2"},{label:"Meningitis",value:"3"},{label:"Head trauma",value:"4"},{label:"CHARGE syndrome",value:"5"},{label:"Down syndrome",value:"6"},{label:"Cleft lip / palate",value:"7"},{label:"Ear anomalies",value:"8"},{label:"Rh incompatibility",value:"9"}]},{name:"hearing_loss_risk_notes",label:"Additional Information",type:"textarea",showIf:{field:"hearing_loss_risk_factors",exists:!0}},{name:"family_member_hearing_loss",label:"Do any of your other childs/ siblings or other family member have hearing loss?",type:"radio",options:Uk},{name:"family_member_hearing_loss_notes",label:"Additional Information",type:"textarea",showIf:{field:"family_member_hearing_loss",equals:"1"}},{name:"previous_hearing_test",label:"Has your child had a hearing test?",type:"radio",options:Uk},{name:"previous_hearing_test_notes",label:"Additional Information",type:"textarea",showIf:{field:"previous_hearing_test",equals:"1"}},{name:"ear_infections",label:"How many ear infections has your child had and how often?",type:"radio",options:Uk},{name:"ear_infections_notes",label:"Additional Information",type:"textarea",showIf:{field:"ear_infections",equals:"1"}},{type:"subheading",label:"Does your child"},{name:"responds_to_sound",label:"a) Responds consistently to sound",type:"radio",options:Uk},{name:"responds_to_sound_notes",label:"Additional Information",type:"textarea",showIf:{field:"responds_to_sound",equals:"1"}},{name:"turns_to_sound",label:"b) turn to find sound source",type:"radio",options:Uk},{name:"turns_to_sound_notes",label:"Additional Information",type:"textarea",showIf:{field:"turns_to_sound",equals:"1"}},{name:"enjoys_music",label:"c) Enjoys listening to music",type:"radio",options:Uk},{name:"enjoys_music_notes",label:"Additional Information",type:"textarea",showIf:{field:"enjoys_music",equals:"1"}},{name:"responds_to_name",label:"d)Respond to their name",type:"radio",options:Uk},{name:"responds_to_name_notes",label:"Additional Information",type:"textarea",showIf:{field:"responds_to_name",equals:"1"}},{name:"startle_to_loud_sound",label:"e) startle to loud sound",type:"radio",options:Uk},{name:"startle_to_loud_sound_notes",label:"Additional Information",type:"textarea",showIf:{field:"startle_to_loud_sound",equals:"1"}},{name:"amplification_use",label:"Does your child use any amplification devices?",type:"radio",options:Uk}]},{title:"E. Vestibular History",fields:[{name:"balance_issues",label:"Does your child fall or lose balance easily?",type:"radio",options:Uk},{name:"balance_issues_notes",label:"Additional Information",type:"textarea",showIf:{field:"balance_issues",equals:"1"}},{name:"dizziness_history",label:"Does your child has history of dizziness?",type:"radio",options:Uk},{name:"vestibular_notes",label:"Additional Information",type:"textarea",showIf:{field:"dizziness_history",equals:"1"}}]}]},m={subjective:f,objective:{actions:f.actions,sections:[{title:"Tympanometry (Attach PDF)",fields:[{type:"attach-file",name:"audiology_report",accept:"application/pdf,image/*",multiple:!1},{type:"subheading",label:"Tympanogram Type"},{type:"paired-select",left:{name:"tymp_type_r",title:"Right Ear"},right:{name:"tymp_type_l",title:"Left Ear"},options:[{label:"Type A",value:"A"},{label:"Type As",value:"As"},{label:"Type Ad",value:"Ad"},{label:"Type B (Normal ECV)",value:"B_normal"},{label:"Type B (Small ECV)",value:"B_small"},{label:"Type B (Large ECV)",value:"B_large"},{label:"Type C",value:"C"}]},{type:"paired-text",pairs:[{name:"peak_pressure_r",title:"Peak Pressure (daPa) \u2013 Right"},{name:"peak_pressure_l",title:"Peak Pressure (daPa) \u2013 Left"}]},{type:"paired-text",pairs:[{name:"static_compliance_r",title:"Static Compliance (ml / cm\xb3) \u2013 Right"},{name:"static_compliance_l",title:"Static Compliance (ml / cm\xb3) \u2013 Left"}]},{type:"paired-text",pairs:[{name:"ecv_r",title:"Ear Canal Volume (ml / cm\xb3) \u2013 Right"},{name:"ecv_l",title:"Ear Canal Volume (ml / cm\xb3) \u2013 Left"}]}]},{fields:[{type:"attach-file",name:"OAEaudiology_report",title:"OAE Screening (Attach PDF)",accept:"application/pdf,image/*",multiple:!1},{name:"oae_right",label:"OAE \u2013 Right Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"oae_left",label:"OAE \u2013 Left Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"dpoae_right",label:"DPOAE \u2013 Right Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"dpoae_left",label:"DPOAE \u2013 Left Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"teoae_right",label:"TEOAE \u2013 Right Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]},{name:"teoae_left",label:"TEOAE \u2013 Left Ear",type:"radio",options:[{label:"Pass",value:"pass"},{label:"Refer",value:"refer"},{label:"Could not test (CNT)",value:"cnt"}]}]},{fields:[{type:"attach-file",name:"audiology_report",accept:"application/pdf,image/*",title:"Otoscopic Examination (Attach PDF)",multiple:!1},{type:"paired-select",left:{name:"external_canal_r",title:"External Ear Canal \u2013 Right"},right:{name:"external_canal_l",title:"External Ear Canal \u2013 Left"},options:[{label:"Clear",value:"clear"},{label:"Inflamed",value:"inflamed"},{label:"Minimal cerumen",value:"minimal_cerumen"},{label:"Impacted cerumen",value:"impacted_cerumen"},{label:"Discharge present",value:"discharge"},{label:"Swelling",value:"swelling"}]},{type:"paired-select",left:{name:"tm_appearance_r",title:"Tympanic Membrane (TM) Appearance \u2013 Right"},right:{name:"tm_appearance_l",title:"Tympanic Membrane (TM) Appearance \u2013 Left"},options:[{label:"Intact",value:"intact"},{label:"Perforated",value:"perforated"},{label:"Dull",value:"dull"},{label:"Retracted",value:"retracted"},{label:"Bulging",value:"bulging"},{label:"Opaque",value:"opaque"}]},{type:"paired-select",left:{name:"tm_colour_r",title:"TM Colour \u2013 Right"},right:{name:"tm_colour_l",title:"TM Colour \u2013 Left"},options:[{label:"Pearly grey",value:"pearly_grey"},{label:"Reddened",value:"red"},{label:"Yellowish",value:"yellow"},{label:"Bluish",value:"blue"},{label:"White patches",value:"white_patches"}]},{type:"paired-text",pairs:[{name:"otoscopy_other_r",title:"Other Findings \u2013 Right"},{name:"otoscopy_other_l",title:"Other Findings \u2013 Left"}]}]},{fields:[{type:"attach-file",name:"audiometry_audiology_report",title:"Audiometry (Attach PDF)",accept:"application/pdf,image/*",multiple:!1},{name:"audiometry_type",label:"Type of Audiometry",type:"radio",options:[{label:"Screening",value:"screening"},{label:"Diagnostic Pure Tone",value:"pta"},{label:"Play",value:"play"},{label:"Visual Reinforcement (VR)",value:"vra"}]},{name:"masking",label:"Masking",type:"radio",options:[{label:"Unmasked",value:"unmasked"},{label:"Masking",value:"masked"}]}]}]},assessment:{actions:f.actions,fields:[{name:"problem_list",label:"Problem Listing",type:"textarea"},{name:"clinical_impression",label:"Clinical Impression",type:"textarea"}]},plan:{actions:f.actions,fields:[{name:"plan_list",label:"Plan",type:"textarea"}]}};function g(e){let{value:t={},onChange:n}=e;const i=[{key:"ac_right",label:"Air Conduction Right (dB HL)"},{key:"ac_left",label:"Air Conduction Left (dB HL)"},{key:"bc_right",label:"Bone Conduction Right (dB HL)"},{key:"bc_left",label:"Bone Conduction Left (dB HL)"}],r=[-20,-15,-10,-5,0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120].map(e=>({label:String(e),value:e}));return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"120px repeat(4, 170px)",fontSize:14,fontWeight:600,gap:20,marginBottom:8},children:[(0,s.jsx)("div",{children:"Frequency (Hz)"}),i.map(e=>(0,s.jsx)("div",{children:e.label},e.key))]}),[250,500,1e3,2e3,3e3,4e3,6e3,8e3].map(e=>(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"120px repeat(4, 170px)",gap:20,gap:12,marginBottom:6},children:[(0,s.jsx)("div",{style:{fontSize:14,fontWeight:500},children:e}),i.map(i=>{var a,o;return(0,s.jsxs)("select",{value:null!==(a=null===t||void 0===t||null===(o=t[e])||void 0===o?void 0:o[i.key])&&void 0!==a?a:"",style:{width:170,gap:20,padding:"6px 8px",fontSize:14},onChange:r=>n("pta_matrix",je(je({},t),{},{[e]:je(je({},t[e]),{},{[i.key]:Number(r.target.value)})})),children:[(0,s.jsx)("option",{value:"",children:"\u2013"}),r.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]},i.key)})]},e))]})}return(0,s.jsxs)("div",{style:Vk,children:[(0,s.jsx)("div",{style:Gk,children:["subjective","objective","assessment","plan"].map(e=>(0,s.jsx)("div",{style:d===e?Yk:Zk,onClick:()=>u(e),children:e.toUpperCase()},e))}),(0,s.jsxs)(i_,{schema:m[d],values:a,onChange:p,submitted:l,onAction:e=>{"back"===e&&(null===r||void 0===r||r()),"clear"===e&&(o({}),c(!1),localStorage.removeItem(h)),"save"===e&&(localStorage.setItem(h,JSON.stringify({values:a,updatedAt:new Date})),alert("Audiology draft saved"))},children:["objective"===d&&(0,s.jsx)(g,{value:a.pta_matrix,onChange:p}),"objective"===d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{marginTop:20},children:[(0,s.jsx)("label",{children:"Impression \u2013 Right Ear"}),(0,s.jsx)("textarea",{value:a.impression_r||"",onChange:e=>p("impression_r",e.target.value),style:{width:"100%",marginBottom:12}}),(0,s.jsx)("label",{children:"Impression \u2013 Left Ear"}),(0,s.jsx)("textarea",{value:a.impression_l||"",onChange:e=>p("impression_l",e.target.value),style:{width:"100%",marginBottom:12}})]}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("label",{children:"Reliability"}),(0,s.jsx)("div",{style:{display:"flex",gap:12},children:["Good","Fair","Poor"].map(e=>(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",checked:a.reliability===e,onChange:()=>p("reliability",e)}),e]},e))})]})]}),(0,s.jsx)("div",{style:Kk,children:(0,s.jsx)("button",{style:Jk,onClick:()=>{c(!0),null===n||void 0===n||n(a),alert("Audiology assessment submitted")},children:"Submit Audiology Assessment"})})]})]})}const Vk={margin:"0 auto",width:"100%"},Gk={display:"flex",gap:12,justifyContent:"center",borderBottom:"1px solid #ddd",marginBottom:12},Zk={padding:"10px 22px",fontWeight:600,cursor:"pointer",color:"#0f172a"},Yk=je(je({},Zk),{},{borderBottom:"3px solid #2451b3",color:"#2451b3"}),Kk={display:"flex",justifyContent:"flex-end",marginTop:20},Jk={padding:"12px 32px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function Xk(e){let{patients:t=[],department:n}=e;const[r,a]=(0,i.useState)("dashboard"),[o,l]=(0,i.useState)(null);if(!n)return(0,s.jsx)("div",{style:{padding:20},children:"Department not assigned"});const c=t.filter(e=>{var t;return null===(t=e.departments)||void 0===t?void 0:t.includes(n)});if("details"===r&&o){return o.age>20?(0,s.jsx)(Mk,{patient:o,department:n,onBack:()=>a("patients")}):(0,s.jsx)(Hk,{patient:o,department:n,onBack:()=>a("patients")})}return"patients"===r?(0,s.jsxs)("div",{style:nC,children:[(0,s.jsx)($k,{title:"Patients List",onBack:()=>a("dashboard")}),0===c.length?(0,s.jsx)("div",{style:yC,children:"No patients assigned"}):c.map(e=>(0,s.jsxs)("div",{style:bC,onClick:()=>{l(e),a("details")},children:[(0,s.jsxs)("div",{style:{fontWeight:600},children:[e.name," ",(0,s.jsxs)("span",{style:{fontSize:12,color:"#6b7280"},children:["(",e.age," yrs)"]})]}),(0,s.jsxs)("div",{style:yC,children:["ICD: ",e.icd]})]},e.id))]}):(0,s.jsxs)("div",{style:nC,children:[(0,s.jsxs)("div",{style:iC,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:rC,children:"Therapist Dashboard"}),(0,s.jsx)("div",{style:aC,children:"Audiologist EMR"})]}),(0,s.jsxs)("div",{style:oC,children:[(0,s.jsx)("input",{placeholder:"Search Patient",style:sC}),(0,s.jsxs)("div",{style:lC,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"My Active Cases:"})," ",c.length]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Scheduled Today:"})," 5"]})]})]})]}),(0,s.jsxs)("div",{style:cC,children:[(0,s.jsxs)(Qk,{title:"Today's Appointments",children:[(0,s.jsx)(tC,{time:"09:00",name:"John Lim",tag:"TM"}),(0,s.jsx)(tC,{time:"10:00",name:"Amina B",tag:"OAE"}),(0,s.jsx)(tC,{time:"11:00",name:"Ravi K",tag:"OAE"}),(0,s.jsx)("div",{style:yC,children:"+ more"})]}),(0,s.jsx)(Qk,{title:"Patient Queue",children:(0,s.jsxs)("div",{style:wC,children:[(0,s.jsx)("div",{style:jC,children:"Waiting: 3 patients"}),(0,s.jsxs)("ul",{style:SC,children:[(0,s.jsx)("li",{children:"Farah A"}),(0,s.jsx)("li",{children:"Mohd Razif"}),(0,s.jsx)("li",{children:"Ong Wen"})]})]})}),(0,s.jsx)(Qk,{title:"My Tasks",children:(0,s.jsxs)("ul",{style:_C,children:[(0,s.jsx)("li",{children:"\ud83d\udcdd 3 Notes Pending"}),(0,s.jsx)("li",{children:"\ud83d\udcc4 1 Progress Report Due"})]})}),(0,s.jsx)(Qk,{title:"Quick Access",children:(0,s.jsxs)("div",{style:mC,children:[(0,s.jsx)(eC,{label:"Patients List",onClick:()=>a("patients")}),(0,s.jsx)(eC,{label:"Tickets"}),(0,s.jsx)(eC,{label:"Policies"}),(0,s.jsx)(eC,{label:"360\xb0 View"}),(0,s.jsx)(eC,{label:"Billing"}),(0,s.jsx)(eC,{label:"Inventory"}),(0,s.jsx)(eC,{label:"Prescription"}),(0,s.jsx)(eC,{label:"My RAP"})]})})]})]})}function $k(e){let{title:t,onBack:n}=e;return(0,s.jsxs)("div",{style:vC,children:[(0,s.jsx)("button",{onClick:n,style:xC,children:"\u2190 Back"}),(0,s.jsx)("h3",{children:t})]})}function Qk(e){let{title:t,children:n}=e;return(0,s.jsxs)("div",{style:dC,children:[(0,s.jsx)("div",{style:uC,children:t}),n]})}function eC(e){let{label:t,onClick:n}=e;return(0,s.jsx)("div",{style:gC,onClick:n,children:t})}function tC(e){let{time:t,name:n,tag:i}=e;return(0,s.jsxs)("div",{style:hC,children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)("span",{children:n}),(0,s.jsx)("span",{style:"PT"===i?pC:fC,children:i})]})}const nC={padding:24,fontFamily:"Inter, system-ui",background:"#f8fafc",minHeight:"100vh"},iC={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},rC={margin:0,fontSize:22},aC={fontSize:13,color:"#6b7280"},oC={display:"flex",gap:16,alignItems:"center"},sC={padding:"10px 14px",borderRadius:8,border:"1px solid #d1d5db",width:220},lC={fontSize:13},cC={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:20},dC={background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:18,boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},uC={fontWeight:700,marginBottom:12},hC={display:"grid",gridTemplateColumns:"60px 1fr 50px",alignItems:"center",padding:"8px 0",fontSize:14,borderBottom:"1px solid #f1f5f9"},pC={background:"#e0f2fe",color:"#0369a1",borderRadius:999,fontSize:12,padding:"2px 8px",textAlign:"center"},fC={background:"#fef3c7",color:"#92400e",borderRadius:999,fontSize:12,padding:"2px 8px",textAlign:"center"},mC={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10},gC={background:"#f1f5f9",padding:"12px 10px",borderRadius:8,textAlign:"center",fontWeight:600,fontSize:13,cursor:"pointer"},bC={padding:14,border:"1px solid #e5e7eb",background:"#fff",borderRadius:8,marginBottom:10,cursor:"pointer"},yC={fontSize:12,color:"#9ca3af"},vC={display:"flex",gap:12,alignItems:"center"},xC={background:"none",border:"none",cursor:"pointer",color:"#2563eb"},wC={background:"#f9fafb",padding:12,borderRadius:8},jC={fontWeight:600},SC={paddingLeft:18,fontSize:14},_C={paddingLeft:18,fontSize:14};function kC(e){let{addPatient:t}=e;const[n,r]=(0,i.useState)({name:"",dob:"",age:"",sex:"",race:"",accommodation:"",nkfa:"",residence:"",occupation:"",marital_status:"",icd:"",date_of_onset:"",weight:"",height:"",remarks:"",diagnosis_history:"",medical_history:""}),a=Object.keys(Ve),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)([]),u=(e,t,n)=>{d(i=>i.map((i,r)=>r===e?je(je({},i),{},{[t]:n}):i))},h=e=>{if(!e)return"";const t=new Date(e),n=new Date;let i=n.getFullYear()-t.getFullYear();const r=n.getMonth()-t.getMonth();return(r<0||0===r&&n.getDate()<t.getDate())&&i--,i},p=(e,t)=>r(n=>je(je({},n),{},{[e]:t})),f=n.weight&&n.height?(n.weight/(n.height/100)**2).toFixed(1):"";return(0,s.jsxs)("div",{style:{padding:20,maxWidth:600},children:[(0,s.jsx)("h2",{children:"Customer Service"}),(0,s.jsx)("label",{children:"Name"}),(0,s.jsx)("input",{value:n.name,onChange:e=>p("name",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Date of Birth"}),(0,s.jsx)("input",{type:"date",value:n.dob,onChange:e=>{const t=e.target.value;r(e=>je(je({},e),{},{dob:t,age:h(t)}))},style:{width:"100%"}}),(0,s.jsx)("label",{children:"Age"}),(0,s.jsx)("input",{value:n.age,readOnly:!0,style:{width:"100%",background:"#eee",fontWeight:"bold"}}),(0,s.jsx)("label",{children:"Gender"}),(0,s.jsxs)("select",{value:n.sex,onChange:e=>p("sex",e.target.value),style:{width:"100%"},children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Male"}),(0,s.jsx)("option",{children:"Female"}),(0,s.jsx)("option",{children:"Other"})]}),(0,s.jsx)("label",{children:"Race"}),(0,s.jsx)("input",{value:n.race,onChange:e=>p("race",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Accommodation"}),(0,s.jsxs)("select",{value:n.accommodation,onChange:e=>p("accommodation",e.target.value),style:{width:"100%"},children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Ward"}),(0,s.jsx)("option",{children:"Hostel"})]}),(0,s.jsx)("label",{children:"NKFA (Allergies)"}),(0,s.jsx)("input",{value:n.nkfa,onChange:e=>p("nkfa",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Place of Residence"}),(0,s.jsx)("input",{value:n.residence,onChange:e=>p("residence",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Occupation"}),(0,s.jsx)("input",{value:n.occupation,onChange:e=>p("occupation",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Marital Status"}),(0,s.jsxs)("select",{value:n.marital_status,onChange:e=>p("marital_status",e.target.value),style:{width:"100%"},children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{children:"Married"}),(0,s.jsx)("option",{children:"Single"})]}),(0,s.jsx)("label",{children:"Grouping ICD"}),(0,s.jsxs)("select",{value:n.icd,onChange:e=>p("icd",e.target.value),style:{width:"100%"},children:[(0,s.jsx)("option",{value:"",children:"Select ICD"}),a.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("label",{children:"Date of Onset"}),(0,s.jsx)("input",{type:"date",value:n.date_of_onset,onChange:e=>p("date_of_onset",e.target.value),style:{width:"100%"}}),(0,s.jsx)("h3",{style:{marginTop:20},children:"Carer Information"}),(0,s.jsx)("label",{children:"Number of Carers"}),(0,s.jsxs)("select",{value:o,onChange:e=>{const t=Number(e.target.value);l(t),(e=>{const t=Array.from({length:e},(e,t)=>({id:"CARER-"+(t+1)+"-"+Date.now(),name:"",phone:""}));d(t)})(t)},style:{width:"100%"},children:[(0,s.jsx)("option",{value:0,children:"Select"}),(0,s.jsx)("option",{value:1,children:"1"}),(0,s.jsx)("option",{value:2,children:"2"}),(0,s.jsx)("option",{value:3,children:"3"})]}),c.map((e,t)=>(0,s.jsxs)("div",{style:{border:"1px solid #ddd",padding:12,borderRadius:6,marginTop:12},children:[(0,s.jsxs)("strong",{children:["Carer ",t+1]}),(0,s.jsx)("label",{children:"Carer ID"}),(0,s.jsx)("input",{value:e.id,readOnly:!0,style:{width:"100%",background:"#eee"}}),(0,s.jsx)("label",{children:"Carer Name"}),(0,s.jsx)("input",{value:e.name,onChange:e=>u(t,"name",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Carer Phone"}),(0,s.jsx)("input",{value:e.phone,onChange:e=>u(t,"phone",e.target.value),style:{width:"100%"}})]},e.id)),(0,s.jsx)("h3",{style:{marginTop:20},children:"Clinical Information"}),(0,s.jsx)("label",{children:"Clinical Diagnosis"}),(0,s.jsx)("textarea",{value:n.diagnosis_history,onChange:e=>p("diagnosis_history",e.target.value),style:{width:"100%"},placeholder:"Enter diagnosis..."}),(0,s.jsx)("label",{children:"Past Medical & Family History"}),(0,s.jsx)("textarea",{value:n.medical_history,onChange:e=>p("medical_history",e.target.value),style:{width:"100%"},placeholder:"Enter medical history..."}),(0,s.jsx)("h3",{style:{marginTop:20},children:"Anthropometric Measurement"}),(0,s.jsx)("label",{children:"Weight (kg)"}),(0,s.jsx)("input",{type:"number",value:n.weight,onChange:e=>p("weight",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"Height (cm)"}),(0,s.jsx)("input",{type:"number",value:n.height,onChange:e=>p("height",e.target.value),style:{width:"100%"}}),(0,s.jsx)("label",{children:"BMI (Auto)"}),(0,s.jsx)("input",{value:f,readOnly:!0,style:{width:"100%",background:"#eee",fontWeight:"bold"}}),(0,s.jsx)("label",{children:"Remarks"}),(0,s.jsx)("textarea",{value:n.remarks,onChange:e=>p("remarks",e.target.value),style:{width:"100%"}}),(0,s.jsx)("button",{onClick:()=>{const e=Ve[n.icd]||[],i={id:"MRN"+Date.now(),name:n.name,dob:n.dob,age:n.age,age:n.age,sex:n.sex,race:n.race,accommodation:n.accommodation,nkfa:n.nkfa,residence:n.residence,occupation:n.occupation,marital_status:n.marital_status,icd:n.icd,date_of_onset:n.date_of_onset,ul:"-",weight:n.weight,height:n.height,bmi:f,remarks:n.remarks,diagnosis_history:n.diagnosis_history,medical_history:n.medical_history,carers:c,departments:e};t(i),alert("Patient Registered Successfully!")},style:{marginTop:20,width:"100%",padding:12,background:"#0050ff",border:"none",borderRadius:6,color:"white",cursor:"pointer"},children:"Save Patient"})]})}var CC=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),AC=Math.abs,NC=String.fromCharCode,OC=Object.assign;function PC(e){return e.trim()}function IC(e,t,n){return e.replace(t,n)}function EC(e,t){return e.indexOf(t)}function TC(e,t){return 0|e.charCodeAt(t)}function LC(e,t,n){return e.slice(t,n)}function MC(e){return e.length}function RC(e){return e.length}function DC(e,t){return t.push(e),e}var FC=1,BC=1,zC=0,WC=0,UC=0,qC="";function HC(e,t,n,i,r,a,o){return{value:e,root:t,parent:n,type:i,props:r,children:a,line:FC,column:BC,length:o,return:""}}function VC(e,t){return OC(HC("",null,null,"",null,null,0),e,{length:-e.length},t)}function GC(){return UC=WC>0?TC(qC,--WC):0,BC--,10===UC&&(BC=1,FC--),UC}function ZC(){return UC=WC<zC?TC(qC,WC++):0,BC++,10===UC&&(BC=1,FC++),UC}function YC(){return TC(qC,WC)}function KC(){return WC}function JC(e,t){return LC(qC,e,t)}function XC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $C(e){return FC=BC=1,zC=MC(qC=e),WC=0,[]}function QC(e){return qC="",e}function eA(e){return PC(JC(WC-1,iA(91===e?e+2:40===e?e+1:e)))}function tA(e){for(;(UC=YC())&&UC<33;)ZC();return XC(e)>2||XC(UC)>3?"":" "}function nA(e,t){for(;--t&&ZC()&&!(UC<48||UC>102||UC>57&&UC<65||UC>70&&UC<97););return JC(e,KC()+(t<6&&32==YC()&&32==ZC()))}function iA(e){for(;ZC();)switch(UC){case e:return WC;case 34:case 39:34!==e&&39!==e&&iA(UC);break;case 40:41===e&&iA(e);break;case 92:ZC()}return WC}function rA(e,t){for(;ZC()&&e+UC!==57&&(e+UC!==84||47!==YC()););return"/*"+JC(t,WC-1)+"*"+NC(47===e?e:ZC())}function aA(e){for(;!XC(YC());)ZC();return JC(e,WC)}var oA="-ms-",sA="-moz-",lA="-webkit-",cA="comm",dA="rule",uA="decl",hA="@keyframes";function pA(e,t){for(var n="",i=RC(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function fA(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case uA:return e.return=e.return||e.value;case cA:return"";case hA:return e.return=e.value+"{"+pA(e.children,i)+"}";case dA:e.value=e.props.join(",")}return MC(n=pA(e.children,i))?e.return=e.value+"{"+n+"}":""}function mA(e){return function(t){t.root||(t=t.return)&&e(t)}}function gA(e){return QC(bA("",null,null,null,[""],e=$C(e),0,[0],e))}function bA(e,t,n,i,r,a,o,s,l){for(var c=0,d=0,u=o,h=0,p=0,f=0,m=1,g=1,b=1,y=0,v="",x=r,w=a,j=i,S=v;g;)switch(f=y,y=ZC()){case 40:if(108!=f&&58==TC(S,u-1)){-1!=EC(S+=IC(eA(y),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:S+=eA(y);break;case 9:case 10:case 13:case 32:S+=tA(f);break;case 92:S+=nA(KC()-1,7);continue;case 47:switch(YC()){case 42:case 47:DC(vA(rA(ZC(),KC()),t,n),l);break;default:S+="/"}break;case 123*m:s[c++]=MC(S)*b;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==b&&(S=IC(S,/\f/g,"")),p>0&&MC(S)-u&&DC(p>32?xA(S+";",i,n,u-1):xA(IC(S," ","")+";",i,n,u-2),l);break;case 59:S+=";";default:if(DC(j=yA(S,t,n,c,d,r,s,v,x=[],w=[],u),a),123===y)if(0===d)bA(S,t,j,j,x,a,u,s,w);else switch(99===h&&110===TC(S,3)?100:h){case 100:case 108:case 109:case 115:bA(e,j,j,i&&DC(yA(e,j,j,0,0,r,s,v,r,x=[],u),w),r,w,u,s,i?x:w);break;default:bA(S,j,j,j,[""],w,0,s,w)}}c=d=p=0,m=b=1,v=S="",u=o;break;case 58:u=1+MC(S),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==GC())continue;switch(S+=NC(y),y*m){case 38:b=d>0?1:(S+="\f",-1);break;case 44:s[c++]=(MC(S)-1)*b,b=1;break;case 64:45===YC()&&(S+=eA(ZC())),h=YC(),d=u=MC(v=S+=aA(KC())),y++;break;case 45:45===f&&2==MC(S)&&(m=0)}}return a}function yA(e,t,n,i,r,a,o,s,l,c,d){for(var u=r-1,h=0===r?a:[""],p=RC(h),f=0,m=0,g=0;f<i;++f)for(var b=0,y=LC(e,u+1,u=AC(m=o[f])),v=e;b<p;++b)(v=PC(m>0?h[b]+" "+y:IC(y,/&\f/g,h[b])))&&(l[g++]=v);return HC(e,t,n,0===r?dA:s,l,c,d)}function vA(e,t,n){return HC(e,t,n,cA,NC(UC),LC(e,2,-2),0)}function xA(e,t,n,i){return HC(e,t,n,uA,LC(e,0,i),LC(e,i+1,-1),i)}var wA=function(e,t,n){for(var i=0,r=0;i=r,r=YC(),38===i&&12===r&&(t[n]=1),!XC(r);)ZC();return JC(e,WC)},jA=function(e,t){return QC(function(e,t){var n=-1,i=44;do{switch(XC(i)){case 0:38===i&&12===YC()&&(t[n]=1),e[n]+=wA(WC-1,t,n);break;case 2:e[n]+=eA(i);break;case 4:if(44===i){e[++n]=58===YC()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=NC(i)}}while(i=ZC());return e}($C(e),t))},SA=new WeakMap,_A=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||SA.get(n))&&!i){SA.set(e,!0);for(var r=[],a=jA(t,r),o=n.props,s=0,l=0;s<a.length;s++)for(var c=0;c<o.length;c++,l++)e.props[l]=r[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},kA=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function CA(e,t){switch(function(e,t){return 45^TC(e,0)?(((t<<2^TC(e,0))<<2^TC(e,1))<<2^TC(e,2))<<2^TC(e,3):0}(e,t)){case 5103:return lA+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lA+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return lA+e+sA+e+oA+e+e;case 6828:case 4268:return lA+e+oA+e+e;case 6165:return lA+e+oA+"flex-"+e+e;case 5187:return lA+e+IC(e,/(\w+).+(:[^]+)/,lA+"box-$1$2"+oA+"flex-$1$2")+e;case 5443:return lA+e+oA+"flex-item-"+IC(e,/flex-|-self/,"")+e;case 4675:return lA+e+oA+"flex-line-pack"+IC(e,/align-content|flex-|-self/,"")+e;case 5548:return lA+e+oA+IC(e,"shrink","negative")+e;case 5292:return lA+e+oA+IC(e,"basis","preferred-size")+e;case 6060:return lA+"box-"+IC(e,"-grow","")+lA+e+oA+IC(e,"grow","positive")+e;case 4554:return lA+IC(e,/([^-])(transform)/g,"$1"+lA+"$2")+e;case 6187:return IC(IC(IC(e,/(zoom-|grab)/,lA+"$1"),/(image-set)/,lA+"$1"),e,"")+e;case 5495:case 3959:return IC(e,/(image-set\([^]*)/,lA+"$1$`$1");case 4968:return IC(IC(e,/(.+:)(flex-)?(.*)/,lA+"box-pack:$3"+oA+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lA+e+e;case 4095:case 3583:case 4068:case 2532:return IC(e,/(.+)-inline(.+)/,lA+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(MC(e)-1-t>6)switch(TC(e,t+1)){case 109:if(45!==TC(e,t+4))break;case 102:return IC(e,/(.+:)(.+)-([^]+)/,"$1"+lA+"$2-$3$1"+sA+(108==TC(e,t+3)?"$3":"$2-$3"))+e;case 115:return~EC(e,"stretch")?CA(IC(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==TC(e,t+1))break;case 6444:switch(TC(e,MC(e)-3-(~EC(e,"!important")&&10))){case 107:return IC(e,":",":"+lA)+e;case 101:return IC(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lA+(45===TC(e,14)?"inline-":"")+"box$3$1"+lA+"$2$3$1"+oA+"$2box$3")+e}break;case 5936:switch(TC(e,t+11)){case 114:return lA+e+oA+IC(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return lA+e+oA+IC(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return lA+e+oA+IC(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return lA+e+oA+e+e}return e}var AA=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case uA:e.return=CA(e.value,e.length);break;case hA:return pA([VC(e,{value:IC(e.value,"@","@"+lA)})],i);case dA:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pA([VC(e,{props:[IC(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return pA([VC(e,{props:[IC(t,/:(plac\w+)/,":"+lA+"input-$1")]}),VC(e,{props:[IC(t,/:(plac\w+)/,":-moz-$1")]}),VC(e,{props:[IC(t,/:(plac\w+)/,oA+"input-$1")]})],i)}return""})}}],NA=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i,r,a=e.stylisPlugins||AA,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)});var l,c=[_A,kA],d=[fA,mA(function(e){l.insert(e)})],u=function(e){var t=RC(e);return function(n,i,r,a){for(var o="",s=0;s<t;s++)o+=e[s](n,i,r,a)||"";return o}}(c.concat(a,d));r=function(e,t,n,i){l=n,function(e){pA(gA(e),u)}(e?e+"{"+t.styles+"}":t.styles),i&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new CC({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:r};return h.sheet.hydrate(s),h};var OA=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};var PA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function IA(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var EA=/[A-Z]|^ms/g,TA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LA=function(e){return 45===e.charCodeAt(1)},MA=function(e){return null!=e&&"boolean"!==typeof e},RA=IA(function(e){return LA(e)?e:e.replace(EA,"-$&").toLowerCase()}),DA=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(TA,function(e,t,n){return BA={name:t,styles:n,next:BA},t})}return 1===PA[e]||LA(e)||"number"!==typeof t||0===t?t:t+"px"};function FA(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return BA={name:r.name,styles:r.styles,next:BA},r.name;var a=n;if(void 0!==a.styles){var o=a.next;if(void 0!==o)for(;void 0!==o;)BA={name:o.name,styles:o.styles,next:BA},o=o.next;return a.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=FA(e,t,n[r])+";";else for(var a in n){var o=n[a];if("object"!==typeof o){var s=o;null!=t&&void 0!==t[s]?i+=a+"{"+t[s]+"}":MA(s)&&(i+=RA(a)+":"+DA(a,s)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=FA(e,t,o);switch(a){case"animation":case"animationName":i+=RA(a)+":"+l+";";break;default:i+=a+"{"+l+"}"}}else for(var c=0;c<o.length;c++)MA(o[c])&&(i+=RA(a)+":"+DA(a,o[c])+";")}return i}(e,t,n);case"function":if(void 0!==e){var s=BA,l=n(e);return BA=s,FA(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var BA,zA=/label:\s*([^\s;{]+)\s*(;|$)/g;function WA(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";BA=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,r+=FA(n,t,a)):r+=a[0];for(var o=1;o<e.length;o++){if(r+=FA(n,t,e[o]),i)r+=a[o]}zA.lastIndex=0;for(var s,l="";null!==(s=zA.exec(r));)l+="-"+s[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:BA}}var UA=!!r.useInsertionEffect&&r.useInsertionEffect,qA=UA||function(e){return e()},HA=(UA||i.useLayoutEffect,i.createContext("undefined"!==typeof HTMLElement?NA({key:"css"}):null)),VA=(HA.Provider,function(e){return(0,i.forwardRef)(function(t,n){var r=(0,i.useContext)(HA);return e(t,r,n)})}),GA=i.createContext({});var ZA={}.hasOwnProperty,YA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",KA=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return OA(t,n,i),qA(function(){return function(e,t,n){OA(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)}),null},JA=VA(function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var a=e[YA],o=[r],s="";"string"===typeof e.className?s=function(e,t,n){var i="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(i+=n+" ")}),i}(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var l=WA(o,void 0,i.useContext(GA));s+=t.key+"-"+l.name;var c={};for(var d in e)ZA.call(e,d)&&"css"!==d&&d!==YA&&(c[d]=e[d]);return c.className=s,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(KA,{cache:t,serialized:l,isStringTag:"string"===typeof a}),i.createElement(a,c))}),XA=JA,$A=function(e,t){var n=arguments;if(null==t||!ZA.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,a=new Array(r);a[0]=XA,a[1]=function(e,t){var n={};for(var i in t)ZA.call(t,i)&&(n[i]=t[i]);return n[YA]=e,n}(e,t);for(var o=2;o<r;o++)a[o]=n[o];return i.createElement.apply(null,a)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}($A||($A={}));function QA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WA(t)}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function tN(e,t){if(e){if("string"==typeof e)return eN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eN(e,t):void 0}}function nN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||tN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iN(e,t){if(null==e)return{};var n,i,r=z(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var rN=n(2284);const aN=Math.min,oN=Math.max,sN=Math.round,lN=Math.floor,cN=e=>({x:e,y:e});function dN(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function uN(){return"undefined"!==typeof window}function hN(e){return mN(e)?(e.nodeName||"").toLowerCase():"#document"}function pN(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function fN(e){var t;return null==(t=(mN(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function mN(e){return!!uN()&&(e instanceof Node||e instanceof pN(e).Node)}function gN(e){return!!uN()&&(e instanceof Element||e instanceof pN(e).Element)}function bN(e){return!!uN()&&(e instanceof HTMLElement||e instanceof pN(e).HTMLElement)}function yN(e){return!(!uN()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof pN(e).ShadowRoot)}const vN=new Set(["inline","contents"]);function xN(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=_N(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!vN.has(r)}function wN(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const jN=new Set(["html","body","#document"]);function SN(e){return jN.has(hN(e))}function _N(e){return pN(e).getComputedStyle(e)}function kN(e){if("html"===hN(e))return e;const t=e.assignedSlot||e.parentNode||yN(e)&&e.host||fN(e);return yN(t)?t.host:t}function CN(e){const t=kN(e);return SN(t)?e.ownerDocument?e.ownerDocument.body:e.body:bN(t)&&xN(t)?t:CN(t)}function AN(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=CN(e),a=r===(null==(i=e.ownerDocument)?void 0:i.body),o=pN(r);if(a){const e=NN(o);return t.concat(o,o.visualViewport||[],xN(r)?r:[],e&&n?AN(e):[])}return t.concat(r,AN(r,[],n))}function NN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ON(e){const t=_N(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=bN(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:i,s=sN(n)!==a||sN(i)!==o;return s&&(n=a,i=o),{width:n,height:i,$:s}}function PN(e){return gN(e)?e:e.contextElement}function IN(e){const t=PN(e);if(!bN(t))return cN(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:a}=ON(t);let o=(a?sN(n.width):n.width)/i,s=(a?sN(n.height):n.height)/r;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const EN=cN(0);function TN(e){const t=pN(e);return wN()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:EN}function LN(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),a=PN(e);let o=cN(1);t&&(i?gN(i)&&(o=IN(i)):o=IN(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==pN(e))&&t}(a,n,i)?TN(a):cN(0);let l=(r.left+s.x)/o.x,c=(r.top+s.y)/o.y,d=r.width/o.x,u=r.height/o.y;if(a){const e=pN(a),t=i&&gN(i)?pN(i):i;let n=e,r=NN(n);for(;r&&i&&t!==n;){const e=IN(r),t=r.getBoundingClientRect(),i=_N(r),a=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=o,n=pN(r),r=NN(n)}}return dN({width:d,height:u,x:l,y:c})}function MN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RN(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=i,c=PN(e),d=r||a?[...c?AN(c):[],...AN(t)]:[];d.forEach(e=>{r&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const u=c&&s?function(e,t){let n,i=null;const r=fN(e);function a(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(s||t(),!h||!p)return;const f={rootMargin:-lN(u)+"px "+-lN(r.clientWidth-(d+h))+"px "+-lN(r.clientHeight-(u+p))+"px "+-lN(d)+"px",threshold:oN(0,aN(1,l))||1};let m=!0;function g(t){const i=t[0].intersectionRatio;if(i!==l){if(!m)return o();i?o(!1,i):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==i||MN(c,e.getBoundingClientRect())||o(),m=!1}try{i=new IntersectionObserver(g,je(je({},f),{},{root:r.ownerDocument}))}catch(bY){i=new IntersectionObserver(g,f)}i.observe(e)}(!0),a}(c,n):null;let h,p=-1,f=null;o&&(f=new ResizeObserver(e=>{let[i]=e;i&&i.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let m=l?LN(e):null;return l&&function t(){const i=LN(e);m&&!MN(m,i)&&n();m=i,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{r&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}var DN=i.useLayoutEffect,FN=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],BN=function(){};function zN(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function WN(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=[].concat(i);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(zN(e,o)));return a.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var UN=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,rN.A)(e)&&null!==e?[e]:[];var t},qN=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,je({},iN(e,FN))},HN=function(e,t,n){var i=e.cx,r=e.getStyles,a=e.getClassNames,o=e.className;return{css:r(t,e),className:i(null!==n&&void 0!==n?n:{},a(t,e),o)}};function VN(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function GN(e){return VN(e)?window.pageYOffset:e.scrollTop}function ZN(e,t){VN(e)?window.scrollTo(0,t):e.scrollTop=t}function YN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BN,r=GN(e),a=t-r,o=0;!function t(){var s=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}(o+=10,r,a,n);ZN(e,s),o<n?window.requestAnimationFrame(t):i(e)}()}function KN(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?ZN(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&ZN(e,Math.max(t.offsetTop-r,0))}function JN(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var XN=!1,$N={get passive(){return XN=!0}},QN="undefined"!==typeof window?window:{};QN.addEventListener&&QN.removeEventListener&&(QN.addEventListener("p",BN,$N),QN.removeEventListener("p",BN,!1));var eO=XN;function tO(e){return null!=e}function nO(e,t,n){return e?t:n}var iO=["children","innerProps"],rO=["children","innerProps"];function aO(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d,u=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),p=h.bottom,f=h.height,m=h.top,g=n.offsetParent.getBoundingClientRect().top,b=o?window.innerHeight:VN(d=l)?window.innerHeight:d.clientHeight,y=GN(l),v=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),w=g-x,j=b-m,S=w+y,_=u-y-m,k=p-b+y+v,C=y+m-x,A=160;switch(r){case"auto":case"bottom":if(j>=f)return{placement:"bottom",maxHeight:t};if(_>=f&&!o)return a&&YN(l,k,A),{placement:"bottom",maxHeight:t};if(!o&&_>=i||o&&j>=i)return a&&YN(l,k,A),{placement:"bottom",maxHeight:o?j-v:_-v};if("auto"===r||o){var N=t,O=o?w:S;return O>=i&&(N=Math.min(O-v-s,t)),{placement:"top",maxHeight:N}}if("bottom"===r)return a&&ZN(l,k),{placement:"bottom",maxHeight:t};break;case"top":if(w>=f)return{placement:"top",maxHeight:t};if(S>=f&&!o)return a&&YN(l,C,A),{placement:"top",maxHeight:t};if(!o&&S>=i||o&&w>=i){var P=t;return(!o&&S>=i||o&&w>=i)&&(P=o?w-x:S-x),a&&YN(l,C,A),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}var oO,sO=function(e){return"auto"===e?"bottom":e},lO=(0,i.createContext)(null),cO=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,s=e.menuShouldScrollIntoView,l=e.theme,c=((0,i.useContext)(lO)||{}).setPortalPlacement,d=(0,i.useRef)(null),u=nN((0,i.useState)(r),2),h=u[0],p=u[1],f=nN((0,i.useState)(null),2),m=f[0],g=f[1],b=l.spacing.controlHeight;return DN(function(){var e=d.current;if(e){var t="fixed"===o,i=aO({maxHeight:r,menuEl:e,minHeight:n,placement:a,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:b});p(i.maxHeight),g(i.placement),null===c||void 0===c||c(i.placement)}},[r,a,o,s,n,c,b]),t({ref:d,placerProps:je(je({},e),{},{placement:m||sO(a),maxHeight:h})})},dO=function(e){var t=e.children,n=e.innerRef,i=e.innerProps;return $A("div",h({},HN(e,"menu",{menu:!0}),{ref:n},i),t)},uO=function(e,t){var n=e.theme,i=n.spacing.baseUnit,r=n.colors;return je({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},hO=uO,pO=uO,fO=["size"],mO=["innerProps","isRtl","size"];var gO={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},bO=function(e){var t=e.size,n=iN(e,fO);return $A("svg",h({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:gO},n))},yO=function(e){return $A(bO,h({size:20},e),$A("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},vO=function(e){return $A(bO,h({size:20},e),$A("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},xO=function(e,t){var n=e.isFocused,i=e.theme,r=i.spacing.baseUnit,a=i.colors;return je({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*r,":hover":{color:n?a.neutral80:a.neutral40}})},wO=xO,jO=xO,SO=function(){var e=QA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(oO||(oO=tr(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),_O=function(e){var t=e.delay,n=e.offset;return $A("span",{css:QA({animation:"".concat(SO," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kO=function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return $A("div",h({ref:r},HN(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":o}),a,{"aria-disabled":n||void 0}),t)},CO=["data"],AO=function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.getClassNames,a=e.Heading,o=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return $A("div",h({},HN(e,"group",{group:!0}),s),$A(a,h({},o,{selectProps:d,theme:c,getStyles:i,getClassNames:r,cx:n}),l),$A("div",null,t))},NO=["innerRef","isDisabled","isHidden","inputClassName"],OO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},PO={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":je({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},OO)},IO=function(e){return je({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},OO)},EO=function(e){var t=e.cx,n=e.value,i=qN(e),r=i.innerRef,a=i.isDisabled,o=i.isHidden,s=i.inputClassName,l=iN(i,NO);return $A("div",h({},HN(e,"input",{"input-container":!0}),{"data-value":n||""}),$A("input",h({className:t({input:!0},s),ref:r,style:IO(o),disabled:a},l)))},TO=function(e){var t=e.children,n=e.innerProps;return $A("div",n,t)};var LO=function(e){var t=e.children,n=e.components,i=e.data,r=e.innerProps,a=e.isDisabled,o=e.removeProps,s=e.selectProps,l=n.Container,c=n.Label,d=n.Remove;return $A(l,{data:i,innerProps:je(je({},HN(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),r),selectProps:s},$A(c,{data:i,innerProps:je({},HN(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),$A(d,{data:i,innerProps:je(je({},HN(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:s}))},MO={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return $A("div",h({},HN(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||$A(yO,null))},Control:kO,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return $A("div",h({},HN(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||$A(vO,null))},DownChevron:vO,CrossIcon:yO,Group:AO,GroupHeading:function(e){var t=qN(e);t.data;var n=iN(t,CO);return $A("div",h({},HN(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return $A("div",h({},HN(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return $A("span",h({},t,HN(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:EO,LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,i=e.size,r=void 0===i?4:i,a=iN(e,mO);return $A("div",h({},HN(je(je({},a),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),$A(_O,{delay:0,offset:n}),$A(_O,{delay:160,offset:!0}),$A(_O,{delay:320,offset:!n}))},Menu:dO,MenuList:function(e){var t=e.children,n=e.innerProps,i=e.innerRef,r=e.isMulti;return $A("div",h({},HN(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,o=e.innerProps,s=e.menuPlacement,l=e.menuPosition,c=(0,i.useRef)(null),d=(0,i.useRef)(null),u=nN((0,i.useState)(sO(s)),2),p=u[0],f=u[1],m=(0,i.useMemo)(function(){return{setPortalPlacement:f}},[]),g=nN((0,i.useState)(null),2),b=g[0],y=g[1],v=(0,i.useCallback)(function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===l?0:window.pageYOffset,n=e[p]+t;n===(null===b||void 0===b?void 0:b.offset)&&e.left===(null===b||void 0===b?void 0:b.rect.left)&&e.width===(null===b||void 0===b?void 0:b.rect.width)||y({offset:n,rect:e})}},[r,l,p,null===b||void 0===b?void 0:b.offset,null===b||void 0===b?void 0:b.rect.left,null===b||void 0===b?void 0:b.rect.width]);DN(function(){v()},[v]);var x=(0,i.useCallback)(function(){"function"===typeof d.current&&(d.current(),d.current=null),r&&c.current&&(d.current=RN(r,c.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);DN(function(){x()},[x]);var w=(0,i.useCallback)(function(e){c.current=e,x()},[x]);if(!t&&"fixed"!==l||!b)return null;var j=$A("div",h({ref:w},HN(je(je({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),o),n);return $A(lO.Provider,{value:m},t?(0,a.createPortal)(j,t):j)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,i=e.innerProps,r=iN(e,rO);return $A("div",h({},HN(je(je({},r),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,i=e.innerProps,r=iN(e,iO);return $A("div",h({},HN(je(je({},r),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},MultiValue:LO,MultiValueContainer:TO,MultiValueLabel:TO,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return $A("div",h({role:"button"},n),t||$A(yO,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.isSelected,a=e.innerRef,o=e.innerProps;return $A("div",h({},HN(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":r}),{ref:a,"aria-disabled":n},o),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return $A("div",h({},HN(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,i=e.isDisabled,r=e.isRtl;return $A("div",h({},HN(e,"container",{"--is-disabled":i,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,i=e.innerProps;return $A("div",h({},HN(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,i=e.isMulti,r=e.hasValue;return $A("div",h({},HN(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),n),t)}},RO=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var DO=n(816);function FO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,DO.A)(i.key),i)}}function BO(e){return BO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BO(e)}function zO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zO=function(){return!!e})()}function WO(e,t){if(t&&("object"==(0,rN.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function UO(e){return function(e){if(Array.isArray(e))return eN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qO=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function HO(e,t){return e===t||!(!qO(e)||!qO(t))}function VO(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!HO(e[n],t[n]))return!1;return!0}for(var GO={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ZO=function(e){return $A("span",h({css:GO},e))},YO={guidance:function(e){var t=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,r=e.context,a=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,i=void 0===n?"":n,r=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,i=e.options,r=e.label,a=void 0===r?"":r,o=e.selectValue,s=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(a," focused, ").concat(d(o,n),".");if("menu"===t&&c){var u=s?" disabled":"",h="".concat(l?" selected":"").concat(u);return"".concat(a).concat(h,", ").concat(d(i,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},KO=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,a=e.focusableOptions,o=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,d=e.isAppleDevice,u=l.ariaLiveMessages,h=l.getOptionLabel,p=l.inputValue,f=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,b=l.menuIsOpen,y=l.options,v=l.screenReaderStatus,x=l.tabSelectsValue,w=l.isLoading,j=l["aria-label"],S=l["aria-live"],_=(0,i.useMemo)(function(){return je(je({},YO),u||{})},[u]),k=(0,i.useMemo)(function(){var e,n="";if(t&&_.onChange){var i=t.option,r=t.options,a=t.removedValue,o=t.removedValues,l=t.value,c=a||i||(e=l,Array.isArray(e)?null:e),d=c?h(c):"",u=r||o||void 0,p=u?u.map(h):[],f=je({isDisabled:c&&m(c,s),label:d,labels:p},t);n=_.onChange(f)}return n},[t,_,m,s,h]),C=(0,i.useMemo)(function(){var e="",t=n||r,i=!!(n&&s&&s.includes(n));if(t&&_.onFocus){var o={focused:t,label:h(t),isDisabled:m(t,s),isSelected:i,options:a,context:t===n?"menu":"value",selectValue:s,isAppleDevice:d};e=_.onFocus(o)}return e},[n,r,h,m,_,a,s,d]),A=(0,i.useMemo)(function(){var e="";if(b&&y.length&&!w&&_.onFilter){var t=v({count:a.length});e=_.onFilter({inputValue:p,resultsMessage:t})}return e},[a,p,b,_,y,v,w]),N="initial-input-focus"===(null===t||void 0===t?void 0:t.action),O=(0,i.useMemo)(function(){var e="";if(_.guidance){var t=r?"value":b?"menu":"input";e=_.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,s),isMulti:f,isSearchable:g,tabSelectsValue:x,isInitialFocus:N})}return e},[j,n,r,f,m,g,b,_,s,x,N]),P=$A(i.Fragment,null,$A("span",{id:"aria-selection"},k),$A("span",{id:"aria-focused"},C),$A("span",{id:"aria-results"},A),$A("span",{id:"aria-guidance"},O));return $A(i.Fragment,null,$A(ZO,{id:c},N&&P),$A(ZO,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!N&&P))},JO=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],XO=new RegExp("["+JO.map(function(e){return e.letters}).join("")+"]","g"),$O={},QO=0;QO<JO.length;QO++)for(var eP=JO[QO],tP=0;tP<eP.letters.length;tP++)$O[eP.letters[tP]]=eP.base;var nP=function(e){return e.replace(XO,function(e){return $O[e]})},iP=function(e,t){void 0===t&&(t=VO);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return i.clear=function(){n=null},i}(nP),rP=function(e){return e.replace(/^\s+|\s+$/g,"")},aP=function(e){return"".concat(e.label," ").concat(e.value)},oP=["innerRef"];function sP(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Object.entries(e).filter(function(e){var t=nN(e,1)[0];return!n.includes(t)});return r.reduce(function(e,t){var n=nN(t,2),i=n[0],r=n[1];return e[i]=r,e},{})}(iN(e,oP),"onExited","in","enter","exit","appear");return $A("input",h({ref:t},n,{css:QA({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var lP=["boxSizing","height","overflow","paddingRight","position"],cP={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function dP(e){e.cancelable&&e.preventDefault()}function uP(e){e.stopPropagation()}function hP(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function pP(){return"ontouchstart"in window||navigator.maxTouchPoints}var fP=!("undefined"===typeof window||!window.document||!window.document.createElement),mP=0,gP={capture:!1,passive:!1};var bP=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},yP={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function vP(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,s=(0,i.useRef)(!1),l=(0,i.useRef)(!1),c=(0,i.useRef)(0),d=(0,i.useRef)(null),u=(0,i.useCallback)(function(e,t){if(null!==d.current){var i=d.current,c=i.scrollTop,u=i.scrollHeight,h=i.clientHeight,p=d.current,f=t>0,m=u-h-c,g=!1;m>t&&s.current&&(r&&r(e),s.current=!1),f&&l.current&&(o&&o(e),l.current=!1),f&&t>m?(n&&!s.current&&n(e),p.scrollTop=u,g=!0,s.current=!0):!f&&-t>c&&(a&&!l.current&&a(e),p.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[n,r,a,o]),h=(0,i.useCallback)(function(e){u(e,e.deltaY)},[u]),p=(0,i.useCallback)(function(e){c.current=e.changedTouches[0].clientY},[]),f=(0,i.useCallback)(function(e){var t=c.current-e.changedTouches[0].clientY;u(e,t)},[u]),m=(0,i.useCallback)(function(e){if(e){var t=!!eO&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",f,t)}},[f,p,h]),g=(0,i.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",f,!1))},[f,p,h]);return(0,i.useEffect)(function(){if(t){var e=d.current;return m(e),function(){g(e)}}},[t,m,g]),function(e){d.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,a=(0,i.useRef)({}),o=(0,i.useRef)(null),s=(0,i.useCallback)(function(e){if(fP){var t=document.body,n=t&&t.style;if(r&&lP.forEach(function(e){var t=n&&n[e];a.current[e]=t}),r&&mP<1){var i=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,s=window.innerWidth-o+i||0;Object.keys(cP).forEach(function(e){var t=cP[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(s,"px"))}t&&pP()&&(t.addEventListener("touchmove",dP,gP),e&&(e.addEventListener("touchstart",hP,gP),e.addEventListener("touchmove",uP,gP))),mP+=1}},[r]),l=(0,i.useCallback)(function(e){if(fP){var t=document.body,n=t&&t.style;mP=Math.max(mP-1,0),r&&mP<1&&lP.forEach(function(e){var t=a.current[e];n&&(n[e]=t)}),t&&pP()&&(t.removeEventListener("touchmove",dP,gP),e&&(e.removeEventListener("touchstart",hP,gP),e.removeEventListener("touchmove",uP,gP)))}},[r]);return(0,i.useEffect)(function(){if(t){var e=o.current;return s(e),function(){l(e)}}},[t,s,l]),function(e){o.current=e}}({isEnabled:n});return $A(i.Fragment,null,n&&$A("div",{onClick:bP,css:yP}),t(function(e){a(e),o(e)}))}var xP={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},wP=function(e){var t=e.name,n=e.onFocus;return $A("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:xP,value:"",onChange:function(){}})};function jP(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function SP(){return jP(/^Mac/i)}function _P(){return jP(/^iPhone/i)||jP(/^iPad/i)||SP()&&navigator.maxTouchPoints>1}var kP={clearIndicator:jO,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.theme,a=r.colors,o=r.borderRadius;return je({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:i?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},dropdownIndicator:wO,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,i=n.colors,r=n.spacing;return je({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing.baseUnit,a=i.colors;return je({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,i=e.value,r=e.theme,a=r.spacing,o=r.colors;return je(je({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},PO),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,i=e.size,r=e.theme,a=r.colors,o=r.spacing.baseUnit;return je({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*o})},loadingMessage:pO,menu:function(e,t){var n,i=e.placement,r=e.theme,a=r.borderRadius,o=r.spacing,s=r.colors;return je((n={label:"menu"},(0,xe.A)(n,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),(0,xe.A)(n,"position","absolute"),(0,xe.A)(n,"width","100%"),(0,xe.A)(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return je({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,a=n.colors;return je({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,i=n.borderRadius,r=n.colors,a=e.cropWithEllipsis;return je({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,a=n.colors,o=e.isFocused;return je({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:hO,option:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.isSelected,a=e.theme,o=a.spacing,s=a.colors;return je({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?s.primary:i?s.primary25:"transparent",color:n?s.neutral20:r?s.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,i=n.spacing,r=n.colors;return je({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing,a=i.colors;return je({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,i=e.isMulti,r=e.hasValue,a=e.selectProps.controlShouldRenderValue;return je({alignItems:"center",display:i&&r&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var CP={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},AP={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:JN(),captureMenuScroll:!JN(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var i=je({ignoreCase:!0,ignoreAccents:!0,stringify:aP,trim:!0,matchFrom:"any"},e),r=i.ignoreCase,a=i.ignoreAccents,o=i.stringify,s=i.trim,l=i.matchFrom,c=s?rP(n):n,d=s?rP(o(t)):o(t);return r&&(c=c.toLowerCase(),d=d.toLowerCase()),a&&(c=iP(c),d=nP(d)),"start"===l?d.substr(0,c.length)===c:d.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function NP(e,t,n,i){return{type:"option",data:t,isDisabled:RP(e,t,n),isSelected:DP(e,t,n),label:LP(e,t),value:MP(e,t),index:i}}function OP(e,t){return e.options.map(function(n,i){if("options"in n){var r=n.options.map(function(n,i){return NP(e,n,t,i)}).filter(function(t){return EP(e,t)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var a=NP(e,n,t,i);return EP(e,a)?a:void 0}).filter(tO)}function PP(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,UO(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function IP(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,UO(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function EP(e,t){var n=e.inputValue,i=void 0===n?"":n,r=t.data,a=t.isSelected,o=t.label,s=t.value;return(!BP(e)||!a)&&FP(e,{label:o,value:s,data:r},i)}var TP=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},LP=function(e,t){return e.getOptionLabel(t)},MP=function(e,t){return e.getOptionValue(t)};function RP(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function DP(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var i=MP(e,t);return n.some(function(t){return MP(e,t)===i})}function FP(e,t,n){return!e.filterOption||e.filterOption(t,n)}var BP=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},zP=1,WP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(n,e);var t=function(e){var t=zO();return function(){var n,i=BO(e);if(t){var r=BO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return WO(this,n)}}(n);function n(e){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(e){i.controlRef=e},i.focusedOptionRef=null,i.getFocusedOptionRef=function(e){i.focusedOptionRef=e},i.menuListRef=null,i.getMenuListRef=function(e){i.menuListRef=e},i.inputRef=null,i.getInputRef=function(e){i.inputRef=e},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(e,t){var n=i.props,r=n.onChange,a=n.name;t.name=a,i.ariaOnChange(e,t),r(e,t)},i.setValue=function(e,t,n){var r=i.props,a=r.closeMenuOnSelect,o=r.isMulti,s=r.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:s}),a&&(i.setState({inputIsHiddenAfterUpdate:!o}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(e,{action:t,option:n})},i.selectOption=function(e){var t=i.props,n=t.blurInputOnSelect,r=t.isMulti,a=t.name,o=i.state.selectValue,s=r&&i.isOptionSelected(e,o),l=i.isOptionDisabled(e,o);if(s){var c=i.getOptionValue(e);i.setValue(o.filter(function(e){return i.getOptionValue(e)!==c}),"deselect-option",e)}else{if(l)return void i.ariaOnChange(e,{action:"select-option",option:e,name:a});r?i.setValue([].concat(UO(o),[e]),"select-option",e):i.setValue(e,"select-option")}n&&i.blurInput()},i.removeValue=function(e){var t=i.props.isMulti,n=i.state.selectValue,r=i.getOptionValue(e),a=n.filter(function(e){return i.getOptionValue(e)!==r}),o=nO(t,a,a[0]||null);i.onChange(o,{action:"remove-value",removedValue:e}),i.focusInput()},i.clearValue=function(){var e=i.state.selectValue;i.onChange(nO(i.props.isMulti,[],null),{action:"clear",removedValues:e})},i.popValue=function(){var e=i.props.isMulti,t=i.state.selectValue,n=t[t.length-1],r=t.slice(0,t.length-1),a=nO(e,r,r[0]||null);n&&i.onChange(a,{action:"pop-value",removedValue:n})},i.getFocusedOptionId=function(e){return TP(i.state.focusableOptionsWithIds,e)},i.getFocusableOptionsWithIds=function(){return IP(OP(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WN.apply(void 0,[i.props.classNamePrefix].concat(t))},i.getOptionLabel=function(e){return LP(i.props,e)},i.getOptionValue=function(e){return MP(i.props,e)},i.getStyles=function(e,t){var n=i.props.unstyled,r=kP[e](t,n);r.boxSizing="border-box";var a=i.props.styles[e];return a?a(r,t):r},i.getClassNames=function(e,t){var n,r;return null===(n=(r=i.props.classNames)[e])||void 0===n?void 0:n.call(r,t)},i.getElementId=function(e){return"".concat(i.state.instancePrefix,"-").concat(e)},i.getComponents=function(){return e=i.props,je(je({},MO),e.components);var e},i.buildCategorizedOptions=function(){return OP(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return PP(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(e,t){i.setState({ariaSelection:je({value:e},t)})},i.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(e){i.blockOptionHover=!1},i.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&i.onMenuClose():t&&i.openMenu("first"):(t&&(i.openAfterFocus=!0),i.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},i.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!i.props.isDisabled){var t=i.props,n=t.isMulti,r=t.menuIsOpen;i.focusInput(),r?(i.setState({inputIsHiddenAfterUpdate:!n}),i.onMenuClose()):i.openMenu("first"),e.preventDefault()}},i.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(i.clearValue(),e.preventDefault(),i.openAfterFocus=!1,"touchend"===e.type?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(e){"boolean"===typeof i.props.closeMenuOnScroll?e.target instanceof HTMLElement&&VN(e.target)&&i.props.onMenuClose():"function"===typeof i.props.closeMenuOnScroll&&i.props.closeMenuOnScroll(e)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(i.initialTouchX=n.clientX,i.initialTouchY=n.clientY,i.userIsDragging=!1)},i.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var r=Math.abs(n.clientX-i.initialTouchX),a=Math.abs(n.clientY-i.initialTouchY);i.userIsDragging=r>5||a>5}},i.onTouchEnd=function(e){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(e.target)&&i.menuListRef&&!i.menuListRef.contains(e.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(e){i.userIsDragging||i.onControlMouseDown(e)},i.onClearIndicatorTouchEnd=function(e){i.userIsDragging||i.onClearIndicatorMouseDown(e)},i.onDropdownIndicatorTouchEnd=function(e){i.userIsDragging||i.onDropdownIndicatorMouseDown(e)},i.handleInputChange=function(e){var t=i.props.inputValue,n=e.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(n,{action:"input-change",prevInputValue:t}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(e){i.props.onFocus&&i.props.onFocus(e),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(e){var t=i.props.inputValue;i.menuListRef&&i.menuListRef.contains(document.activeElement)?i.inputRef.focus():(i.props.onBlur&&i.props.onBlur(e),i.onInputChange("",{action:"input-blur",prevInputValue:t}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1}))},i.onOptionHover=function(e){if(!i.blockOptionHover&&i.state.focusedOption!==e){var t=i.getFocusableOptions().indexOf(e);i.setState({focusedOption:e,focusedOptionId:t>-1?i.getFocusedOptionId(e):null})}},i.shouldHideSelectedOptions=function(){return BP(i.props)},i.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),i.focus()},i.onKeyDown=function(e){var t=i.props,n=t.isMulti,r=t.backspaceRemovesValue,a=t.escapeClearsValue,o=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,h=t.openMenuOnFocus,p=i.state,f=p.focusedOption,m=p.focusedValue,g=p.selectValue;if(!l&&("function"!==typeof d||(d(e),!e.defaultPrevented))){switch(i.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||o)return;i.focusValue("previous");break;case"ArrowRight":if(!n||o)return;i.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(m)i.removeValue(m);else{if(!r)return;n?i.popValue():s&&i.clearValue()}break;case"Tab":if(i.isComposing)return;if(e.shiftKey||!c||!u||!f||h&&i.isOptionSelected(f,g))return;i.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(i.isComposing)return;i.selectOption(f);break}return;case"Escape":c?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:o}),i.onMenuClose()):s&&a&&i.clearValue();break;case" ":if(o)return;if(!c){i.openMenu("first");break}if(!f)return;i.selectOption(f);break;case"ArrowUp":c?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":c?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!c)return;i.focusOption("pageup");break;case"PageDown":if(!c)return;i.focusOption("pagedown");break;case"Home":if(!c)return;i.focusOption("first");break;case"End":if(!c)return;i.focusOption("last");break;default:return}e.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++zP),i.state.selectValue=UN(e.value),e.menuIsOpen&&i.state.selectValue.length){var r=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),o=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=r,i.state.focusedOption=a[o],i.state.focusedOptionId=TP(r,a[o])}return i}return function(e,t,n){t&&FO(e.prototype,t),n&&FO(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&KN(this.menuListRef,this.focusedOptionRef),(SP()||_P())&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,i=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&i&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(KN(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,i=n.selectValue,r=n.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var s=a.indexOf(i[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o],focusedOptionId:this.getFocusedOptionId(a[o])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,i=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(i);i||(r=-1);var a=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===r?0:-1===r?a:r-1;break;case"next":r>-1&&r<a&&(o=r+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var r=0,a=i.indexOf(n);n||(a=-1),"up"===e?r=a>0?a-1:i.length-1:"down"===e?r=(a+1)%i.length:"pageup"===e?(r=a-t)<0&&(r=0):"pagedown"===e?(r=a+t)>i.length-1&&(r=i.length-1):"last"===e&&(r=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[r],focusedValue:null,focusedOptionId:this.getFocusedOptionId(i[r])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(CP):je(je({},CP),this.props.theme):CP}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,i=this.getClassNames,r=this.getValue,a=this.selectOption,o=this.setValue,s=this.props,l=s.isMulti,c=s.isRtl,d=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:i,getValue:r,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:d,selectOption:a,selectProps:s,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return RP(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return DP(this.props,e,t)}},{key:"filterOption",value:function(e,t){return FP(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,a=e.inputValue,o=e.tabIndex,s=e.form,l=e.menuIsOpen,c=e.required,d=this.getComponents().Input,u=this.state,p=u.inputIsHidden,f=u.ariaSelection,m=this.commonProps,g=r||this.getElementId("input"),b=je(je(je({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===f||void 0===f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?i.createElement(d,h({},m,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:g,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:s,type:"text",value:a},b)):i.createElement(sP,h({id:g,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:BN,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:s,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,a=t.MultiValueLabel,o=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,u=d.controlShouldRenderValue,p=d.isDisabled,f=d.isMulti,m=d.inputValue,g=d.placeholder,b=this.state,y=b.selectValue,v=b.focusedValue,x=b.isFocused;if(!this.hasValue()||!u)return m?null:i.createElement(l,h({},c,{key:"placeholder",isDisabled:p,isFocused:x,innerProps:{id:this.getElementId("placeholder")}}),g);if(f)return y.map(function(t,s){var l=t===v,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return i.createElement(n,h({},c,{components:{Container:r,Label:a,Remove:o},isFocused:l,isDisabled:p,key:d,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(m)return null;var w=y[0];return i.createElement(s,h({},c,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return i.createElement(e,h({},t,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!e||!a)return null;return i.createElement(e,h({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return i.createElement(n,h({},r,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return i.createElement(e,h({},t,{innerProps:a,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,a=t.Menu,o=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,u=this.commonProps,p=this.state.focusedOption,f=this.props,m=f.captureMenuScroll,g=f.inputValue,b=f.isLoading,y=f.loadingMessage,v=f.minMenuHeight,x=f.maxMenuHeight,w=f.menuIsOpen,j=f.menuPlacement,S=f.menuPosition,_=f.menuPortalTarget,k=f.menuShouldBlockScroll,C=f.menuShouldScrollIntoView,A=f.noOptionsMessage,N=f.onMenuScrollToTop,O=f.onMenuScrollToBottom;if(!w)return null;var P,I=function(t,n){var r=t.type,a=t.data,o=t.isDisabled,s=t.isSelected,l=t.label,c=t.value,f=p===a,m=o?void 0:function(){return e.onOptionHover(a)},g=o?void 0:function(){return e.selectOption(a)},b="".concat(e.getElementId("option"),"-").concat(n),y={id:b,onClick:g,onMouseMove:m,onMouseOver:m,tabIndex:-1,role:"option","aria-selected":e.state.isAppleDevice?void 0:s};return i.createElement(d,h({},u,{innerProps:y,data:a,isDisabled:o,isSelected:s,key:b,label:l,type:r,value:c,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map(function(t){if("group"===t.type){var a=t.data,o=t.options,s=t.index,l="".concat(e.getElementId("group"),"-").concat(s),c="".concat(l,"-heading");return i.createElement(n,h({},u,{key:l,data:a,options:o,Heading:r,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return I(e,"".concat(s,"-").concat(e.index))}))}if("option"===t.type)return I(t,"".concat(t.index))});else if(b){var E=y({inputValue:g});if(null===E)return null;P=i.createElement(l,u,E)}else{var T=A({inputValue:g});if(null===T)return null;P=i.createElement(c,u,T)}var L={minMenuHeight:v,maxMenuHeight:x,menuPlacement:j,menuPosition:S,menuShouldScrollIntoView:C},M=i.createElement(cO,h({},u,L),function(t){var n=t.ref,r=t.placerProps,s=r.placement,l=r.maxHeight;return i.createElement(a,h({},u,L,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:b,placement:s}),i.createElement(vP,{captureEnabled:m,onTopArrive:N,onBottomArrive:O,lockEnabled:k},function(t){return i.createElement(o,h({},u,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":u.isMulti,id:e.getElementId("listbox")},isLoading:b,maxHeight:l,focusedOption:p}),P)}))});return _||"fixed"===S?i.createElement(s,h({},u,{appendTo:_,controlElement:this.controlRef,menuPlacement:j,menuPosition:S}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,a=t.isMulti,o=t.name,s=t.required,l=this.state.selectValue;if(s&&!this.hasValue()&&!r)return i.createElement(wP,{name:o,onFocus:this.onValueInputFocus});if(o&&!r){if(a){if(n){var c=l.map(function(t){return e.getOptionValue(t)}).join(n);return i.createElement("input",{name:o,type:"hidden",value:c})}var d=l.length>0?l.map(function(t,n){return i.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})}):i.createElement("input",{name:o,type:"hidden",value:""});return i.createElement("div",null,d)}var u=l[0]?this.getOptionValue(l[0]):"";return i.createElement("input",{name:o,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,a=t.focusedValue,o=t.isFocused,s=t.selectValue,l=this.getFocusableOptions();return i.createElement(KO,h({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:a,isFocused:o,selectValue:s,focusableOptions:l,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,a=e.ValueContainer,o=this.props,s=o.className,l=o.id,c=o.isDisabled,d=o.menuIsOpen,u=this.state.isFocused,p=this.commonProps=this.getCommonProps();return i.createElement(r,h({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:u}),this.renderLiveRegion(),i.createElement(t,h({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:u,menuIsOpen:d}),i.createElement(a,h({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),i.createElement(n,h({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,i=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,l=t.instancePrefix,c=e.options,d=e.value,u=e.menuIsOpen,h=e.inputValue,p=e.isMulti,f=UN(d),m={};if(n&&(d!==n.value||c!==n.options||u!==n.menuIsOpen||h!==n.inputValue)){var g=u?function(e,t){return PP(OP(e,t))}(e,f):[],b=u?IP(OP(e,f),"".concat(l,"-option")):[],y=i?function(e,t){var n=e.focusedValue,i=e.selectValue.indexOf(n);if(i>-1){if(t.indexOf(n)>-1)return n;if(i<t.length)return t[i]}return null}(t,f):null,v=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:f,focusedOption:v,focusedOptionId:TP(b,v),focusableOptionsWithIds:b,focusedValue:y,clearFocusValueOnUpdate:!1}}var x=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},w=a,j=o&&s;return o&&!j&&(w={value:nO(p,f,f[0]||null),options:f,action:"initial-input-focus"},j=!s),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(w=null),je(je(je({},m),x),{},{prevProps:e,ariaSelection:w,prevWasFocused:j})}}]),n}(i.Component);WP.defaultProps=AP;var UP=(0,i.forwardRef)(function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,a=void 0!==r&&r,o=e.defaultValue,s=void 0===o?null:o,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,u=e.onInputChange,h=e.onMenuClose,p=e.onMenuOpen,f=e.value,m=iN(e,RO),g=nN((0,i.useState)(void 0!==l?l:n),2),b=g[0],y=g[1],v=nN((0,i.useState)(void 0!==c?c:a),2),x=v[0],w=v[1],j=nN((0,i.useState)(void 0!==f?f:s),2),S=j[0],_=j[1],k=(0,i.useCallback)(function(e,t){"function"===typeof d&&d(e,t),_(e)},[d]),C=(0,i.useCallback)(function(e,t){var n;"function"===typeof u&&(n=u(e,t)),y(void 0!==n?n:e)},[u]),A=(0,i.useCallback)(function(){"function"===typeof p&&p(),w(!0)},[p]),N=(0,i.useCallback)(function(){"function"===typeof h&&h(),w(!1)},[h]),O=void 0!==l?l:b,P=void 0!==c?c:x,I=void 0!==f?f:S;return je(je({},m),{},{inputValue:O,menuIsOpen:P,onChange:k,onInputChange:C,onMenuClose:N,onMenuOpen:A,value:I})}(e);return i.createElement(WP,h({ref:t},n))}),qP=UP;const HP=e=>(0,s.jsxs)(MO.Option,je(je({},e),{},{children:[(0,s.jsx)("input",{type:"checkbox",checked:e.isSelected,onChange:()=>null,style:{marginRight:"8px"}}),(0,s.jsx)("label",{children:e.label})]}));const VP=function(){const e=["qm0 - No impairment (0\u20134%)","qm1 - Mild impairment (5\u201324%)","qm2 - Moderate impairment (25\u201349%)","qm3 - Severe impairment (50\u201395%)","qm4 - Complete impairment (96\u2013100%)","qm8 - Not applicable","qm9 - Not specified"],[t,n]=(0,i.useState)(!1),r=t=>t.map(t=>({label:t,type:"custom",options:e})),a={"1. Body Functions":{History:{"Swallowing Difficulties":{fields:[{label:"Coughing",type:"severity"},{label:"Choking",type:"yesno"},{label:"Sensation of Food Sticking",type:"yesno"},{label:"Lung infection",type:"custom",options:["Low","Moderate","High","Critical"]}]},"Onset & Progression":{fields:[{label:"Sudden (post-stroke)",type:"custom",options:["Recent","Chronic"]},{label:"Gradual (neurological disease)",type:"severity"}]},"Food/liquid preferences":{fields:[{label:"Textures or types that are difficult to swallow",type:"custom",options:["Puree","Liquid","Solid"]}]},"Dietary modifications":{fields:[{label:"Pureed diet",type:"yesno"},{label:"Thickened liquids",type:"severity"},{label:"Assisted feeding",type:"custom",options:["Rare","Frequent","Always"]}]},"Symptoms During Meals":{fields:[{label:"Drooling",type:"yesno"},{label:"Nasal Regurgitation",type:"yesno"},{label:"Wet/Gurgly Voice",type:"yesno"},{label:"Fatigue",type:"yesno"}]},"Past medical history":{fields:[{label:"Stroke",type:"yesno"},{label:"Neurological Disorders",type:"yesno"},{label:"Head/Neck Surgery",type:"yesno"},{label:"Dental Issues",type:"yesno"}]},Medications:{fields:[{label:"Drugs Affecting Saliva",type:"yesno"},{label:"Drugs Affecting Muscle Control",type:"yesno"},{label:"Drugs Affecting Alertness",type:"yesno"}]},"Psychosocial Factors":{fields:[{label:"Caregiver support",type:"custom",options:["Required","Need Presence","Not Required","Monitoring"]},{label:"Meal environment",type:"yesno"},{label:"Impact on Daily Life",type:"custom",options:["1","2","3","4"]}]}},Examination:{"Oral motor function":{fields:r(["Lip closure","Tongue mobility","Jaw strength","Dentition","Gag reflex"])},"Pharyngeal function":{fields:r(["Laryngeal elevation","Epiglottic movement","Voice changes"])},"Airway protection / cough reflex":{fields:r(["Presence/absence of choking","Aspiration signs"])},"Swallowing trials":{fields:r(["Thin liquids","Thick liquids","Pureed","Solid \u2013 tolerance and safety"])},"Compensatory strategies":{fields:r(["Head tilt","Effortful swallow","Multiple swallows"])},"Instrumental assessment (if done)":{fields:r(["FEES \u2013 swallowing mechanics","Aspiration risk"])},"Functional assessment":{fields:r(["FOIS","Other swallowing scales"])},"Nutritional status":{fields:r(["Weight","Hydration","Lab values (if relevant)"])}}},"2. Activity and Participation":{"d550 \u2013 Eating":{fields:[{label:"1. Carrying out the actions to eat food, including chewing",type:"custom",options:e},{label:"2. Carrying out the actions to eat food, including swallowing",type:"custom",options:e},{label:"3. Using utensils",type:"custom",options:e},{label:"4. Ability to eat independently or with assistance",type:"custom",options:e},{label:"5. Ability to eat independently using utensils",type:"custom",options:e},{label:"6. Manage food textures",type:"custom",options:e}]}},"3. Environmental Factors":{"e110 \u2013 Products or substances for personal consumption":{fields:[{label:"1. Food consistency modification",type:"custom",options:e},{label:"2. Thickened liquids",type:"custom",options:e},{label:"3. Supervision or assistance during meals",type:"custom",options:e}]},"e355 \u2013 Health professionals":{fields:[{label:"Role of rehabilitation physician or speech-language pathologist in intervention",type:"text"}]}}},[o,l]=(0,i.useState)({}),[c,d]=(0,i.useState)({}),[u,h]=(0,i.useState)({}),p=(e,t,n)=>{h(i=>je(je({},i),{},{[e]:je(je({},i[e]||{}),{},{[t]:n})}))},f={control:e=>je(je({},e),{},{borderRadius:8,borderColor:"#d1d5db",backgroundColor:"#f9fafb",minHeight:45,boxShadow:"none","&:hover":{borderColor:"#2563eb"}}),menu:e=>je(je({},e),{},{zIndex:9999})},m=(e,t,n)=>{switch(e){case"yesno":return(0,s.jsxs)("select",{className:"input-field",onChange:e=>p(n,t.label,e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Yes",children:"Yes"}),(0,s.jsx)("option",{value:"No",children:"No"})]});case"text":default:return(0,s.jsx)("input",{type:"text",className:"input-field",placeholder:"Enter details",onChange:e=>p(n,t.label,e.target.value)});case"severity":return(0,s.jsx)("select",{multiple:!0,className:"input-field",onChange:e=>p(n,t.label,Array.from(e.target.selectedOptions,e=>e.value)),children:["No","Mild","Moderate","Severe"].map(e=>(0,s.jsx)("option",{children:e},e))});case"custom":return(0,s.jsxs)("select",{className:"input-field",onChange:e=>p(n,t.label,e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),t.options.map(e=>(0,s.jsx)("option",{children:e},e))]})}},g=e=>{const t=(o[e]||[]).map(e=>e.value);return t.map(t=>{var n;const i=null===(n=a[e])||void 0===n?void 0:n[t];if(null!==i&&void 0!==i&&i.fields)return(0,s.jsxs)("div",{className:"sub-card",children:[(0,s.jsx)("h4",{className:"sub-title",children:t}),(0,s.jsx)("div",{className:"sub-grid",children:i.fields.map((t,n)=>(0,s.jsxs)("div",{className:"sub-field",children:[(0,s.jsx)("label",{children:t.label}),m(t.type,t,e)]},n))})]},t);if(i&&"object"===typeof i){const n=Object.keys(i).map(e=>({value:e,label:e})),r=c[t]||[];return(0,s.jsxs)("div",{className:"sub-card",children:[(0,s.jsx)("h4",{className:"sub-title",children:t}),(0,s.jsx)(qP,{options:n,isMulti:!0,closeMenuOnSelect:!1,components:{Option:HP},styles:f,value:r,onChange:e=>{return n=t,i=e,void d(e=>je(je({},e),{},{[n]:i||[]}));var n,i},placeholder:"Select ".concat(t," sections...")}),r.map(t=>{const n=i[t.value];return(0,s.jsxs)("div",{className:"sub-card",children:[(0,s.jsx)("h5",{className:"sub-title",children:t.value}),(0,s.jsx)("div",{className:"sub-grid",children:n.fields.map((t,n)=>(0,s.jsxs)("div",{className:"sub-field",children:[(0,s.jsx)("label",{children:t.label}),m(t.type,t,e)]},n))})]},t.value)})]},t)}return null})};return(0,s.jsxs)("div",{className:"swallowing-container",children:[(0,s.jsx)("h2",{className:"page-title",children:" Doctor Assessment"}),(0,s.jsx)("span",{className:"icf-tag",children:"ICF: b510 \u2014 Ingestion functions"}),Object.entries(a).map(e=>{let[t,n]=e;const i=Object.keys(n).map(e=>({value:e,label:e}));return(0,s.jsxs)("div",{className:"assessment-section",children:[(0,s.jsx)("div",{className:"section-header",children:t}),(0,s.jsx)(qP,{options:i,isMulti:!0,closeMenuOnSelect:!1,components:{Option:HP},styles:f,value:o[t]||[],onChange:e=>((e,t)=>{l(n=>je(je({},n),{},{[e]:t||[]}))})(t,e),placeholder:"Select items..."}),(0,s.jsx)("div",{className:"sub-sections",children:g(t)})]},t)}),(0,s.jsxs)("div",{className:"result-section",children:[(0,s.jsx)("h4",{children:"Collected Responses"}),0===Object.keys(u).length?(0,s.jsx)("p",{style:{color:"#6b7280"},children:"No responses recorded yet."}):Object.entries(u).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{className:"response-table-container",children:[(0,s.jsx)("h5",{className:"response-category",children:t}),(0,s.jsxs)("table",{className:"response-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Field"}),(0,s.jsx)("th",{children:"Response"})]})}),(0,s.jsx)("tbody",{children:Object.entries(n).map(e=>{let[t,n]=e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t}),(0,s.jsx)("td",{children:Array.isArray(n)?n.join(", "):n||(0,s.jsx)("em",{style:{color:"#9ca3af"},children:"\u2014"})})]},t)})})]})]},t)})]}),(0,s.jsxs)("div",{className:"ichi-section",children:[(0,s.jsxs)("div",{className:"ichi-header",children:[(0,s.jsx)("h3",{className:"ichi-title",children:"\ud83e\udde9 ICHI \u2013 Interventions"}),(0,s.jsx)("button",{className:"ichi-toggle-btn",onClick:()=>n(!t),children:t?"Hide Interventions":"Show Interventions"})]}),t&&(0,s.jsxs)("div",{className:"ichi-content",children:[(0,s.jsx)("h4",{className:"ichi-subtitle",children:"Intervention (Assessment)"}),(0,s.jsxs)("table",{className:"ichi-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Procedure"}),(0,s.jsx)("th",{children:"Description"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Clinical Swallowing Assessment"}),(0,s.jsx)("td",{children:"Bedside swallow evaluation to observe chewing, oral control, and risk of aspiration (GUSS)"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Instrumental Assessment"}),(0,s.jsx)("td",{children:"Videofluoroscopic Swallow Study (VFSS) or Fibreoptic Endoscopic Evaluation of Swallowing (FEES)"})]})]})]}),(0,s.jsx)("h4",{className:"ichi-subtitle",style:{marginTop:"25px"},children:"Intervention (Management)"}),(0,s.jsxs)("table",{className:"ichi-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Procedure"}),(0,s.jsx)("th",{children:"ICHI Code"}),(0,s.jsx)("th",{children:"Description"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Swallowing therapy / exercises"}),(0,s.jsx)("td",{children:"JA01.Z"}),(0,s.jsx)("td",{children:"Oral motor, pharyngeal exercises"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Compensatory techniques"}),(0,s.jsx)("td",{children:"JA02.Z"}),(0,s.jsx)("td",{children:"Postural adjustment, diet modification, adaptive feeding equipment"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Neuromuscular stimulation (if indicated)"}),(0,s.jsx)("td",{children:"JA03.Z"}),(0,s.jsx)("td",{children:"Electrical stimulation of swallowing muscles"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Patient / caregiver education"}),(0,s.jsx)("td",{children:"JA04.Z"}),(0,s.jsx)("td",{children:"Instruction on safe eating strategies, meal preparation, and monitoring for aspiration"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Feeding assistance"}),(0,s.jsx)("td",{children:"JB01.Z"}),(0,s.jsx)("td",{children:"Providing physical assistance during meals or supervision as required"})]})]})]})]})]})]})};const GP=function(){const[e,t]=(0,i.useState)(0),n=["Swallowing","Nurse Swallowing","Speech","Language","Visual","Cardiovascular System","Respiratory"];return(0,s.jsxs)("div",{className:"base-container",children:[(0,s.jsx)("div",{className:"tab-header",style:{display:"flex",overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",scrollBehavior:"smooth",width:"100%",boxSizing:"border-box"},children:n.map((n,i)=>(0,s.jsx)("button",{className:"tab-button ".concat(e===i?"active":""),onClick:()=>t(i),children:n},i))}),(0,s.jsx)("div",{className:"tab-content",children:"Swallowing"===n[e]?(0,s.jsx)(VP,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h3",{children:[n[e]," Module"]}),(0,s.jsxs)("p",{children:["Content for ",(0,s.jsx)("strong",{children:n[e]})," tab goes here. You can add forms, charts, or any other components here."]})]})})]})};qS.create({baseURL:"http://127.0.0.1:5000"});const ZP=function(e){let{data:t,onChange:n,onSave:r}=e;const a=e=>n(je(je({},t),{},{checks:je(je({},t.checks),{},{[e]:!t.checks[e]})})),o=(e,i)=>n(je(je({},t),{},{[e]:i})),[l,c]=(0,i.useState)("idle"),d=Object.values(t.checks).filter(Boolean).length,u=Math.round(d/6*100);return(0,s.jsxs)("section",{className:"card rap-wrap",children:[(0,s.jsxs)("div",{className:"rap-header",children:[(0,s.jsx)("h2",{className:"title",children:"RAP \u2022 Case & RTW"}),(0,s.jsx)("span",{className:"pill right",children:"CARF aligned"})]}),(0,s.jsxs)("div",{className:"box rap-card",children:[(0,s.jsx)("div",{className:"box-title",children:"Readiness to Work (RTW)"}),(0,s.jsxs)("div",{className:"check-grid",children:[(0,s.jsxs)("label",{className:"check",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.checks.tps,onChange:()=>a("tps")})," TPS completed (evidence)"]}),(0,s.jsxs)("label",{className:"check",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.checks.med,onChange:()=>a("med")})," Medical clearance"]}),(0,s.jsxs)("label",{className:"check",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.checks.workplace,onChange:()=>a("workplace")})," Workplace modification plan"]}),(0,s.jsxs)("label",{className:"check",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.checks.vocational,onChange:()=>a("vocational")})," Vocational retraining plan"]}),(0,s.jsxs)("label",{className:"check",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.checks.family,onChange:()=>a("family")})," Family readiness/support"]}),(0,s.jsxs)("label",{className:"check",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.checks.employer,onChange:()=>a("employer")})," Employer commitment/placement"]})]}),(0,s.jsxs)("div",{className:"progress-row",children:[(0,s.jsx)("div",{className:"label",children:"Computed Readiness"}),(0,s.jsx)("div",{className:"progress",children:(0,s.jsx)("div",{className:"bar",style:{width:"".concat(u,"%")}})}),(0,s.jsxs)("div",{className:"pct",children:[u,"%"]})]})]}),(0,s.jsxs)("div",{className:"box rap-card",children:[(0,s.jsx)("div",{className:"box-title",children:"Light-Duty Proposal"}),(0,s.jsxs)("div",{className:"rap-form",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"label",children:"Start date"}),(0,s.jsx)("input",{className:"input",type:"date",value:t.start_date,onChange:e=>o("start_date",e.target.value)})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"label",children:"Duration (weeks)"}),(0,s.jsx)("select",{className:"input",value:t.duration_weeks,onChange:e=>o("duration_weeks",Number(e.target.value)),children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"label",children:"Placement"}),(0,s.jsxs)("select",{className:"input",value:t.placement,onChange:e=>o("placement",e.target.value),children:[(0,s.jsx)("option",{children:"Light assembly / QC"}),(0,s.jsx)("option",{children:"Clerical / front desk"}),(0,s.jsx)("option",{children:"Inventory (no lifting)"}),(0,s.jsx)("option",{children:"Adjusted workstation"})]})]}),(0,s.jsxs)("div",{className:"row",style:{alignItems:"start"},children:[(0,s.jsx)("div",{className:"label",children:"Restrictions & accommodations"}),(0,s.jsx)("textarea",{className:"input ta",rows:4,value:t.restrictions,onChange:e=>o("restrictions",e.target.value),placeholder:"e.g., No lifting >10kg; avoid ladder work; adjustable workstation"})]})]}),(0,s.jsx)("div",{className:"actions",children:(0,s.jsx)("button",{className:"btn savebtn ".concat("saving"===l?"is-busy":""),style:{margin:"20px"},type:"button",onClick:async e=>{if(e.preventDefault(),"saving"===l)return;c("saving");const t=Date.now();try{await new Promise(e=>setTimeout(e,300));const e=Date.now()-t;e<2e3&&await new Promise(t=>setTimeout(t,2e3-e)),c("saved")}catch(Hs){c("idle")}},disabled:"saving"===l,"aria-busy":"saving"===l,children:"saving"===l?"Saving\u2026":"saved"===l?"Saved":"Save"})})]}),(0,s.jsxs)("div",{className:"box rap-card",children:[(0,s.jsx)("div",{className:"box-title",children:"CARF-Closure Criteria"}),(0,s.jsx)("li",{children:"Suitable employment secured / return to original job with accommodations"}),(0,s.jsx)("li",{children:"30/60/90 day sustainability checks documented"}),(0,s.jsx)("li",{children:"Residual barriers addressed; follow-up plan in place"})]})]})},YP="http://127.0.0.1:5000";qS.create({baseURL:YP});const KP=function(e){var t;let{patientId:n,value:r,onChange:a,onSaved:o}=e;const l=["Seldom","Occasional","Frequent"],[c,d]=(0,i.useState)("idle"),[u,h]=i.useState(null===(t=null===r||void 0===r?void 0:r.jobDemandBased)||void 0===t||t),[p,f]=i.useState((null===r||void 0===r?void 0:r.rows)||[{task:"Lift 10 kg crate (floor-table)",demand:"Occasional",result:"Completed with mild pain",pass:"Yes"},{task:"Overhead reach 1 min",demand:"Frequent",result:"Requires pacing / brief rest",pass:"Yes"},{task:"Climb ladder 3 rungs",demand:"Seldom",result:"Not attempted \u2014 safety",pass:"No"}]),[m,g]=i.useState((null===r||void 0===r?void 0:r.evidence)||"Video evidence attached for lift task; HR to review for fit-to-task mapping.");i.useEffect(()=>{n&&(async()=>{try{const e=await fetch("".concat(YP,"/tps/").concat(encodeURIComponent(n)));if(e.ok){const t=await e.json();h(!!t.jobDemandBased),f(t.rows||[]),g(t.evidence||"")}}catch(e){}})()},[n]),i.useEffect(()=>null===a||void 0===a?void 0:a({jobDemandBased:u,rows:p,evidence:m}),[u,p,m,a]);const b=(e,t)=>f(n=>n.map((n,i)=>i===e?je(je({},n),t):n));return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsxs)("div",{className:"tps-head",children:[(0,s.jsx)("div",{className:"soap-title",children:"Task Performance Simulation (TPS)"}),(0,s.jsx)("span",{className:"btn tiny",title:"toggle",children:u?"Job-demand based":"Not job-demand based"})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"38%"},children:"Task"}),(0,s.jsx)("th",{style:{width:"16%"},children:"Job demand"}),(0,s.jsx)("th",{children:"Observed result"}),(0,s.jsx)("th",{style:{width:"10%"},children:"Pass"}),(0,s.jsx)("th",{style:{width:"6%"}})]})}),(0,s.jsx)("tbody",{children:p.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("input",{className:"input",value:e.task,onChange:e=>b(t,{task:e.target.value})})}),(0,s.jsx)("td",{children:(0,s.jsx)("select",{className:"input",value:e.demand,onChange:e=>b(t,{demand:e.target.value}),children:l.map(e=>(0,s.jsx)("option",{children:e},e))})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{className:"input",value:e.result,onChange:e=>b(t,{result:e.target.value})})}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{className:"input",value:e.pass,onChange:e=>b(t,{pass:e.target.value}),children:[(0,s.jsx)("option",{children:"Yes"}),(0,s.jsx)("option",{children:"No"})]})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"ms-mini",onClick:()=>(e=>f(t=>t.filter((t,n)=>n!==e)))(t),title:"Remove",children:"\u2715"})})]},t))})]}),(0,s.jsx)("div",{className:"actions",children:(0,s.jsx)("button",{className:"btn",onClick:()=>f(e=>[...e,{task:"",demand:"Occasional",result:"",pass:"Yes"}]),children:"Add task"})})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Summary & Evidence"}),(0,s.jsx)("textarea",{className:"input ta",rows:4,value:m,onChange:e=>g(e.target.value),placeholder:"Notes, links to videos, HR review points\u2026"})]}),(0,s.jsx)("div",{className:"actions",children:(0,s.jsx)("button",{className:"btn savebtn ".concat("saving"===c?"is-busy":""),style:{margin:"20px"},type:"button",onClick:async e=>{if(e.preventDefault(),"saving"===c)return;d("saving");const t=Date.now();try{await new Promise(e=>setTimeout(e,300));const e=Date.now()-t;e<2e3&&await new Promise(t=>setTimeout(t,2e3-e)),d("saved")}catch(Hs){d("idle")}},disabled:"saving"===c,"aria-busy":"saving"===c,children:"saving"===c?"Saving\u2026":"saved"===c?"Saved":"Save"})})]})},JP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XP=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},$P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var QP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eI=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],tI=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:c}=e,d=iN(e,eI);return(0,i.createElement)("svg",je(je(je({ref:t},QP),{},{width:r,height:r,stroke:n,strokeWidth:o?24*Number(a)/Number(r):a,className:$P("lucide",s)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),nI=["className"],iI=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:a}=n,o=iN(n,nI);return(0,i.createElement)(tI,je({ref:r,iconNode:t,className:$P("lucide-".concat(JP(XP(e))),"lucide-".concat(e),a)},o))});return n.displayName=XP(e),n},rI=iI("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),aI=iI("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),oI=iI("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sI=iI("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),lI="http://127.0.0.1:5000";qS.create({baseURL:lI});const cI=function(e){let{patientId:t,value:n,onChange:r,onSaved:a,icfOptions:o=[],ichiOptions:l=[],icdContext:c=""}=e;const[d,u]=i.useState(n||{subjective:"",objective:"",assessment:"",plan:"",goals:[]}),[h,p]=i.useState([]),[f,m]=i.useState("idle"),g=2e3,b=[{id:"enc-2025-08-10",created_at:"2025-08-10T10:15:00Z",subjective:"C/o occasional spasms after exertion.",objective:"MAS 1+ UE; vitals stable; ROM mildly restricted.",assessment:"Spasticity-related movement inefficiency; fair endurance.",plan:"ICHI: MUD.AA.ZZ endurance training; review in 2 wks.",goals:[{goal:"Reduce spasm frequency",icf_target:"b7350",ichi_action:"MU2.AA.ZZ",expected:"Less daily disruption"}]},{id:"enc-2025-07-20",created_at:"2025-07-20T09:40:00Z",subjective:"Difficulty with ADLs in mornings.",objective:"Grip strength 24kg; 6MWT 380m.",assessment:"Strength improved; endurance moderate.",plan:"Home exercise + clinic sessions 3x/week.",goals:[{goal:"Independent dressing",icf_target:"d540",ichi_action:"VBA.AA.ZZ",expected:"No caregiver help 5/7 days"}]}];return i.useEffect(()=>null===r||void 0===r?void 0:r(d),[d,r]),i.useEffect(()=>{t&&(async()=>{try{const e=await fetch("".concat(lI,"/encounters/").concat(encodeURIComponent(t)));if(e.ok){const t=await e.json();u({subjective:t.subjective||"",objective:t.objective||"",assessment:t.assessment||"",plan:t.plan||"",goals:Array.isArray(t.goals)?t.goals:[]})}}catch(e){}})()},[t]),i.useEffect(()=>{t&&(async()=>{try{const e=await fetch("".concat(lI,"/encounters/").concat(encodeURIComponent(t),"/history"));if(e.ok){const t=await e.json(),n=Array.isArray(t)?t.filter(e=>e.subjective!==d.subjective||e.objective!==d.objective||e.assessment!==d.assessment||e.plan!==d.plan):[];p(n.length?n:b)}else p(b)}catch(e){p(b)}})()},[t]),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsxs)("div",{className:"soap-head",children:[(0,s.jsxs)("div",{className:"soap-title",children:["Assessment \u2014 ",(0,s.jsx)("b",{children:"SOAP"})]}),(0,s.jsx)("span",{className:"chip soft",children:"Clinical"})]}),(0,s.jsxs)("div",{className:"soap-grid",children:[(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Subjective"}),(0,s.jsx)("textarea",{className:"input ta",rows:5,maxLength:g,placeholder:"Patient Complaint / History\u2026",value:d.subjective,onChange:e=>u(t=>je(je({},t),{},{subjective:e.target.value}))})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Objective"}),(0,s.jsx)("textarea",{className:"input ta",rows:5,maxLength:g,placeholder:"Exam Findings, Vitals, Measurements\u2026",value:d.objective,onChange:e=>u(t=>je(je({},t),{},{objective:e.target.value}))})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Assessment"}),(0,s.jsx)("textarea",{className:"input ta",rows:5,maxLength:g,placeholder:"Diagnosis / Clinical Impression\u2026",value:d.assessment,onChange:e=>u(t=>je(je({},t),{},{assessment:e.target.value}))})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Plan"}),(0,s.jsx)("textarea",{className:"input ta",rows:5,maxLength:g,placeholder:"ICHI, Education, Reviews, Follow-up\u2026",value:d.plan,onChange:e=>u(t=>je(je({},t),{},{plan:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"box soft",style:{marginTop:12,margin:"20px 25px"},children:[(0,s.jsx)("div",{className:"box-title",children:"Present GAS Goals"}),(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"32%"},children:"Goal"}),(0,s.jsx)("th",{style:{width:"18%"},children:"ICF target"}),(0,s.jsx)("th",{style:{width:"34%"},children:"ICHI action"}),(0,s.jsx)("th",{children:"Expected outcome"})]})}),(0,s.jsx)("tbody",{children:[{goal:"Occasional lapses (weekly)",icf_target:"b1101",ichi_action:"MUB.AA.ZZ \xb7 Assessment of muscle power functions",expected:"Muscle power stability"},{goal:"Smooth movement in ADL's",icf_target:"b749",ichi_action:"MUD.AA.ZZ \xb7 Assessment of muscle endurance",expected:"Smooth Muscle movements"},{goal:"MAS 2 marked increase",icf_target:"b7350",ichi_action:"MU2.AA.ZZ \xb7 Assessment of muscle functions",expected:"Proper Muscle movements"}].map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.goal}),(0,s.jsx)("td",{children:e.icf_target}),(0,s.jsx)("td",{children:e.ichi_action}),(0,s.jsx)("td",{children:e.expected})]},t))})]}),(0,s.jsx)("div",{className:"muted",style:{marginTop:6},children:"Note: These are fixed reference goals for quick review; they are not editable here."})]}),(0,s.jsxs)("div",{className:"actionbar",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,margin:"0 20px 8px 20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[(0,s.jsxs)("button",{className:"btn topbtn",style:{display:"flex",alignItems:"center",gap:8},onClick:()=>{},children:[(0,s.jsx)(rI,{className:"svg-icon ",size:16}),"Book Follow-up"]}),(0,s.jsxs)("button",{className:"btn topbtn",style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)(aI,{className:"svg-icon",size:16}),"Order Investigations"]}),(0,s.jsxs)("button",{className:"btn topbtn",style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)(oI,{className:"svg-icon",size:16}),"Start TPS"]}),(0,s.jsxs)("button",{className:"btn topbtn",style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)(sI,{className:"svg-icon",size:16}),"Add to RAP"]})]}),(0,s.jsxs)("div",{className:"dim",style:{fontSize:12},children:["Chart last updated: ",(0,s.jsx)("b",{children:"2025-08-21 09:45"})]})]}),(0,s.jsx)("div",{className:"actions",children:(0,s.jsx)("button",{className:"btn savebtn ".concat("saving"===f?"is-busy":""),style:{margin:"20px"},type:"button",onClick:async e=>{if(e.preventDefault(),"saving"===f)return;m("saving");const n=Date.now();try{await fetch("".concat(lI,"/encounters/").concat(encodeURIComponent(t)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});const e=Date.now()-n;e<2e3&&await new Promise(t=>setTimeout(t,2e3-e)),m("saved"),null===a||void 0===a||a()}catch(i){m("idle")}},disabled:"saving"===f,"aria-busy":"saving"===f,children:"saving"===f?"Saving\u2026":"saved"===f?"Saved":"Save"})}),[{date:"2025-08-10",subjective:"Patient reported occasional spasms after exertion.",objective:"MAS 1+ UE; vitals stable; ROM mildly restricted.",assessment:"Spasticity-related inefficiency; fair endurance.",plan:"Continue endurance training; review in 2 weeks.",goals:[{goal:"Reduce spasm frequency",icf_target:"b7350",ichi_action:"MU2.AA.ZZ",expected:"Fewer daily disruptions"}]},{date:"2025-07-20",subjective:"Difficulty with ADLs in mornings.",objective:"Grip strength 24kg; 6MWT 380m.",assessment:"Strength improved; endurance moderate.",plan:"Home exercise + clinic sessions 3x/week.",goals:[{goal:"Independent dressing",icf_target:"d540",ichi_action:"VBA.AA.ZZ",expected:"No caregiver help 5/7 days"}]}].map((e,t)=>{var n;return(0,s.jsxs)("section",{className:"card",style:{marginTop:16,opacity:.95},children:[(0,s.jsxs)("div",{className:"soap-head",children:[(0,s.jsxs)("div",{className:"soap-title",children:["Assessment \u2014 ",e.date]}),(0,s.jsx)("span",{className:"chip soft",children:"Read-only"})]}),(0,s.jsxs)("div",{className:"soap-grid",children:[(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Subjective"}),(0,s.jsx)("textarea",{className:"input ta",rows:4,value:e.subjective,readOnly:!0})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Objective"}),(0,s.jsx)("textarea",{className:"input ta",rows:4,value:e.objective,readOnly:!0})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Assessment"}),(0,s.jsx)("textarea",{className:"input ta",rows:4,value:e.assessment,readOnly:!0})]}),(0,s.jsxs)("div",{className:"box soft",children:[(0,s.jsx)("div",{className:"box-title",children:"Plan"}),(0,s.jsx)("textarea",{className:"input ta",rows:4,value:e.plan,readOnly:!0})]})]}),(null===(n=e.goals)||void 0===n?void 0:n.length)>0&&(0,s.jsxs)("div",{className:"box soft",style:{margin:"12px 25px"},children:[(0,s.jsx)("div",{className:"box-title",children:"GAS Goals (snapshot)"}),(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"32%"},children:"Goal"}),(0,s.jsx)("th",{style:{width:"18%"},children:"ICF target"}),(0,s.jsx)("th",{style:{width:"34%"},children:"ICHI action"}),(0,s.jsx)("th",{children:"Expected outcome"})]})}),(0,s.jsx)("tbody",{children:e.goals.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.goal}),(0,s.jsx)("td",{children:e.icf_target}),(0,s.jsx)("td",{children:e.ichi_action}),(0,s.jsx)("td",{children:e.expected})]},t))})]})]})]},t)})]})};qS.create({baseURL:"http://127.0.0.1:5000"});const dI=function(e){let{patientId:t,value:n,onChange:r,onSaved:a,icfOptions:o=[],ichiOptions:l=[],icdContext:c=""}=e;const[d,u]=i.useState(n||{subjective:"",objective:"",assessment:"",plan:"",goals:[]}),[h,p]=i.useState(null);return(0,s.jsxs)("section",{className:"card",style:{padding:"20px",background:"#fff",borderRadius:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},children:[(0,s.jsxs)("div",{className:"soap-head",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsxs)("div",{className:"soap-title",style:{fontSize:"1.3rem",fontWeight:600},children:["Initial Assessment \u2014 ",(0,s.jsx)("b",{children:"SOAP"})]}),(0,s.jsx)("span",{className:"chip soft",style:{background:"#e2e8f0",padding:"4px 12px",borderRadius:"20px",color:"#334155"},children:"Clinical"})]}),(0,s.jsx)("div",{className:"soap-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:["subjective","objective","assessment","plan"].map(e=>{return(0,s.jsxs)("div",{style:{position:"relative",background:"#f8fafc",padding:"15px",borderRadius:"10px",border:"1px solid #e2e8f0",display:"flex",flexDirection:"column"},children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:"8px",color:"#1e3a8a",textTransform:"capitalize"},children:e}),(0,s.jsx)("textarea",{rows:5,maxLength:2e3,placeholder:"subjective"===e?"Patient complaint / history\u2026":"objective"===e?"Exam findings, vitals, measurements\u2026":"assessment"===e?"Diagnosis / clinical impression\u2026":"ICHI, education, reviews, follow-up\u2026",value:d[e],onChange:t=>u(n=>je(je({},n),{},{[e]:t.target.value})),style:{resize:"none",border:"1px solid #cbd5e1",borderRadius:"8px",padding:"10px 35px 10px 10px",fontSize:"0.9rem",color:"#334155",backgroundColor:"#fff",outline:"none"}}),(0,s.jsx)("button",{onClick:()=>(e=>{if(!("webkitSpeechRecognition"in window))return void alert("Speech recognition not supported in this browser.");const t=new window.webkitSpeechRecognition;t.continuous=!1,t.interimResults=!1,t.lang="en-IN",t.onstart=()=>p(e),t.onresult=t=>{const n=t.results[0][0].transcript;u(t=>je(je({},t),{},{[e]:t[e]+" "+n})),p(null)},t.onerror=()=>p(null),t.onend=()=>p(null),t.start()})(e),title:"Voice input",style:(t=h===e,{position:"absolute",right:"10px",bottom:"10px",background:"none",border:"none",color:t?"#ef4444":"#3b82f6",cursor:"pointer",fontSize:"1.2rem",transition:"0.2s ease"}),children:(0,s.jsx)("i",{className:"fa fa-microphone"})})]},e);var t})})]})},uI=iI("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hI=iI("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pI=iI("chart-candlestick",[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]]),fI=iI("square-activity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]]),mI=iI("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),gI=iI("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),bI=iI("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yI=iI("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),vI=iI("file-stack",[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]]),xI=iI("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),wI=iI("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),jI=iI("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const SI=function(e){let{tab:t,setTab:n,userType:r,icdCode:a,icfCode:o,rapPercent:l,username:c,userRole:d}=e;i.useEffect(()=>{n("D01Neurophysics"===c&&"NEW_USER"===r?"NEWPATIENTS":"D01Neurophysics"===c&&"EXISTING_USER"===r?"SUMMARY":"AdTherapist"===c&&"NEW_USER"===r?"PERSONAL":"AdTherapist"===c&&"EXISTING_USER"===r?"ICD_EXISTING":"CMO"===c?"PTD":"HOD"===c?"PatientsByDepartment":"DASHBOARD")},[c,r,n]);const[u,h]=i.useState(!1);return(0,s.jsx)("aside",{className:"rail",children:(0,s.jsx)("div",{className:"scroll-area",style:{height:"100%",overflowY:"clip",overflowX:"visible",flex:"1"},children:(0,s.jsxs)("nav",{className:"tabs",children:[(0,s.jsxs)("div",{className:"tab parent-tab",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{position:"relative",overflow:"visible",zIndex:999,cursor:"pointer"},children:[(0,s.jsx)(uI,{className:"icon",size:25})," Departments",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}}),u&&(0,s.jsx)("div",{style:{position:"absolute",top:0,left:"100%",background:"#1e293b",padding:"6px 0",borderRadius:"8px",minWidth:"240px",zIndex:9999,boxShadow:"0 4px 14px rgba(0,0,0,0.25)",overflow:"visible"},children:["Customer Service","Nursing / Medical Assistant","Doctor","Physio Therapy","Vocational + Work Rehab","Occupational Therapy","Optometry","Prosthetics & Orthotics","Audiology","Dietetics","Speech & Language Therapy","Psychology"].map(e=>(0,s.jsx)("div",{onClick:()=>n(e),style:{padding:"10px 14px",fontSize:"14px",color:"#fff",whiteSpace:"nowrap",cursor:"pointer"},onMouseEnter:e=>e.target.style.background="#334155",onMouseLeave:e=>e.target.style.background="transparent",children:e},e))})]}),"EXISTING_USER"===r&&"AdTherapist"===c&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("button",{className:"tab ".concat("ICD_EXISTING"===t?"active":""),onClick:()=>n("ICD_EXISTING"),children:[(0,s.jsx)(sI,{className:"icon",size:25}),"Patients Existing",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})}),"NEW_USER"===r&&"AdTherapist"===c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"tab ".concat("PERSONAL"===t?"active":""),onClick:()=>n("PERSONAL"),children:[(0,s.jsx)(uI,{className:"icon",size:25})," Patient Demographics"," ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("NEWASSESSMENT"===t?"active":""),onClick:()=>n("NEWASSESSMENT"),children:[(0,s.jsx)(pI,{className:"icon",size:25})," Assessment",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("VITALS"===t?"active":""),onClick:()=>n("VITALS"),children:[(0,s.jsx)(fI,{className:"icon",size:25})," Vitals",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("ICD"===t?"active":""),onClick:()=>n("ICD"),disabled:!r,children:[(0,s.jsx)(mI,{className:"icon",size:25})," ICD",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})]}),"CMO"===c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"tab ".concat("PTD"===t?"active":""),onClick:()=>n("PTD"),children:[(0,s.jsx)(gI,{className:"icon",size:25})," PatientsToDepartments ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("ICD"===t?"active":""),onClick:()=>n("ICD"),disabled:!r,children:[(0,s.jsx)(mI,{className:"icon",size:25})," ICD ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})]}),"D01Neurophysics"===c&&"NEW_USER"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"tab ".concat("NEWPATIENTS"===t?"active":""),onClick:()=>n("NEWPATIENTS"),children:[(0,s.jsx)(gI,{className:"icon",size:25})," NEW PATIENTS ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("ICF"===t?"active":""),onClick:()=>n("ICF"),children:[(0,s.jsx)(gI,{className:"icon",size:25})," ICF ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("PHARMACY"===t?"active":""),onClick:()=>n("PHARMACY"),children:[(0,s.jsx)(gI,{className:"icon",size:25})," Pharmacy ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("TPS"===t?"active":""),onClick:()=>n("TPS"),children:[(0,s.jsx)(bI,{className:"icon",size:25})," Task Performance Simulation ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("RAP"===t?"active":""),onClick:()=>n("RAP"),children:[(0,s.jsx)(yI,{className:"icon",size:25})," RTW",(0,s.jsxs)("span",{className:"nav-badge",children:[l,"%"]}),(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("DOCUMENTS"===t?"active":""),onClick:()=>n("DOCUMENTS"),disabled:!a,children:[(0,s.jsx)(vI,{className:"icon",size:25})," Documents",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("SUMMARY"===t?"active":""),onClick:()=>n("SUMMARY"),disabled:!a,children:[(0,s.jsx)(xI,{className:"icon",size:25})," Patient Summary ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("RAPFINAL"===t?"active":""),onClick:()=>n("RAPFINAL"),children:[(0,s.jsx)(yI,{className:"icon",size:25})," RAP \u2022 Case",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("AUDIT"===t?"active":""),onClick:()=>n("AUDIT"),disabled:!a,children:[(0,s.jsx)(wI,{className:"icon",size:25})," Audit Trial ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})]}),"SystemAdmin"===c&&"NEW_USER"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"tab ".concat("PERSONAL"===t?"active":""),onClick:()=>n("PERSONAL"),children:[(0,s.jsx)(uI,{className:"icon",size:25})," Patient Demographics"," ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("PHARMACY"===t?"active":""),onClick:()=>n("PHARMACY"),children:[(0,s.jsx)(gI,{className:"icon",size:25})," Pharmacy ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("TPS"===t?"active":""),onClick:()=>n("TPS"),children:[(0,s.jsx)(bI,{className:"icon",size:25})," Task Performance Simulation ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("RAP"===t?"active":""),onClick:()=>n("RAP"),children:[(0,s.jsx)(yI,{className:"icon",size:25})," RTW",(0,s.jsxs)("span",{className:"nav-badge",children:[l,"%"]}),(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("DOCUMENTS"===t?"active":""),onClick:()=>n("DOCUMENTS"),children:[(0,s.jsx)(vI,{className:"icon",size:25})," Documents",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("SUMMARY"===t?"active":""),onClick:()=>n("SUMMARY"),children:[(0,s.jsx)(xI,{className:"icon",size:25})," Patient Summary ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("RAPFINAL"===t?"active":""),onClick:()=>n("RAPFINAL"),children:[(0,s.jsx)(yI,{className:"icon",size:25})," RAP \u2022 Case",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("AUDIT"===t?"active":""),onClick:()=>n("AUDIT"),children:[(0,s.jsx)(wI,{className:"icon",size:25})," Audit Trial ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})]}),"HOD"===c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"tab ".concat("PatientsByDepartment"===t?"active":""),onClick:()=>n("PatientsByDepartment"),children:[(0,s.jsx)(jI,{className:"icon",size:25})," PatientsByDepartment ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("ICDAD"===t?"active":""),onClick:()=>n("ICDAD"),children:[(0,s.jsx)(mI,{className:"icon",size:25})," ICD Assign Doctor ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})]}),"D01Neurophysics"===c&&"EXISTING_USER"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"tab ".concat("GASNA"===t?"active":""),onClick:()=>n("GASNA"),children:[(0,s.jsx)(jI,{className:"icon",size:25})," GAS Goals ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("TPS"===t?"active":""),onClick:()=>n("TPS"),children:[(0,s.jsx)(bI,{className:"icon",size:25})," Task Performance Simulation ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("RAP"===t?"active":""),onClick:()=>n("RAP"),children:[(0,s.jsx)(yI,{className:"icon",size:25})," RAP \u2022 Case & RTW",(0,s.jsxs)("span",{className:"nav-badge",children:[l,"%"]}),(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("DOCUMENTS"===t?"active":""),onClick:()=>n("DOCUMENTS"),children:[(0,s.jsx)(vI,{className:"icon",size:25})," Documents",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("SUMMARY"===t?"active":""),onClick:()=>n("SUMMARY"),children:[(0,s.jsx)(xI,{className:"icon",size:25})," Patient Summary ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]}),(0,s.jsxs)("button",{className:"tab ".concat("AUDIT"===t?"active":""),onClick:()=>n("AUDIT"),children:[(0,s.jsx)(wI,{className:"icon",size:25})," Audit Trial ",(0,s.jsx)(hI,{size:20,style:{marginLeft:"auto"}})]})]})]})})})},_I="http://127.0.0.1:5000";qS.create({baseURL:_I});const kI=function(e){let{patientId:t}=e;const[n,r]=i.useState([]),a=i.useMemo(()=>[{name:"Intial Assessment.pdf",date:"25-08-2025"},{name:"Petient-Flow_EMR_TPS.docs",date:"22-08-2025"},{name:"TPS Session.mp4",date:"20-08-2025"}],[]),o=i.useCallback(e=>{const t=new Set;return e.filter(e=>{const n=((null===e||void 0===e?void 0:e.name)||"").toLowerCase().trim();return!!n&&(!t.has(n)&&(t.add(n),!0))})},[]),l=i.useCallback(async()=>{let e=[];if(t)try{const n=await fetch("".concat(_I,"/documents/").concat(encodeURIComponent(t)));if(n.ok){const t=await n.json();e=(Array.isArray(t)?t:[]).map(e=>({name:e.name||e.filename||"file",date:e.date||e.created||"\u2014",url:e.url||e.link||""}))}}catch(n){}r(o([...a,...e]))},[t,a,o]);return i.useEffect(()=>{l()},[l]),(0,s.jsx)("section",{className:"card",children:(0,s.jsxs)("div",{className:"box soft",style:{margin:"20px"},children:[(0,s.jsxs)("div",{className:"doc-head",children:[(0,s.jsx)("div",{className:"box-title",children:"Documents"}),(0,s.jsx)("button",{className:"ms-mini",onClick:async()=>{t&&(await fetch("".concat(_I,"/documents/").concat(encodeURIComponent(t),"/sample"),{method:"POST"}).catch(()=>{}),l())},disabled:!t,children:"Sample Files"})]}),(0,s.jsxs)("table",{className:"table doc",style:{marginTop:"20px"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"File"}),(0,s.jsx)("th",{style:{width:"18%"},children:"Date"})]})}),(0,s.jsxs)("tbody",{children:[n.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.url?(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.name}):e.name}),(0,s.jsx)("td",{children:e.date||"\u2014"})]},t)),0===n.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:2,className:"muted",children:"No files yet."})})]})]}),(0,s.jsxs)("div",{className:"dropzone",onDragOver:e=>e.preventDefault(),onDrop:async e=>{if(e.preventDefault(),!t)return;const n=e.dataTransfer.files;if(null===n||void 0===n||!n.length)return;const i=new FormData;[...n].forEach(e=>i.append("files",e)),await fetch("".concat(_I,"/documents/").concat(encodeURIComponent(t),"/upload"),{method:"POST",body:i}).catch(()=>{}),l()},children:["Drop files here to upload",(0,s.jsx)("input",{type:"file",multiple:!0,onChange:async e=>{if(!t)return;const n=e.target.files;if(null===n||void 0===n||!n.length)return;const i=new FormData;[...n].forEach(e=>i.append("files",e)),await fetch("".concat(_I,"/documents/").concat(encodeURIComponent(t),"/upload"),{method:"POST",body:i}).catch(()=>{}),l()},style:{display:"none"},id:"doc-pick"}),(0,s.jsx)("label",{htmlFor:"doc-pick",className:"ms-mini",style:{marginLeft:8,cursor:"pointer"},children:"or Choose"})]})]})})},CI="http://127.0.0.1:5000";function AI(e){let{onSelectPatient:t}=e;const[n,r]=(0,i.useState)([]),[a,o]=(0,i.useState)("Neurophysics");(0,i.useEffect)(()=>{qS.get("".concat(CI,"/api/patients/departments/").concat(a,"/").concat("Dr. Arvind Rao")).then(e=>r(e.data)).catch(e=>console.error("Error fetching patients:",e))},[a]);const l=e=>new Date(e).toLocaleString();return(0,s.jsxs)("div",{style:{padding:"10px 20px"},children:[(0,s.jsx)("h2",{style:{marginBottom:"20px",color:"#1f2937"},children:"Existing Patients Data"}),(0,s.jsx)("div",{style:{border:"1px solid #d1d5db",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{backgroundColor:"#374151",color:"white",textAlign:"left"},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px 16px",width:"80px"},children:"Token"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Patient ID"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Departments"}),(0,s.jsx)("th",{style:{padding:"12px 16px"},children:"Appointment"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center"},children:"Action"})]})}),(0,s.jsx)("tbody",{children:0===n.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"6",style:{textAlign:"center",padding:"16px",color:"#6b7280",fontStyle:"italic"},children:"No patient records found"})}):n.map((e,n)=>{var i;return(0,s.jsxs)("tr",{style:{backgroundColor:n%2===0?"#f9fafb":"#ffffff",borderBottom:"1px solid #e5e7eb"},children:[(0,s.jsx)("td",{style:{padding:"12px 16px"},children:n+1}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.patient_id}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:e.patient_name}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:(null===(i=e.departments)||void 0===i?void 0:i.join(", "))||"\u2014"}),(0,s.jsx)("td",{style:{padding:"12px 16px"},children:l(e.appointment_date)}),(0,s.jsx)("td",{style:{padding:"12px 16px",textAlign:"center"},children:(0,s.jsx)("button",{onClick:()=>(async e=>{try{var n;const i=(null===(n=(await qS.get("".concat(CI,"/api/patient_icd_path/").concat(e.patient_id))).data)||void 0===n?void 0:n.icd_code)||"";t(e.patient_id,i)}catch(i){console.error("Error fetching ICD:",i),t(e.patient_id,"")}})(e),style:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",fontSize:"14px",cursor:"pointer",transition:"background 0.2s ease"},onMouseOver:e=>e.target.style.background="#1d4ed8",onMouseOut:e=>e.target.style.background="#2563eb",children:"Edit"})})]},e.patient_id)})})]})})]})}const NI="http://127.0.0.1:5000";qS.create({baseURL:NI});const OI=function(e){let{icdCode:t,onSummaryChange:n,onSelectICF:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)({name:"",age:""}),[h,p]=(0,i.useState)({patient_id:null}),[f,m]=(0,i.useState)(""),[g,b]=(0,i.useState)({}),[y,v]=(0,i.useState)([]),[x,w]=(0,i.useState)({}),[j,S]=(0,i.useState)({}),[_,k]=(0,i.useState)({}),[C,A]=(0,i.useState)({}),[N,O]=(0,i.useState)({}),[P,I]=(0,i.useState)(!1),[E,T]=(0,i.useState)(""),L=["PT","OT","Neuropsych","Other","Uncategorized"],M=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("HTTP ".concat(t.status));return t.json()},R=async e=>{if(e)try{const t=await fetch("".concat(NI,"/doctors_list?department=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP ".concat(t.status));const n=await t.json();v(n||[])}catch(t){T("Failed to load doctors for ".concat(e,": ").concat(t.message))}},D=e=>{if(!e)return[];const t=(e||"").trim().replace(/^0+/,e=>"0"===e?"0":""),n=t.match(/^(\d+)\s*-\s*(\d+)$/);if(!n)return[];const i=parseInt(n[1],10),r=parseInt(n[2],10);if(isNaN(i)||isNaN(r)||i>r)return[];const a=[];for(let o=i;o<=r;o++)a.push(o);return a};(0,i.useEffect)(()=>{o({}),m(""),b({}),S({}),k({}),A({}),O({}),T(""),null===n||void 0===n||n([]),null===r||void 0===r||r(""),t?(async()=>{try{I(!0);const e=(await M("".concat(NI,"/map/icdcode-to-icf/").concat(encodeURIComponent(t),"/grouped"))).groups||{},n={};e.Neuropsych&&(n.Neuropsych=e.Neuropsych),e.Neurophysics&&(n.Neurophysics=e.Neurophysics);const i=Object.keys(n);o(n),m(i[0]||""),i[0]&&R(i[0])}catch(e){T("Failed to load ICF: ".concat(e.message))}finally{I(!1)}})():T("Pick an ICD first in the ICD tab.")},[t]);const F=()=>{const e=[];Object.values(a).flat().forEach(t=>{var n;const i=t.icf_code,r=t.name,a=j[i]||"";if(!a)return;const o=(null===(n=(g[i]||[]).find(e=>e.key===a))||void 0===n?void 0:n.label)||a,s=C[a]||"",l=(_[a]||[]).find(e=>e.key===s),c=(null===l||void 0===l?void 0:l.label)||s,d=(null===l||void 0===l?void 0:l.range)||"",u=N["".concat(a,"|").concat(s)],h=x[f]||"";e.push({parent_icf:i,parent_name:r,child_icf:a,child_name:o,qualifier_id:s,qualifier_label:c,range:d,score:u,assigned_doctor:h})}),null===n||void 0===n||n(e)};(0,i.useEffect)(()=>{F()},[a,g,j,_,C,N,x,f]);const B=Object.keys(a).sort((e,t)=>(-1===L.indexOf(e)||-1===L.indexOf(t)?99:L.indexOf(e)-L.indexOf(t))||e.localeCompare(t));return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"buttonbar",style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:B.map(e=>{var t;return(0,s.jsxs)("button",{className:"btn ".concat(f===e?"active":""),onClick:()=>{return m(t=e),void R(t);var t},disabled:P,children:[e," (",(null===(t=a[e])||void 0===t?void 0:t.length)||0,")"]},e)})}),(0,s.jsxs)("div",{className:"cardheading",children:[(0,s.jsx)("h2",{className:"title",children:"ICF"}),(0,s.jsxs)("p",{className:"subtitle",children:["ICD selected: ",(0,s.jsx)("strong",{children:t||"\u2014"})]})]}),E&&(0,s.jsx)("div",{className:"note",children:E}),(a[f]||[]).map(e=>{var t;const n=e.icf_code,i=g[n]||[],a=j[n]||"",o=a&&_[a]||[],l=a&&C[a]||"",c=o.find(e=>e.key===l),d=(null===c||void 0===c?void 0:c.range)||"",u=(()=>{if(!d)return[];const e=d.match(/^(\d+)\s*-\s*(\d+)$/);if(!e)return[];const t=parseInt(e[1],10),n=parseInt(e[2],10);return Array.from({length:n-t+1},(e,n)=>t+n)})(),h="".concat(a,"|").concat(l),p=null!==(t=N[h])&&void 0!==t?t:"";return(0,s.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,s.jsxs)("div",{className:"label",children:[n," \u2014 ",e.name]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[(0,s.jsxs)("select",{className:"input",onFocus:()=>(async e=>{if(!g[e])try{const t=await M("".concat(NI,"/icf/children/").concat(encodeURIComponent(e)));b(n=>je(je({},n),{},{[e]:t}))}catch(t){T("Failed to load child ICFs for ".concat(e,": ").concat(t.message))}})(n),value:a,onChange:e=>(async(t,n)=>{S(e=>je(je({},e),{},{[t]:n})),null===r||void 0===r||r(n||""),A(e=>je(je({},e),{},{[n]:""}));const i=je({},N);if(Object.keys(i).forEach(e=>{e.startsWith(n+"|")&&delete i[e]}),O(i),n)try{var a;const e=await M("".concat(NI,"/icf/qualifiers/").concat(encodeURIComponent(n)));k(t=>je(je({},t),{},{[n]:e})),A(t=>{var i;return je(je({},t),{},{[n]:(null===(i=e[0])||void 0===i?void 0:i.key)||""})});const t=(null===(a=e[0])||void 0===a?void 0:a.range)||"",i=D(t);i.length&&O(t=>je(je({},t),{},{[n+"|"+e[0].key]:i[0]}))}catch(e){T("Failed to load qualifiers for ".concat(n,": ").concat(e.message))}else F()})(n,e.target.value),style:{minWidth:280},children:[(0,s.jsx)("option",{value:"",children:i.length?"\u2014 Choose Child ICF \u2014":"\u2014 Loading / None \u2014"}),i.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,s.jsxs)("select",{className:"input",disabled:!a||!o.length,value:l,onChange:e=>{const t=e.target.value,n=o.find(e=>e.key===t);((e,t,n)=>{A(n=>je(je({},n),{},{[e]:t}));const i="".concat(e,"|").concat(t),r=D(n);O(t=>{const n=je({},t);return Object.keys(n).forEach(t=>{t.startsWith(e+"|")&&delete n[t]}),r.length&&(n[i]=r[0]),n})})(a,t,(null===n||void 0===n?void 0:n.range)||"")},style:{minWidth:280},children:[(0,s.jsx)("option",{value:"",children:o.length?"\u2014 Choose Range \u2014":"\u2014 No Ranges \u2014"}),o.map(e=>(0,s.jsxs)("option",{value:e.key,children:[e.label,e.range?" (".concat(e.range,")"):""]},e.key))]}),u.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"pill",children:["Range: ",(0,s.jsx)("strong",{children:d})]}),(0,s.jsx)("select",{className:"input",value:p,onChange:e=>O(t=>je(je({},t),{},{[h]:Number(e.target.value)})),style:{minWidth:120},children:u.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]})]},n)})]})},PI=qS.create({baseURL:"http://127.0.0.1:8000"});function II(e){let{onDeepestICDChange:t,onPathChange:n}=e;const[r,a]=i.useState([{label:"Admission Level",options:[],value:"",disabled:!1,parentKey:null},{label:"Level 2",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 3",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 4",options:[],value:"",disabled:!0,parentKey:null}]),[o,l]=i.useState(!1),[c,d]=i.useState(""),[u,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),m=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[_-]+/g," ").replace(/\s+/g," ").trim().toLowerCase().replace(/\b[a-z]/g,e=>e.toUpperCase())};i.useEffect(()=>{(async()=>{try{l(!0),d("");const e=await PI.get("/api/icd/roots/");a(t=>{const n=[...t];n[0].options=e.data,n[0].disabled=!1;for(let e=1;e<n.length;e++)n[e]=je(je({},n[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return n}),null===t||void 0===t||t(""),null===n||void 0===n||n([])}catch(e){d("Failed to load ICD root data: ".concat(e.message))}finally{l(!1)}})()},[]);const g=e=>e.map((e,t)=>{if(!e.value)return null;const n=e.options.find(t=>t.key===e.value);return{depth:t,key:e.value,label:(null===n||void 0===n?void 0:n.label)||e.value}}).filter(Boolean),b=e=>{for(let t=e.length-1;t>=0;t--)if(e[t].value)return e[t].value;return""},y=async(e,i)=>{var r;if(a(r=>{const a=r.map(e=>je({},e));a[e].value=i;for(let t=e+1;t<a.length;t++)a[t]=je(je({},a[t]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===t||void 0===t||t(b(a)),null===n||void 0===n||n(g(a)),a}),i)try{l(!0),d("");const o=(await PI.get("/api/icd/children/".concat(encodeURIComponent(i),"/"))).data||[];if(!o.length)return;r=e+1,a(e=>{if(r<e.length)return e;const t=Array.from({length:r-e.length+1},(t,n)=>({label:"Level ".concat(e.length+n+1),options:[],value:"",disabled:!0,parentKey:null}));return[...e,...t]}),a(r=>{const a=[...r],s=e+1;a[s]=je(je({},a[s]),{},{options:o,value:"",disabled:!1,parentKey:i});for(let e=s+1;e<a.length;e++)a[e]=je(je({},a[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===t||void 0===t||t(b(a)),null===n||void 0===n||n(g(a)),a})}catch(o){d("Failed to load ICD children: ".concat(o.message))}finally{l(!1)}},v=b(r);return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"ICD Cascade"})}),r.map((e,t)=>(0,s.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,s.jsx)("div",{className:"label",children:e.label}),(0,s.jsxs)("select",{className:"input",disabled:e.disabled,value:e.value,onChange:e=>y(t,e.target.value),children:[(0,s.jsx)("option",{value:"",children:e.disabled?"\u2014 Disabled \u2014":"\u2014 Select from ".concat(m(e.label)," \u2014")}),e.options.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]})]},t)),v&&(0,s.jsxs)("div",{className:"assign-section",style:{marginTop:"20px",padding:"15px",borderTop:"1px solid #ddd",background:"#fafafa",borderRadius:"8px"},children:[(0,s.jsx)("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#333"},children:"Assign Department & Doctor"}),(0,s.jsxs)("div",{className:"row",style:{marginBottom:10},children:[(0,s.jsx)("div",{className:"label",style:{width:"160px"},children:"Assign Department"}),(0,s.jsxs)("select",{className:"input",value:u,onChange:e=>h(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select Department \u2014"}),["Neurology","Orthopedics","Cardiology","Physiotherapy","Occupational Therapy","Psychiatry"].map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))]})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"label",style:{width:"160px"},children:"Assign Doctor"}),(0,s.jsxs)("select",{className:"input",value:p,onChange:e=>f(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select Doctor \u2014"}),["Dr. Asha Menon","Dr. Rajesh Kumar","Dr. Priya Sharma","Dr. Anil Verma","Dr. Kavitha Rao"].map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))]})]})]}),o&&(0,s.jsx)("div",{className:"note",children:"Loading\u2026"}),c&&(0,s.jsx)("div",{className:"note",children:c})]})}const EI="http://127.0.0.1:5000";qS.create({baseURL:EI});const TI=function(e){let{icdCode:t,onSummaryChange:n,onSelectICF:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)({}),[h,p]=(0,i.useState)({}),[f,m]=(0,i.useState)({}),[g,b]=(0,i.useState)({}),[y,v]=(0,i.useState)({}),[x,w]=(0,i.useState)(!1),[j,S]=(0,i.useState)(""),_=["PT","OT","Neuropsych","Other","Uncategorized"],k=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("HTTP ".concat(t.status));return t.json()},C=e=>{if(!e)return[];const t=(e||"").trim().replace(/^0+/,e=>"0"===e?"0":""),n=t.match(/^(\d+)\s*-\s*(\d+)$/);if(!n)return[];const i=parseInt(n[1],10),r=parseInt(n[2],10);if(isNaN(i)||isNaN(r)||i>r)return[];const a=[];for(let o=i;o<=r;o++)a.push(o);return a};(0,i.useEffect)(()=>{o({}),c(""),u({}),p({}),m({}),b({}),v({}),S(""),null===n||void 0===n||n([]),null===r||void 0===r||r(""),t?(async()=>{try{w(!0);const e=(await k("".concat(EI,"/map/icdcode-to-icf/").concat(encodeURIComponent(t),"/grouped"))).groups||{},n=Object.keys(e).sort((e,t)=>(-1===_.indexOf(e)||-1===_.indexOf(t)?99:_.indexOf(e)-_.indexOf(t))||e.localeCompare(t));o(e),c(n[0]||"")}catch(e){S("Failed to load ICF: ".concat(e.message))}finally{w(!1)}})():S("Pick an ICD first in the ICD tab.")},[t]),(0,i.useEffect)(()=>{A()},[a,d,h,f,g,y]);const A=()=>{const e=[];Object.values(a).flat().forEach(t=>{var n;const i=t.icf_code,r=t.name,a=h[i]||"";if(!a)return;const o=(null===(n=(d[i]||[]).find(e=>e.key===a))||void 0===n?void 0:n.label)||a,s=g[a]||"",l=(f[a]||[]).find(e=>e.key===s),c=(null===l||void 0===l?void 0:l.label)||s,u=(null===l||void 0===l?void 0:l.range)||"",p=y["".concat(a,"|").concat(s)];e.push({parent_icf:i,parent_name:r,child_icf:a,child_name:o,qualifier_id:s,qualifier_label:c,range:u,score:p})}),null===n||void 0===n||n(e)},N=Object.keys(a).sort((e,t)=>(-1===_.indexOf(e)||-1===_.indexOf(t)?99:_.indexOf(e)-_.indexOf(t))||e.localeCompare(t));return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"buttonbar",style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:N.map(e=>{var t;return(0,s.jsxs)("button",{className:"btn ".concat(l===e?"active":""),onClick:()=>c(e),disabled:x,children:[e," (",(null===(t=a[e])||void 0===t?void 0:t.length)||0,")"]},e)})}),(0,s.jsxs)("div",{className:"cardheading",children:[(0,s.jsx)("h2",{className:"title",children:"ICF"}),(0,s.jsxs)("p",{className:"subtitle",children:["ICD selected: ",(0,s.jsx)("strong",{children:t||"\u2014"})]})]}),j&&(0,s.jsx)("div",{className:"note",children:j}),(a[l]||[]).map(e=>{var t;const n=e.icf_code,i=d[n]||[],a=h[n]||"",o=a&&f[a]||[],l=a&&g[a]||"",c=o.find(e=>e.key===l),x=(null===c||void 0===c?void 0:c.range)||"",w=(()=>{if(!x)return[];const e=x.match(/^(\d+)\s*-\s*(\d+)$/);if(!e)return[];const t=parseInt(e[1],10),n=parseInt(e[2],10);return Array.from({length:n-t+1},(e,n)=>t+n)})(),j="".concat(a,"|").concat(l),_=null!==(t=y[j])&&void 0!==t?t:"";return(0,s.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,s.jsxs)("div",{className:"label",children:[n," \u2014 ",e.name]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[(0,s.jsxs)("select",{className:"input",onFocus:()=>(async e=>{if(!d[e])try{const t=await k("".concat(EI,"/icf/children/").concat(encodeURIComponent(e)));u(n=>je(je({},n),{},{[e]:t}))}catch(t){S("Failed to load child ICFs for ".concat(e,": ").concat(t.message))}})(n),value:a,onChange:e=>(async(t,n)=>{p(e=>je(je({},e),{},{[t]:n})),null===r||void 0===r||r(n||""),b(e=>je(je({},e),{},{[n]:""}));const i=je({},y);if(Object.keys(i).forEach(e=>{e.startsWith(n+"|")&&delete i[e]}),v(i),n)try{var a;const e=await k("".concat(EI,"/icf/qualifiers/").concat(encodeURIComponent(n)));m(t=>je(je({},t),{},{[n]:e})),b(t=>{var i;return je(je({},t),{},{[n]:(null===(i=e[0])||void 0===i?void 0:i.key)||""})});const t=(null===(a=e[0])||void 0===a?void 0:a.range)||"",i=C(t);i.length&&v(t=>je(je({},t),{},{[n+"|"+e[0].key]:i[0]}))}catch(e){S("Failed to load qualifiers for ".concat(n,": ").concat(e.message))}else A()})(n,e.target.value),style:{minWidth:280},children:[(0,s.jsx)("option",{value:"",children:i.length?"\u2014 Choose Child ICF \u2014":"\u2014 Loading / None \u2014"}),i.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]}),(0,s.jsxs)("select",{className:"input",disabled:!a||!o.length,value:l,onChange:e=>{const t=e.target.value,n=o.find(e=>e.key===t);((e,t,n)=>{b(n=>je(je({},n),{},{[e]:t}));const i="".concat(e,"|").concat(t),r=C(n);v(t=>{const n=je({},t);return Object.keys(n).forEach(t=>{t.startsWith(e+"|")&&delete n[t]}),r.length&&(n[i]=r[0]),n})})(a,t,(null===n||void 0===n?void 0:n.range)||"")},style:{minWidth:280},children:[(0,s.jsx)("option",{value:"",children:o.length?"\u2014 Choose Range \u2014":"\u2014 No Ranges \u2014"}),o.map(e=>(0,s.jsxs)("option",{value:e.key,children:[e.label,e.range?" (".concat(e.range,")"):""]},e.key))]}),w.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"pill",children:["Range: ",(0,s.jsx)("strong",{children:x})]}),(0,s.jsx)("select",{className:"input",value:_,onChange:e=>v(t=>je(je({},t),{},{[j]:Number(e.target.value)})),style:{minWidth:120},children:w.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]})]},n)})]})};function LI(){const[e,t]=(0,i.useState)([{name:"",dosage:"",frequency:"",timing:"",duration:""}]),[n,r]=(0,i.useState)({advice:"",pastHistory:"",nextVisit:""}),a=["Metformin 500mg","Glimepiride 2mg","Atorvastatin 10mg","Losartan 50mg","Pantoprazole 40mg","Vitamin D3 60000 IU","Clopidogrel 75mg","Telmisartan 40mg","Multivitamin Tab","Hydrochlorothiazide 12.5mg","Sitagliptin 100mg","Folic Acid 5mg"],o=["1-0-0","0-1-0","0-0-1","1-0-1","1-1-0","1-1-1","0-0-1 (Weekly)"],l=["Before Breakfast","After Breakfast","Before Lunch","After Lunch","Before Dinner","After Dinner","Morning","Night","Once a Week"],c=["1 Week","2 Weeks","1 Month","2 Months","3 Months","6 Months"],d=(n,i)=>{const{name:r,value:a}=i.target,o=[...e];o[n][r]=a,t(o)},u=e=>{const{name:t,value:i}=e.target;r(je(je({},n),{},{[t]:i}))};return(0,s.jsxs)("div",{className:"pharmacy-container",children:[(0,s.jsx)("h3",{children:"Pharmacy Information"}),(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault();const i=je({medicines:e},n);console.log("Captured Record:",i),alert("Pharmacy and patient details saved successfully!")},children:[(0,s.jsxs)("table",{className:"pharmacy-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Medicine Name"}),(0,s.jsx)("th",{children:"Dosage"}),(0,s.jsx)("th",{children:"Frequency"}),(0,s.jsx)("th",{children:"Timing"}),(0,s.jsx)("th",{children:"Duration"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.map((n,i)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsxs)("select",{name:"name",value:n.name,onChange:e=>d(i,e),children:[(0,s.jsx)("option",{value:"",children:"Select Medicine"}),a.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",name:"dosage",placeholder:"Custom dosage",value:n.dosage,onChange:e=>d(i,e),className:"dosage-input"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{name:"frequency",value:n.frequency,onChange:e=>d(i,e),children:[(0,s.jsx)("option",{value:"",children:"Select Frequency"}),o.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{name:"timing",value:n.timing,onChange:e=>d(i,e),children:[(0,s.jsx)("option",{value:"",children:"Select Timing"}),l.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{name:"duration",value:n.duration,onChange:e=>d(i,e),children:[(0,s.jsx)("option",{value:"",children:"Select Duration"}),c.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{type:"button",className:"remove-btn",onClick:()=>(n=>{const i=e.filter((e,t)=>t!==n);t(i)})(i),children:"Remove"})})]},i))})]}),(0,s.jsx)("button",{type:"button",className:"add-btn",onClick:()=>{t([...e,{name:"",dosage:"",frequency:"",timing:"",duration:""}])},children:"+ Add Medicine"}),(0,s.jsxs)("div",{className:"extra-section",style:{marginTop:"50px"},children:[(0,s.jsx)("h3",{children:"Additional Details"}),(0,s.jsxs)("div",{className:"extra-grid",children:[(0,s.jsxs)("div",{className:"extra-field",children:[(0,s.jsx)("label",{children:"Advice:"}),(0,s.jsx)("textarea",{name:"advice",rows:"2",placeholder:"Enter general advice (e.g., maintain diet, daily walk)",value:n.advice,onChange:u})]}),(0,s.jsxs)("div",{className:"extra-field",children:[(0,s.jsx)("label",{children:"Past Medical History:"}),(0,s.jsx)("textarea",{name:"pastHistory",rows:"2",placeholder:"Enter any previous medical history",value:n.pastHistory,onChange:u})]}),(0,s.jsxs)("div",{className:"extra-field",children:[(0,s.jsx)("label",{children:"Next Visit:"}),(0,s.jsx)("input",{type:"date",name:"nextVisit",value:n.nextVisit,onChange:u,className:"next-visit-input",style:{height:"70px",marginTop:"15px"}})]})]})]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{type:"submit",className:"save-btn",children:"Save Record"})]})]})}qS.create({baseURL:"http://127.0.0.1:5000"});const MI=function(e){let{icdCode:t,icfCode:n,onSummaryChange:r}=e;const[a,o]=(0,i.useState)([]),[l,c]=(0,i.useState)({}),[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(new Set),[g,b]=(0,i.useState)([]),[y,v]=(0,i.useState)(new Set),[x,w]=(0,i.useState)(""),[j,S]=(0,i.useState)([]),[_,k]=(0,i.useState)(""),[C,A]=(0,i.useState)([]),[N,O]=(0,i.useState)([]),[P,I]=(0,i.useState)({}),[E,T]=(0,i.useState)({}),L={NODE_ENV:"production",PUBLIC_URL:"/React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API||"",M=1e3,R=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("HTTP ".concat(t.status));return t.json()};(0,i.useEffect)(()=>{o([]),m(new Set),v(new Set),w(""),k(""),p(""),null===r||void 0===r||r({selected:[],modalities:[],note:""}),t?(async()=>{try{u(!0);const e=await R("".concat(L,"/map/icdcode-to-ichi/").concat(encodeURIComponent(t))),n=[];Object.entries(e.by_icf||{}).forEach(e=>{let[t,i]=e;(i||[]).forEach(e=>n.push({icf_code:t,ichi_code:e.ichi_code,ichi_name:e.ichi_name}))}),o(n);const i=(await R("".concat(L,"/map/icdcode-to-icf/").concat(encodeURIComponent(t),"/grouped"))).groups||{},r={},a=["Neurophysics","Neuropsych"];Object.entries(i).forEach(e=>{let[t,n]=e;a.includes(t)&&(n||[]).forEach(e=>{r[e.icf_code]=t})}),c(r),0===n.length&&p("No ICHI mapped for this ICD.")}catch(e){p("Failed to load ICHI / ICF categories: ".concat(e.message))}finally{u(!1)}})():p("Pick an ICD first.")},[t]),(0,i.useEffect)(()=>{b([]),v(new Set),(async()=>{try{const e=await R("".concat(L,"/modalities"));b(e||[])}catch(e){p(t=>(t?t+" | ":"")+"Failed to load modalities: ".concat(e.message||e))}})()},[L]);const D=(0,i.useMemo)(()=>{const e={},t=["Neurophysics","Neuropsych"];a.forEach(n=>{const i=l[n.icf_code];if(!i||!t.includes(i))return;const r="".concat(n.icf_code,"::").concat(n.ichi_code),a="".concat(n.ichi_code," \u2014 ").concat(n.ichi_name,"  [").concat(n.icf_code,"]");e[i]||(e[i]=new Map),e[i].has(r)||e[i].set(r,{value:r,label:a})});const n={};return Object.entries(e).forEach(e=>{let[t,i]=e;n[t]=Array.from(i.values()).sort((e,t)=>e.value.localeCompare(t.value))}),n},[a,l]),F=["Neuropsych","PT","OT","Other"],B=(0,i.useMemo)(()=>Object.keys(D).sort((e,t)=>(-1===F.indexOf(e)?99:F.indexOf(e))-(-1===F.indexOf(t)?99:F.indexOf(t))||e.localeCompare(t)),[D]);(0,i.useEffect)(()=>{B.length?k(e=>B.includes(e)?e:B[0]):k("")},[B]);const z=(0,i.useMemo)(()=>_&&D[_]||[],[_,D]);return(0,i.useEffect)(()=>{const e=a.filter(e=>f.has("".concat(e.icf_code,"::").concat(e.ichi_code))).map(e=>({icf_code:e.icf_code,ichi_code:e.ichi_code,ichi_name:e.ichi_name})),t=Array.from(y).map(e=>{var t,n,i,r,a,o,s;const l=g.find(t=>t.value===e),c=null!==(t=P[e])&&void 0!==t?t:null,d=null!==(n=E[e])&&void 0!==n?n:null,u=null!==(i=null===(r=C.find(e=>e.value===c))||void 0===r?void 0:r.label)&&void 0!==i?i:"",h=null!==(a=null===(o=N.find(e=>e.value===d))||void 0===o?void 0:o.label)&&void 0!==a?a:"";return{value:e,label:null!==(s=null===l||void 0===l?void 0:l.label)&&void 0!==s?s:e,range_id:c,range_label:u,duration_id:d,duration_label:h}});"function"===typeof r&&r({selected:e,modalities:t,note:x,assessments:j})},[a,f,y,x,g,j,r,P,E,C,N]),(0,i.useEffect)(()=>{(async()=>{try{const e=await R("".concat(L,"/treatment/ranges")),t=await R("".concat(L,"/treatment/durations"));A(e||[]),O(t||[])}catch(e){p(t=>(t?t+" | ":"")+"Failed to load treatment lookups: ".concat(e.message))}})()},[L]),(0,i.useEffect)(()=>{const e=new Set(Array.from(y));I(t=>{const n=je({},t);return Object.keys(n).forEach(t=>{e.has(t)||delete n[t]}),n}),T(t=>{const n=je({},t);return Object.keys(n).forEach(t=>{e.has(t)||delete n[t]}),n})},[y]),(0,s.jsxs)("section",{className:"card",children:[B.length>0?(0,s.jsx)("div",{style:{display:"flex",gap:8,marginBottom:10,flexWrap:"wrap",backgroundColor:"#EEF6FF"},children:B.map(e=>{var t;return(0,s.jsxs)("button",{className:"btn ".concat(_===e?"active":""),onClick:()=>k(e),disabled:d,children:[e," (",(null===(t=D[e])||void 0===t?void 0:t.length)||0,")"]},e)})}):(0,s.jsx)("div",{className:"muted",children:"No ICHI options available for this ICD."}),(0,s.jsxs)("div",{className:"cardheading",children:[(0,s.jsxs)("div",{className:"card-head",children:[(0,s.jsx)("h2",{className:"title",children:"ICHI"}),(0,s.jsx)("button",{className:"btn ai",title:"AI mode (coming soon)",disabled:!0,children:"AI mode"})]}),(0,s.jsxs)("p",{className:"subtitle",children:["ICD: ",(0,s.jsx)("strong",{children:t||"\u2014"})," \xb7 ","ICF (context): ",(0,s.jsx)("strong",{children:n||"\u2014 all relevant ICFs \u2014"})]})]}),h&&(0,s.jsx)("div",{className:"note",children:h}),_&&(0,s.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[(0,s.jsxs)("div",{className:"label",children:["ICHI \u2014 ",_]}),(0,s.jsx)("div",{children:(0,s.jsx)(t_,{options:z,selected:f,onChange:m,placeholder:d?"Loading\u2026":"Select ".concat(_," ICHI\u2026"),width:560})})]}),f.size>0&&(0,s.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap",margin:"8px 30px 6px"},children:[Array.from(f).map(e=>(0,s.jsxs)("span",{className:"chip",children:[e.split("::")[1],(0,s.jsx)("button",{className:"chip-x",onClick:()=>(e=>{const t=new Set(f);t.delete(e),m(t)})(e),children:"\xd7"})]},e)),(0,s.jsx)("button",{className:"btn",onClick:()=>m(new Set),children:"Clear All"})]}),(0,s.jsx)(n_,{apiBase:L,selectedIchiCodes:Array.from(f).map(e=>e.split("::")[1]),onSummaryChange:S}),(0,s.jsxs)("div",{className:"row",style:{alignItems:"center",marginTop:8},children:[(0,s.jsx)("div",{className:"label",style:{fontWeight:600},children:"Pick Modalities"}),(0,s.jsx)("div",{children:(0,s.jsx)(t_,{options:g,selected:y,onChange:v,placeholder:"Select Modalities\u2026",width:560})})]}),y.size>0&&(0,s.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap",margin:"6px 0 6px",paddingLeft:"30px"},children:[Array.from(y).map(e=>{const t=g.find(t=>t.value===e);return(0,s.jsxs)("span",{className:"chip",children:[(null===t||void 0===t?void 0:t.label)||e,(0,s.jsx)("button",{className:"chip-x",onClick:()=>(e=>{const t=new Set(y);t.delete(e),v(t)})(e),children:"\xd7"})]},e)}),(0,s.jsx)("button",{className:"btn",onClick:()=>v(new Set),children:"Clear"})]}),y.size>0&&(0,s.jsxs)("div",{className:"box",style:{marginTop:8,paddingLeft:"30px",width:"50%",paddingBottom:40},children:[(0,s.jsx)("div",{className:"box-title",style:{fontWeight:600},children:"Treatment plan per modality"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 220px 240px",gap:8,alignItems:"center",paddingTop:"20px"},children:[(0,s.jsx)("div",{className:"label",style:{fontSize:14},children:"Modality"}),(0,s.jsx)("div",{className:"label",style:{fontSize:14},children:"Treatment Range"}),(0,s.jsx)("div",{className:"label",style:{fontSize:14},children:"Treatment Duration"}),Array.from(y).map(e=>{var t,n;const r=g.find(t=>t.value===e);return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"badge",children:e})," ",(null===r||void 0===r?void 0:r.label)||e]}),(0,s.jsxs)("select",{className:"input",value:null!==(t=P[e])&&void 0!==t?t:"",onChange:t=>I(n=>je(je({},n),{},{[e]:t.target.value?Number(t.target.value):void 0})),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select \u2014"}),C.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,s.jsxs)("select",{className:"input",value:null!==(n=E[e])&&void 0!==n?n:"",onChange:t=>T(n=>je(je({},n),{},{[e]:t.target.value?Number(t.target.value):void 0})),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select \u2014"}),N.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]},e)})]})]}),(0,s.jsxs)("div",{className:"row",style:{alignItems:"flex-start"},children:[(0,s.jsx)("div",{className:"label",style:{fontWeight:600},children:"Clinical Note / Plan"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{className:"input ta",rows:5,placeholder:"Write Notes, Rationale, Plan, or Observations\u2026",value:x,onChange:e=>w(e.target.value.slice(0,M)),maxLength:M,style:{minWidth:"560px"}}),(0,s.jsxs)("div",{className:"hint",children:[x.length,"/",M]})]})]}),f.size>0&&(0,s.jsx)("ul",{className:"flat",style:{marginTop:8},children:a.filter(e=>f.has("".concat(e.icf_code,"::").concat(e.ichi_code))).map((e,t)=>(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:e.ichi_code})," \u2014 ",e.ichi_name," ",(0,s.jsxs)("span",{className:"dim",children:["[",e.icf_code,"]"]})]},"".concat(e.icf_code,"-").concat(e.ichi_code,"-").concat(t)))})]})};var RI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DI=i.createContext&&i.createContext(RI),FI=function(){return FI=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},FI.apply(this,arguments)},BI=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function zI(e){return e&&e.map(function(e,t){return i.createElement(e.tag,FI({key:t},e.attr),zI(e.child))})}function WI(e){return function(t){return i.createElement(UI,FI({attr:FI({},e.attr)},t),zI(e.child))}}function UI(e){var t=function(t){var n,r=e.attr,a=e.size,o=e.title,s=BI(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",FI({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:FI(FI({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==DI?i.createElement(DI.Consumer,null,function(e){return t(e)}):t(RI)}function qI(e){return WI({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function HI(e){return WI({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}const VI=function(e){let{showProfileMenu:t,toggleProfileMenu:n,onBook:i,onOrder:r,onSaveAll:a,onLogout:o}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",borderBottom:"1px solid #ccc",backgroundColor:"#f8f8f8"},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,s.jsx)("button",{style:{padding:"0px",background:"none",border:"none",color:"#343FAC"},className:"Globalmenu",children:"Home"}),(0,s.jsx)("button",{style:{padding:"0px",background:"none",border:"none",color:"#343FAC"},className:"Globalmenu",children:"Files"}),(0,s.jsx)("button",{style:{padding:"0px",background:"none",border:"none",color:"#343FAC"},className:"Globalmenu",children:"Upload"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",position:"relative"},children:[(0,s.jsxs)("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"20px",padding:"0px",position:"relative"},title:"Notifications",children:[(0,s.jsx)(qI,{}),(0,s.jsx)("span",{style:{position:"absolute",top:0,right:0,width:"8px",height:"8px",backgroundColor:"red",borderRadius:"50%"}})]}),(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"0px",fontSize:"24px"},onClick:n,title:"Profile",children:(0,s.jsx)(HI,{})}),t&&(0,s.jsx)("div",{style:{position:"absolute",right:0,top:"35px",backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:100,minWidth:"120px"},children:(0,s.jsx)("button",{style:{width:"100%",padding:"10px",background:"none",color:"#000",border:"none",textAlign:"left",cursor:"pointer"},onClick:o,children:"Logout"})})]})]})]})})},GI=qS.create({baseURL:"http://127.0.0.1:8000"});function ZI(e){var t;let{onDeepestICDChange:n,onPathChange:r}=e;const[a,o]=i.useState([{label:"Admission Level",options:[],value:"",disabled:!1,parentKey:null},{label:"Level 2",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 3",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 4",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 5",options:[],value:"",disabled:!0,parentKey:null}]),[l,c]=i.useState(!1),[d,u]=i.useState(""),[h,p]=i.useState(""),f=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[_-]+/g," ").replace(/\s+/g," ").trim().toLowerCase().replace(/\b[a-z]/g,e=>e.toUpperCase())};i.useEffect(()=>{(async()=>{try{c(!0),u("");const e=await GI.get("/api/icd/roots/");o(t=>{const n=[...t];n[0].options=e.data,n[0].disabled=!1;for(let e=1;e<n.length;e++)n[e]=je(je({},n[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return n}),null===n||void 0===n||n(""),null===r||void 0===r||r([])}catch(e){u("Failed to load ICD root data: ".concat(e.message))}finally{c(!1)}})()},[]);const m=e=>e.map((e,t)=>{if(!e.value)return null;const n=e.options.find(t=>t.key===e.value);return{depth:t,key:e.value,label:(null===n||void 0===n?void 0:n.label)||e.value}}).filter(Boolean),g=e=>{for(let t=e.length-1;t>=0;t--)if(e[t].value)return e[t].value;return""},b=async(e,t)=>{var i;if(o(i=>{const a=i.map(e=>je({},e));a[e].value=t;for(let t=e+1;t<a.length;t++)a[t]=je(je({},a[t]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===n||void 0===n||n(g(a)),null===r||void 0===r||r(m(a)),a}),t)try{c(!0),u("");const a=(await GI.get("/api/icd/children/".concat(encodeURIComponent(t),"/"))).data||[];if(!a.length)return;i=e+1,o(e=>{if(i<e.length)return e;const t=Array.from({length:i-e.length+1},(t,n)=>({label:"Level ".concat(e.length+n+1),options:[],value:"",disabled:!0,parentKey:null}));return[...e,...t]}),o(i=>{const o=[...i],s=e+1;o[s]=je(je({},o[s]),{},{options:a,value:"",disabled:!1,parentKey:t});for(let e=s+1;e<o.length;e++)o[e]=je(je({},o[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===n||void 0===n||n(g(o)),null===r||void 0===r||r(m(o)),o})}catch(a){u("Failed to load ICD children: ".concat(a.message))}finally{c(!1)}},y=[{id:"1",name:"Cardiology"},{id:"2",name:"Neurology"},{id:"3",name:"Orthopedics"},{id:"4",name:"Pediatrics"},{id:"5",name:"Dermatology"}];return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"ICD Cascade"})}),a.map((e,t)=>(0,s.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,s.jsx)("div",{className:"label",children:e.label}),(0,s.jsxs)("select",{className:"input",disabled:e.disabled,value:e.value,onChange:e=>b(t,e.target.value),children:[(0,s.jsx)("option",{value:"",children:e.disabled?"\u2014 Disabled \u2014":"\u2014 Select from ".concat(f(e.label)," \u2014")}),e.options.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]})]},t)),(null===(t=a[4])||void 0===t?void 0:t.value)&&(0,s.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,s.jsx)("div",{className:"label",children:"Assign to Department"}),(0,s.jsxs)("select",{className:"input",value:h,onChange:e=>p(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select a Department \u2014"}),y.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsx)("button",{onClick:()=>{if(!h)return void alert("Please select a department.");const e=y.find(e=>e.id===h);alert("Assigned to ".concat(null===e||void 0===e?void 0:e.name)),p("")},style:{marginLeft:"10px",background:"#28a745",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",fontSize:"14px",cursor:"pointer"},children:"Assign Department"})]}),l&&(0,s.jsx)("div",{className:"note",children:"Loading\u2026"}),d&&(0,s.jsx)("div",{className:"note",children:d})]})}function YI(){return(0,s.jsxs)("div",{className:"patient-container-light",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Patient Overview"}),(0,s.jsxs)("div",{className:"patient-header-tags",children:[(0,s.jsx)("span",{className:"tag-light",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag-light",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag-light",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag-light",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag-light",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency-light",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader-light",children:"Scheme / Eligibility & Summary"}),(0,s.jsxs)("div",{className:"form-grid-light",children:[(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"Patient"}),(0,s.jsx)("input",{type:"text",placeholder:"John Lee / MRN"})]}),(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"Employer / Injury Date"}),(0,s.jsx)("input",{type:"text",placeholder:"ABC Sdn Bhd / 2025-09-12"})]}),(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"Scheme"}),(0,s.jsx)("input",{type:"text",placeholder:"Employment Injury"})]}),(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"Benefit Code"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., PRS-01"})]}),(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"PERKESO Case ID"}),(0,s.jsx)("input",{type:"text",placeholder:"PSK-2025-000123"})]}),(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"Eligibility"}),(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"Verified"}),(0,s.jsx)("option",{children:"Pending"}),(0,s.jsx)("option",{children:"Rejected"})]})]}),(0,s.jsxs)("div",{className:"form-group-light",children:[(0,s.jsx)("label",{children:"Funding Window"}),(0,s.jsx)("input",{type:"text",placeholder:"2025-09-12 \u2013 2025-10-05"})]}),(0,s.jsxs)("div",{className:"form-group-light full",children:[(0,s.jsx)("label",{children:"Case Summary"}),(0,s.jsx)("textarea",{placeholder:"Injury and cuts in the leg dimensional area, baseline risk\u2026"})]})]})]})}function KI(){return(0,s.jsxs)("div",{className:"assessment-container",children:[(0,s.jsxs)("div",{className:"patient-header-light h2",children:[(0,s.jsx)("h2",{children:"Diagnoses & Functional Profile"}),(0,s.jsxs)("div",{className:"assessment-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"ICD \xb7 ICF capture"}),(0,s.jsxs)("div",{className:"assessment-grid",children:[(0,s.jsxs)("div",{className:"assessment-box",children:[(0,s.jsx)("h3",{children:"Diagnoses (ICD-11)"}),(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Code"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Primary"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"NCT72.3"}),(0,s.jsx)("td",{children:"Injury of peroneal nerve"}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"Yes"}),(0,s.jsx)("option",{children:"No"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"ME82"}),(0,s.jsx)("td",{children:"Type 2 diabetes mellitus"}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"No"}),(0,s.jsx)("option",{children:"Yes"})]})})]})]})]})]}),(0,s.jsxs)("div",{className:"assessment-box",children:[(0,s.jsx)("h3",{children:"Functional / Context (ICF)"}),(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Domain"}),(0,s.jsx)("th",{children:"Severity"}),(0,s.jsx)("th",{children:"Notes"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"d450 Walking"}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"Severe"}),(0,s.jsx)("option",{children:"Moderate"}),(0,s.jsx)("option",{children:"Mild"})]})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",placeholder:"Foot drop"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"e120 Products/tech for mobility"}),(0,s.jsx)("td",{children:(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"Barrier"}),(0,s.jsx)("option",{children:"Facilitator"})]})}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",placeholder:"Needs AFO"})})]})]})]})]})]})]})}function JI(){return(0,s.jsxs)("div",{className:"goal-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"SMART Goals & GAS"}),(0,s.jsxs)("div",{className:"goal-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"Targets and attainment scales"}),(0,s.jsxs)("div",{className:"goal-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"SMART Goals & GAS"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Add Goal"}),(0,s.jsx)("button",{className:"secondary-btn",children:"From Template (Neuro)"})]}),(0,s.jsx)("div",{className:"goal-table-wrapper",children:(0,s.jsxs)("table",{className:"goal-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Goal"}),(0,s.jsx)("th",{children:"ICF"}),(0,s.jsx)("th",{children:"Target"}),(0,s.jsx)("th",{children:"GAS"}),(0,s.jsx)("th",{children:"Owner"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Ambulate 20.00 m without AFO"}),(0,s.jsx)("td",{children:"d450"}),(0,s.jsx)("td",{children:"4.00 weeks"}),(0,s.jsx)("td",{children:"0 = 20.00 m \xb7 +2 = 40.00 m"}),(0,s.jsx)("td",{children:"Therapist"})]})})]})})]})}function XI(){return(0,s.jsxs)("div",{className:"therapy-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Interventions (ICHI) & Protocols"}),(0,s.jsxs)("div",{className:"therapy-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"Linked devices and guardrails"}),(0,s.jsxs)("div",{className:"therapy-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"Interventions (ICHI)"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Add Intervention"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Link Protocol"})]}),(0,s.jsxs)("div",{className:"therapy-table-wrapper",children:[(0,s.jsxs)("table",{className:"therapy-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"ICHI"}),(0,s.jsx)("th",{children:"Protocol"}),(0,s.jsx)("th",{children:"Freq"}),(0,s.jsx)("th",{children:"Dosage"}),(0,s.jsx)("th",{children:"Device"}),(0,s.jsx)("th",{children:"Therapist"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"7A00 VR gait training"}),(0,s.jsx)("td",{children:"VR Gait Level 1"}),(0,s.jsx)("td",{children:"3/wk"}),(0,s.jsx)("td",{children:"30.00 min"}),(0,s.jsx)("td",{children:"VR-01"}),(0,s.jsx)("td",{children:"Therapist A"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"9B12 FES wrist flexor"}),(0,s.jsx)("td",{children:"FES Wrist Flexor"}),(0,s.jsx)("td",{children:"2/wk"}),(0,s.jsx)("td",{children:"15.00 min"}),(0,s.jsx)("td",{children:"FES-02"}),(0,s.jsx)("td",{children:"Therapist B"})]})]})]}),(0,s.jsx)("div",{className:"guardrail",children:"Guardrail: FES protocol requires intact skin; verify assessment photo uploaded."})]})]})}function $I(){return(0,s.jsxs)("div",{className:"schedule-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Scheduling & Phases"}),(0,s.jsxs)("div",{className:"schedule-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"Criteria-based progression"}),(0,s.jsxs)("div",{className:"schedule-actions",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"primary-btn",children:"Phases & Criteria"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Add Criteria"})]}),(0,s.jsx)("button",{className:"secondary-btn right-btn",children:"Auto alerts when criteria met"})]}),(0,s.jsxs)("div",{className:"schedule-table-wrapper",children:[(0,s.jsxs)("table",{className:"schedule-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Phase"}),(0,s.jsx)("th",{children:"Entry Criteria"}),(0,s.jsx)("th",{children:"Exit Criteria"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Phase 1"}),(0,s.jsx)("td",{children:"Berg +5.00 in 2.00 weeks"}),(0,s.jsx)("td",{children:"Walk 20.00 m unaided"})]})})]}),(0,s.jsxs)("div",{className:"sub-actions",children:[(0,s.jsx)("button",{className:"secondary-btn",children:"Scheduling"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Check Conflicts"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Notify Patient"})]}),(0,s.jsxs)("table",{className:"schedule-table mt-2",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Time"}),(0,s.jsx)("th",{children:"Intervention"}),(0,s.jsx)("th",{children:"Resource"}),(0,s.jsx)("th",{children:"Status"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"2025-10-22"}),(0,s.jsx)("td",{children:"10:00"}),(0,s.jsx)("td",{children:"VR Gait"}),(0,s.jsx)("td",{children:"VR-01 / R1"}),(0,s.jsx)("td",{children:"Booked"})]})})]})]})]})}function QI(){return(0,s.jsxs)("div",{className:"review-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Review & Adjust"}),(0,s.jsxs)("div",{className:"review-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsxs)("section",{className:"review-section",children:[(0,s.jsx)("h4",{className:"subheader",children:"Interim Report"}),(0,s.jsxs)("div",{className:"review-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"Interim Report"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Print"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Export PDF"})]}),(0,s.jsxs)("div",{className:"two-column",children:[(0,s.jsxs)("div",{className:"review-box",children:[(0,s.jsx)("h3",{children:"Progress Summary"}),(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Measure"}),(0,s.jsx)("th",{children:"Baseline"}),(0,s.jsx)("th",{children:"Current"}),(0,s.jsx)("th",{children:"\u0394"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Berg"}),(0,s.jsx)("td",{children:"24.00 pts"}),(0,s.jsx)("td",{children:"31.00 pts"}),(0,s.jsx)("td",{children:"7.00 pts"})]})})]}),(0,s.jsx)("div",{className:"chart-placeholder",children:(0,s.jsx)("div",{className:"chart-line"})})]}),(0,s.jsxs)("div",{className:"review-box",children:[(0,s.jsx)("h3",{children:"Sessions & Adherence"}),(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Planned"}),(0,s.jsx)("th",{children:"Completed"}),(0,s.jsx)("th",{children:"Adherence"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"20.00"}),(0,s.jsx)("td",{children:"17.00"}),(0,s.jsx)("td",{children:"85.00%"})]})})]}),(0,s.jsx)("p",{className:"signoff",children:"Sign-off: Therapist \u2192 Case Manager \u2192 HOD"})]})]})]}),(0,s.jsxs)("section",{className:"review-section",children:[(0,s.jsx)("h2",{style:{color:"#3A3FAD"},className:"patient-header-light",children:"Budget & Authorisation"}),(0,s.jsxs)("div",{className:"review-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"Benefit Caps & Tariff"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Recalc Budget"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Request Authorisation"})]}),(0,s.jsxs)("div",{className:"two-column",children:[(0,s.jsxs)("div",{className:"review-box",children:[(0,s.jsx)("h3",{children:"Line Items"}),(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Code"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Qty"}),(0,s.jsx)("th",{children:"Rate"}),(0,s.jsx)("th",{children:"Total"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"TH-VR"}),(0,s.jsx)("td",{children:"VR Session"}),(0,s.jsx)("td",{children:"12"}),(0,s.jsx)("td",{children:"RM1,800.00"}),(0,s.jsx)("td",{children:"RM21,600.00"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"TH-FES"}),(0,s.jsx)("td",{children:"FES Session"}),(0,s.jsx)("td",{children:"8"}),(0,s.jsx)("td",{children:"RM1,200.00"}),(0,s.jsx)("td",{children:"RM9,600.00"})]})]})]}),(0,s.jsx)("p",{className:"note",children:"Compliance checks: caps, dates within funding window, eligible codes, evidence uploaded."})]}),(0,s.jsxs)("div",{className:"review-box",children:[(0,s.jsx)("h3",{children:"Authorisation & Caps"}),(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Item"}),(0,s.jsx)("th",{children:"Value"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Session Cap"}),(0,s.jsx)("td",{children:"30.00"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Amount Cap"}),(0,s.jsx)("td",{children:"RM40,000.00"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Authorisation #"}),(0,s.jsx)("td",{className:"muted",children:"AUTO on approval"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Balance"}),(0,s.jsx)("td",{className:"green-text",children:"RM12,400.00"})]})]})]})]})]})]})]})}function eE(){return(0,s.jsxs)("div",{className:"discharge-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Discharge Report"}),(0,s.jsxs)("div",{className:"discharge-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"Final outcomes & spend"}),(0,s.jsxs)("div",{className:"discharge-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"Discharge Report"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Print"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Export PDF"})]}),(0,s.jsxs)("div",{className:"discharge-box",children:[(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Section"}),(0,s.jsx)("th",{children:"Content"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Diagnoses (ICD)"}),(0,s.jsx)("td",{children:"NCT72.3, ME82"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Interventions (ICHI)"}),(0,s.jsx)("td",{children:"7A00, 9B12"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Outcomes (ICF)"}),(0,s.jsx)("td",{children:"d450 improved to Mild"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"GAS"}),(0,s.jsx)("td",{children:"0 = 20.00 m, +1 = 30.00 m"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Authorisation"}),(0,s.jsx)("td",{children:"Sessions used 25.00 / 30, Spend RM 33,600.00"})]})]})]}),(0,s.jsx)("p",{className:"signoff",children:"Sign-off: Therapist \u2192 Case Manager \u2192 HOD \u2192 CMO (optional)"})]})]})}function tE(){return(0,s.jsxs)("div",{className:"rap-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Submission Pack (PERKESO)"}),(0,s.jsxs)("div",{className:"rap-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"Artifacts for payer submission"}),(0,s.jsxs)("div",{className:"rap-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"Submission Pack"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Assemble"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Mark as Submitted"})]}),(0,s.jsx)("div",{className:"rap-table-wrapper",children:(0,s.jsxs)("table",{className:"rap-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Artifact"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Notes"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Interim/Discharge Report PDF"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status ready",children:"Ready"})}),(0,s.jsx)("td",{children:"Generated today"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Code Summary (ICD/ICF/ICHI)"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status ready",children:"Ready"})}),(0,s.jsx)("td",{children:"Attached"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Authorisation Letter"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status ready",children:"Ready"})}),(0,s.jsx)("td",{children:"Auto-filled"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Evidence (photos, consent)"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status ready",children:"Ready"})}),(0,s.jsx)("td",{children:"2 files"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"E-billing CSV"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status pending",children:"Pending"})}),(0,s.jsx)("td",{children:"Generate after HOD sign-off"})]})]})]})})]})}function nE(){return(0,s.jsxs)("div",{className:"followup-container",children:[(0,s.jsxs)("div",{className:"patient-header-light",children:[(0,s.jsx)("h2",{children:"Approvals Inbox"}),(0,s.jsxs)("div",{className:"followup-tags",children:[(0,s.jsx)("span",{className:"tag",children:"RAP State: Active"}),(0,s.jsx)("span",{className:"tag",children:"Version: v3"}),(0,s.jsxs)("span",{className:"tag",children:["Managed by: ",(0,s.jsx)("strong",{children:"Case Manager"})]}),(0,s.jsxs)("span",{className:"tag",children:["Approver: ",(0,s.jsx)("strong",{children:"HOD (CMO oversight)"})]}),(0,s.jsx)("span",{className:"tag",children:"Standards: ICD \xb7 ICF \xb7 ICHI \xb7 CARF"}),(0,s.jsxs)("div",{className:"currency",children:["Currency",(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"RM"}),(0,s.jsx)("option",{children:"USD"}),(0,s.jsx)("option",{children:"INR"})]})]})]})]}),(0,s.jsx)("h4",{className:"subheader",children:"HOD queue"}),(0,s.jsxs)("div",{className:"followup-actions",children:[(0,s.jsx)("button",{className:"primary-btn",children:"Approvals Inbox"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Bulk Approve"}),(0,s.jsx)("button",{className:"secondary-btn",children:"Return with Comments"})]}),(0,s.jsx)("div",{className:"followup-table-wrapper",children:(0,s.jsxs)("table",{className:"followup-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Patient"}),(0,s.jsx)("th",{children:"Item"}),(0,s.jsx)("th",{children:"Version"}),(0,s.jsx)("th",{children:"Submitted By"}),(0,s.jsx)("th",{children:"Submitted On"}),(0,s.jsx)("th",{children:"Status"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"John Lee"}),(0,s.jsx)("td",{children:"RAP"}),(0,s.jsx)("td",{children:"v1"}),(0,s.jsx)("td",{children:"Case Manager"}),(0,s.jsx)("td",{children:"2025-10-20"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status pending",children:"Pending HOD"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"John Lee"}),(0,s.jsx)("td",{children:"Interim Report"}),(0,s.jsx)("td",{children:"v1"}),(0,s.jsx)("td",{children:"Case Manager"}),(0,s.jsx)("td",{children:"2025-11-03"}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status pending",children:"Pending HOD"})})]})]})]})})]})}function iE(){const[e,t]=(0,i.useState)(null),n=[{id:1,title:"1) Patient Registration",desc:"Create patient master; start Episode (New/Follow-up/Readmission). Capture referrer and primary diagnosis.",buttons:["ICD-10/11","Episode ID (auto)","Referrer"],footer:"Departments",component:YI},{id:2,title:"2) Initial Assessment",desc:"Dept-specific intake: PT/OT/Speech/Psych. Map ICD \u2192 ICF, capture baselines (ROM, FIM, DASH, etc). Optional ICHI capture.",buttons:["ICD","ICF","ICHI (optional)","Scores / Scales"],footer:"Specialties",component:KI},{id:3,title:"3) Goal Setting (GAS)",desc:"Define SMART goals; set attainment levels; choose outcome measures.",buttons:["GAS","Outcome Measures"],component:JI},{id:4,title:"4) Therapy Plan (TPS)",desc:"Select interventions/modalities and schedule: frequency \xd7 duration \xd7 weeks; assign therapist; approvals as needed.",buttons:["Plan Builder","Therapist Assignment","Schedule","Equipment"],footer:"Examples",component:XI},{id:5,title:"5) Sessions",desc:"Daily session log: vitals, exercises, device data (local adapters); attendance and notes.",buttons:["Session Log","Device Data","Progress Graphs"],component:$I},{id:6,title:"6) Budget & Interim Report",desc:"Mid-term review; compare progress vs goals; modify plan if needed.",buttons:["Re-Assessment","Plan Adjustment"],component:QI},{id:7,title:"7) Discharge Summary",desc:"Auto-generate clinical summary with pre/post scores; attach reports.",buttons:["Report","PDF Export"],component:eE},{id:8,title:"8) RAP & RTW",desc:"Create WHO-aligned RAP and RTW readiness report; recommendations for employer/insurer.",buttons:["RAP","RTW","Recommendations"],component:tE},{id:9,title:"9) Approvals",desc:"Schedule follow-up; capture patient feedback; outcome monitoring.",buttons:["Follow-Up","Feedback"],component:nE}],r=()=>{t(null)};if(e){const t=e.component;return(0,s.jsxs)("div",{className:"rehab-detail",children:[(0,s.jsx)("button",{className:"back-btn",onClick:r,children:"\u2190 Back"}),(0,s.jsx)(t,{})]})}return(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsxs)("div",{className:"rehab-container",children:[(0,s.jsx)("div",{className:"rehab-grid",children:n.map((e,n)=>(0,s.jsxs)("div",{className:"rehab-card",onClick:()=>(e=>{t(e)})(e),children:[(0,s.jsx)("h2",{className:"rehab-title",children:e.title}),(0,s.jsx)("p",{className:"rehab-desc",children:e.desc}),(0,s.jsx)("div",{className:"rehab-buttons",children:e.buttons.map((e,t)=>(0,s.jsx)("button",{className:"rehab-btn",children:e},t))}),e.footer&&(0,s.jsx)("div",{className:"rehab-footer",children:e.footer})]},e.id))}),(0,s.jsx)("div",{className:"rehab-note",children:"RAP Report"})]})})}const rE=qS.create({baseURL:"http://127.0.0.1:8000"});function aE(e){let{onDeepestICDChange:t,onPathChange:n}=e;const[r,a]=i.useState([{label:"Admission Level",options:[],value:"",disabled:!1,parentKey:null},{label:"Level 2",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 3",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 4",options:[],value:"",disabled:!0,parentKey:null}]),[o,l]=i.useState(!1),[c,d]=i.useState(""),[u,h]=i.useState(""),p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[_-]+/g," ").replace(/\s+/g," ").trim().toLowerCase().replace(/\b[a-z]/g,e=>e.toUpperCase())};i.useEffect(()=>{(async()=>{try{l(!0),d("");const e=await rE.get("/api/icd/roots/");a(t=>{const n=[...t];n[0].options=e.data,n[0].disabled=!1;for(let e=1;e<n.length;e++)n[e]=je(je({},n[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return n}),null===t||void 0===t||t(""),null===n||void 0===n||n([])}catch(e){d("Failed to load ICD root data: ".concat(e.message))}finally{l(!1)}})()},[]);const f=e=>e.map((e,t)=>{if(!e.value)return null;const n=e.options.find(t=>t.key===e.value);return{depth:t,key:e.value,label:(null===n||void 0===n?void 0:n.label)||e.value}}).filter(Boolean),m=e=>{for(let t=e.length-1;t>=0;t--)if(e[t].value)return e[t].value;return""},g=async(e,i)=>{var r;if(a(r=>{const a=r.map(e=>je({},e));a[e].value=i;for(let t=e+1;t<a.length;t++)a[t]=je(je({},a[t]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===t||void 0===t||t(m(a)),null===n||void 0===n||n(f(a)),a}),i)try{l(!0),d("");const o=(await rE.get("/api/icd/children/".concat(encodeURIComponent(i),"/"))).data||[];if(!o.length)return;r=e+1,a(e=>{if(r<e.length)return e;const t=Array.from({length:r-e.length+1},(t,n)=>({label:"Level ".concat(e.length+n+1),options:[],value:"",disabled:!0,parentKey:null}));return[...e,...t]}),a(r=>{const a=[...r],s=e+1;a[s]=je(je({},a[s]),{},{options:o,value:"",disabled:!1,parentKey:i});for(let e=s+1;e<a.length;e++)a[e]=je(je({},a[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===t||void 0===t||t(m(a)),null===n||void 0===n||n(f(a)),a})}catch(o){d("Failed to load ICD children: ".concat(o.message))}finally{l(!1)}},b=[{id:"1",name:"Dr. John Doe"},{id:"2",name:"Dr. Jane Smith"},{id:"3",name:"Dr. Emily Johnson"},{id:"4",name:"Dr. Michael Brown"}];return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"ICD Cascade"})}),r.map((e,t)=>(0,s.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,s.jsx)("div",{className:"label",children:e.label}),(0,s.jsxs)("select",{className:"input",disabled:e.disabled,value:e.value,onChange:e=>g(t,e.target.value),children:[(0,s.jsx)("option",{value:"",children:e.disabled?"\u2014 Disabled \u2014":"\u2014 Select from ".concat(p(e.label)," \u2014")}),e.options.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]})]},t)),r[r.length-1].value&&(0,s.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,s.jsx)("div",{className:"label",children:"Assign to Doctor"}),(0,s.jsxs)("select",{className:"input",value:u,onChange:e=>h(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select a Doctor \u2014"}),b.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsx)("button",{onClick:()=>{if(!u)return void alert("Please select a doctor.");const e=b.find(e=>e.id===u);alert("Patient assigned to ".concat(null===e||void 0===e?void 0:e.name)),h("")},style:{marginLeft:"10px",background:"#28a745",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",fontSize:"14px",cursor:"pointer"},children:"Assign Doctor"})]}),o&&(0,s.jsx)("div",{className:"note",children:"Loading\u2026"}),c&&(0,s.jsx)("div",{className:"note",children:c})]})}function oE(){}const sE=function(){let e=0;return function(){return e++}}();function lE(e){return null===e||"undefined"===typeof e}function cE(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function dE(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const uE=e=>("number"===typeof e||e instanceof Number)&&isFinite(+e);function hE(e,t){return uE(e)?e:t}function pE(e,t){return"undefined"===typeof e?t:e}const fE=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function mE(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function gE(e,t,n,i){let r,a,o;if(cE(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(dE(e))for(o=Object.keys(e),a=o.length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])}function bE(e,t){let n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function yE(e){if(cE(e))return e.map(yE);if(dE(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=yE(e[n[r]]);return t}return e}function vE(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function xE(e,t,n,i){if(!vE(e))return;const r=t[e],a=n[e];dE(r)&&dE(a)?wE(r,a,i):t[e]=yE(a)}function wE(e,t,n){const i=cE(t)?t:[t],r=i.length;if(!dE(e))return e;const a=(n=n||{}).merger||xE;for(let o=0;o<r;++o){if(!dE(t=i[o]))continue;const r=Object.keys(t);for(let i=0,o=r.length;i<o;++i)a(r[i],e,t,n)}return e}function jE(e,t){return wE(e,t,{merger:SE})}function SE(e,t,n){if(!vE(e))return;const i=t[e],r=n[e];dE(i)&&dE(r)?jE(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=yE(r))}const _E={"":e=>e,x:e=>e.x,y:e=>e.y};function kE(e,t){const n=_E[t]||(_E[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function CE(e){return e.charAt(0).toUpperCase()+e.slice(1)}const AE=e=>"undefined"!==typeof e,NE=e=>"function"===typeof e,OE=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const PE=Math.PI,IE=2*PE,EE=IE+PE,TE=Number.POSITIVE_INFINITY,LE=PE/180,ME=PE/2,RE=PE/4,DE=2*PE/3,FE=Math.log10,BE=Math.sign;function zE(e){const t=Math.round(e);e=UE(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(FE(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function WE(e){return!isNaN(parseFloat(e))&&isFinite(e)}function UE(e,t,n){return Math.abs(e-t)<n}function qE(e,t,n){let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function HE(e){return e*(PE/180)}function VE(e){return e*(180/PE)}function GE(e){if(!uE(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ZE(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*PE&&(a+=IE),{angle:a,distance:r}}function YE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function KE(e,t){return(e-t+EE)%IE-PE}function JE(e){return(e%IE+IE)%IE}function XE(e,t,n,i){const r=JE(e),a=JE(t),o=JE(n),s=JE(a-r),l=JE(o-r),c=JE(r-a),d=JE(r-o);return r===a||r===o||i&&a===o||s>l&&c<d}function $E(e,t,n){return Math.max(t,Math.min(n,e))}function QE(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function eT(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,a=0;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const tT=(e,t,n,i)=>eT(e,n,i?i=>e[i][t]<=n:i=>e[i][t]<n),nT=(e,t,n)=>eT(e,n,i=>e[i][t]>=n);const iT=["push","pop","shift","splice","unshift"];function rT(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(iT.forEach(t=>{delete e[t]}),delete e._chartjs)}function aT(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}const oT="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function sT(e,t,n){const i=n||(e=>Array.prototype.slice.call(e));let r=!1,a=[];return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];a=i(o),r||(r=!0,oT.call(window,()=>{r=!1,e.apply(t,a)}))}}const lT=e=>"start"===e?"left":"end"===e?"right":"center",cT=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function dT(e,t,n){const i=t.length;let r=0,a=i;if(e._sorted){const{iScale:o,_parsed:s}=e,l=o.axis,{min:c,max:d,minDefined:u,maxDefined:h}=o.getUserBounds();u&&(r=$E(Math.min(tT(s,o.axis,c).lo,n?i:tT(t,l,o.getPixelForValue(c)).lo),0,i-1)),a=h?$E(Math.max(tT(s,o.axis,d,!0).hi+1,n?0:tT(t,l,o.getPixelForValue(d),!0).hi+1),r,i)-r:i-r}return{start:r,count:a}}function uT(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}const hT=e=>0===e||1===e,pT=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*IE/n),fT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*IE/n)+1,mT={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*ME),easeOutSine:e=>Math.sin(e*ME),easeInOutSine:e=>-.5*(Math.cos(PE*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>hT(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>hT(e)?e:pT(e,.075,.3),easeOutElastic:e=>hT(e)?e:fT(e,.075,.3),easeInOutElastic(e){const t=.1125;return hT(e)?e:e<.5?.5*pT(2*e,t,.45):.5+.5*fT(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-mT.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*mT.easeInBounce(2*e):.5*mT.easeOutBounce(2*e-1)+.5};function gT(e){return e+.5|0}const bT=(e,t,n)=>Math.max(Math.min(e,n),t);function yT(e){return bT(gT(2.55*e),0,255)}function vT(e){return bT(gT(255*e),0,255)}function xT(e){return bT(gT(e/2.55)/100,0,1)}function wT(e){return bT(gT(100*e),0,100)}const jT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ST=[..."0123456789ABCDEF"],_T=e=>ST[15&e],kT=e=>ST[(240&e)>>4]+ST[15&e],CT=e=>(240&e)>>4===(15&e);function AT(e){var t=(e=>CT(e.r)&&CT(e.g)&&CT(e.b)&&CT(e.a))(e)?_T:kT;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const NT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function OT(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function PT(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function IT(e,t,n){const i=OT(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function ET(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),o=(r+a)/2;let s,l,c;return r!==a&&(c=r-a,l=o>.5?c/(2-r-a):c/(r+a),s=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),s=60*s+.5),[0|s,l||0,o]}function TT(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(vT)}function LT(e,t,n){return TT(OT,e,t,n)}function MT(e){return(e%360+360)%360}function RT(e){const t=NT.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?yT(+t[5]):vT(+t[5]));const r=MT(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return TT(IT,e,t,n)}(r,a,o):"hsv"===t[1]?function(e,t,n){return TT(PT,e,t,n)}(r,a,o):LT(r,a,o),{r:n[0],g:n[1],b:n[2],a:i}}const DT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},FT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let BT;function zT(e){BT||(BT=function(){const e={},t=Object.keys(FT),n=Object.keys(DT);let i,r,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],r=0;r<n.length;r++)a=n[r],s=s.replace(a,DT[a]);a=parseInt(FT[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),BT.transparent=[0,0,0,0]);const t=BT[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const WT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const UT=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,qT=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function HT(e,t,n){if(e){let i=ET(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=LT(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function VT(e,t){return e?Object.assign(t||{},e):e}function GT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=vT(e[3]))):(t=VT(e,{r:0,g:0,b:0,a:1})).a=vT(t.a),t}function ZT(e){return"r"===e.charAt(0)?function(e){const t=WT.exec(e);let n,i,r,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?yT(e):bT(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?yT(n):bT(n,0,255)),i=255&(t[4]?yT(i):bT(i,0,255)),r=255&(t[6]?yT(r):bT(r,0,255)),{r:n,g:i,b:r,a:a}}}(e):RT(e)}class YT{constructor(e){if(e instanceof YT)return e;const t=typeof e;let n;"object"===t?n=GT(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*jT[e[1]],g:255&17*jT[e[2]],b:255&17*jT[e[3]],a:5===n?17*jT[e[4]]:255}:7!==n&&9!==n||(t={r:jT[e[1]]<<4|jT[e[2]],g:jT[e[3]]<<4|jT[e[4]],b:jT[e[5]]<<4|jT[e[6]],a:9===n?jT[e[7]]<<4|jT[e[8]]:255})),t}(e)||zT(e)||ZT(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=VT(this._rgb);return e&&(e.a=xT(e.a)),e}set rgb(e){this._rgb=GT(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(xT(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?AT(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=ET(e),n=t[0],i=wT(t[1]),r=wT(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(xT(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,o=2*a-1,s=n.a-i.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=qT(xT(e.r)),r=qT(xT(e.g)),a=qT(xT(e.b));return{r:vT(UT(i+n*(qT(xT(t.r))-i))),g:vT(UT(r+n*(qT(xT(t.g))-r))),b:vT(UT(a+n*(qT(xT(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new YT(this.rgb)}alpha(e){return this._rgb.a=vT(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=gT(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return HT(this._rgb,2,e),this}darken(e){return HT(this._rgb,2,-e),this}saturate(e){return HT(this._rgb,1,e),this}desaturate(e){return HT(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=ET(e);n[0]=MT(n[0]+t),n=LT(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function KT(e){return new YT(e)}function JT(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function XT(e){return JT(e)?e:KT(e)}function $T(e){return JT(e)?e:KT(e).saturate(.5).darken(.1).hexString()}const QT=Object.create(null),eL=Object.create(null);function tL(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function nL(e,t,n){return"string"===typeof t?wE(tL(e,t),n):wE(tL(e,""),t)}var iL=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>$T(t.backgroundColor),this.hoverBorderColor=(e,t)=>$T(t.borderColor),this.hoverColor=(e,t)=>$T(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return nL(this,e,t)}get(e){return tL(this,e)}describe(e,t){return nL(eL,e,t)}override(e,t){return nL(QT,e,t)}route(e,t,n,i){const r=tL(this,e),a=tL(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[i];return dE(e)?Object.assign({},t,e):pE(e,t)},set(e){this[o]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function rL(e,t,n,i,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i}function aL(e,t,n,i){let r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const s=n.length;let l,c,d,u,h;for(l=0;l<s;l++)if(u=n[l],void 0!==u&&null!==u&&!0!==cE(u))o=rL(e,r,a,o,u);else if(cE(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||cE(h)||(o=rL(e,r,a,o,h));e.restore();const p=a.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[a[l]];a.splice(0,p)}return o}function oL(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function sL(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function lL(e,t,n,i){cL(e,t,n,i,null)}function cL(e,t,n,i,r){let a,o,s,l,c,d;const u=t.pointStyle,h=t.rotation,p=t.radius;let f=(h||0)*LE;if(u&&"object"===typeof u&&(a=u.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,i),e.rotate(f),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),u){default:r?e.ellipse(n,i,r/2,p,0,0,IE):e.arc(n,i,p,0,IE),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(f)*p,i-Math.cos(f)*p),f+=DE,e.lineTo(n+Math.sin(f)*p,i-Math.cos(f)*p),f+=DE,e.lineTo(n+Math.sin(f)*p,i-Math.cos(f)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,o=Math.cos(f+RE)*l,s=Math.sin(f+RE)*l,e.arc(n-o,i-s,c,f-PE,f-ME),e.arc(n+s,i-o,c,f-ME,f),e.arc(n+o,i+s,c,f,f+ME),e.arc(n-s,i+o,c,f+ME,f+PE),e.closePath();break;case"rect":if(!h){l=Math.SQRT1_2*p,d=r?r/2:l,e.rect(n-d,i-l,2*d,2*l);break}f+=RE;case"rectRot":o=Math.cos(f)*p,s=Math.sin(f)*p,e.moveTo(n-o,i-s),e.lineTo(n+s,i-o),e.lineTo(n+o,i+s),e.lineTo(n-s,i+o),e.closePath();break;case"crossRot":f+=RE;case"cross":o=Math.cos(f)*p,s=Math.sin(f)*p,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"star":o=Math.cos(f)*p,s=Math.sin(f)*p,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o),f+=RE,o=Math.cos(f)*p,s=Math.sin(f)*p,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"line":o=r?r/2:Math.cos(f)*p,s=Math.sin(f)*p,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(f)*p,i+Math.sin(f)*p)}e.fill(),t.borderWidth>0&&e.stroke()}}function dL(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function uL(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function hL(e){e.restore()}function pL(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function fL(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function mL(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=cE(t)?t:[t],s=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]);lE(t.rotation)||e.rotate(t.rotation);t.color&&(e.fillStyle=t.color);t.textAlign&&(e.textAlign=t.textAlign);t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],s&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),lE(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,i,a.maxWidth)),e.fillText(c,n,i,a.maxWidth),gL(e,n,i,c,a),i+=r.lineHeight;e.restore()}function gL(e,t,n,i,r){if(r.strikethrough||r.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,d),e.lineTo(s,d),e.stroke()}}function bL(e,t){const{x:n,y:i,w:r,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-ME,PE,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,PE,ME,!0),e.lineTo(n+r-o.bottomRight,i+a),e.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,ME,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-ME,!0),e.lineTo(n+o.topLeft,i)}const yL=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),vL=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function xL(e,t){const n=(""+e).match(yL);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const wL=e=>+e||0;function jL(e,t){const n={},i=dE(t),r=i?Object.keys(t):t,a=dE(e)?i?n=>pE(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=wL(a(o));return n}function SL(e){return jL(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _L(e){return jL(e,["topLeft","topRight","bottomLeft","bottomRight"])}function kL(e){const t=SL(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function CL(e,t){e=e||{},t=t||iL.font;let n=pE(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=pE(e.style,t.style);i&&!(""+i).match(vL)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:pE(e.family,t.family),lineHeight:xL(pE(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:pE(e.weight,t.weight),string:""};return r.string=function(e){return!e||lE(e.size)||lE(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function AL(e,t,n,i){let r,a,o,s=!0;for(r=0,a=e.length;r<a;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&cE(o)&&(o=o[n%o.length],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}function NL(e,t){return Object.assign(Object.create(e),t)}function OL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];AE(i)||(i=zL("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>OL([r,...e],t,n,i)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>LL(n,i,()=>function(e,t,n,i){let r;for(const a of t)if(r=zL(EL(a,e),n),AE(r))return TL(e,r)?FL(n,i,e,r):r}(i,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>WL(e).includes(t),ownKeys:e=>WL(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function PL(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:IL(e,i),setContext:t=>PL(e,t,n,i),override:r=>PL(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>LL(e,t,()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=e;let s=i[t];NE(s)&&o.isScriptable(t)&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e),t=t(a,o||i),s.delete(e),TL(e,t)&&(t=FL(r._scopes,r,e,t));return t}(t,s,e,n));cE(s)&&s.length&&(s=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:s}=n;if(AE(a.index)&&i(e))t=t[a.index%t.length];else if(dE(t[0])){const n=t,i=r._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=FL(i,r,e,l);t.push(PL(n,a,o&&o[e],s))}}return t}(t,s,e,o.isIndexable));TL(t,s)&&(s=PL(s,r,a&&a[t],o));return s}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function IL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:NE(n)?n:()=>n,isIndexable:NE(i)?i:()=>i}}const EL=(e,t)=>e?e+CE(t):t,TL=(e,t)=>dE(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function LL(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function ML(e,t,n){return NE(e)?e(t,n):e}const RL=(e,t)=>!0===e?t:"string"===typeof e?kE(t,e):void 0;function DL(e,t,n,i,r){for(const a of t){const t=RL(n,a);if(t){e.add(t);const a=ML(t._fallback,n,r);if(AE(a)&&a!==n&&a!==i)return a}else if(!1===t&&AE(i)&&n!==i)return null}return!1}function FL(e,t,n,i){const r=t._rootScopes,a=ML(t._fallback,n,i),o=[...e,...r],s=new Set;s.add(i);let l=BL(s,o,n,a||n,i);return null!==l&&((!AE(a)||a===n||(l=BL(s,o,a,l,i),null!==l))&&OL(Array.from(s),[""],r,a,()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(cE(r)&&dE(n))return n;return r}(t,n,i)))}function BL(e,t,n,i,r){for(;n;)n=DL(e,t,n,i,r);return n}function zL(e,t){for(const n of t){if(!n)continue;const t=n[e];if(AE(t))return t}}function WL(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function UL(e,t,n,i){const{iScale:r}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,l,c,d;for(s=0,l=i;s<l;++s)c=s+n,d=t[c],o[s]={r:r.parse(kE(d,a),c)};return o}const qL=Number.EPSILON||1e-14,HL=(e,t)=>t<e.length&&!e[t].skip&&e[t],VL=e=>"x"===e?"y":"x";function GL(e,t,n,i){const r=e.skip?t:e,a=t,o=n.skip?t:n,s=YE(a,r),l=YE(o,a);let c=s/(s+l),d=l/(s+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=i*c,h=i*d;return{previous:{x:a.x-u*(o.x-r.x),y:a.y-u*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}}function ZL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=VL(t),i=e.length,r=Array(i).fill(0),a=Array(i);let o,s,l,c=HL(e,0);for(o=0;o<i;++o)if(s=l,l=c,c=HL(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}a[o]=s?c?BE(r[o-1])!==BE(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,a,o,s,l,c=HL(e,0);for(let d=0;d<i-1;++d)l=c,c=HL(e,d+1),l&&c&&(UE(t[d],0,qL)?n[d]=n[d+1]=0:(r=n[d]/t[d],a=n[d+1]/t[d],s=Math.pow(r,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[d]=r*o*t[d],n[d+1]=a*o*t[d])))}(e,r,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=VL(n),r=e.length;let a,o,s,l=HL(e,0);for(let c=0;c<r;++c){if(o=s,s=l,l=HL(e,c+1),!s)continue;const r=s[n],d=s[i];o&&(a=(r-o[n])/3,s["cp1".concat(n)]=r-a,s["cp1".concat(i)]=d-a*t[c]),l&&(a=(l[n]-r)/3,s["cp2".concat(n)]=r+a,s["cp2".concat(i)]=d+a*t[c])}}(e,a,t)}function YL(e,t,n){return Math.max(Math.min(e,n),t)}function KL(e,t,n,i,r){let a,o,s,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)ZL(e,r);else{let n=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],l=GL(n,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}t.capBezierPoints&&function(e,t){let n,i,r,a,o,s=dL(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=s,s=n<i-1&&dL(e[n+1],t),a&&(r=e[n],o&&(r.cp1x=YL(r.cp1x,t.left,t.right),r.cp1y=YL(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=YL(r.cp2x,t.left,t.right),r.cp2y=YL(r.cp2y,t.top,t.bottom)))}(e,n)}function JL(){return"undefined"!==typeof window&&"undefined"!==typeof document}function XL(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function $L(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const QL=e=>window.getComputedStyle(e,null);const eM=["top","right","bottom","left"];function tM(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=eM[r];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function nM(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=QL(n),a="border-box"===r.boxSizing,o=tM(r,"padding"),s=tM(r,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:a}=i;let o,s,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,a,e.target))o=r,s=a;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,s=i.clientY-e.top,l=!0}return{x:o,y:s,box:l}}(e,n),u=o.left+(d&&s.left),h=o.top+(d&&s.top);let{width:p,height:f}=t;return a&&(p-=o.width+s.width,f-=o.height+s.height),{x:Math.round((l-u)/p*n.width/i),y:Math.round((c-h)/f*n.height/i)}}const iM=e=>Math.round(10*e)/10;function rM(e,t,n,i){const r=QL(e),a=tM(r,"margin"),o=$L(r.maxWidth,e,"clientWidth")||TE,s=$L(r.maxHeight,e,"clientHeight")||TE,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const a=XL(e);if(a){const e=a.getBoundingClientRect(),o=QL(a),s=tM(o,"border","width"),l=tM(o,"padding");t=e.width-l.width-s.width,n=e.height-l.height-s.height,i=$L(o.maxWidth,a,"clientWidth"),r=$L(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||TE,maxHeight:r||TE}}(e,t,n);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const e=tM(r,"border","width"),t=tM(r,"padding");c-=t.width+e.width,d-=t.height+e.height}return c=Math.max(0,c-a.width),d=Math.max(0,i?Math.floor(c/i):d-a.height),c=iM(Math.min(c,o,l.maxWidth)),d=iM(Math.min(d,s,l.maxHeight)),c&&!d&&(d=iM(c/2)),{width:c,height:d}}function aM(e,t,n){const i=t||1,r=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=r/i,e.width=a/i;const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==a)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}const oM=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return e}();function sM(e,t){const n=function(e,t){return QL(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function lM(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function cM(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function dM(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=lM(e,r,n),s=lM(r,a,n),l=lM(a,t,n),c=lM(o,s,n),d=lM(s,l,n);return lM(c,d,n)}const uM=new Map;function hM(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=uM.get(n);return i||(i=new Intl.NumberFormat(e,t),uM.set(n,i)),i}(t,n).format(e)}function pM(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function fM(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function mM(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function gM(e){return"angle"===e?{between:XE,compare:KE,normalize:JE}:{between:QE,compare:(e,t)=>e-t,normalize:e=>e}}function bM(e){let{start:t,end:n,count:i,loop:r,style:a}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:a}}function yM(e,t,n){if(!n)return[e];const{property:i,start:r,end:a}=n,o=t.length,{compare:s,between:l,normalize:c}=gM(i),{start:d,end:u,loop:h,style:p}=function(e,t,n){const{property:i,start:r,end:a}=n,{between:o,normalize:s}=gM(i),l=t.length;let c,d,{start:u,end:h,loop:p}=e;if(p){for(u+=l,h+=l,c=0,d=l;c<d&&o(s(t[u%l][i]),r,a);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:p,style:e.style}}(e,t,n),f=[];let m,g,b,y=!1,v=null;const x=()=>y||l(r,b,m)&&0!==s(r,b),w=()=>!y||0===s(a,m)||l(a,b,m);for(let j=d,S=d;j<=u;++j)g=t[j%o],g.skip||(m=c(g[i]),m!==b&&(y=l(m,r,a),null===v&&x()&&(v=0===s(m,r)?j:S),null!==v&&w()&&(f.push(bM({start:v,end:j,loop:h,count:o,style:p})),v=null),S=j,b=m));return null!==v&&f.push(bM({start:v,end:u,loop:h,count:o,style:p})),f}function vM(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const a=yM(i[r],e.points,t);a.length&&n.push(...a)}return n}function xM(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),a=wM(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,l=n.length,c=[];let d=a,u=t[0].start,h=u;function p(e,t,i,r){const a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),d=r,u=t%l)}}for(const f of t){u=s?u:f.start;let e,t=n[u%l];for(h=u+1;h<=f.end;h++){const a=n[h%l];e=wM(i.setContext(NL(r,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),jM(e,d)&&p(u,h-1,f.loop,d),t=a,d=e}u<h-1&&p(u,h-1,f.loop,d)}return c}(e,t,n,i):t}function wM(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function jM(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var SM=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach(i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=oT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a,o=r.length-1,s=!1;for(;o>=0;--o)a=r[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(r[o]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const _M="transparent",kM={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=XT(e||_M),r=i.valid&&XT(t||_M);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class CM{constructor(e,t,n,i){const r=t[n];i=AL([e.to,i,r,e.from]);const a=AL([e.from,r,i]);this._active=!0,this._fn=e.fn||kM[e.type||typeof a],this._easing=mT[e.easing]||mT.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=AL([e.to,t,i,e.from]),this._from=AL([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let s;if(this._active=r!==o&&(a||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(r,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}iL.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const AM=Object.keys(iL.animation);iL.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),iL.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),iL.describe("animations",{_fallback:"animation"}),iL.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class NM{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!dE(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!dE(i))return;const r={};for(const e of AM)r[e]=i[e];(cE(i.properties)&&i.properties||[n]).forEach(e=>{e!==n&&t.has(e)||t.set(e,r)})})}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const l=a[s];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let d=r[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,o);continue}d.cancel()}u&&u.duration?(r[l]=d=new CM(u,e,l,c),i.push(d)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(SM.add(this._chart,n),!0):void 0}}function OM(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function PM(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function IM(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,a="single"===i.mode;let o,s,l,c;if(null!==t){for(o=0,s=r.length;o<s;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],uE(c)&&(a||0===t||BE(t)===BE(c))&&(t+=c)}return t}}function EM(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function TM(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function LM(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function MM(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,c=o.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,o,i),u=t.length;let h;for(let p=0;p<u;++p){const e=t[p],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=TM(r,d,n),h[s]=a,h._top=LM(h,o,!0,i.type),h._bottom=LM(h,o,!1,i.type)}}function RM(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function DM(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n]}}}const FM=e=>"reset"===e||"none"===e,BM=(e,t)=>t?e:Object.assign({},e);class zM{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=EM(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&DM(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=pE(n.xAxisID,RM(e,"x")),a=t.yAxisID=pE(n.yAxisID,RM(e,"y")),o=t.rAxisID=pE(n.rAxisID,RM(e,"r")),s=t.indexAxis,l=t.iAxisID=i(s,r,a,o),c=t.vAxisID=i(s,a,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&rT(this._data,this),e._stacked&&DM(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(dE(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i],n[i]={x:a,y:e[a]};return n}(t);else if(n!==t){if(n){rT(n,this);const e=this._cachedMeta;DM(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),iT.forEach(t=>{const n="_onData"+CE(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const o=i.apply(this,r);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[n]&&e[n](...r)}),o}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=EM(t.vScale,t),t.stack!==n.stack&&(i=!0,DM(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&MM(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,o=r.axis;let s,l,c,d=0===e&&t===i.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=cE(i[e])?this.parseArrayData(n,i,e,t):dE(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||u&&l[o]<u[o];for(s=0;s<t;++s)n._parsed[s+e]=l=c[s],d&&(r()&&(d=!1),u=l);n._sorted=d}a&&MM(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,o=r.axis,s=a.axis,l=r.getLabels(),c=r===a,d=new Array(i);let u,h,p;for(u=0,h=i;u<h;++u)p=u+n,d[u]={[o]:c||r.parse(l[p],p),[s]:a.parse(t[p],p)};return d}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,o=new Array(i);let s,l,c,d;for(s=0,l=i;s<l;++s)c=s+n,d=t[c],o[s]={x:r.parse(d[0],c),y:a.parse(d[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=t[u],l[c]={x:r.parse(kE(h,o),u),y:a.parse(kE(h,s),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis];return IM({keys:PM(i,!0),values:t._stacks[e.axis]},a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=IM(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:PM(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let u,h;function p(){h=i[u];const t=h[o.axis];return!uE(h[e.axis])||c>t||d<t}for(u=0;u<a&&(p()||(this.updateRangeFromParsed(l,e,h,s),!r));++u);if(r)for(u=a-1;u>=0;--u)if(!p()){this.updateRangeFromParsed(l,e,h,s);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],uE(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return dE(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(pE(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=OM(e,n),r=OM(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,s),c=o;c<o+s;++c){const t=i[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return NL(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return NL(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,a=e+"-"+t,o=r[a],s=this.enableOptionSharing&&AE(n);if(o)return BM(o,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(iL.elements[e]),p=l.resolveNamedOptions(u,h,()=>this.getContext(n,i),d);return p.$shared&&(p.$shared=s,r[a]=Object.freeze(BM(p,s))),p}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a="animation-".concat(t),o=r[a];if(o)return o;let s;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),a=i.getOptionScopes(this.getDataset(),r);s=i.createResolver(a,this.getContext(e,n,t))}const l=new NM(i,s&&s.animations);return s&&s._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||FM(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){FM(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!FM(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,s,l]of this._syncList)this[o](s,l);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&DM(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function WM(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=aT(i.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let i,r,a,o,s=t._length;const l=()=>{32767!==a&&-32768!==a&&(AE(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(i=0,r=n.length;i<r;++i)a=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),l();return s}function UM(e,t,n,i){return cE(e)?function(e,t,n,i){const r=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(r,a),s=Math.max(r,a);let l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:o,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function qM(e,t,n,i){const r=e.iScale,a=e.vScale,o=r.getLabels(),s=r===a,l=[];let c,d,u,h;for(c=n,d=n+i;c<d;++c)h=t[c],u={},u[r.axis]=s||r.parse(o[c],c),l.push(UM(h,u,a,c));return l}function HM(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function VM(e,t,n,i){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:l,top:c,bottom:d}=function(e){let t,n,i,r,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:t,top:r,bottom:a}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=d:(a[GM(d,o,s,l)]=!0,r=c)),a[GM(r,o,s,l)]=!0,e.borderSkipped=a}function GM(e,t,n,i){var r,a,o;return i?(o=n,e=ZM(e=(r=e)===(a=t)?o:r===o?a:r,n,t)):e=ZM(e,t,n),e}function ZM(e,t,n){return"start"===e?t:"end"===e?n:e}function YM(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}zM.defaults={},zM.prototype.datasetElementType=null,zM.prototype.dataElementType=null;class KM extends zM{parsePrimitiveData(e,t,n,i){return qM(e,t,n,i)}parseArrayData(e,t,n,i){return qM(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,l="x"===r.axis?o:s,c="x"===a.axis?o:s,d=[];let u,h,p,f;for(u=n,h=n+i;u<h;++u)f=t[u],p={},p[r.axis]=r.parse(kE(f,l),u),d.push(UM(kE(f,c),p,a,u));return d}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,o=HM(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:a,_cachedMeta:{vScale:o}}=this,s=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=r||lE(t[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||HM(t._custom)||a===f._top||a===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};u&&(m.options=d||this.resolveDataElementOptions(h,e[h].active?"active":i));const g=m.options||e[h].options;VM(m,g,f,a),YM(m,g,c.ratio),this.updateElement(e[h],h,m,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=n.options.stacked,a=[],o=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(lE(i)||isNaN(i))return!0};for(const s of i)if((void 0===t||!o(s))&&((!1===r||-1===a.indexOf(s.stack)||void 0===r&&void 0===s.stack)&&a.push(s.stack),s.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||WM(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n},options:{base:i,minBarLength:r}}=this,a=i||0,o=this.getParsed(e),s=o._custom,l=HM(s);let c,d,u=o[t.axis],h=0,p=n?this.applyStack(t,o,n):u;p!==u&&(h=p-u,p=u),l&&(u=s.barStart,p=s.barEnd-s.barStart,0!==u&&BE(u)!==BE(s.barEnd)&&(h=0),h+=u);const f=lE(i)||l?h:i;let m=t.getPixelForValue(f);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(h+p):m,d=c-m,Math.abs(d)<r){d=function(e,t,n){return 0!==e?BE(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,a)*r,u===a&&(m-=d/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),i=Math.min(e,n),o=Math.max(e,n);m=Math.max(Math.min(m,o),i),c=m+d}if(m===t.getPixelForValue(a)){const e=BE(d)*t.getLineWidthForValue(a)/2;m+=e,d-=e}return{size:d,base:m,head:c,center:c+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=pE(i.maxBarThickness,1/0);let o,s;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,a=r[e];let o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let a,o;return lE(r)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[e]-a/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,s=Math.min(a,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(a,t.min*t.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}KM.id="bar",KM.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},KM.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class JM extends zM{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=pE(e[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let a=0;a<r.length;a++){const e=t[n+a];r[a]._custom=pE(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:i}=t,r=this.getParsed(e),a=n.getLabelForValue(r.x),o=i.getLabelForValue(r.y),s=r._custom;return{label:t.label,value:"("+a+", "+o+(s?", "+s:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:l}=this._getSharedOptions(t,i),c=a.axis,d=o.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!r&&this.getParsed(u),h={},p=h[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),f=h[d]=r?o.getBasePixel():o.getPixelForValue(n[d]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=s||this.resolveDataElementOptions(u,t.active?"active":i),r&&(h.options.radius=0)),this.updateElement(t,u,h,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=pE(n&&n._custom,r),i}}JM.id="bubble",JM.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},JM.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class XM extends zM{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,a,o=e=>+n[e];if(dE(n[e])){const{key:e="value"}=this._parsing;o=t=>+kE(n[t],e)}for(r=e,a=e+t;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return HE(this.options.rotation-90)}_getCircumference(){return HE(this.options.circumference)}_getRotationExtents(){let e=IE,t=-IE;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t)(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:p,offsetY:f}=function(e,t,n){let i=1,r=1,a=0,o=0;if(t<IE){const s=e,l=s+t,c=Math.cos(s),d=Math.sin(s),u=Math.cos(l),h=Math.sin(l),p=(e,t,i)=>XE(e,s,l,!0)?1:Math.max(t,t*n,i,i*n),f=(e,t,i)=>XE(e,s,l,!0)?-1:Math.min(t,t*n,i,i*n),m=p(0,c,u),g=p(ME,d,h),b=f(PE,c,u),y=f(PE+ME,d,h);i=(m-b)/2,r=(g-y)/2,a=-(m+b)/2,o=-(g+y)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}(d,c,s),m=(n.width-a)/u,g=(n.height-a)/h,b=Math.max(Math.min(m,g)/2,0),y=fE(this.options.radius,b),v=(y-Math.max(y*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=f*y,i.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/IE)}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.chartArea,s=a.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=r&&s.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,i);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,r);for(m=t;m<t+n;++m){const t=this._circumference(m,r),n=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};f&&(a.options=p||this.resolveDataElementOptions(m,n.active?"active":i)),g+=t,this.updateElement(n,m,a,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?IE*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=hM(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,o,s;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)s=o.resolveDataElementOptions(i),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(pE(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}XM.id="doughnut",XM.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},XM.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},XM.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return cE(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class $M extends zM{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=dT(t,i,a);this._drawStart=o,this._drawCount=s,uT(t)&&(o=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(i,o,s,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,i),u=a.axis,h=o.axis,{spanGaps:p,segment:f}=this.options,m=WE(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),p=g?t:{},v=lE(n[h]),x=p[u]=a.getPixelForValue(n[u],y),w=p[h]=r||v?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[h],y);p.skip=isNaN(x)||isNaN(w)||v,p.stop=y>0&&Math.abs(n[u]-b[u])>m,f&&(p.parsed=n,p.raw=l.data[y]),d&&(p.options=c||this.resolveDataElementOptions(y,t.active?"active":i)),g||this.updateElement(t,y,p,i),b=n}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$M.id="line",$M.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},$M.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class QM extends zM{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=hM(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return UL.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),a=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,c=s.yCenter,d=s.getIndexAngle(0)-.5*PE;let u,h=d;const p=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,i,p);for(u=t;u<t+n;u++){const t=e[u];let n=h,f=h+this._computeAngle(u,i,p),m=a.getDataVisibility(u)?s.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=f,r&&(o.animateScale&&(m=0),o.animateRotate&&(n=f=d));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(u,t.active?"active":i)};this.updateElement(t,u,g,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?HE(this.resolveDataElementOptions(e,t).angle||n):0}}QM.id="polarArea",QM.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},QM.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class eR extends XM{}eR.id="pie",eR.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class tR extends zM{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return UL.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,a="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),s=r.getPointPositionForValue(o,this.getParsed(o).r),l=a?r.xCenter:s.x,c=a?r.yCenter:s.y,d={x:l,y:c,angle:s.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,d,i)}}}tR.id="radar",tR.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},tR.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class nR{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return WE(this.x)&&WE(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),i}}nR.defaults={},nR.defaultRoutes=void 0;const iR={values:e=>cE(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=FE(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),hM(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(FE(e)));return 1===i||2===i||5===i?iR.numeric.call(this,e,t,n):""}};var rR={formatters:iR};function aR(e,t){const n=e.options.ticks,i=n.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],a=r.length,o=r[0],s=r[a-1],l=[];if(a>i)return function(e,t,n,i){let r,a=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),a++,o=n[a*i])}(t,l,r,a/i),l;const c=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const a=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(i);for(let o=0,s=a.length-1;o<s;o++){const e=a[o];if(e>r)return e}return Math.max(r,1)}(r,t,i);if(a>0){let e,n;const i=a>1?Math.round((s-o)/(a-1)):null;for(oR(t,l,c,lE(i)?0:o-i,o),e=0,n=a-1;e<n;e++)oR(t,l,c,r[e],r[e+1]);return oR(t,l,c,s,lE(i)?t.length:s+i),l}return oR(t,l,c),l}function oR(e,t,n,i,r){const a=pE(i,0),o=Math.min(pE(r,e.length),e.length);let s,l,c,d=0;for(n=Math.ceil(n),r&&(s=r-i,n=s/Math.floor(s/n)),c=a;c<0;)d++,c=Math.round(a+d*n);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*n))}iL.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),iL.route("scale.ticks","color","","color"),iL.route("scale.grid","color","","borderColor"),iL.route("scale.grid","borderColor","","borderColor"),iL.route("scale.title","color","","color"),iL.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),iL.describe("scales",{_fallback:"scale"}),iL.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const sR=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function lR(e,t){const n=[],i=e.length/t,r=e.length;let a=0;for(;a<r;a+=i)n.push(e[Math.floor(a)]);return n}function cR(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<a-s||c>o+s)))return c}function dR(e){return e.drawTicks?e.tickLength:0}function uR(e,t){if(!e.display)return 0;const n=CL(e.font,t),i=kL(e.padding);return(cE(e.text)?e.text.length:1)*n.lineHeight+i.height}function hR(e,t,n){let i=lT(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class pR extends nR{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=hE(e,Number.POSITIVE_INFINITY),t=hE(t,Number.NEGATIVE_INFINITY),n=hE(n,Number.POSITIVE_INFINITY),i=hE(i,Number.NEGATIVE_INFINITY),{min:hE(e,n),max:hE(t,i),minDefined:uE(e),maxDefined:uE(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let s=0,l=o.length;s<l;++s)t=o[s].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),a||(i=Math.max(i,t.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:hE(n,hE(i,n)),max:hE(i,hE(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mE(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,a=fE(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(a)),max:o(r,a)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?lR(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=aR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mE(this.options.afterUpdate,[this])}beforeSetDimensions(){mE(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mE(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mE(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mE(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=mE(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){mE(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mE(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,r=t.maxRotation;let a,o,s,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=$E(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),d+6>a&&(a=h/(n-(e.offset?.5:1)),o=this.maxHeight-dR(e.grid)-t.padding-uR(e.title,this.chart.options.font),s=Math.sqrt(d*d+u*u),l=VE(Math.min(Math.asin($E((c.highest.height+6)/a,-1,1)),Math.asin($E(o/s,-1,1))-Math.asin($E(u/s,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){mE(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mE(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=uR(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=dR(r)+a):(e.height=this.maxHeight,e.width=dR(r)+a),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:a}=this._getLabelSizes(),s=2*n.padding,l=HE(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(o){const t=n.mirror?0:d*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:c*r.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,i,d,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:o}=this.options,s=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;s?l?(d=i*e.width,u=n*t.height):(d=n*e.height,u=i*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mE(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)lE(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=lR(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:i}=this,r=[],a=[];let o,s,l,c,d,u,h,p,f,m,g,b=0,y=0;for(o=0;o<t;++o){if(c=e[o].label,d=this._resolveTickFontOptions(o),n.font=u=d.string,h=i[u]=i[u]||{data:{},gc:[]},p=d.lineHeight,f=m=0,lE(c)||cE(c)){if(cE(c))for(s=0,l=c.length;s<l;++s)g=c[s],lE(g)||cE(g)||(f=rL(n,h.data,h.gc,f,g),m+=p)}else f=rL(n,h.data,h.gc,f,c),m=p;r.push(f),a.push(m),b=Math.max(f,b),y=Math.max(m,y)}!function(e,t){gE(e,e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}(i,t);const v=r.indexOf(b),x=a.indexOf(y),w=e=>({width:r[e]||0,height:a[e]||0});return{first:w(0),last:w(t-1),widest:w(v),highest:w(x),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return $E(e,-32768,32767)}(this._alignToPixels?oL(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return NL(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=NL(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=HE(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a}=i,o=r.offset,s=this.isHorizontal(),l=this.ticks.length+(o?1:0),c=dR(r),d=[],u=r.setContext(this.getContext()),h=u.drawBorder?u.borderWidth:0,p=h/2,f=function(e){return oL(n,e,h)};let m,g,b,y,v,x,w,j,S,_,k,C;if("top"===a)m=f(this.bottom),x=this.bottom-c,j=m-p,_=f(e.top)+p,C=e.bottom;else if("bottom"===a)m=f(this.top),_=e.top,C=f(e.bottom)-p,x=m+p,j=this.top+c;else if("left"===a)m=f(this.right),v=this.right-c,w=m-p,S=f(e.left)+p,k=e.right;else if("right"===a)m=f(this.left),S=e.left,k=f(e.right)-p,v=m+p,w=this.left+c;else if("x"===t){if("center"===a)m=f((e.top+e.bottom)/2+.5);else if(dE(a)){const e=Object.keys(a)[0],t=a[e];m=f(this.chart.scales[e].getPixelForValue(t))}_=e.top,C=e.bottom,x=m+p,j=x+c}else if("y"===t){if("center"===a)m=f((e.left+e.right)/2);else if(dE(a)){const e=Object.keys(a)[0],t=a[e];m=f(this.chart.scales[e].getPixelForValue(t))}v=m-p,w=v-c,S=e.left,k=e.right}const A=pE(i.ticks.maxTicksLimit,l),N=Math.max(1,Math.ceil(l/A));for(g=0;g<l;g+=N){const e=r.setContext(this.getContext(g)),t=e.lineWidth,i=e.color,a=e.borderDash||[],l=e.borderDashOffset,c=e.tickWidth,u=e.tickColor,h=e.tickBorderDash||[],p=e.tickBorderDashOffset;b=cR(this,g,o),void 0!==b&&(y=oL(n,b,t),s?v=w=S=k=y:x=j=_=C=y,d.push({tx1:v,ty1:x,tx2:w,ty2:j,x1:S,y1:_,x2:k,y2:C,width:t,color:i,borderDash:a,borderDashOffset:l,tickWidth:c,tickColor:u,tickBorderDash:h,tickBorderDashOffset:p}))}return this._ticksLength=l,this._borderValue=m,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),o=this.ticks,{align:s,crossAlign:l,padding:c,mirror:d}=r,u=dR(n.grid),h=u+c,p=d?-c:h,f=-HE(this.labelRotation),m=[];let g,b,y,v,x,w,j,S,_,k,C,A,N="middle";if("top"===i)w=this.bottom-p,j=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+p,j=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,x=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,x=e.x}else if("x"===t){if("center"===i)w=(e.top+e.bottom)/2+h;else if(dE(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)x=(e.left+e.right)/2-h;else if(dE(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===s?N="top":"end"===s&&(N="bottom"));const O=this._getLabelSizes();for(g=0,b=o.length;g<b;++g){y=o[g],v=y.label;const e=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,_=this._resolveTickFontOptions(g),k=_.lineHeight,C=cE(v)?v.length:1;const t=C/2,n=e.color,s=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(a?(x=S,"inner"===j&&(h=g===b-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),A="top"===i?"near"===l||0!==f?-C*k+k/2:"center"===l?-O.highest.height/2-t*k+k:-O.highest.height+k/2:"near"===l||0!==f?k/2:"center"===l?O.highest.height/2-t*k:O.highest.height-C*k,d&&(A*=-1)):(w=S,A=(1-C)*k/2),e.showLabelBackdrop){const t=kL(e.backdropPadding),n=O.heights[g],i=O.widths[g];let r=w+A-t.top,a=x-t.left;switch(N){case"middle":r-=n/2;break;case"bottom":r-=n}switch(j){case"center":a-=i/2;break;case"right":a-=i}u={left:a,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}m.push({rotation:f,label:v,font:_,color:n,strokeColor:s,strokeWidth:c,textOffset:A,textAlign:h,textBaseline:N,translation:[x,w],backdrop:u})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-HE(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=e+r,o=this._getLabelSizes().widest.width;let s,l;return"left"===t?i?(l=this.right+r,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l+=o)):(l=this.right-a,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?s="right":"center"===n?(s="center",l-=o/2):(s="left",l-=o)):(l=this.left+a,"near"===n?s="left":"center"===n?(s="center",l+=o/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,i=n.setContext(this.getContext()),r=n.drawBorder?i.borderWidth:0;if(!r)return;const a=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let s,l,c,d;this.isHorizontal()?(s=oL(e,this.left,r)-r/2,l=oL(e,this.right,a)+a/2,c=d=o):(c=oL(e,this.top,r)-r/2,d=oL(e,this.bottom,a)+a/2,s=l=o),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(s,c),t.lineTo(l,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&uL(t,n);const i=this._labelItems||(this._labelItems=this._computeLabelItems(e));let r,a;for(r=0,a=i.length;r<a;++r){const e=i[r],n=e.font,a=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),mL(t,a,0,e.textOffset,n,e)}n&&hL(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=CL(n.font),a=kL(n.padding),o=n.align;let s=r.lineHeight/2;"bottom"===t||"center"===t||dE(t)?(s+=a.bottom,cE(n.text)&&(s+=r.lineHeight*(n.text.length-1))):s+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,i){const{top:r,left:a,bottom:o,right:s,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,p,f=0;const m=o-r,g=s-a;if(e.isHorizontal()){if(h=cT(i,a,s),dE(n)){const e=Object.keys(n)[0],i=n[e];p=d[e].getPixelForValue(i)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:sR(e,n,t);u=s-a}else{if(dE(n)){const e=Object.keys(n)[0],i=n[e];h=d[e].getPixelForValue(i)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:sR(e,n,t);p=cT(i,o,r),f="left"===n?-ME:ME}return{titleX:h,titleY:p,maxWidth:u,rotation:f}}(this,s,t,o);mL(e,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:u,textAlign:hR(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=pE(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===pR.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[n]!==this.id||e&&a.type!==e||i.push(a)}return i}_resolveTickFontOptions(e){return CL(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fR{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=wE(Object.create(null),[n?iL.get(n):{},iL.get(t),e.defaults]);iL.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");iL.route(a,r,l,s)})}(t,e.defaultRoutes);e.descriptors&&iL.describe(t,e.descriptors)}(e,a,n),this.override&&iL.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in iL[i]&&(delete iL[i][n],this.override&&delete QT[n])}}var mR=new class{constructor(){this.controllers=new fR(zM,"datasets",!0),this.elements=new fR(nR,"elements"),this.plugins=new fR(Object,"plugins"),this.scales=new fR(pR,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):gE(t,t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,n){const i=CE(e);mE(n["before"+i],[],n),t[e](n),mE(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}};class gR extends zM{update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:a}=dT(t,n,i);if(this._drawStart=r,this._drawCount=a,uT(t)&&(r=0,a=n.length),this.options.showLine){const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}this.updateElements(n,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=mR.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o,_stacked:s,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),d=this.getSharedOptions(c),u=this.includeOptions(i,d),h=a.axis,p=o.axis,{spanGaps:f,segment:m}=this.options,g=WE(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||"none"===i;let y=t>0&&this.getParsed(t-1);for(let v=t;v<t+n;++v){const t=e[v],n=this.getParsed(v),c=b?t:{},f=lE(n[p]),x=c[h]=a.getPixelForValue(n[h],v),w=c[p]=r||f?o.getBasePixel():o.getPixelForValue(s?this.applyStack(o,n,s):n[p],v);c.skip=isNaN(x)||isNaN(w)||f,c.stop=v>0&&Math.abs(n[h]-y[h])>g,m&&(c.parsed=n,c.raw=l.data[v]),u&&(c.options=d||this.resolveDataElementOptions(v,t.active?"active":i)),b||this.updateElement(t,v,c,i),y=n}this.updateSharedOptions(d,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,a)/2}}gR.id="scatter",gR.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},gR.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var bR=Object.freeze({__proto__:null,BarController:KM,BubbleController:JM,DoughnutController:XM,LineController:$M,PolarAreaController:QM,PieController:eR,RadarController:tR,ScatterController:gR});function yR(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vR{constructor(e){this.options=e||{}}init(e){}formats(){return yR()}parse(e,t){return yR()}format(e,t){return yR()}add(e,t,n){return yR()}diff(e,t,n){return yR()}startOf(e,t,n){return yR()}endOf(e,t){return yR()}}vR.override=function(e){Object.assign(vR.prototype,e)};var xR={_date:vR};function wR(e,t,n,i){const{controller:r,data:a,_sorted:o}=e,s=r._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const e=s._reversePixels?nT:tT;if(!i)return e(a,t,n);if(r._sharedOptions){const i=a[0],r="function"===typeof i.getRange&&i.getRange(t);if(r){const i=e(a,t,n-r),o=e(a,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function jR(e,t,n,i,r){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let s=0,l=a.length;s<l;++s){const{index:e,data:n}=a[s],{lo:l,hi:c}=wR(a[s],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function SR(e,t,n,i,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return jR(e,n,t,function(n,o,s){(r||dL(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&a.push({element:n,datasetIndex:o,index:s})},!0),a}function _R(e,t,n,i,r,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return jR(e,n,t,function(n,c,d){const u=n.inRange(t.x,t.y,r);if(i&&!u)return;const h=n.getCenterPoint(r);if(!(!!a||e.isPointInArea(h))&&!u)return;const p=s(t,h);p<l?(o=[{element:n,datasetIndex:c,index:d}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:d})}),o}function kR(e,t,n,i,r,a){return a||e.isPointInArea(t)?"r"!==n||i?_R(e,t,n,i,r,a):function(e,t,n,i){let r=[];return jR(e,n,t,function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],i),{angle:l}=ZE(e,{x:t.x,y:t.y});XE(l,o,s)&&r.push({element:e,datasetIndex:n,index:a})}),r}(e,t,n,r):[]}function CR(e,t,n,i,r){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return jR(e,n,t,(e,i,l)=>{e[o](t[n],r)&&(a.push({element:e,datasetIndex:i,index:l}),s=s||e.inRange(t.x,t.y,r))}),i&&!s?[]:a}var AR={evaluateInteractionItems:jR,modes:{index(e,t,n,i){const r=nM(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?SR(e,r,a,i,o):kR(e,r,a,!1,i,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,i){const r=nM(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?SR(e,r,a,i,o):kR(e,r,a,!1,i,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>SR(e,nM(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=nM(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return kR(e,r,a,n.intersect,i,o)},x:(e,t,n,i)=>CR(e,nM(t,e),"x",n.intersect,i),y:(e,t,n,i)=>CR(e,nM(t,e),"y",n.intersect,i)}};const NR=["left","top","right","bottom"];function OR(e,t){return e.filter(e=>e.pos===t)}function PR(e,t){return e.filter(e=>-1===NR.indexOf(e.pos)&&e.box.axis===t)}function IR(e,t){return e.sort((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function ER(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!NR.includes(i))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*i:o&&t.availableWidth,s.height=r):(s.width=i,s.height=c?c*r:o&&t.availableHeight)}return n}function TR(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function LR(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function MR(e,t,n,i){const{pos:r,box:a}=n,o=e.maxPadding;if(!dE(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[r]+=n.size}a.getPadding&&LR(o,a.getPadding());const s=Math.max(0,t.outerWidth-TR(o,e,"left","right")),l=Math.max(0,t.outerHeight-TR(o,e,"top","bottom")),c=s!==e.w,d=l!==e.h;return e.w=s,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function RR(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],n[e])}),i}return i(e?["left","right"]:["top","bottom"])}function DR(e,t,n,i){const r=[];let a,o,s,l,c,d;for(a=0,o=e.length,c=0;a<o;++a){s=e[a],l=s.box,l.update(s.width||t.w,s.height||t.h,RR(s.horizontal,t));const{same:o,other:u}=MR(t,n,s,i);c|=o&&r.length,d=d||u,l.fullSize||r.push(s)}return c&&DR(r,t,n,i)||d}function FR(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function BR(e,t,n,i){const r=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,l=i[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const i=t.w*c,a=l.size||e.height;AE(l.start)&&(o=l.start),e.fullSize?FR(e,r.left,o,n.outerWidth-r.right-r.left,a):FR(e,t.left+l.placed,o,i,a),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;AE(l.start)&&(a=l.start),e.fullSize?FR(e,a,r.top,o,n.outerHeight-r.bottom-r.top):FR(e,a,t.top+l.placed,o,i),l.start=a,l.placed+=i,a=e.right}}t.x=a,t.y=o}iL.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var zR={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=kL(e.options.layout.padding),a=Math.max(t-r.width,0),o=Math.max(n-r.height,0),s=function(e){const t=function(e){const t=[];let n,i,r,a,o,s;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=r),t.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=IR(t.filter(e=>e.box.fullSize),!0),i=IR(OR(t,"left"),!0),r=IR(OR(t,"right")),a=IR(OR(t,"top"),!0),o=IR(OR(t,"bottom")),s=PR(t,"x"),l=PR(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(l).concat(o).concat(s),chartArea:OR(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,c=s.horizontal;gE(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},r);LR(h,kL(i));const p=Object.assign({maxPadding:h,w:a,h:o,x:r.left,y:r.top},r),f=ER(l.concat(c),u);DR(s.fullSize,p,u,f),DR(l,p,u,f),DR(c,p,u,f)&&DR(l,p,u,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),BR(s.leftAndTop,p,u,f),p.x+=p.w,p.y+=p.h,BR(s.rightAndBottom,p,u,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},gE(s.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class WR{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class UR extends WR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const qR="$chartjs",HR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},VR=e=>null===e||""===e;const GR=!!oM&&{passive:!0};function ZR(e,t,n){e.canvas.removeEventListener(t,n,GR)}function YR(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function KR(e,t,n){const i=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||YR(n.addedNodes,i),t=t&&!YR(n.removedNodes,i);t&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function JR(e,t,n){const i=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||YR(n.removedNodes,i),t=t&&!YR(n.addedNodes,i);t&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const XR=new Map;let $R=0;function QR(){const e=window.devicePixelRatio;e!==$R&&($R=e,XR.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function eD(e,t,n){const i=e.canvas,r=i&&XL(i);if(!r)return;const a=sT((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()},window),o=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||a(n,i)});return o.observe(r),function(e,t){XR.size||window.addEventListener("resize",QR),XR.set(e,t)}(e,a),o}function tD(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){XR.delete(e),XR.size||window.removeEventListener("resize",QR)}(e)}function nD(e,t,n){const i=e.canvas,r=sT(t=>{null!==e.ctx&&n(function(e,t){const n=HR[e.type]||e.type,{x:i,y:r}=nM(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))},e,e=>{const t=e[0];return[t,t.offsetX,t.offsetY]});return function(e,t,n){e.addEventListener(t,n,GR)}(i,t,r),r}class iD extends WR{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[qR]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",VR(r)){const t=sM(e,"width");void 0!==t&&(e.width=t)}if(VR(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=sM(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[qR])return!1;const n=t[qR].initial;["height","width"].forEach(e=>{const i=n[e];lE(i)?t.removeAttribute(e):t.setAttribute(e,i)});const i=n.style||{};return Object.keys(i).forEach(e=>{t.style[e]=i[e]}),t.width=t.width,delete t[qR],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:KR,detach:JR,resize:eD}[t]||nD;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:tD,detach:tD,resize:tD}[t]||ZR)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return rM(e,t,n,i)}isAttached(e){const t=XL(e);return!(!t||!t.isConnected)}}class rD{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===mE(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){lE(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=pE(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(mR.plugins.items);for(let a=0;a<i.length;a++)n.push(mR.getPlugin(i[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const e=r[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:a}=t;const o=[],s=e.getContext();for(const l of r){const t=l.id,r=aD(n[t],i);null!==r&&o.push({plugin:l,options:oD(e.config,{plugin:l,local:a[t]},r,s)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function aD(e,t){return t||!1!==e?!0===e?{}:e:null}function oD(e,t,n,i){let{plugin:r,local:a}=t;const o=e.pluginScopeKeys(r),s=e.getOptionScopes(n,o);return a&&r.defaults&&s.push(r.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sD(e,t){const n=iL.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function lD(e,t){return"x"===e||"y"===e?e:t.axis||function(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}(t.position)||e.charAt(0).toLowerCase()}function cD(e){const t=e.options||(e.options={});t.plugins=pE(t.plugins,{}),t.scales=function(e,t){const n=QT[e.type]||{scales:{}},i=t.scales||{},r=sD(e.type,t),a=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(e=>{const t=i[e];if(!dE(t))return console.error("Invalid scale configuration for scale: ".concat(e));if(t._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const s=lD(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(s,r),c=n.scales||{};a[s]=a[s]||e,o[e]=jE(Object.create(null),[{axis:s},t,c[s],c[l]])}),e.data.datasets.forEach(n=>{const r=n.type||e.type,s=n.indexAxis||sD(r,t),l=(QT[r]||{}).scales||{};Object.keys(l).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),r=n[t+"AxisID"]||a[t]||t;o[r]=o[r]||Object.create(null),jE(o[r],[{axis:t},i[r],l[e]])})}),Object.keys(o).forEach(e=>{const t=o[e];jE(t,[iL.scales[t.type],iL.scale])}),o}(e,t)}function dD(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const uD=new Map,hD=new Set;function pD(e,t){let n=uD.get(e);return n||(n=t(),uD.set(e,n),hD.add(n)),n}const fD=(e,t,n)=>{const i=kE(t,n);void 0!==i&&e.add(i)};class mD{constructor(e){this._config=function(e){return(e=e||{}).data=dD(e.data),cD(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pD(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return pD("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return pD("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return pD("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach(t=>{e&&(s.add(e),t.forEach(t=>fD(s,e,t))),t.forEach(e=>fD(s,i,e)),t.forEach(e=>fD(s,QT[r]||{},e)),t.forEach(e=>fD(s,iL,e)),t.forEach(e=>fD(s,eL,e))});const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),hD.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,QT[t]||{},iL.datasets[t]||{},{type:t},iL,eL]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:a,subPrefixes:o}=gD(this._resolverCache,e,i);let s=a;if(function(e,t){const{isScriptable:n,isIndexable:i}=IL(e);for(const r of t){const t=n(r),a=i(r),o=(a||t)&&e[r];if(t&&(NE(o)||bD(o))||a&&cE(o))return!0}return!1}(a,t)){r.$shared=!1;s=PL(a,n=NE(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=s[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=gD(this._resolverCache,e,n);return dE(t)?PL(r,t,void 0,i):r}}function gD(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let a=i.get(r);if(!a){a={resolver:OL(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},i.set(r,a)}return a}const bD=e=>dE(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||NE(e[n]),!1);const yD=["top","bottom","left","right","chartArea"];function vD(e,t){return"top"===e||"bottom"===e||-1===yD.indexOf(e)&&"x"===t}function xD(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function wD(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),mE(n&&n.onComplete,[e],t)}function jD(e){const t=e.chart,n=t.options.animation;mE(n&&n.onProgress,[e],t)}function SD(e){return JL()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const _D={},kD=e=>{const t=SD(e);return Object.values(_D).filter(e=>e.canvas===t).pop()};function CD(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}class AD{constructor(e,t){const n=this.config=new mD(t),i=SD(e),r=kD(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!JL()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?UR:iD}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),s=o&&o.canvas,l=s&&s.height,c=s&&s.width;this.id=sE(),this.ctx=o,this.canvas=s,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],_D[this.id]=this,o&&s?(SM.listen(this,"complete",wD),SM.listen(this,"progress",jD),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return lE(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():aM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sL(this.canvas,this.ctx),this}stop(){return SM.stop(this),this}resize(e,t){SM.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,aM(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),mE(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){gE(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let r=[];t&&(r=r.concat(Object.keys(t).map(e=>{const n=t[e],i=lD(e,n),r="r"===i,a="x"===i;return{options:n,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),gE(r,t=>{const r=t.options,a=r.id,o=lD(a,r),s=pE(r.type,t.dtype);void 0!==r.position&&vD(r.position,o)===vD(t.dposition)||(r.position=t.dposition),i[a]=!0;let l=null;if(a in n&&n[a].type===s)l=n[a];else{l=new(mR.getScale(s))({id:a,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)}),gE(i,(e,t)=>{e||delete n[t]}),gE(n,e=>{zR.configure(this,e,e.options),zR.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(xD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const a=i.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=i.indexAxis||sD(a,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=mR.getController(a),{datasetElementType:i,dataElementType:o}=iL.datasets[a];Object.assign(t.prototype,{dataElementType:mR.getElement(o),datasetElementType:i&&mR.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){gE(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||gE(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xD("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){gE(this.scales,e=>{zR.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);OE(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){CD(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=n(0);for(let r=1;r<t;r++)if(!OE(i,n(r)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;zR.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],gE(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,NE(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(SM.has(this)?this.attached&&!SM.running(this)&&SM.start(this):(this.draw(),wD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&uL(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&hL(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return dL(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=AR.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=NL(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);AE(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),SM.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sL(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete _D[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};gE(this.options.events,e=>n(e,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){gE(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},gE(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,o,s;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}});!bE(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),o=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,o=this._getActiveElements(e,i,n,a),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,mE(r.onHover,[e,o,this],this),s&&mE(r.onClick,[e,o,this],this));const c=!bE(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}const ND=()=>gE(AD.instances,e=>e._plugins.invalidate()),OD=!0;function PD(e,t,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:s,innerRadius:l}=t;let c=r/s;e.beginPath(),e.arc(a,o,s,i-c,n+c),l>r?(c=r/l,e.arc(a,o,l,n+c,i-c,!0)):e.arc(a,o,r,n+ME,i-ME),e.closePath(),e.clip()}function ID(e,t,n,i){const r=function(e){return jL(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(n-t)/2,o=Math.min(a,i*t/2),s=e=>{const t=(n-Math.min(a,e))*i/2;return $E(e,0,Math.min(a,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:$E(r.innerStart,0,o),innerEnd:$E(r.innerEnd,0,o)}}function ED(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function TD(e,t,n,i,r,a){const{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+i+n-c,0),h=d>0?d+i+n+c:0;let p=0;const f=r-l;if(i){const e=((d>0?d-i:0)+(u>0?u-i:0))/2;p=(f-(0!==e?f*e/(e+i):f))/2}const m=(f-Math.max(.001,f*u-n/PE)/u)/2,g=l+m+p,b=r-m-p,{outerStart:y,outerEnd:v,innerStart:x,innerEnd:w}=ID(t,h,u,b-g),j=u-y,S=u-v,_=g+y/j,k=b-v/S,C=h+x,A=h+w,N=g+x/C,O=b-w/A;if(e.beginPath(),a){if(e.arc(o,s,u,_,k),v>0){const t=ED(S,k,o,s);e.arc(t.x,t.y,v,k,b+ME)}const t=ED(A,b,o,s);if(e.lineTo(t.x,t.y),w>0){const t=ED(A,O,o,s);e.arc(t.x,t.y,w,b+ME,O+Math.PI)}if(e.arc(o,s,h,b-w/h,g+x/h,!0),x>0){const t=ED(C,N,o,s);e.arc(t.x,t.y,x,N+Math.PI,g-ME)}const n=ED(j,g,o,s);if(e.lineTo(n.x,n.y),y>0){const t=ED(j,_,o,s);e.arc(t.x,t.y,y,g-ME,_)}}else{e.moveTo(o,s);const t=Math.cos(_)*u+o,n=Math.sin(_)*u+s;e.lineTo(t,n);const i=Math.cos(k)*u+o,r=Math.sin(k)*u+s;e.lineTo(i,r)}e.closePath()}function LD(e,t,n,i,r,a){const{options:o}=t,{borderWidth:s,borderJoinStyle:l}=o,c="inner"===o.borderAlign;s&&(c?(e.lineWidth=2*s,e.lineJoin=l||"round"):(e.lineWidth=s,e.lineJoin=l||"bevel"),t.fullCircles&&function(e,t,n){const{x:i,y:r,startAngle:a,pixelMargin:o,fullCircles:s}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let d;for(n&&PD(e,t,a+IE),e.beginPath(),e.arc(i,r,c,a+IE,a,!0),d=0;d<s;++d)e.stroke();for(e.beginPath(),e.arc(i,r,l,a,a+IE),d=0;d<s;++d)e.stroke()}(e,t,c),c&&PD(e,t,r),TD(e,t,n,i,r,a),e.stroke())}Object.defineProperties(AD,{defaults:{enumerable:OD,value:iL},instances:{enumerable:OD,value:_D},overrides:{enumerable:OD,value:QT},registry:{enumerable:OD,value:mR},version:{enumerable:OD,value:"3.9.1"},getChart:{enumerable:OD,value:kD},register:{enumerable:OD,value:function(){mR.add(...arguments),ND()}},unregister:{enumerable:OD,value:function(){mR.remove(...arguments),ND()}}});class MD extends nR{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=ZE(i,{x:e,y:t}),{startAngle:o,endAngle:s,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=this.options.spacing/2,h=pE(d,s-o)>=IE||XE(r,o,s),p=QE(a,l+u,c+u);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:s,spacing:l}=this.options,c=(i+r)/2,d=(a+o+l+s)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/2,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>IE?Math.floor(n/IE):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(i){o=i/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*o,Math.sin(t)*o),this.circumference>=PE&&(o=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const s=function(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s}=t;let l=t.endAngle;if(a){TD(e,t,n,i,o+IE,r);for(let t=0;t<a;++t)e.fill();isNaN(s)||(l=o+s%IE,s%IE===0&&(l+=IE))}return TD(e,t,n,i,l,r),e.fill(),l}(e,this,o,r,a);LD(e,this,o,r,s,a),e.restore()}}function RD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=pE(n.borderCapStyle,t.borderCapStyle),e.setLineDash(pE(n.borderDash,t.borderDash)),e.lineDashOffset=pE(n.borderDashOffset,t.borderDashOffset),e.lineJoin=pE(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=pE(n.borderWidth,t.borderWidth),e.strokeStyle=pE(n.borderColor,t.borderColor)}function DD(e,t,n){e.lineTo(n.x,n.y)}function FD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:a=i-1}=n,{start:o,end:s}=t,l=Math.max(r,o),c=Math.min(a,s),d=r<o&&a<o||r>s&&a>s;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function BD(e,t,n,i){const{points:r,options:a}=t,{count:o,start:s,loop:l,ilen:c}=FD(r,n,i),d=function(e){return e.stepped?pL:e.tension||"monotone"===e.cubicInterpolationMode?fL:DD}(a);let u,h,p,{move:f=!0,reverse:m}=i||{};for(u=0;u<=c;++u)h=r[(s+(m?c-u:u))%o],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):d(e,p,h,m,a.stepped),p=h);return l&&(h=r[(s+(m?c:0))%o],d(e,p,h,m,a.stepped)),!!l}function zD(e,t,n,i){const r=t.points,{count:a,start:o,ilen:s}=FD(r,n,i),{move:l=!0,reverse:c}=i||{};let d,u,h,p,f,m,g=0,b=0;const y=e=>(o+(c?s-e:e))%a,v=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(u=r[y(0)],e.moveTo(u.x,u.y)),d=0;d<=s;++d){if(u=r[y(d)],u.skip)continue;const t=u.x,n=u.y,i=0|t;i===h?(n<p?p=n:n>f&&(f=n),g=(b*g+t)/++b):(v(),e.lineTo(t,n),h=i,b=0,p=f=n),m=n}v()}function WD(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?zD:BD}MD.id="arc",MD.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},MD.defaultRoutes={backgroundColor:"backgroundColor"};const UD="function"===typeof Path2D;function qD(e,t,n,i){UD&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),RD(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:a}=t,o=WD(t);for(const s of r)RD(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class HD extends nR{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;KL(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,i){let r=0,a=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(n,r,a,i);return xM(e,!0===i?[{start:o,end:s,loop:a}]:function(e,t,n,i){const r=e.length,a=[];let o,s=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,a.push({start:t%r,end:(o-1)%r,loop:i}),t=s=n.stop?o:null):(s=o,l.skip&&(t=o)),l=n}return null!==s&&a.push({start:t%r,end:s%r,loop:i}),a}(n,o,s<o?s+r:s,!!e._fullLoop&&0===o&&s===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=vM(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],s=function(e){return e.stepped?cM:e.tension||"monotone"===e.cubicInterpolationMode?dM:lM}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=r[c],h=r[d];if(u===h){o.push(u);continue}const p=s(u,h,Math.abs((i-u[t])/(h[t]-u[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return WD(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=WD(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=r(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),qD(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function VD(e,t,n,i){const r=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<r.radius+r.hitRadius}HD.id="line",HD.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},HD.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},HD.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class GD extends nR{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return VD(this,e,"x",t)}inYRange(e,t){return VD(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!dL(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,lL(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ZD(e,t){const{x:n,y:i,base:r,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,l,c,d,u;return e.horizontal?(u=o/2,s=Math.min(n,r),l=Math.max(n,r),c=i-u,d=i+u):(u=a/2,s=n-u,l=n+u,c=Math.min(i,r),d=Math.max(i,r)),{left:s,top:c,right:l,bottom:d}}function YD(e,t,n,i){return e?0:$E(t,n,i)}function KD(e){const t=ZD(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,a=SL(i);return{t:YD(r.top,a.top,0,n),r:YD(r.right,a.right,0,t),b:YD(r.bottom,a.bottom,0,n),l:YD(r.left,a.left,0,t)}}(e,n/2,i/2),a=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=_L(r),o=Math.min(t,n),s=e.borderSkipped,l=i||dE(r);return{topLeft:YD(!l||s.top||s.left,a.topLeft,0,o),topRight:YD(!l||s.top||s.right,a.topRight,0,o),bottomLeft:YD(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:YD(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function JD(e,t,n,i){const r=null===t,a=null===n,o=e&&!(r&&a)&&ZD(e,i);return o&&(r||QE(t,o.left,o.right))&&(a||QE(n,o.top,o.bottom))}function XD(e,t){e.rect(t.x,t.y,t.w,t.h)}function $D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+a,h:e.h+o,radius:e.radius}}GD.id="point",GD.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},GD.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class QD extends nR{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=KD(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?bL:XD;var s;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),o(e,$D(a,t,r)),e.clip(),o(e,$D(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,$D(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return JD(this,e,t,n)}inXRange(e,t){return JD(this,e,null,t)}inYRange(e,t){return JD(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}QD.id="bar",QD.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},QD.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var eF=Object.freeze({__proto__:null,ArcElement:MD,LineElement:HD,PointElement:GD,BarElement:QD});function tF(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function nF(e){e.data.datasets.forEach(e=>{tF(e)})}var iF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void nF(e);const i=e.width;e.data.datasets.forEach((t,r)=>{const{_data:a,indexAxis:o}=t,s=e.getDatasetMeta(r),l=a||t.data;if("y"===AL([o,e.options.indexAxis]))return;if(!s.controller.supportsDecimation)return;const c=e.scales[s.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const n=t.length;let i,r=0;const{iScale:a}=e,{min:o,max:s,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(r=$E(tT(t,a.axis,o).lo,0,n-1)),i=c?$E(tT(t,a.axis,s).hi+1,r,n)-r:n-r,{start:r,count:i}}(s,l);if(u<=(n.threshold||4*i))return void tF(t);let h;switch(lE(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":h=function(e,t,n,i,r){const a=r.samples||i;if(a>=n)return e.slice(t,t+n);const o=[],s=(n-2)/(a-2);let l=0;const c=t+n-1;let d,u,h,p,f,m=t;for(o[l++]=e[m],d=0;d<a-2;d++){let i,r=0,a=0;const c=Math.floor((d+1)*s)+1+t,g=Math.min(Math.floor((d+2)*s)+1,n)+t,b=g-c;for(i=c;i<g;i++)r+=e[i].x,a+=e[i].y;r/=b,a/=b;const y=Math.floor(d*s)+1+t,v=Math.min(Math.floor((d+1)*s)+1,n)+t,{x:x,y:w}=e[m];for(h=p=-1,i=y;i<v;i++)p=.5*Math.abs((x-r)*(e[i].y-w)-(x-e[i].x)*(a-w)),p>h&&(h=p,u=e[i],f=i);o[l++]=u,m=f}return o[l++]=e[c],o}(l,d,u,i,n);break;case"min-max":h=function(e,t,n,i){let r,a,o,s,l,c,d,u,h,p,f=0,m=0;const g=[],b=t+n-1,y=e[t].x,v=e[b].x-y;for(r=t;r<t+n;++r){a=e[r],o=(a.x-y)/v*i,s=a.y;const t=0|o;if(t===l)s<h?(h=s,c=r):s>p&&(p=s,d=r),f=(m*f+a.x)/++m;else{const n=r-1;if(!lE(c)&&!lE(d)){const t=Math.min(c,d),i=Math.max(c,d);t!==u&&t!==n&&g.push(je(je({},e[t]),{},{x:f})),i!==u&&i!==n&&g.push(je(je({},e[i]),{},{x:f}))}r>0&&n!==u&&g.push(e[n]),g.push(a),l=t,m=0,h=p=s,c=d=u=r}}return g}(l,d,u,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=h})},destroy(e){nF(e)}};function rF(e,t,n,i){if(i)return;let r=t[e],a=n[e];return"angle"===e&&(r=JE(r),a=JE(a)),{property:e,start:r,end:a}}function aF(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function oF(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function sF(e,t){let n=[],i=!1;return cE(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:o}=e;o=aF(t,o,r);const s=r[t],l=r[o];null!==i?(a.push({x:s.x,y:i}),a.push({x:l.x,y:i})):null!==n&&(a.push({x:n,y:s.y}),a.push({x:n,y:l.y}))}),a}(e,t),n.length?new HD({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function lF(e){return e&&!1!==e.fill}function cF(e,t,n){let i=e[t].fill;const r=[t];let a;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!uE(i))return i;if(a=e[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function dF(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=pE(n&&n.target,n);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if(dE(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return uE(r)&&Math.floor(r)===r?function(e,t,n,i){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=i)return!1;return n}(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function uF(e,t,n){const i=[];for(let r=0;r<n.length;r++){const a=n[r],{first:o,last:s,point:l}=hF(a,t,"x");if(!(!l||o&&s))if(o)i.unshift(l);else if(e.push(l),!s)break}e.push(...i)}function hF(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],a=e.segments,o=e.points;let s=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=o[e.start][n],i=o[e.end][n];if(QE(r,t,i)){s=r===t,l=r===i;break}}return{first:s,last:l,point:i}}class pF{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:IE},e.arc(i,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function fF(e){const{chart:t,fill:n,line:i}=e;if(uE(n))return function(e,t){const n=e.getDatasetMeta(t),i=n&&e.isDatasetVisible(t);return i?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],a=i.segments,o=i.points,s=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const e=i[r];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);s.push(sF({x:null,y:t.bottom},i));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)uF(r,o[t],s)}return new HD({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,a=i.reverse?t.max:t.min,o=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:dE(e)?e.value:t.getBaseValue(),i}(n,t,a),s=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,a);return new pF({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)s.push(t.getPointPositionForValue(l,o));return s}(e);return function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:dE(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(uE(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return r instanceof pF?r:sF(r,i)}function mF(e,t,n){const i=fF(t),{line:r,scale:a,axis:o}=t,s=r.options,l=s.fill,c=s.backgroundColor,{above:d=c,below:u=c}=l||{};i&&r.points.length&&(uL(e,n),function(e,t){const{line:n,target:i,above:r,below:a,area:o,scale:s}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&a!==r&&(gF(e,i,o.top),bF(e,{line:n,target:i,color:r,scale:s,property:l}),e.restore(),e.save(),gF(e,i,o.bottom));bF(e,{line:n,target:i,color:a,scale:s,property:l}),e.restore()}(e,{line:r,target:i,above:d,below:u,area:n,scale:a,axis:o}),hL(e))}function gF(e,t,n){const{segments:i,points:r}=t;let a=!0,o=!1;e.beginPath();for(const s of i){const{start:i,end:l}=s,c=r[i],d=r[aF(i,l,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function bF(e,t){const{line:n,target:i,property:r,color:a,scale:o}=t,s=function(e,t,n){const i=e.segments,r=e.points,a=t.points,o=[];for(const s of i){let{start:e,end:i}=s;i=aF(e,i,r);const l=rF(n,r[e],r[i],s.loop);if(!t.segments){o.push({source:s,target:l,start:r[e],end:r[i]});continue}const c=vM(t,l);for(const t of c){const e=rF(n,a[t.start],a[t.end],t.loop),i=yM(s,r,e);for(const r of i)o.push({source:r,target:t,start:{[n]:oF(l,e,"start",Math.max)},end:{[n]:oF(l,e,"end",Math.min)}})}}return o}(n,i,r);for(const{source:l,target:c,start:d,end:u}of s){const{style:{backgroundColor:t=a}={}}=l,s=!0!==i;e.save(),e.fillStyle=t,yF(e,o,s&&rF(r,d,u)),e.beginPath();const h=!!n.pathSegment(e,l);let p;if(s){h?e.closePath():vF(e,i,u,r);const t=!!i.pathSegment(e,c,{move:h,reverse:!0});p=h&&t,p||vF(e,i,d,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function yF(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:a,start:o,end:s}=n||{};"x"===a&&(e.beginPath(),e.rect(o,i,s-o,r-i),e.clip())}function vF(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var xF={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let a,o,s,l;for(o=0;o<i;++o)a=e.getDatasetMeta(o),s=a.dataset,l=null,s&&s.options&&s instanceof HD&&(l={visible:e.isDatasetVisible(o),index:o,fill:dF(s,o,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=cF(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=r.length-1;o>=0;--o){const t=r[o].$filler;t&&(t.line.updateControlPoints(a,t.axis),i&&t.fill&&mF(e.ctx,t,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const t=i[r].$filler;lF(t)&&mF(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;lF(i)&&"beforeDatasetDraw"===n.drawTime&&mF(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wF=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class jF extends nR{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=mE(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=CL(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=wF(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,r,o,s)+10):(c=this.maxHeight,l=this._fitCols(a,r,o,s)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,p)=>{const f=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>a)&&(d+=c,l[l.length-(p>0?0:1)]=0,h+=c,u++),s[p]={left:0,top:h,row:u,width:f,height:i},l[l.length-1]+=f+o}),d}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=o,u=0,h=0,p=0,f=0;return this.legendItems.forEach((e,a)=>{const m=n+t/2+r.measureText(e.text).width;a>0&&h+i+2*o>c&&(d+=u+o,l.push({width:u,height:h}),p+=u+o,f++,u=h=0),s[a]={left:p,top:h,col:f,width:m,height:i},u=Math.max(u,m),h+=i+o}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=pM(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=cT(n,this.left+i,this.right-this.lineWidths[r]);for(const s of t)r!==s.row&&(r=s.row,o=cT(n,this.left+i,this.right-this.lineWidths[r])),s.top+=this.top+e+i,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+i}else{let r=0,o=cT(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const s of t)s.col!==r&&(r=s.col,o=cT(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),s.top=o,s.left+=this.left+i,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;uL(e,this),this._draw(),hL(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,o=iL.color,s=pM(e.rtl,this.left,this.width),l=CL(a.font),{color:c,padding:d}=a,u=l.size,h=u/2;let p;this.drawTitle(),i.textAlign=s.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:g}=wF(a,u),b=this.isHorizontal(),y=this._computeTitleHeight();p=b?{x:cT(r,this.left+d,this.right-n[0]),y:this.top+d+y,line:0}:{x:this.left+d,y:cT(r,this.top+y+d,this.bottom-t[0].height),line:0},fM(this.ctx,e.textDirection);const v=g+d;this.legendItems.forEach((x,w)=>{i.strokeStyle=x.fontColor||c,i.fillStyle=x.fontColor||c;const j=i.measureText(x.text).width,S=s.textAlign(x.textAlign||(x.textAlign=a.textAlign)),_=f+h+j;let k=p.x,C=p.y;s.setWidth(this.width),b?w>0&&k+_+d>this.right&&(C=p.y+=v,p.line++,k=p.x=cT(r,this.left+d,this.right-n[p.line])):w>0&&C+v>this.bottom&&(k=p.x=k+t[p.line].width+d,p.line++,C=p.y=cT(r,this.top+y+d,this.bottom-t[p.line].height));!function(e,t,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;i.save();const r=pE(n.lineWidth,1);if(i.fillStyle=pE(n.fillStyle,o),i.lineCap=pE(n.lineCap,"butt"),i.lineDashOffset=pE(n.lineDashOffset,0),i.lineJoin=pE(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=pE(n.strokeStyle,o),i.setLineDash(pE(n.lineDash,[])),a.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=s.xPlus(e,f/2);cL(i,o,l,t+h,a.pointStyleWidth&&f)}else{const a=t+Math.max((u-m)/2,0),o=s.leftForLtr(e,f),l=_L(n.borderRadius);i.beginPath(),Object.values(l).some(e=>0!==e)?bL(i,{x:o,y:a,w:f,h:m,radius:l}):i.rect(o,a,f,m),i.fill(),0!==r&&i.stroke()}i.restore()}(s.x(k),C,x),k=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(S,k+f+h,b?k+_:this.right,e.rtl),function(e,t,n){mL(i,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(k),C,x),b?p.x+=_+d:p.y+=v}),mM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=CL(t.font),i=kL(t.padding);if(!t.display)return;const r=pM(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,l=i.top+s;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=cT(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+cT(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=cT(o,d,d+u);a.textAlign=r.textAlign(lT(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,mL(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=CL(e.font),n=kL(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(QE(e,this.left,this.right)&&QE(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],QE(e,i.left,i.left+i.width)&&QE(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&mE(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&mE(t.onHover,[e,n,this],this)}else n&&mE(t.onClick,[e,n,this],this)}}var SF={id:"legend",_element:jF,start(e,t,n){const i=e.legend=new jF({ctx:e.ctx,options:n,chart:e});zR.configure(e,i,n),zR.addBox(e,i)},stop(e){zR.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;zR.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(n?0:void 0),s=kL(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:o.borderColor,pointStyle:i||o.pointStyle,rotation:o.rotation,textAlign:r||o.textAlign,borderRadius:0,datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _F extends nR{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=cE(n.text)?n.text.length:1;this._padding=kL(n.padding);const r=i*CL(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:a}=this,o=a.align;let s,l,c,d=0;return this.isHorizontal()?(l=cT(o,n,r),c=t+e,s=r-n):("left"===a.position?(l=n+e,c=cT(o,i,t),d=-.5*PE):(l=r-e,c=cT(o,t,i),d=.5*PE),s=i-t),{titleX:l,titleY:c,maxWidth:s,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=CL(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:o,rotation:s}=this._drawArgs(i);mL(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:s,textAlign:lT(t.align),textBaseline:"middle",translation:[r,a]})}}var kF={id:"title",_element:_F,start(e,t,n){!function(e,t){const n=new _F({ctx:e.ctx,options:t,chart:e});zR.configure(e,n,t),zR.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;zR.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;zR.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const CF=new WeakMap;var AF={id:"subtitle",start(e,t,n){const i=new _F({ctx:e.ctx,options:n,chart:e});zR.configure(e,i,n),zR.addBox(e,i),CF.set(e,i)},stop(e){zR.removeBox(e,CF.get(e)),CF.delete(e)},beforeUpdate(e,t,n){const i=CF.get(e);zR.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const NF={average(e){if(!e.length)return!1;let t,n,i=0,r=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i+=e.x,r+=e.y,++a}}return{x:i/a,y:r/a}},nearest(e,t){if(!e.length)return!1;let n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=YE(t,i.getCenterPoint());e<s&&(s=e,r=i)}}if(r){const e=r.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function OF(e,t){return t&&(cE(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function PF(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function IF(e,t){const{element:n,datasetIndex:i,index:r}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(r);return{chart:e,label:o,parsed:a.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:s,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function EF(e,t){const n=e.chart.ctx,{body:i,footer:r,title:a}=e,{boxWidth:o,boxHeight:s}=t,l=CL(t.bodyFont),c=CL(t.titleFont),d=CL(t.footerFont),u=a.length,h=r.length,p=i.length,f=kL(t.padding);let m=f.height,g=0,b=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),b){m+=p*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(b-p)*l.lineHeight+(b-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const v=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,gE(e.title,v),n.font=l.string,gE(e.beforeBody.concat(e.afterBody),v),y=t.displayColors?o+2+t.boxPadding:0,gE(i,e=>{gE(e.before,v),gE(e.lines,v),gE(e.after,v)}),y=0,n.font=d.string,gE(e.footer,v),n.restore(),g+=f.width,{width:g,height:m}}function TF(e,t,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:s,right:l}}=e;let c="center";return"center"===i?c=r<=(s+l)/2?"left":"right":r<=a/2?c="left":r>=o-a/2&&(c="right"),function(e,t,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+a+o>t.width||"right"===e&&r-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function LF(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||TF(e,t,n,i),yAlign:i}}function MF(e,t,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:l}=n,c=r+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=_L(o);let f=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s);const m=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===s?f+=c:"right"===s&&(f-=c):"left"===s?f-=Math.max(d,h)+r:"right"===s&&(f+=Math.max(u,p)+r),{x:$E(f,0,i.width-t.width),y:$E(m,0,i.height-t.height)}}function RF(e,t,n){const i=kL(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function DF(e){return OF([],PF(e))}function FF(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class BF extends nR{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new NM(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,NL(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=n.beforeTitle.apply(this,[e]),r=n.title.apply(this,[e]),a=n.afterTitle.apply(this,[e]);let o=[];return o=OF(o,PF(i)),o=OF(o,PF(r)),o=OF(o,PF(a)),o}getBeforeBody(e,t){return DF(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,i=[];return gE(e,e=>{const t={before:[],lines:[],after:[]},r=FF(n,e);OF(t.before,PF(r.beforeLabel.call(this,e))),OF(t.lines,r.label.call(this,e)),OF(t.after,PF(r.afterLabel.call(this,e))),i.push(t)}),i}getAfterBody(e,t){return DF(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,i=n.beforeFooter.apply(this,[e]),r=n.footer.apply(this,[e]),a=n.afterFooter.apply(this,[e]);let o=[];return o=OF(o,PF(i)),o=OF(o,PF(r)),o=OF(o,PF(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let o,s,l=[];for(o=0,s=t.length;o<s;++o)l.push(IF(this.chart,t[o]));return e.filter&&(l=l.filter((t,i,r)=>e.filter(t,i,r,n))),e.itemSort&&(l=l.sort((t,i)=>e.itemSort(t,i,n))),gE(l,t=>{const n=FF(e.callbacks,t);i.push(n.labelColor.call(this,t)),r.push(n.labelPointStyle.call(this,t)),a.push(n.labelTextColor.call(this,t))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(i.length){const e=NF[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=EF(this,n),o=Object.assign({},e,t),s=LF(this.chart,n,o),l=MF(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:d}=_L(o),{x:u,y:h}=e,{width:p,height:f}=t;let m,g,b,y,v,x;return"center"===r?(v=h+f/2,"left"===i?(m=u,g=m-a,y=v+a,x=v-a):(m=u+p,g=m+a,y=v-a,x=v+a),b=m):(g="left"===i?u+Math.max(s,c)+a:"right"===i?u+p-Math.max(l,d)-a:this.caretX,"top"===r?(y=h,v=y-a,m=g-a,b=g+a):(y=h+f,v=y+a,m=g+a,b=g-a),x=y),{x1:m,x2:g,x3:b,y1:y,y2:v,y3:x}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,o,s;if(r){const l=pM(n.rtl,this.x,this.width);for(e.x=RF(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=CL(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<r;++s)t.fillText(i[s],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:s,boxWidth:l,boxPadding:c}=r,d=CL(r.bodyFont),u=RF(this,"left",r),h=i.x(u),p=s<d.lineHeight?(d.lineHeight-s)/2:0,f=t.y+p;if(r.usePointStyle){const t={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+s/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,lL(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,lL(e,t,n,c)}else{e.lineWidth=dE(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=i.leftForLtr(h,l-c),n=i.leftForLtr(i.xPlus(h,1),l-c-2),o=_L(a.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,bL(e,{x:t,y:f,w:l,h:s,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),bL(e,{x:n,y:f+1,w:l-2,h:s-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,f,l,s),e.strokeRect(t,f,l,s),e.fillStyle=a.backgroundColor,e.fillRect(n,f+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:l,boxPadding:c}=n,d=CL(n.bodyFont);let u=d.lineHeight,h=0;const p=pM(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+u/2),e.y+=u+r},m=p.textAlign(a);let g,b,y,v,x,w,j;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=RF(this,m,n),t.fillStyle=n.bodyColor,gE(this.beforeBody,f),h=o&&"right"!==m?"center"===a?l/2+c:l+2+c:0,v=0,w=i.length;v<w;++v){for(g=i[v],b=this.labelTextColors[v],t.fillStyle=b,gE(g.before,f),y=g.lines,o&&y.length&&(this._drawColorBox(t,e,v,p,n),u=Math.max(d.lineHeight,s)),x=0,j=y.length;x<j;++x)f(y[x]),u=d.lineHeight;gE(g.after,f)}h=0,u=d.lineHeight,gE(this.afterBody,f),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,o;if(r){const s=pM(n.rtl,this.x,this.width);for(e.x=RF(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=CL(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<r;++o)t.fillText(i[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:o,y:s}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=_L(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+d,s),"top"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+l-u,s),t.quadraticCurveTo(o+l,s,o+l,s+u),"center"===a&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,s+c-p),t.quadraticCurveTo(o+l,s+c,o+l-p,s+c),"bottom"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+h,s+c),t.quadraticCurveTo(o,s+c,o,s+c-h),"center"===a&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,s+d),t.quadraticCurveTo(o,s,o+d,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=NF[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=EF(this,e),o=Object.assign({},n,this._size),s=LF(t,e,o),l=MF(e,o,s,t);i._to===l.x&&r._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=kL(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),fM(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),mM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}),r=!bE(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),o=this._positionChanged(a,e),s=t||!bE(a,r)||o;return s&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t;const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=NF[r.position].call(this,e,t);return!1!==a&&(n!==a.x||i!==a.y)}}BF.positioners=NF;var zF={id:"tooltip",_element:BF,positioners:NF,afterInit(e,t,n){n&&(e.tooltip=new BF({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:oE,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:oE,beforeBody:oE,beforeLabel:oE,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return lE(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:oE,afterBody:oE,beforeFooter:oE,footer:oE,afterFooter:oE}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},WF=Object.freeze({__proto__:null,Decimation:iF,Filler:xF,Legend:SF,SubTitle:AF,Title:kF,Tooltip:zF});function UF(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}class qF extends pR{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(lE(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:$E(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:UF(n,e,pE(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function HF(e,t){const n=[],{bounds:i,step:r,min:a,max:o,precision:s,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=r||1,p=c-1,{min:f,max:m}=t,g=!lE(a),b=!lE(o),y=!lE(l),v=(m-f)/(d+1);let x,w,j,S,_=zE((m-f)/p/h)*h;if(_<1e-14&&!g&&!b)return[{value:f},{value:m}];S=Math.ceil(m/_)-Math.floor(f/_),S>p&&(_=zE(S*_/p/h)*h),lE(s)||(x=Math.pow(10,s),_=Math.ceil(_*x)/x),"ticks"===i?(w=Math.floor(f/_)*_,j=Math.ceil(m/_)*_):(w=f,j=m),g&&b&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-a)/r,_/1e3)?(S=Math.round(Math.min((o-a)/_,c)),_=(o-a)/S,w=a,j=o):y?(w=g?a:w,j=b?o:j,S=l-1,_=(j-w)/S):(S=(j-w)/_,S=UE(S,Math.round(S),_/1e3)?Math.round(S):Math.ceil(S));const k=Math.max(GE(_),GE(w));x=Math.pow(10,lE(s)?k:s),w=Math.round(w*x)/x,j=Math.round(j*x)/x;let C=0;for(g&&(u&&w!==a?(n.push({value:a}),w<a&&C++,UE(Math.round((w+C*_)*x)/x,a,VF(a,v,e))&&C++):w<a&&C++);C<S;++C)n.push({value:Math.round((w+C*_)*x)/x});return b&&u&&j!==o?n.length&&UE(n[n.length-1].value,o,VF(o,v,e))?n[n.length-1].value=o:n.push({value:o}):b&&j!==o||n.push({value:j}),n}function VF(e,t,n){let{horizontal:i,minRotation:r}=n;const a=HE(r),o=(i?Math.sin(a):Math.cos(a))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}qF.id="category",qF.defaults={ticks:{callback:qF.prototype.getLabelForValue}};class GF extends pR{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return lE(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=BE(i),t=BE(r);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(i===r){let t=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*r)),o(r+t),e||a(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=HF({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&qE(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return hM(e,this.chart.options.locale,this.options.ticks.format)}}class ZF extends GF{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=uE(e)?e:0,this.max=uE(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=HE(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function YF(e){return 1===e/Math.pow(10,Math.floor(FE(e)))}ZF.id="linear",ZF.defaults={ticks:{callback:rR.formatters.numeric}};class KF extends pR{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=GF.prototype.parse.apply(this,[e,t]);if(0!==n)return uE(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=uE(e)?Math.max(0,e):null,this.max=uE(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,a=e=>i=t?i:e,o=(e,t)=>Math.pow(10,Math.floor(FE(e))+t);n===i&&(n<=0?(r(1),a(10)):(r(o(n,-1)),a(o(i,1)))),n<=0&&r(o(i,-1)),i<=0&&a(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&r(o(n,-1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=function(e,t){const n=Math.floor(FE(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let a=hE(e.min,Math.pow(10,Math.floor(FE(t.min)))),o=Math.floor(FE(a)),s=Math.floor(a/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{r.push({value:a,major:YF(a)}),++s,10===s&&(s=1,++o,l=o>=0?1:l),a=Math.round(s*Math.pow(10,o)*l)/l}while(o<n||o===n&&s<i);const c=hE(e.max,a);return r.push({value:c,major:YF(a)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&qE(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":hM(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=FE(e),this._valueRange=FE(this.max)-FE(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(FE(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function JF(e){const t=e.ticks;if(t.display&&e.display){const e=kL(t.backdropPadding);return pE(t.font&&t.font.size,iL.font.size)+e.height}return 0}function XF(e,t,n){return n=cE(n)?n:[n],{w:aL(e,t.string,n),h:n.length*t.lineHeight}}function $F(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function QF(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],a=e._pointLabels.length,o=e.options.pointLabels,s=o.centerPointLabels?PE/a:0;for(let l=0;l<a;l++){const a=o.setContext(e.getPointLabelContext(l));r[l]=a.padding;const c=e.getPointPosition(l,e.drawingArea+r[l],s),d=CL(a.font),u=XF(e.ctx,d,e._pointLabels[l]);i[l]=u;const h=JE(e.getIndexAngle(l)+s),p=Math.round(VE(h));eB(n,t,h,$F(p,c.x,u.w,0,180),$F(p,c.y,u.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,a=e.options,o=JF(a)/2,s=e.drawingArea,l=a.pointLabels.centerPointLabels?PE/r:0;for(let c=0;c<r;c++){const r=e.getPointPosition(c,s+o+n[c],l),a=Math.round(VE(JE(r.angle+ME))),d=t[c],u=iB(r.y,d.h,a),h=tB(a),p=nB(r.x,d.w,h);i.push({x:r.x,y:u,textAlign:h,left:p,top:u,right:p+d.w,bottom:u+d.h})}return i}(e,i,r)}function eB(e,t,n,i,r){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,l=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function tB(e){return 0===e||180===e?"center":e<180?"left":"right"}function nB(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function iB(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function rB(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,IE);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let a=1;a<i;a++)n=e.getPointPosition(a,t),r.lineTo(n.x,n.y)}}KF.id="logarithmic",KF.defaults={ticks:{callback:rR.formatters.logarithmic,major:{enabled:!0}}};class aB extends GF{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=kL(JF(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=uE(e)&&!isNaN(e)?e:0,this.max=uE(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/JF(this.options))}generateTickLabels(e){GF.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=mE(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?QF(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return JE(e*(IE/(this._pointLabels.length||1))+HE(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(lE(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(lE(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return NL(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-ME+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),rB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i}=t,r=this._pointLabels.length;let a,o,s;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=i.setContext(e.getPointLabelContext(r)),a=CL(t.font),{x:o,y:s,textAlign:l,left:c,top:d,right:u,bottom:h}=e._pointLabelItems[r],{backdropColor:p}=t;if(!lE(p)){const e=_L(t.borderRadius),i=kL(t.backdropPadding);n.fillStyle=p;const r=c-i.left,a=d-i.top,o=u-c+i.width,s=h-d+i.height;Object.values(e).some(e=>0!==e)?(n.beginPath(),bL(n,{x:r,y:a,w:o,h:s,radius:e}),n.fill()):n.fillRect(r,a,o,s)}mL(n,e._pointLabels[r],o,s+a.lineHeight/2,a,{color:t.color,textAlign:l,textBaseline:"middle"})}}(this,r),i.display&&this.ticks.forEach((e,t)=>{if(0!==t){o=this.getDistanceFromCenterForValue(e.value);!function(e,t,n,i){const r=e.ctx,a=t.circular,{color:o,lineWidth:s}=t;!a&&!i||!o||!s||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=s,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),rB(e,n,a,i),r.closePath(),r.stroke(),r.restore())}(this,i.setContext(this.getContext(t-1)),o,r)}}),n.display){for(e.save(),a=r-1;a>=0;a--){const i=n.setContext(this.getPointLabelContext(a)),{color:r,lineWidth:l}=i;l&&r&&(e.lineWidth=l,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),s=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(s.x,s.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((i,o)=>{if(0===o&&!t.reverse)return;const s=n.setContext(this.getContext(o)),l=CL(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=l.string,a=e.measureText(i.label).width,e.fillStyle=s.backdropColor;const t=kL(s.backdropPadding);e.fillRect(-a/2-t.left,-r-l.size/2-t.top,a+t.width,l.size+t.height)}mL(e,i.label,0,-r,l,{color:s.color})}),e.restore()}drawTitle(){}}aB.id="radialLinear",aB.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rR.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},aB.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},aB.descriptors={angleLines:{_fallback:"grid"}};const oB={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sB=Object.keys(oB);function lB(e,t){return e-t}function cB(e,t){if(lE(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:a}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),uE(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!WE(a)&&!0!==a?n.startOf(o,r):n.startOf(o,"isoWeek",a)),+o)}function dB(e,t,n,i){const r=sB.length;for(let a=sB.indexOf(e);a<r-1;++a){const e=oB[sB[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return sB[a]}return sB[r-1]}function uB(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=eT(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function hB(e,t,n){const i=[],r={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],r[s]=o,i.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,i){const r=e._adapter,a=+r.startOf(t[0].value,i),o=t[t.length-1].value;let s,l;for(s=a;s<=o;s=+r.add(s,1,i))l=n[s],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class pB extends pR{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),i=this._adapter=new xR._date(e.adapters.date);i.init(t),jE(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:cB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function s(e){a||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}a&&o||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),i=uE(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=uE(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?dB(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let a=sB.length-1;a>=sB.indexOf(n);a--){const n=sB[a];if(oB[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return sB[n?sB.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=sB.indexOf(e)+1,n=sB.length;t<n;++t)if(oB[sB[t]].common)return sB[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),hB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t,n,i=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),r=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=$E(i,0,a),r=$E(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||dB(r.minUnit,t,n,this._getLabelCapacity(t)),o=pE(r.stepSize,1),s="week"===a&&r.isoWeekday,l=WE(s)||!0===s,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",s)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p="data"===i.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,o,a),u++)uB(c,d,p);return d!==n&&"ticks"!==i.bounds&&1!==u||uB(c,d,p),Object.keys(c).sort((e,t)=>e-t).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.time.displayFormats,o=this._unit,s=this._majorUnit,l=o&&a[o],c=s&&a[s],d=n[t],u=s&&c&&d&&d.major,h=this._adapter.format(e,i||(u?c:l)),p=r.ticks.callback;return p?mE(p,[h,t,n],this):h}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=HE(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*a,h:n*a+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,hB(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(cB(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return aT(e.sort(lB))}}function fB(e,t,n){let i,r,a,o,s=0,l=e.length-1;n?(t>=e[s].pos&&t<=e[l].pos&&({lo:s,hi:l}=tT(e,"pos",t)),({pos:i,time:a}=e[s]),({pos:r,time:o}=e[l])):(t>=e[s].time&&t<=e[l].time&&({lo:s,hi:l}=tT(e,"time",t)),({time:i,pos:a}=e[s]),({time:r,pos:o}=e[l]));const c=r-i;return c?a+(o-a)*(t-i)/c:a}pB.id="time",pB.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class mB extends pB{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=fB(t,this.min),this._tableRange=fB(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,o,s,l,c;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],s=i[a-1],l=i[a],Math.round((c+s)/2)!==l&&r.push({time:l,pos:a/(o-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(fB(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return fB(this._table,n*this._tableRange+this._minPos,!0)}}mB.id="timeseries",mB.defaults=pB.defaults;const gB=[bR,eF,WF,Object.freeze({__proto__:null,CategoryScale:qF,LinearScale:ZF,LogarithmicScale:KF,RadialLinearScale:aB,TimeScale:pB,TimeSeriesScale:mB})];AD.register(...gB);function bB(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1),a=[{label:"YES",value:"YES"},{label:"NO",value:"NO"}],o={title:"Visual Assessment",sections:[{title:null,fields:[{name:"ocularPain",label:"Ocular Pain",type:"radio",options:[{label:"YES",value:"YES"},{label:"NO",value:"NO"}],validation:{required:!0}}]},{title:"Visual Disturbance",showIf:{field:"ocularPain",equals:"YES"},fields:[{name:"diplopia",label:"Diplopia",type:"radio",options:a},{name:"blurredVision",label:"Blurred vision / haloes around lights",type:"radio",options:a},{name:"suddenLoss",label:"Sudden onset visual loss",type:"radio",options:a},{name:"gradualLoss",label:"Gradual onset visual loss",type:"radio",options:a},{name:"floaters",label:"Flashes and floaters",type:"radio",options:a}]},{title:"Eyelid Conditions",showIf:{field:"ocularPain",equals:"YES"},fields:[{name:"ptosis",label:"Ptosis",type:"radio",options:a},{name:"chalazion",label:"Chalazion",type:"radio",options:a},{name:"blepharitis",label:"Blepharitis",type:"radio",options:a},{name:"entropion",label:"Entropion / Ectropion",type:"radio",options:a}]},{title:"Visual Field Abnormalities",showIf:{field:"ocularPain",equals:"YES"},fields:[{name:"centralDefect",label:"Central visual field defect",type:"radio",options:a},{name:"peripheralLoss",label:"Peripheral visual field loss",type:"radio",options:a},{name:"hemianopia",label:"Hemianopia",type:"radio",options:a}]}]};return(0,s.jsx)(i_,{schema:o,values:e,onChange:(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))},submitted:n,onAction:t=>{"submit"===t&&(r(!0),console.log("Visual Assessment Data:",e))}})}function yB(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1),a={title:"Swallowing and Speech Assessment",sections:[{title:"SWALLOWING",fields:[{type:"radio",name:"swallowing_difficulty",label:"Is there any swallowing difficulty?",options:vB}]},{title:"",showIf:{field:"swallowing_difficulty",equals:"Yes"},fields:[{type:"single-select",name:"onset",label:"Onset",options:xB(["Sudden onset","Gradual onset"])},{type:"single-select",name:"progression",label:"Progression",options:xB(["Sudden onset","Gradual onset"])},{type:"checkbox-group",name:"food_liquid_difficulty",label:"Food / Liquid Difficulties",options:[{label:"Thin liquids",value:"Thin liquids"},{label:"Thick liquids",value:"Thick liquids"},{label:"Solids",value:"Solids"},{label:"All textures",value:"All textures"}]},{type:"single-select",name:"dietary_modifications",label:"Dietary Modifications",options:xB(["Normal diet","Soft/minced diet","Pureed diet","Thickened liquids","Assisted feeding","Enteral feeding (NGT/PEG)"])},{type:"single-select",name:"symptoms_during_meals",label:"Symptoms During Meals",options:xB(["No symptoms","Mild coughing/throat clearing","Drooling/food spillage","Wet or gurgly voice","Nasal regurgitation","Fatigue/prolonged mealtime","Choking/aspiration","Avoidance of eating"])}]},{title:"SPEECH AND LANGUAGE",fields:[{type:"radio",name:"voice_clear",label:"Voice functions \u2013 Clear",options:vB},{type:"radio",name:"voice_hoarseness",label:"Hoarseness",options:vB},{type:"radio",name:"voice_aphonia",label:"Aphonia",options:vB},{type:"radio",name:"articulation_dysarthria",label:"Articulation functions \u2013 Dysarthria",options:vB},{type:"radio",name:"articulation_repetition",label:"Repetition",options:vB},{type:"radio",name:"fluency_smoothness",label:"Fluency of speech \u2013 Smoothness",options:vB},{type:"radio",name:"fluency_continuity",label:"Continuity",options:vB},{type:"single-select",name:"fluency_rate",label:"Rate",options:xB(["APPROPRIATE"])},{type:"textarea",name:"fluency_others",label:"Others"},{type:"radio",name:"language_comprehension",label:"Language comprehension",options:vB},{type:"radio",name:"naming_through_speech",label:"Naming through speech",options:vB},{type:"radio",name:"alternative_voice",label:"Alternative voice/speech functions",options:vB}]},{title:"2) Activities and Participation",fields:[{type:"radio",name:"communicating_receiving",label:"Communicating \u2013 Receiving",options:vB},{type:"radio",name:"speaking",label:"Speaking",options:vB},{type:"radio",name:"producing_sound",label:"Producing meaningful sound",options:vB},{type:"radio",name:"simple_message",label:"Producing simple message",options:vB},{type:"radio",name:"complex_message",label:"Producing complex message",options:vB}]},{title:"3) Environmental Factors",fields:[{type:"radio",name:"assistive_device",label:"Assistive device and technology",options:vB},{type:"textarea",name:"environment_notes",label:"Please specify"}]}]};return(0,s.jsx)(i_,{schema:a,values:e,onChange:(e,n)=>t(t=>je(je({},t),{},{[e]:n})),submitted:n})}const vB=[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],xB=e=>e.map(e=>({label:e,value:e})),wB=()=>(0,s.jsx)("style",{children:"\n    .jfk-info .jfk-tooltip {\n      position: absolute;\n      top: 30px;\n      right: 0;\n      width: 320px;\n      background: #ffffff;\n      border-radius: 10px;\n      padding: 12px 14px;\n      font-size: 13px;\n      color: #111827;\n      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);\n      border: 1px solid #E5E7EB;\n      opacity: 0;\n      visibility: hidden;\n      transform: translateY(-6px);\n      transition: all 0.2s ease;\n      z-index: 1000;\n    }\n    \n    .jfk-info:hover .jfk-tooltip {\n      opacity: 1;\n      visibility: visible;\n      transform: translateY(0);\n    }\n    \n    .jfk-tooltip div {\n      margin-bottom: 6px;\n      line-height: 1.4;\n    }\n    \n    .jfk-tooltip div:last-child {\n      margin-bottom: 0;\n      color: #374151;\n    }\n    \n    .scale-info {\n      position: relative;\n      display: inline-flex;\n      align-items: center;\n      margin-left: 8px;\n    }\n    \n    .scale-info-icon {\n      width: 18px;\n      height: 18px;\n      border-radius: 50%;\n      background: #2563eb;\n      color: #fff;\n      font-size: 12px;\n      font-weight: 700;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n    }\n    \n    .scale-tooltip {\n      position: absolute;\n      top: 26px;\n      right: 0;\n      width: 280px;\n      background: #fff;\n      border: 1px solid #e5e7eb;\n      border-radius: 10px;\n      padding: 12px;\n      font-size: 13px;\n      color: #111827;\n      box-shadow: 0 10px 30px rgba(0,0,0,0.12);\n      opacity: 0;\n      visibility: hidden;\n      transform: translateY(-6px);\n      transition: all 0.2s ease;\n      z-index: 2000;\n    }\n    \n    .scale-info:hover .scale-tooltip {\n      opacity: 1;\n      visibility: visible;\n      transform: translateY(0);\n    }\n    \n    .scale-tooltip div {\n      margin-bottom: 6px;\n    }\n    \n    .scale-tooltip div:last-child {\n      margin-bottom: 0;\n    }\n  "}),jB=e=>{let{title:t,children:n}=e;return(0,s.jsxs)("div",{style:OB.card,children:[(0,s.jsx)("h3",{style:OB.title,children:t}),n]})},SB=e=>{let{label:t,value:n,onChange:i,options:r}=e;return(0,s.jsxs)("div",{style:OB.row,children:[(0,s.jsx)("span",{style:OB.rowLabel,children:t}),(0,s.jsx)("div",{style:OB.radioRow,children:r.map(e=>(0,s.jsxs)("label",{style:OB.radio,children:[(0,s.jsx)("input",{type:"radio",checked:n===e,onChange:()=>i(e)}),e]},e))})]})},_B=e=>{let{label:t,value:n,onChange:i,options:r}=e;return(0,s.jsxs)("div",{style:OB.row,children:[(0,s.jsx)("span",{style:OB.rowLabel,children:t}),(0,s.jsxs)("select",{style:OB.selectRight,value:n,onChange:e=>i(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),r.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})},kB=e=>{let{label:t,value:n,onChange:i,options:r}=e;return(0,s.jsxs)("div",{style:{marginBottom:14},children:[(0,s.jsx)("label",{style:{fontWeight:600,display:"block",marginBottom:6},children:t}),(0,s.jsxs)("select",{style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #CBD5E1"},value:n,onChange:e=>i(Number(e.target.value)),children:[(0,s.jsx)("option",{value:"",children:"Select"}),r.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]})},CB=e=>{let{placeholder:t}=e;return(0,s.jsx)("textarea",{placeholder:t,style:OB.textArea})},AB=e=>{let{plans:t,values:n,onChange:i}=e;const r=(e,t,r)=>{i(je(je({},n),{},{[e]:je(je({},n[e]),{},{[t]:r})}))};return(0,s.jsx)("div",{style:{marginTop:12},children:t.map(e=>(0,s.jsxs)("div",{style:{marginBottom:14},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:8,fontWeight:600},children:[(0,s.jsx)("input",{type:"checkbox",checked:!!n[e.key],onChange:()=>(e=>{const t=je({},n);t[e]?delete t[e]:t[e]={},i(t)})(e.key)}),e.label]}),n[e.key]&&"select"===e.type&&(0,s.jsxs)("select",{style:OB.selectRight,value:n[e.key].value||"",onChange:t=>r(e.key,"value",t.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),e.options.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),n[e.key]&&"textarea"===e.type&&(0,s.jsx)("textarea",{style:OB.textArea,placeholder:e.placeholder,value:n[e.key].text||"",onChange:t=>r(e.key,"text",t.target.value)})]},e.key))})};function NB(){const[e,t]=(0,i.useState)(""),{scrollRef:n,saveScroll:r,restoreScroll:a}=function(){const e=i.useRef(null),t=i.useRef(0);return{scrollRef:e,saveScroll:()=>{e.current&&(t.current=e.current.scrollTop)},restoreScroll:()=>{requestAnimationFrame(()=>{e.current&&(e.current.scrollTop=t.current)})}}}(),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)({person:"",place:"",time:""}),[u,h]=(0,i.useState)({immediate:"",recent:"",remote:""}),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[b,y]=(0,i.useState)({neglect:"",apraxia:""}),[v,x]=(0,i.useState)(null),[w,j]=(0,i.useState)({cmd3:"",cmd3Clue:"",cmd3CueType:"",cmd2:"",cmd2Clue:"",cmd2CueType:"",cmd1:"",cmd1Clue:"",cmd1CueType:"",consistency:""}),[S,_]=(0,i.useState)({}),[k,C]=(0,i.useState)({}),[A,N]=(0,i.useState)({}),[O,P]=(0,i.useState)({}),[I,E]=(0,i.useState)({}),[T,L]=(0,i.useState)({}),[M,R]=(0,i.useState)({}),[D,F]=(0,i.useState)({}),[B,z]=(0,i.useState)(""),[W,U]=(0,i.useState)(""),[q,H]=(0,i.useState)({eye:null,motor:null,verbal:null}),[V,G]=(0,i.useState)(!1),[Z,Y]=(0,i.useState)(!1),[K,J]=(0,i.useState)({attentionPerson:"",attentionEnvironment:"",simpleProblemSolving:"",complexProblemSolving:"",decisionMaking:""}),[X,$]=(0,i.useState)({eye:"",motor:"",verbal:""}),[Q,ee]=(0,i.useState)({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null}),te=["With Cues","Without Cues"],ne=["With verbal cues","With visual cues"],[ie,re]=(0,i.useState)(!1),[ae,oe]=(0,i.useState)(!1),[se,le]=(0,i.useState)(!1),[ce,de]=(0,i.useState)(null),[ue,he]=(0,i.useState)(null),[pe,fe]=(0,i.useState)(""),[me,ge]=(0,i.useState)({multi:"",jfk:"",gcs:""}),[be,ye]=(0,i.useState)(null),ve=[{label:"None",value:0},{label:"Mild",value:1},{label:"Moderate",value:2},{label:"Severe",value:3},{label:"Very Severe",value:4}],xe=[{label:"0 - Very Satisfied",value:0},{label:"1 - Satisfied",value:1},{label:"2 - Moderately Satisfied",value:2},{label:"3 - Dissatisfied",value:3},{label:"4 - Very Dissatisfied",value:4}],we=[{label:"0 - Not at all",value:0},{label:"1 - A Little",value:1},{label:"2 - Somewhat",value:2},{label:"3 - Much",value:3},{label:"4 - Very Much Noticeable",value:4}],Se=[{label:"0 - Not at all Worried",value:0},{label:"1 - A Little",value:1},{label:"2 - Somewhat",value:2},{label:"3 - Much",value:3},{label:"4 - Very Much Worried",value:4}],[_e,ke]=(0,i.useState)(!1),Ce=[{label:"0 - Not at all Interfering",value:0},{label:"1 - A Little",value:1},{label:"2 - Somewhat",value:2},{label:"3 - Much",value:3},{label:"4 - Very Much Interfering",value:4}],[Ae,Ne]=(0,i.useState)(!1),[Oe,Pe]=(0,i.useState)(null),[Ie,Ee]=(0,i.useState)({auditory:null,visual:null,motor:null,verbal:null,communication:null,arousal:null}),[Te,Le]=(0,i.useState)(!1),[Me,Re]=(0,i.useState)(null),[De,Fe]=(0,i.useState)({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null}),[Be,ze]=(0,i.useState)(!0),[We,Ue]=(0,i.useState)(null),[qe,He]=(0,i.useState)(!1),[Ve,Ge]=(0,i.useState)(null),[Ze,Ye]=(0,i.useState)({}),[Ke,Je]=(0,i.useState)(!1),[Xe,$e]=(0,i.useState)(!1),[Qe,et]=(0,i.useState)(!1),[tt,nt]=(0,i.useState)(Array(9).fill(null)),[it,rt]=(0,i.useState)(Array(7).fill(null)),[at,ot]=(0,i.useState)({depression:Array(7).fill(null),anxiety:Array(7).fill(null),stress:Array(7).fill(null)}),[st,lt]=(0,i.useState)(null),[ct,dt]=(0,i.useState)(null),[ut,ht]=(0,i.useState)(null),pt=[{label:"Not at all",value:0},{label:"Several days",value:1},{label:"More than half the days",value:2},{label:"Nearly every day",value:3}],[ft,mt]=(0,i.useState)(null),[gt,bt]=(0,i.useState)(null),[yt,vt]=(0,i.useState)(null),[xt,wt]=(0,i.useState)(null),jt=[{label:"Would never nod off",value:0},{label:"Slight chance of nodding off",value:1},{label:"Moderate chance of nodding off",value:2},{label:"High chance of nodding off",value:3}],St=[{label:"Did not apply to me at all",value:0},{label:"Applied some of the time",value:1},{label:"Applied a good part of time",value:2},{label:"Applied most of the time",value:3}],_t=[{value:0,label:"0 \u2013 Not during the past month"},{value:1,label:"1 \u2013 Less than once a week"},{value:2,label:"2 \u2013 Once or twice a week"},{value:3,label:"3 \u2013 Three or more times a week"}],kt=["Sitting and reading","Watching TV","Sitting inactive in a public place (e.g., meeting, theater)","As a passenger in a car for an hour or more without stopping","Lying down to rest when circumstances permit","Sitting and talking to someone","Sitting quietly after a meal without alcohol","In a car, while stopped for a few minutes in traffic or at a light"],Ct=e=>{let{checked:t,onChange:n,label:i}=e;return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)("span",{style:{fontSize:13,fontWeight:600},children:i}),(0,s.jsx)("div",{onClick:()=>n(!t),style:{width:42,height:22,borderRadius:999,background:t?"#2563EB":"#CBD5E1",position:"relative",cursor:"pointer",transition:"background 0.2s"},children:(0,s.jsx)("div",{style:{width:18,height:18,borderRadius:"50%",background:"#fff",position:"absolute",top:2,left:t?22:2,transition:"left 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}})})]})},At=e=>{let{button:t,children:n}=e;return(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",alignItems:"center",gap:16,marginTop:10,paddingBottom:10},children:[(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{children:n})]})},Nt=e=>{const t=Object.values(e).map(e=>null===e||void 0===e?void 0:e.symbol).filter(Boolean);return t.includes("+")?"Emergence from Minimally Conscious State (eMCS)":t.includes("\u25a0")?"Minimally Conscious State Plus (MCS+)":t.includes("*")?"Minimally Conscious State Minus (MCS-)":"Unresponsive Wakefulness Syndrome (UWS)"},Ot=()=>{const e=tt.reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0);return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{width:820,maxHeight:"85vh",display:"flex",flexDirection:"column"}),children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Patient Health Questionnaire (PHQ-9)"}),Be&&(0,s.jsxs)("div",{className:"scale-info",children:[(0,s.jsx)("div",{className:"scale-info-icon",children:"i"}),(0,s.jsxs)("div",{className:"scale-tooltip",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"0\u20134"})," : Minimal or None"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"5\u20139"})," : Mild"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"10\u201314"})," : Moderate"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"15\u201319"})," : Moderately Severe"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"20\u201327"})," : Severe"]})]})]})]}),(0,s.jsx)(Ct,{label:"Doctor Mode",checked:Be,onChange:ze})]}),(0,s.jsx)("div",{ref:n,style:{flex:1,overflowY:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[(0,s.jsx)("thead",{style:{position:"sticky",top:0,zIndex:2},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:je(je({},OB.th),{},{width:"40%"})}),pt.map(e=>(0,s.jsxs)("th",{style:OB.th,children:[e.label,Be&&(0,s.jsxs)("div",{style:{fontWeight:700},children:["(",e.value,")"]})]},e.label))]})}),(0,s.jsx)("tbody",{children:["Little interest or pleasure in doing things","Feeling down, depressed, or hopeless","Trouble falling or staying asleep, or sleeping too much","Feeling tired or having little energy","Poor appetite or overeating","Feeling bad about yourself \u2014 or that you are a failure","Trouble concentrating on things","Moving or speaking slowly / being restless","Thoughts of self-harm or being better off dead"].map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{style:OB.tdLabel,children:[t+1,". ",e]}),pt.map(e=>(0,s.jsx)("td",{style:OB.td,children:(0,s.jsx)("input",{type:"radio",name:"phq-".concat(t),tabIndex:-1,checked:tt[t]===e.value,onChange:()=>{r(),nt(n=>{const i=[...n];return i[t]=e.value,i}),a()}})},e.value))]},t))})]})}),(0,s.jsxs)("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:12,marginTop:12,display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{style:{flex:1,fontWeight:700,minHeight:22},children:Be&&"Total PHQ-9 Score: ".concat(e)}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>Je(!1),children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>{mt({total:e,severity:e<=4?"Minimal / None":e<=9?"Mild":e<=14?"Moderate":e<=19?"Moderately Severe":"Severe"}),lt(e),Je(!1)},children:"Save"})]})]})]})})},Pt=()=>{const e=it.reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0);return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{width:820,maxHeight:"85vh",display:"flex",flexDirection:"column"}),children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Generalized Anxiety Disorder (GAD-7)"}),Be&&(0,s.jsxs)("div",{className:"scale-info",children:[(0,s.jsx)("div",{className:"scale-info-icon",children:"i"}),(0,s.jsxs)("div",{className:"scale-tooltip",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"0\u20134"})," Minimal / None"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"5\u20139"})," Mild"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"10\u201314"})," Moderate"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"15\u201321"})," Severe"]})]})]})]}),(0,s.jsx)(Ct,{label:"Doctor Mode",checked:Be,onChange:ze})]}),(0,s.jsx)("div",{style:{flex:1,overflowY:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[(0,s.jsx)("thead",{ref:n,style:{position:"sticky",top:0,zIndex:2},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:je(je({},OB.th),{},{width:"40%"})}),pt.map(e=>(0,s.jsxs)("th",{style:OB.th,children:[e.label,Be&&(0,s.jsxs)("div",{style:{fontWeight:700},children:["(",e.value,")"]})]},e.label))]})}),(0,s.jsx)("tbody",{children:["Feeling nervous, anxious, or on edge","Not being able to stop or control worrying","Worrying too much about different things","Trouble relaxing","Being so restless that it is hard to sit still","Becoming easily annoyed or irritable","Feeling afraid, as if something awful might happen"].map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{style:OB.tdLabel,children:[t+1,". ",e]}),pt.map(e=>(0,s.jsx)("td",{style:OB.td,children:(0,s.jsx)("input",{type:"radio",name:"gad-".concat(t),tabIndex:-1,checked:it[t]===e.value,onChange:()=>{r(),rt(n=>{const i=[...n];return i[t]=e.value,i}),a()}})},e.value))]},t))})]})}),(0,s.jsxs)("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:12,marginTop:12,display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{style:{flex:1,fontWeight:700,minHeight:22},children:Be&&"Total GAD-7 Score: ".concat(e)}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>$e(!1),children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>{bt({total:e,severity:e<=4?"Minimal / None":e<=9?"Mild":e<=14?"Moderate":"Severe"}),dt(e),$e(!1)},children:"Save"})]})]})]})})},It=()=>{const e=e=>e.reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0),t={depression:e(at.depression),anxiety:e(at.anxiety),stress:e(at.stress)},i=(e,t)=>"depression"===t?e<=9?"Normal":e<=13?"Mild":e<=20?"Moderate":e<=27?"Severe":"Extremely Severe":"anxiety"===t?e<=7?"Normal":e<=9?"Mild":e<=14?"Moderate":e<=19?"Severe":"Extremely Severe":"stress"===t?e<=14?"Normal":e<=18?"Mild":e<=25?"Moderate":e<=33?"Severe":"Extremely Severe":void 0;return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{width:900,maxHeight:"85vh",display:"flex",flexDirection:"column"}),children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Depression Anxiety Stress Scale (DASS-21)"}),Be&&(0,s.jsxs)("div",{className:"scale-info",children:[(0,s.jsx)("div",{className:"scale-info-icon",children:"i"}),(0,s.jsxs)("div",{className:"scale-tooltip",style:{width:520},children:[(0,s.jsx)("b",{children:"Depression"}),(0,s.jsx)("br",{}),"0\u20139 Normal \xb7 10\u201313 Mild \xb7 14\u201320 Moderate \xb7 21\u201327 Severe \xb7 28+ Extreme",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Anxiety"}),(0,s.jsx)("br",{}),"0\u20137 Normal \xb7 8\u20139 Mild \xb7 10\u201314 Moderate \xb7 15\u201319 Severe \xb7 20+ Extreme",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Stress"}),(0,s.jsx)("br",{}),"0\u201314 Normal \xb7 15\u201318 Mild \xb7 19\u201325 Moderate \xb7 26\u201333 Severe \xb7 34+ Extreme"]})]})]}),(0,s.jsx)(Ct,{label:"Doctor Mode",checked:Be,onChange:ze})]}),(0,s.jsx)("div",{ref:n,style:{flex:1,overflowY:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[(0,s.jsx)("thead",{style:{position:"sticky",top:0,zIndex:2},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:je(je({},OB.th),{},{width:"45%"})}),St.map(e=>(0,s.jsxs)("th",{style:OB.th,children:[e.label,Be&&(0,s.jsxs)("div",{style:{fontWeight:700},children:["(",e.value,")"]})]},e.value))]})}),(0,s.jsx)("tbody",{children:[{q:"1. I found it hard to wind down.",type:"stress",i:0},{q:"2. I was aware of dryness of my mouth.",type:"anxiety",i:0},{q:"3. I couldn\u2019t seem to experience any positive feeling at all.",type:"depression",i:0},{q:"4. I experienced breathing difficulty (e.g. excessively rapid breathing, breathlessness in the absence of physical exertion).",type:"anxiety",i:1},{q:"5. I found it difficult to work up the initiative to do things.",type:"depression",i:1},{q:"6. I tended to over-react to situations.",type:"stress",i:1},{q:"7. I experienced trembling.",type:"anxiety",i:2},{q:"8. I felt that I was using a lot of nervous energy.",type:"stress",i:2},{q:"9. I was worried about situations in which I might panic and make a fool of myself.",type:"anxiety",i:3},{q:"10. I felt that I had nothing to look forward to.",type:"depression",i:2},{q:"11. I found myself getting agitated.",type:"stress",i:3},{q:"12. I found it difficult to relax.",type:"stress",i:4},{q:"13. I felt down-hearted and blue.",type:"depression",i:3},{q:"14. I was intolerant of anything that kept me from getting on with what I was doing.",type:"stress",i:5},{q:"15. I felt I was close to panic.",type:"anxiety",i:4},{q:"16. I was unable to become enthusiastic.",type:"depression",i:4},{q:"17. I felt I wasn\u2019t worth much as a person.",type:"depression",i:5},{q:"18. I felt that I was rather touchy.",type:"stress",i:6},{q:"19. I was aware of the action of my heart in the absence of physical exertion.",type:"anxiety",i:5},{q:"20. I felt scared without any good reason.",type:"anxiety",i:6},{q:"21. I felt that life was meaningless.",type:"depression",i:6}].map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:OB.tdLabel,children:e.q}),St.map(n=>(0,s.jsx)("td",{style:OB.td,children:(0,s.jsx)("input",{type:"radio",name:"dass-".concat(t),checked:at[e.type][e.i]===n.value,onChange:()=>{r(),ot(t=>{const i=[...t[e.type]];return i[e.i]=n.value,je(je({},t),{},{[e.type]:i})}),a()}})},n.value))]},t))})]})}),(0,s.jsxs)("div",{style:OB.modalFooter,children:[(0,s.jsx)("div",{style:{fontWeight:700},children:Be&&(0,s.jsxs)(s.Fragment,{children:["DEPRESSION: ",t.depression," \xa0|\xa0 ANXIETY: ",t.anxiety," \xa0|\xa0 STRESS: ",t.stress]})}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>et(!1),children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>{const e={depression:{score:t.depression,severity:i(t.depression,"depression")},anxiety:{score:t.anxiety,severity:i(t.anxiety,"anxiety")},stress:{score:t.stress,severity:i(t.stress,"stress")}};vt(e),et(!1)},children:"Save"})]})]})]})})},Et=e=>{let{onClose:t,onSave:r}=e;const a={q1:5,q2:5,q3:3,q4:5,q5:3,q6:1,q7:1,q8:1,q9:1,q10:3,q11:1,q12:1},[o,l]=(0,i.useState)(Object.keys(a).reduce((e,t)=>je(je({},e),{},{[t]:0}),{})),[c,d]=(0,i.useState)(null),[u,h]=(0,i.useState)(null),p=(e,t)=>{var i,r;const o=null!==(i=null===(r=n.current)||void 0===r?void 0:r.scrollTop)&&void 0!==i?i:0,s=Math.max(0,Math.min(a[e],Number(t)||0));l(t=>je(je({},t),{},{[e]:s})),requestAnimationFrame(()=>{n.current&&(n.current.scrollTop=o)})},f=Object.values(o).reduce((e,t)=>e+t,0)+(c?1:0),m=f>=26?"Normal":f>=20?"Mild cognitive impairment":f>=10?"Moderate cognitive impairment":"Severe cognitive impairment",g=e=>{let{index:t,text:n,max:i,value:r,onChange:a,isLast:o}=e;return(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 80px",gap:20,padding:"14px 0",borderBottom:o?"none":"1px solid #E5E7EB"},children:[(0,s.jsxs)("div",{style:{fontSize:14,color:"#0F172A",lineHeight:1.65,whiteSpace:"pre-line"},children:[(0,s.jsxs)("span",{style:{fontWeight:600},children:[t,". "]}),n]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,s.jsx)("input",{type:"number",min:0,max:i,value:r,tabIndex:-1,onChange:e=>a(e.target.value),style:{width:56,height:38,borderRadius:8,border:"1px solid #CBD5E1",textAlign:"center",fontSize:15,fontWeight:600,background:"#fff"}}),(0,s.jsxs)("span",{style:{fontSize:11,color:"#64748B",marginTop:4},children:["/ ",i]})]})]})};return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{width:900,maxHeight:"85vh",display:"flex",flexDirection:"column"}),children:[(0,s.jsx)("div",{style:{padding:"18px 22px",borderBottom:"1px solid #E5E7EB",fontSize:18,fontWeight:700,background:"#fff",position:"sticky",top:0,zIndex:2},children:"Mini-Mental State Examination (MMSE)"}),(0,s.jsx)("div",{ref:n,style:{flex:1,overflowY:"auto",padding:20},children:(0,s.jsxs)("div",{style:{border:"1px solid #E5E7EB",borderRadius:16,background:"#FFFFFF",padding:"18px 22px"},children:[(0,s.jsx)(g,{index:1,max:5,value:o.q1,onChange:e=>p("q1",e),text:"What year is this?\nWhat is the current season?\nWhat month is this?\nWhat is the date today?\nWhat day of the week is it?"}),(0,s.jsx)(g,{index:2,max:5,value:o.q2,onChange:e=>p("q2",e),text:"Which country are we in right now?\nWhat state/province are we in?\nWhat city or town are we in?\nWhat building are we in?\nOn which floor are we located?"}),(0,s.jsx)(g,{index:3,max:3,value:o.q3,onChange:e=>p("q3",e),text:"I\u2019m going to name three words/objects and you need to repeat them.\nThen remember them because I\u2019m going to ask you to name them again later.\nWords: BALL \u2013 CAR \u2013 MAN"}),(0,s.jsx)(g,{index:4,max:5,value:o.q4,onChange:e=>p("q4",e),text:"Spell WORLD backwards.\nAnswer: D-L-R-O-W"}),(0,s.jsx)(g,{index:5,max:3,value:o.q5,onChange:e=>p("q5",e),text:"Now, name the three objects/words I asked you to remember."}),(0,s.jsx)(g,{index:6,max:1,value:o.q6,onChange:e=>p("q6",e),text:"What object is this? (Show a wrist watch)"}),(0,s.jsx)(g,{index:7,max:1,value:o.q7,onChange:e=>p("q7",e),text:"What object is this? (Show a pencil)"}),(0,s.jsx)(g,{index:8,max:1,value:o.q8,onChange:e=>p("q8",e),text:"Repeat this phrase: No ifs, ands, or buts."}),(0,s.jsx)(g,{index:9,max:1,value:o.q9,onChange:e=>p("q9",e),text:"Read the words and then do what it says.\nInstruction shown: CLOSE YOUR EYES"}),(0,s.jsx)(g,{index:10,max:3,value:o.q10,onChange:e=>p("q10",e),text:"Take the paper in your right/left hand,\nfold it in half,\nand put it on the floor."}),(0,s.jsx)(g,{index:11,max:1,value:o.q11,onChange:e=>p("q11",e),text:"Make up and write a complete sentence on a piece of paper.",isLast:!0}),(0,s.jsxs)("div",{style:{paddingTop:18},children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:8},children:"12. Copy the design (Pentagons)"}),(0,s.jsx)("img",{src:"/mmse-pentagon.png",alt:"Pentagon",style:{width:140,border:"1px solid #CBD5E1",borderRadius:10,padding:8}}),(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("input",{type:"file",accept:"image/*"})}),(0,s.jsxs)("div",{style:{display:"flex",gap:20,marginTop:10},children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:"pentagon",checked:!0===c,onChange:()=>d(!0)}),"Correct"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:"pentagon",checked:!1===c,onChange:()=>d(!1)}),"Incorrect"]})]})]})]})}),(0,s.jsxs)("div",{style:OB.modalFooter,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Total Score:"})," ",f," / 30",(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"Interpretation:"})," ",m]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12,marginTop:16},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:t,children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>r({total:f,interpretation:m,breakdown:o,pentagonCorrect:c,pentagonImage:u}),children:"Save"})]})]})]})})},Tt=()=>{var e,t,n,i,o,l,c;const d=(null!==(e=Q.q1)&&void 0!==e?e:0)+(null!==(t=Q.q2)&&void 0!==t?t:0)+(null!==(n=Q.q3)&&void 0!==n?n:0)+(null!==(i=Q.q4)&&void 0!==i?i:0)+(null!==(o=Q.q5)&&void 0!==o?o:0)+(null!==(l=Q.q6)&&void 0!==l?l:0)+(null!==(c=Q.q7)&&void 0!==c?c:0);return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{display:"flex",flexDirection:"column",maxHeight:"80vh"}),children:[(0,s.jsx)("h3",{style:{marginBottom:12},children:"Insomnia Severity Index (ISI)"}),(0,s.jsxs)("div",{style:{flex:1,overflowY:"auto",paddingRight:6},children:[(0,s.jsx)(kB,{label:"1. Difficulty falling asleep",value:Q.q1,onChange:e=>{r(),ee(je(je({},Q),{},{q1:e})),a()},options:ve}),(0,s.jsx)(kB,{label:"2. Difficulty staying asleep",value:Q.q2,onChange:e=>{r(),ee(je(je({},Q),{},{q2:e})),a()},options:ve}),(0,s.jsx)(kB,{label:"3. Problems waking up too early",value:Q.q3,onChange:e=>{r(),ee(je(je({},Q),{},{q3:e})),a()},options:ve}),(0,s.jsx)(kB,{label:"4. Satisfaction with current sleep pattern",value:Q.q4,onChange:e=>{r(),ee(je(je({},Q),{},{q4:e})),a()},options:xe}),(0,s.jsx)(kB,{label:"5. Noticeability of sleep problem to others",value:Q.q5,onChange:e=>{r(),ee(je(je({},Q),{},{q5:e})),a()},options:we}),(0,s.jsx)(kB,{label:"6. Worry / distress about sleep problem",value:Q.q6,onChange:e=>{r(),ee(je(je({},Q),{},{q6:e})),a()},options:Se}),(0,s.jsx)(kB,{label:"7. Interference with daily functioning",value:Q.q7,onChange:e=>{r(),ee(je(je({},Q),{},{q7:e})),a()},options:Ce})]}),(0,s.jsxs)("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:12,marginTop:12,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{style:{fontWeight:600},children:["Total ISI Score: ",d]}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>G(!1),children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>{ye(d),G(!1)},children:"Save"})]})]})]})})},Lt=()=>{var e,t,i,r,a,o,l,c,d,u,h,p;const f=(null!==(e=null===(t=Ie.auditory)||void 0===t?void 0:t.value)&&void 0!==e?e:0)+(null!==(i=null===(r=Ie.visual)||void 0===r?void 0:r.value)&&void 0!==i?i:0)+(null!==(a=null===(o=Ie.motor)||void 0===o?void 0:o.value)&&void 0!==a?a:0)+(null!==(l=null===(c=Ie.verbal)||void 0===c?void 0:c.value)&&void 0!==l?l:0)+(null!==(d=null===(u=Ie.communication)||void 0===u?void 0:u.value)&&void 0!==d?d:0)+(null!==(h=null===(p=Ie.arousal)||void 0===p?void 0:p.value)&&void 0!==h?h:0),m={marginBottom:14},g=[{label:"0 \u2013 None",value:0,symbol:null},{label:"1 \u2013 Auditory startle",value:1,symbol:null},{label:"2 \u2013 Localization to sound",value:2,symbol:null},{label:"3 \u2013 Reproducible movement to command \u25a0",value:3,symbol:"\u25a0"},{label:"4 \u2013 Consistent movement to command \u25a0",value:4,symbol:"\u25a0"}],b=[{label:"0 \u2013 None",value:0,symbol:null},{label:"1 \u2013 Visual startle",value:1,symbol:null},{label:"2 \u2013 Fixation *",value:2,symbol:"*"},{label:"3 \u2013 Visual pursuit *",value:3,symbol:"*"},{label:"4 \u2013 Object localization: reaching *",value:4,symbol:"*"},{label:"5 \u2013 Object recognition \u25a0",value:5,symbol:"\u25a0"}],y=[{label:"0 \u2013 None",value:0,symbol:null},{label:"1 \u2013 Abnormal posturing",value:1,symbol:null},{label:"2 \u2013 Flexion withdrawal",value:2,symbol:null},{label:"3 \u2013 Localization to noxious stimulation *",value:3,symbol:"*"},{label:"4 \u2013 Object manipulation *",value:4,symbol:"*"},{label:"5 \u2013 Automatic motor response *",value:5,symbol:"*"},{label:"6 \u2013 Functional object use +",value:6,symbol:"+"}],v=[{label:"0 \u2013 None",value:0,symbol:null},{label:"1 \u2013 Oral reflexive movement",value:1,symbol:null},{label:"2 \u2013 Vocalization / oral movement",value:2,symbol:null},{label:"3 \u2013 Intelligible verbalization \u25a0",value:3,symbol:"\u25a0"}],x=[{label:"0 \u2013 None",value:0,symbol:null},{label:"1 \u2013 Non-functional intentional \u25a0",value:1,symbol:"\u25a0"},{label:"2 \u2013 Functional accurate +",value:2,symbol:"+"}],w=[{label:"0 \u2013 Unarousable",value:0,symbol:null},{label:"1 \u2013 Eye opening with stimulation",value:1,symbol:null},{label:"2 \u2013 Eye opening without stimulation",value:2,symbol:null},{label:"3 \u2013 Attention",value:3,symbol:null}],j=e=>{var t,i;const r=null!==(t=null===(i=n.current)||void 0===i?void 0:i.scrollTop)&&void 0!==t?t:0;Ee(t=>e(t)),requestAnimationFrame(()=>{n.current&&(n.current.scrollTop=r)})};return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:OB.modal,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,s.jsx)("h3",{style:{margin:0},children:"JFK Coma Recovery Scale \u2013 Revised (CRS-R)"}),(0,s.jsxs)("div",{style:{position:"relative"},className:"jfk-info",children:[(0,s.jsx)("div",{style:{width:22,height:22,borderRadius:6,backgroundColor:"#2563EB",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:700,cursor:"pointer"},children:"i"}),(0,s.jsxs)("div",{className:"jfk-tooltip",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"*"})," Minimally Conscious State Minus (MCS-)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"\u25a0"})," Minimally Conscious State Plus (MCS+)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"+"})," Emergence from Minimally Conscious State (eMCS)"]})]})]})]}),(0,s.jsxs)("div",{ref:n,style:{flex:1,overflowY:"auto",paddingRight:8},children:[(0,s.jsx)("div",{style:m,children:(0,s.jsx)(kB,{label:"Auditory Function Scale",value:Ie.auditory?Ie.auditory.value:"",onChange:e=>j(t=>je(je({},t),{},{auditory:""===e?null:g.find(t=>t.value===Number(e))})),options:g})}),(0,s.jsx)("div",{style:m,children:(0,s.jsx)(kB,{label:"Visual Function Scale",value:Ie.visual?Ie.visual.value:"",onChange:e=>j(t=>je(je({},t),{},{visual:""===e?null:b.find(t=>t.value===Number(e))})),options:b})}),(0,s.jsx)("div",{style:m,children:(0,s.jsx)(kB,{label:"Motor Function Scale",value:Ie.motor?Ie.motor.value:"",onChange:e=>j(t=>je(je({},t),{},{motor:""===e?null:y.find(t=>t.value===Number(e))})),options:y})}),(0,s.jsx)("div",{style:m,children:(0,s.jsx)(kB,{label:"Oromotor/Verbal Function Scale",value:Ie.verbal?Ie.verbal.value:"",onChange:e=>j(t=>je(je({},t),{},{verbal:""===e?null:v.find(t=>t.value===Number(e))})),options:v})}),(0,s.jsx)("div",{style:m,children:(0,s.jsx)(kB,{label:"Communication Scale",value:Ie.communication?Ie.communication.value:"",onChange:e=>j(t=>je(je({},t),{},{communication:""===e?null:x.find(t=>t.value===Number(e))})),options:x})}),(0,s.jsx)("div",{style:m,children:(0,s.jsx)(kB,{label:"Arousal Scale",value:Ie.arousal?Ie.arousal.value:"",onChange:e=>j(t=>je(je({},t),{},{arousal:""===e?null:w.find(t=>t.value===Number(e))})),options:w})})]}),(0,s.jsx)("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:10,fontSize:12},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{style:{fontWeight:700},children:["Total CRS-R Score: ",f]}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>ke(!1),children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>{wt({score:f,classification:Nt(Ie)}),ke(!1)},children:"Save"})]})]})})]})})},Mt=e=>{let{onClose:t,onSave:n,value:r}=e;const[a,o]=(0,i.useState)(r),l=[{level:1,title:"Level I \u2013 No response: total assistance",desc:"Your patient did not respond to external stimuli and may appear to be asleep."},{level:2,title:"Level II \u2013 Generalized response: total assistance",desc:"Your patient reacts to external stimuli in non-specific, inconsistent, and non-purposeful manners. Their responses are limited and typically the same even if the stimuli are different."},{level:3,title:"Level III \u2013 Localized response: total assistance",desc:"Your patient responds specifically and inconsistently with delays to stimuli. Their responses are directly related to stimuli and may respond more to people they know than strangers."},{level:4,title:"Level IV \u2013 Confused/agitated: maximal assistance",desc:"Your patient exhibits bizarre, non-purposeful, incoherent, or inappropriate behaviors. Their agitation appears more from internal confusion than external factors. They have no short-term recall, and their attention is short and non-selective."},{level:5,title:"Level V \u2013 Confused, inappropriate non-agitated: maximal assistance",desc:"Your patient gives random, fragmented, and non-purposeful responses to complex or unstructured stimuli. They are able to follow simple commands consistently, but their memory and selective attention are impaired, and new information is not retained. Behavior and verbal responses are often inappropriate, and the patient may appear confused and often talks. However, the patient does not seem agitated by internal factors, unlike Level IV, but may still be agitated by unpleasant external stimuli."},{level:6,title:"Level VI \u2013 Confused, appropriate: moderate assistance",desc:"Your patient gives context-appropriate, goal-directed responses, and is dependent upon external input for direction. They are capable of retaining learning for tasks before the injury, and there is carry-over for relearned tasks, but not for new tasks. They have some awareness of self, situation, and environment, but not of specific impairments and safety concerns. Memory problems persist."},{level:7,title:"Level VII \u2013 Automatic, appropriate: minimal assistance for daily living skills",desc:"Your patient behaves appropriately in familiar settings, is able to perform daily routines automatically, and shows carry-over for new learning at lower than normal rates. They are able to initiate social interactions and show interest in social and recreational activities in structured settings, but their judgment remains impaired. They still need minimal supervision for learning and safety."},{level:8,title:"Level VIII \u2013 Purposeful, appropriate: stand by assistance",desc:"Your patient is consistently oriented to person, place, and time. They independently perform familiar tasks in non-distracting environments. They show emerging awareness of their impairments and how these affect performance, but they need stand-by assistance to compensate. The patient uses memory aids for daily schedules and acknowledges the emotions of others, requiring only minimal help to respond appropriately. They demonstrate improved memory for past and future events but often experience depression, irritability, and a low frustration threshold."},{level:9,title:"Level IX \u2013 Purposeful, appropriate: stand-by assistance on request",desc:"Your patient can switch between different tasks and complete them independently. They acknowledge impairments that interfere with tasks and use compensatory strategies. However, they struggle to anticipate challenges without assistance. With help, they can consider consequences of actions and decisions. They recognize others\u2019 emotional needs with stand-by assistance and continue to experience depression and low frustration tolerance."},{level:10,title:"Level X \u2013 Purposeful, appropriate: modified independent",desc:"Your patient can multitask across different environments using extra time or assistive devices. They independently develop tools and methods for memory retention. They anticipate and manage obstacles from impairments and make appropriate decisions, although they may require more time or compensatory strategies. They interact appropriately in social situations but may show intermittent depression and low frustration tolerance under stress."}];return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{maxWidth:720}),children:[(0,s.jsx)("h3",{style:{marginBottom:14},children:"Rancho Los Amigos Scale \u2013 Revised (RLAR-S)"}),(0,s.jsx)("div",{style:{flex:1,overflowY:"auto",paddingRight:8},children:l.map(e=>(0,s.jsxs)("label",{style:{display:"flex",gap:12,padding:12,borderRadius:8,border:a===e.level?"2px solid #2563EB":"1px solid #E5E7EB",marginBottom:10,cursor:"pointer",background:a===e.level?"#EFF6FF":"#fff"},children:[(0,s.jsx)("input",{type:"checkbox",checked:a===e.level,onChange:()=>o(e.level)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:e.title}),(0,s.jsx)("div",{style:{fontSize:13,color:"#475569"},children:e.desc})]})]},e.level))}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12,marginTop:16},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:t,children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,disabled:!a,onClick:()=>{const e=l.find(e=>e.level===a);n({level:e.level,title:e.title}),t()},children:"Save"})]})]})})},Rt=e=>{let{onClose:t=()=>{},onSave:n=()=>{},initialValues:o={}}=e;const[l,c]=(0,i.useState)(kt.reduce((e,t,n)=>{var i;return je(je({},e),{},{[n]:null!==(i=o[n])&&void 0!==i?i:null})},{})),d=Object.values(l).reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0);return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{width:820,maxHeight:"85vh",display:"flex",flexDirection:"column"}),children:[(0,s.jsx)("h2",{style:{marginBottom:16},children:"Epworth Sleepiness Scale (ESS)"}),(0,s.jsx)("div",{style:{overflowY:"auto",flex:1},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{position:"sticky",top:0,zIndex:2},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:OB.th}),jt.map(e=>(0,s.jsxs)("th",{style:OB.th,children:[e.label,(0,s.jsxs)("div",{style:{fontWeight:700},children:["(",e.value,")"]})]},e.value))]})}),(0,s.jsx)("tbody",{children:kt.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:OB.tdLabel,children:e}),jt.map(e=>(0,s.jsx)("td",{style:OB.td,children:(0,s.jsx)("input",{type:"radio",name:"ess-".concat(t),checked:l[t]===e.value,onChange:()=>{r(),c(n=>je(je({},n),{},{[t]:e.value})),a()}})},e.value))]},t))})]})}),(0,s.jsxs)("div",{style:OB.modalFooter,children:[(0,s.jsxs)("div",{style:{fontWeight:700},children:["Total ESS Score: ",d]}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:t,children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>n({total:d,answers:l}),children:"Save"})]})]})]})})},Dt=()=>{var e,t,n;const i=(null!==(e=X.eye)&&void 0!==e?e:0)+(null!==(t=X.motor)&&void 0!==t?t:0)+(null!==(n=X.verbal)&&void 0!==n?n:0);return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:OB.modal,children:[(0,s.jsx)("h3",{style:{marginBottom:16},children:"Glasgow Coma Scale (GCS)"}),(0,s.jsx)(kB,{label:"Eye Opening",value:X.eye,onChange:e=>{r(),$(je(je({},X),{},{eye:e})),a()},options:[{label:"1-None",value:1},{label:"2-To pain",value:2},{label:"3-To speech",value:3},{label:"4-Spontaneous",value:4}]}),(0,s.jsx)(kB,{label:"Verbal Response",value:X.verbal,onChange:e=>{r(),$(je(je({},X),{},{verbal:e})),a()},options:[{label:"1-No movement",value:1},{label:"2-Incomprehensible",value:2},{label:"3-Inappropriate",value:3},{label:"4-Confused",value:4},{label:"5-Oriented",value:5}]}),(0,s.jsx)(kB,{label:"Motor Response",value:X.motor,onChange:e=>{r(),$(je(je({},X),{},{motor:e})),a()},options:[{label:"1-No movement",value:1},{label:"2-Extension",value:2},{label:"3-Abnormal flexion",value:3},{label:"4-Withdrawal(from painful stimulus)",value:4},{label:"5-Localizes pain",value:5},{label:"6-Obeys commands",value:6}]}),(0,s.jsxs)("div",{style:{marginTop:12,fontWeight:600},children:["Total GCS Score: ",i]}),(0,s.jsxs)("div",{style:{marginTop:20,display:"flex",justifyContent:"flex-end",gap:12},children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>Y(!1),children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>{x(i),Y(!1)},children:"Save"})]})]})})},[Ft,Bt]=(0,i.useState)(""),[zt,Wt]=(0,i.useState)(""),[Ut,qt]=(0,i.useState)(""),[Ht,Vt]=(0,i.useState)(""),Gt=e=>{var t;let{onClose:n,onSave:r}=e;const[a,o]=i.useState({}),[l,c]=i.useState(""),[d,u]=i.useState(""),[h,p]=i.useState(""),[f,m]=i.useState(""),g=(e,t)=>o(n=>je(je({},n),{},{[e]:t})),b=null!==(y=a.q9)&&void 0!==y?y:0;var y;const v=(e=>{var t;const n=((t=d)?t<=15?0:t<=30?1:t<=60?2:3:0)+(null!==(e=a["q5-0"])&&void 0!==e?e:0);return n<=1?0:n<=2?1:n<=4?2:3})(),x=(w=f)?w>7?0:6==w||7==w?1:5==w?2:3:0;var w;const j=((e,t,n)=>{if(!e||!t||!n)return 0;const i=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n};let r=i(t)-i(e);r<=0&&(r+=1440);const a=60*n/r*100;return a>=85?0:a>=75?1:a>=65?2:3})(l,h,f),S=(e=>{const t=e.reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0);return 0===t?0:t>1&&t<=9?1:t>9&&t<=18?2:3})([1,2,3,4,5,6,7,8,9].map(e=>a["q5-".concat(e)])),_=null!==(t=a.q6)&&void 0!==t?t:0,k=((e,t)=>{const n=(null!==e&&void 0!==e?e:0)+(null!==t&&void 0!==t?t:0);return 0===n?0:n<=2?1:n<=4?2:3})(a.q7,a.q8),C=b+v+x+j+S+_+k,A=C<=5?"Good sleep quality":C<=10?"Mild sleep difficulties":C<=15?"Moderate sleep difficulties":"Severe sleep difficulties";return(0,s.jsx)("div",{style:OB.modalOverlay,children:(0,s.jsxs)("div",{style:je(je({},OB.modal),{},{width:900,maxHeight:"85vh"}),children:[(0,s.jsx)("h3",{children:"Pittsburgh Sleep Quality Index (PSQI)"}),(0,s.jsxs)("div",{style:{flex:1,overflowY:"auto"},children:[(0,s.jsxs)("div",{style:OB.qBlock,children:[(0,s.jsx)("div",{style:OB.qLabel,children:"1. What time have you usually gone to bed?"}),(0,s.jsx)("input",{type:"time",style:OB.input,value:l,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{style:OB.qBlock,children:[(0,s.jsx)("div",{style:OB.qLabel,children:"2. How long (in minutes) has it taken to fall asleep?"}),(0,s.jsxs)("select",{style:OB.input,value:d,onChange:e=>u(Number(e.target.value)),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:15,children:"\u2264 15 minutes"}),(0,s.jsx)("option",{value:30,children:"16\u201330 minutes"}),(0,s.jsx)("option",{value:60,children:"31\u201360 minutes"}),(0,s.jsx)("option",{value:61,children:"> 60 minutes"})]})]}),(0,s.jsxs)("div",{style:OB.qBlock,children:[(0,s.jsx)("div",{style:OB.qLabel,children:"3. What time have you usually gotten up?"}),(0,s.jsx)("input",{type:"time",style:OB.input,value:h,onChange:e=>p(e.target.value)})]}),(0,s.jsxs)("div",{style:OB.qBlock,children:[(0,s.jsx)("div",{style:OB.qLabel,children:"4. How many hours of actual sleep did you get?"}),(0,s.jsx)("input",{type:"number",step:"0.5",style:OB.input,value:f,onChange:e=>m(Number(e.target.value))})]}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:18},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:je(je({},OB.th),{},{width:"45%"}),children:"5. During the past month, how often have you had trouble sleeping because you\u2026"}),_t.map(e=>(0,s.jsxs)("th",{style:OB.th,children:[(0,s.jsx)("div",{children:e.label}),(0,s.jsxs)("div",{style:{fontWeight:700},children:["(",e.value,")"]})]},e.value))]})}),(0,s.jsx)("tbody",{children:["Cannot get to sleep within 30 minutes","Wake up in the middle of the night or early morning","Have to get up to use the bathroom","Cannot breathe comfortably","Cough or snore loudly","Feel too cold","Feel too hot","Have bad dreams","Have pain","Other reason(s), please describe"].map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:OB.tdLabel,children:e}),_t.map(e=>(0,s.jsx)("td",{style:OB.td,children:(0,s.jsx)("input",{type:"radio",name:"q5-".concat(t),checked:a["q5-".concat(t)]===e.value,onChange:()=>g("q5-".concat(t),e.value)})},e.value))]},t))})]}),(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsx)("div",{style:OB.qLabel,children:"6. During the past month, how often have you taken medicine to help you sleep (prescribed or \u201cover the counter\u201d)?"}),(0,s.jsxs)("select",{style:OB.input,onChange:e=>g("q6",Number(e.target.value)),children:[(0,s.jsx)("option",{value:"",children:"Select"}),_t.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsx)("div",{style:OB.qLabel,children:"7. During the past month, how often have you had trouble staying awake while driving, eating meals, or engaging in social activity?"}),(0,s.jsxs)("select",{style:OB.input,onChange:e=>g("q7",Number(e.target.value)),children:[(0,s.jsx)("option",{value:"",children:"Select"}),_t.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsx)("div",{style:OB.qLabel,children:"8. During the past month, how much of a problem has it been for you to keep up enough enthusiasm to get things done?"}),(0,s.jsxs)("select",{style:OB.input,onChange:e=>g("q8",Number(e.target.value)),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:0,children:"No problem at all (0)"}),(0,s.jsx)("option",{value:1,children:"Only a very slight problem (1)"}),(0,s.jsx)("option",{value:2,children:"Somewhat of a problem (2)"}),(0,s.jsx)("option",{value:3,children:"A very big problem (3)"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:18},children:[(0,s.jsx)("div",{style:OB.qLabel,children:"9. During the past month, how would you rate your sleep quality overall?"}),(0,s.jsxs)("select",{style:OB.input,onChange:e=>g("q9",Number(e.target.value)),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:0,children:"Very good"}),(0,s.jsx)("option",{value:1,children:"Fairly good"}),(0,s.jsx)("option",{value:2,children:"Fairly bad"}),(0,s.jsx)("option",{value:3,children:"Very bad"})]})]}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:je(je({},OB.th),{},{width:"45%"}),children:"10. Do you have a bed partner or room mate?"}),_t.map(e=>(0,s.jsxs)("th",{style:OB.th,children:[(0,s.jsx)("div",{children:e.label}),(0,s.jsxs)("div",{style:{fontWeight:700},children:["(",e.value,")"]})]},e.value))]})}),(0,s.jsx)("tbody",{children:["Loud snoring","Long pauses between breaths while asleep","Legs twitching or jerking while you sleep","Episodes of disorientation or confusion during sleep","Other restlessness while you sleep, please describe"].map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:OB.tdLabel,children:e}),_t.map(e=>(0,s.jsx)("td",{style:OB.td,children:(0,s.jsx)("input",{type:"radio",name:"q10-".concat(t),checked:a["q10-".concat(t)]===e.value,onChange:()=>g("q10-".concat(t),e.value)})},e.value))]},t))})]})]}),(0,s.jsxs)("div",{style:OB.modalFooter,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Total PSQI Score:"})," ",C," (",A,")"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:n,children:"Cancel"}),(0,s.jsx)("button",{style:OB.primaryBtn,onClick:()=>r({total:C,interpretation:A,components:{component1:b,component2:v,component3:x,component4:j,component5:S,component6:_,component7:k}}),children:"Save"})]})]})]})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(wB,{}),(0,s.jsx)("div",{style:OB.container,children:(0,s.jsxs)(jB,{children:[(0,s.jsxs)(jB,{title:"Cognitive",children:[(0,s.jsx)(SB,{label:"Cognitive",value:e,onChange:t,options:["Intact","Impaired"]}),(0,s.jsx)(SB,{label:"State of consciousness",value:o,onChange:l,options:["Alert","Altered consciousness"]}),"Altered consciousness"===o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>Y(!0),children:"Glasgow Coma Scale chart"}),children:v&&(0,s.jsxs)("div",{style:{fontWeight:700},children:["E",X.eye||0," V",X.verbal||0," M",X.motor||0," = ",v,"/15"]})}),(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>ke(!0),children:"JFK CRS-R chart"}),children:xt&&(0,s.jsxs)("div",{style:{fontWeight:700},children:[(0,s.jsxs)("div",{children:["JFK Score: ",xt.score]}),(0,s.jsx)("div",{style:{fontSize:13,color:"#374151"},children:xt.classification})]})}),(0,s.jsx)("span",{style:OB.rowLabel,children:"Remarks"}),(0,s.jsx)(CB,{placeholder:"Remarks"}),(0,s.jsx)("h3",{style:{marginTop:12},children:"Plans"}),(0,s.jsx)(AB,{values:S,onChange:_,plans:[{key:"monitorGcs",label:"Monitor GCS",type:"select",options:["Per shift","Daily","Weekly"]},{key:"repeatJfk",label:"Repeat JFK Coma Recovery Scale",type:"select",options:["Weekly","2 weekly"]},{key:"multimodal",label:"For multimodal sensory stimulation",type:"select",options:["Once Daily (OD)","Twice Daily (BD)","Thrice Daily (TDS)","Four Times Daily (QID)"]},{key:"carerEducation",label:"Plan to teach carer regarding multimodal sensory stimulation",type:"textarea",placeholder:"Plan to teach carer regarding multimodal sensory stimulation"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Orientation",children:[(0,s.jsx)(SB,{label:"Orientation functions",value:c.status,onChange:e=>d(je(je({},c),{},{status:e})),options:["Intact","Impaired"]}),"Impaired"===c.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(SB,{label:"Orientation to time",value:c.time,onChange:e=>d(je(je({},c),{},{time:e})),options:["Yes","No"]}),(0,s.jsx)(SB,{label:"Orientation to place",value:c.place,onChange:e=>d(je(je({},c),{},{place:e})),options:["Yes","No"]}),(0,s.jsx)(SB,{label:"Orientation to person",value:c.person,onChange:e=>d(je(je({},c),{},{person:e})),options:["Yes","No"]}),(0,s.jsx)("span",{style:OB.rowLabel,children:"Remarks"}),(0,s.jsx)(CB,{placeholder:"Remarks"}),(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:A,onChange:N,plans:[{key:"orientationBoard",label:"Orientation board",type:"textarea",placeholder:"orientationBoard"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Ability to obey command",children:[(0,s.jsx)(SB,{label:"Ability to obey command",value:pe,onChange:fe,options:["Intact","Impaired"]}),"Impaired"===pe&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(SB,{label:"Obey 3-step command",value:w.cmd3,onChange:e=>j(je(je({},w),{},{cmd3:e,cmd3Clue:"",cmd3CueType:"",cmd2:"",cmd2Clue:"",cmd2CueType:"",cmd1:"",cmd1Clue:"",cmd1CueType:"",consistency:""})),options:["YES","NO"]}),"YES"===w.cmd3&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_B,{label:"How did the patient obey the 3-step command?",value:w.cmd3Clue,onChange:e=>j(je(je({},w),{},{cmd3Clue:e,cmd3CueType:""})),options:te}),"With Cues"===w.cmd3Clue&&(0,s.jsx)(_B,{label:"Type of cues used",value:w.cmd3CueType,onChange:e=>j(je(je({},w),{},{cmd3CueType:e})),options:ne})]}),"NO"===w.cmd3&&(0,s.jsx)(SB,{label:"Obey 2-step command",value:w.cmd2,onChange:e=>j(je(je({},w),{},{cmd2:e,cmd2Clue:"",cmd2CueType:"",cmd1:"",cmd1Clue:"",cmd1CueType:"",consistency:""})),options:["YES","NO"]}),"NO"===w.cmd3&&"YES"===w.cmd2&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_B,{label:"How did the patient obey the 2-step command?",value:w.cmd2Clue,onChange:e=>j(je(je({},w),{},{cmd2Clue:e,cmd2CueType:""})),options:te}),"With Cues"===w.cmd2Clue&&(0,s.jsx)(_B,{label:"Type of cues used",value:w.cmd2CueType,onChange:e=>j(je(je({},w),{},{cmd2CueType:e})),options:ne})]}),"NO"===w.cmd3&&"NO"===w.cmd2&&(0,s.jsx)(SB,{label:"Obey 1-step command",value:w.cmd1,onChange:e=>j(je(je({},w),{},{cmd1:e,cmd1Clue:"",cmd1CueType:"",consistency:""})),options:["YES","NO"]}),"NO"===w.cmd3&&"NO"===w.cmd2&&"YES"===w.cmd1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_B,{label:"How did the patient obey the 1-step command?",value:w.cmd1Clue,onChange:e=>j(je(je({},w),{},{cmd1Clue:e,cmd1CueType:""})),options:te}),"With Cues"===w.cmd1Clue&&(0,s.jsx)(_B,{label:"Type of cues used",value:w.cmd1CueType,onChange:e=>j(je(je({},w),{},{cmd1CueType:e})),options:ne})]}),("YES"===w.cmd3||"YES"===w.cmd2||"YES"===w.cmd1)&&(0,s.jsx)(_B,{label:"Consistency",value:w.consistency,onChange:e=>j(je(je({},w),{},{consistency:e})),options:["Consistent","Inconsistent"]})]}),"Impaired"===pe&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:I,onChange:E,plans:[{key:"simpleCommands",label:"Use simple commands in all activities",type:"textarea",placeholder:"Use simple commands in all activities"},{key:"cueBasedTraining",label:"Cue-based task execution",type:"textarea",placeholder:"Cue-based task execution"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Memory",children:[(0,s.jsx)(SB,{label:"Memory function",value:u.status,onChange:e=>h(je(je({},u),{},{status:e})),options:["Intact","Impaired"]}),"Impaired"===u.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:D,onChange:F,plans:[{key:"memoryAids",label:"Use memory aids",type:"textarea",placeholder:"Use memory aids"},{key:"sameRoutine",label:"Maintain same routine",type:"textarea",placeholder:"Maintain same routine"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Attention",children:[(0,s.jsx)(SB,{label:"Attention function",value:p,onChange:f,options:["Good","Poor"]}),"Poor"===p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:OB.rowLabel,children:"Remarks"}),(0,s.jsx)(CB,{placeholder:"Remarks"}),(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:k,onChange:C,plans:[{key:"lowStimulus",label:"Low stimulus environment to reduce distraction",type:"textarea",placeholder:"Low stimulus environment to reduce distraction"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Emotional",children:[(0,s.jsx)(SB,{label:"Emotional / Mood functions",value:m,onChange:g,options:["Normal mood","Altered mood"]}),"Altered mood"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>Je(!0),children:"Patient Health Questionnaire (PHQ-9)"}),children:ft&&(0,s.jsxs)("div",{style:{fontWeight:600},children:[(0,s.jsxs)("div",{children:["Total Score: ",ft.total]}),(0,s.jsxs)("div",{children:["Depression Severity: ",ft.severity]})]})}),(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>$e(!0),children:"Generalized Anxiety Disorder (GAD-7)"}),children:gt&&(0,s.jsxs)("div",{style:{fontWeight:600},children:[(0,s.jsxs)("div",{children:["Total Score: ",gt.total]}),(0,s.jsxs)("div",{children:["Anxiety Severity: ",gt.severity]})]})}),(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>et(!0),children:"Depression Anxiety Stress Scale (DASS-21)"}),children:yt&&(0,s.jsxs)("div",{style:{display:"flex",gap:24,fontWeight:600},children:[(0,s.jsxs)("div",{children:["DEPRESSION SCORE : ",yt.depression.score,"(",yt.depression.severity,")"]}),(0,s.jsxs)("div",{children:["ANXIETY SCORE : ",yt.anxiety.score,"(",yt.anxiety.severity,")"]}),(0,s.jsxs)("div",{children:["STRESS SCORE : ",yt.stress.score,"(",yt.stress.severity,")"]})]})}),(0,s.jsx)("span",{style:OB.rowLabel,children:"Remarks"}),(0,s.jsx)(CB,{placeholder:"Remarks"}),(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:T,onChange:L,plans:[{key:"monitorMood",label:"Monitor patient's mood",type:"textarea",placeholder:"Monitor patient mood"},{key:"informAbnormal",label:"Inform if patient exhibit abnormal behaviour",type:"textarea",placeholder:"Inform if patient exhibit abnormal behaviour"},{key:"repeatAssessment",label:"Repeat assessment weekly / when needed",type:"textarea",placeholder:"Repeat assessment weekly / when needed"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Perceptual Skills",children:[(0,s.jsx)(SB,{label:"Perceptual functions",value:b.status,onChange:e=>y(je(je({},b),{},{status:e})),options:["Intact","Impaired"]}),"Impaired"===b.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(SB,{label:"Neglect",value:b.neglect,onChange:e=>y(je(je({},b),{},{neglect:e})),options:["YES","NO"]}),(0,s.jsx)(SB,{label:"Apraxia",value:b.apraxia,onChange:e=>y(je(je({},b),{},{apraxia:e})),options:["YES","NO"]}),(0,s.jsx)("span",{style:OB.rowLabel,children:"Remarks"}),(0,s.jsx)(CB,{placeholder:"Remarks"}),(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:M,onChange:R,plans:[{key:"leftApproach",label:"To give more stimulation and approach from patient's left side",type:"textarea",placeholder:"To give more stimulation and approach from patient left side"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Sleep",children:[(0,s.jsx)(SB,{label:"Sleep Quality",value:W,onChange:U,options:["Good","Poor"]}),("NO"===B||"Poor"===W)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>G(!0),children:"Insomnia Severity Index (ISI)"}),children:null!==be&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{fontWeight:700},children:["ISI Score: ",be]}),(0,s.jsxs)("div",{style:{fontWeight:600},children:["Interpretation: ",(Zt=be,Zt<=7?"No clinically significant insomnia":Zt<=14?"Subthreshold insomnia":Zt<=21?"Clinical insomnia (moderate severity)":"Clinical insomnia (severe)")]})]})}),(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>Le(!0),children:"Epworth Sleepiness Scale (ESS)"}),children:null!==We&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{fontWeight:700},children:["ESS Score: ",We]}),(0,s.jsxs)("div",{style:{fontWeight:600},children:["Interpretation: ",(e=>e<=10?"Normal":e<=14?"Mild Sleepiness":e<=17?"Moderate Sleepiness":"Severe Sleepiness")(We)]})]})}),(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>He(!0),children:"Pittsburgh Sleep Quality Index (PSQI)"}),children:null!==Ve&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{fontWeight:700},children:["PSQI Score: ",Ve]}),(0,s.jsxs)("div",{style:{fontWeight:700},children:["Interpretation: ",(e=>e<=5?"Good sleep quality ":e<=10?"Mild sleep difficulties":e<=15?"Moderate sleep difficulties":"Severe sleep difficulties ")(Ve)]})]})}),(0,s.jsx)("span",{style:OB.rowLabel,children:"Remarks"}),(0,s.jsx)(CB,{placeholder:"Remarks"}),(0,s.jsx)("h3",{children:"Plans"}),(0,s.jsx)(AB,{values:O,onChange:P,plans:[{key:"sleepHygiene",label:"Education on sleep hygiene",type:"textarea",placeholder:"Education on sleep hygiene"},{key:"avoidCaffeine",label:"Avoid caffeine few hours before sleep time",type:"textarea",placeholder:"Avoid caffeine few hours"},{key:"relaxation",label:"For relaxation therapy",type:"textarea",placeholder:"For relaxation therapy"},{key:"others",label:"Others",type:"textarea",placeholder:"Remarks"}]})]})]}),(0,s.jsxs)(jB,{title:"Activity and Participation",children:[(0,s.jsx)(SB,{label:"Problem solving",value:K.attentionPerson,onChange:e=>J(je(je({},K),{},{attentionPerson:e})),options:["Intact","Impaired"]}),(0,s.jsx)(SB,{label:"Decision making",value:K.attentionEnvironment,onChange:e=>J(je(je({},K),{},{attentionEnvironment:e})),options:["Intact","Impaired"]})]}),(0,s.jsxs)(jB,{title:"Additional Outcome Measure",children:[(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>re(!0),children:"Mini-Mental State Examination (MMSE)"}),children:Me&&(0,s.jsxs)("div",{style:{marginTop:12,padding:"10px 14px",fontSize:18,fontWeight:700},children:["MMSE Score: ",Me.total," / 30",(0,s.jsxs)("span",{style:{marginLeft:6,fontSize:18,fontWeight:700},children:["(",Me.interpretation,")"]})]})}),(0,s.jsx)(At,{button:(0,s.jsx)("button",{style:OB.secondaryBtn,onClick:()=>Ne(!0),children:"Rancho Los Amigos Revised Scale (RLAR-S)"}),children:Oe&&(0,s.jsxs)("div",{style:{marginTop:12,padding:"10px 14px",fontSize:18,fontWeight:700},children:["RLAR-S Level: ",Oe.level,(0,s.jsxs)("span",{style:{marginLeft:6,fontSize:18,fontWeight:700},children:["(",Oe.title,")"]})]})})]}),Z&&(0,s.jsx)(Dt,{}),ie&&(0,s.jsx)(Et,{onClose:()=>re(!1),onSave:e=>{let{total:t,interpretation:n}=e;Re({total:t,interpretation:n}),re(!1)}}),V&&(0,s.jsx)(Tt,{}),Ke&&(0,s.jsx)(Ot,{}),Xe&&(0,s.jsx)(Pt,{}),Qe&&(0,s.jsx)(It,{}),Ae&&(0,s.jsx)(Mt,{value:Oe,onClose:()=>Ne(!1),onSave:e=>{Pe(e),Ne(!1)}}),_e&&(0,s.jsx)(Lt,{onClose:()=>ke(!1),onSave:e=>{console.log("CRS-R Score:",e)}}),Te&&(0,s.jsx)(Rt,{onClose:()=>Le(!1),onSave:e=>{let{total:t,answers:n}=e;Ue(t),Fe(n),Le(!1)}}),qe&&(0,s.jsx)(Gt,{onClose:()=>He(!1),onSave:e=>{let{score:t,values:n}=e;Ge(t),Ye(n),He(!1)},initialValues:Ze})]})})]});var Zt}const OB={container:{width:"100%",display:"flex",justifyContent:"center",padding:24},card:{width:"100%",background:"#fff",padding:18,borderRadius:14,marginBottom:18,border:"1px solid #E5E7EB"},title:{fontSize:20,fontWeight:700,marginBottom:12},cardTitle:{fontSize:20,paddingBottom:4,paddingTop:14,fontWeight:700,marginBottom:12,textAlign:"left",alignSelf:"flex-start"},scoreBox:{background:"#F1F5FF",borderRadius:12,padding:16,fontWeight:700,marginTop:12},scoreMini:{background:"#F1F5FF",padding:14,borderRadius:12,fontWeight:700,minWidth:220,textAlign:"center"},row:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14},rowLabel:{fontWeight:600,flex:1,fontSize:15},radioRow:{display:"flex",gap:40},radio:{display:"flex",gap:6,alignItems:"center"},inlineWithBtn:{display:"flex",alignItems:"center",gap:12},submitBtn:{padding:"14px 28px",background:"#2563EB",color:"#fff",borderRadius:12,border:"none",fontWeight:700},selectRight:{minWidth:100,padding:"10px 12px",borderRadius:8,border:"1px solid #CBD5E1"},modalOverlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},secondaryBtn:{padding:"4px 10px",background:"#EEF2FF",color:"#1E40AF",paddingRight:"10px",borderRadius:999,fontSize:12,fontWeight:600,border:"1px solid #C7D2FE",cursor:"pointer"},primaryBtn:{padding:"10px 18px",background:"#2563EB",border:"none",borderRadius:8,fontWeight:700,cursor:"pointer"},modal:{background:"#fff",padding:24,borderRadius:12,width:720,maxHeight:"80vh",display:"flex",flexDirection:"column"},th:{border:"1px solid #CBD5E1",padding:10,fontSize:13,textAlign:"center",background:"#F8FAFC",color:"#0F172A",fontWeight:600},tdLabel:{border:"1px solid #CBD5E1",padding:10,fontWeight:600,width:"35%"},sectionTitle:{fontSize:16,fontWeight:700,marginTop:24,marginBottom:12,color:"#0F172A"},qLabel:{fontSize:13,fontWeight:600,marginBottom:6,display:"block",color:"#1E293B"},helperText:{fontSize:12,fontWeight:400,color:"#475569",marginTop:4},languageGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},input:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #CBD5E1",fontSize:14},textarea:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #CBD5E1",fontSize:14,resize:"none"},readBox:{padding:"12px 14px",borderRadius:8,border:"1px dashed #94A3B8",fontWeight:700,letterSpacing:1,width:"fit-content"},copyRow:{display:"flex",gap:20,marginTop:12},designBox:{flex:1,height:240,border:"1px solid #CBD5E1",borderRadius:12,padding:10,position:"relative",background:"#fff"},canvas:{width:"100%",height:"100%",borderRadius:8,cursor:"crosshair"},canvasHint:{position:"absolute",bottom:8,right:12,fontSize:11,color:"#64748B"},td:{border:"1px solid #CBD5E1",textAlign:"center"},modalFooter:{borderTop:"1px solid #E5E7EB",paddingTop:12,marginTop:12,display:"flex",justifyContent:"space-between",alignItems:"center"}};function PB(){var e,t;const[n,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)({r1:"",r2:""}),h={container:{padding:20,fontFamily:"Arial, sans-serif",margin:"0 auto"},card:{background:"#fff",padding:16,borderRadius:8,border:"1px solid #ccc",marginBottom:20},label:{fontWeight:600,marginBottom:6,display:"block"},select:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ccc",marginBottom:12},item:{padding:10,border:"1px solid #ddd",borderRadius:6,marginBottom:8,cursor:"pointer"},selectedItem:{background:"#e8f1ff",border:"2px solid #007bff"},sectionTitle:{fontSize:18,fontWeight:700,marginBottom:10},row:{display:"flex",gap:10},half:{flex:1}},p=[{score:0,text:"No spasms"},{score:1,text:"Mild spasms induced by stimulation"},{score:2,text:"Infrequent spasms < once per hour"},{score:3,text:"Spasms > once per hour"},{score:4,text:"Spasms > 10 times per hour"}],f=[{score:"0",text:"0 \u2013 No increase in tone"},{score:"1",text:"1 \u2013 Slight increase in tone; catch/release at end ROM"},{score:"1+",text:"1+ \u2013 Slight increase in tone; catch/release through 1/2 ROM"},{score:"2",text:"2 \u2013 Marked increase in tone through ROM; part moved easily"},{score:"3",text:"3 \u2013 Considerable increase in tone; passive movement difficult"},{score:"4",text:"4 \u2013 Part rigid in flexion/extension"}];return(0,s.jsxs)("div",{style:h.container,children:[(0,s.jsx)("h2",{children:"Spasm & Spasticity Assessment"}),(0,s.jsxs)("div",{style:h.card,children:[(0,s.jsx)("label",{style:h.label,children:"Is there any spasm/spasticity?"}),(0,s.jsxs)("select",{style:h.select,value:n,onChange:e=>r(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"YES",children:"YES"}),(0,s.jsx)("option",{value:"NO",children:"NO"})]})]}),"YES"===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:h.card,children:[(0,s.jsx)("div",{style:h.sectionTitle,children:"Penn Spasm Frequency Scale (PSFS)"}),p.map(e=>(0,s.jsxs)("div",{style:je(je({},h.item),a===e.score?h.selectedItem:{}),onClick:()=>o(e.score),children:[(0,s.jsx)("b",{children:e.score})," \u2013 ",e.text]},e.score)),null!==a&&(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Selected:"})," ",a," \u2013 ",null===(e=p.find(e=>e.score===a))||void 0===e?void 0:e.text]})]}),(0,s.jsxs)("div",{style:h.card,children:[(0,s.jsx)("div",{style:h.sectionTitle,children:"Modified Ashworth Scale (MAS)"}),f.map(e=>(0,s.jsx)("div",{style:je(je({},h.item),l===e.score?h.selectedItem:{}),onClick:()=>c(e.score),children:e.text},e.score)),l&&(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Selected:"})," ",null===(t=f.find(e=>e.score===l))||void 0===t?void 0:t.text]})]}),(0,s.jsxs)("div",{style:h.card,children:[(0,s.jsx)("div",{style:h.sectionTitle,children:"Modified Tardieu Scale"}),(0,s.jsx)("label",{style:h.label,children:"R1 \u2013 Angle of muscle reaction"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter R1 angle",style:h.select,value:d.r1,onChange:e=>u(je(je({},d),{},{r1:e.target.value}))}),(0,s.jsx)("label",{style:h.label,children:"R2 \u2013 Passive ROM"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter R2 angle",style:h.select,value:d.r2,onChange:e=>u(je(je({},d),{},{r2:e.target.value}))}),d.r1&&d.r2&&(0,s.jsxs)("p",{children:[(0,s.jsx)("b",{children:"Dynamic Tone (R2 \u2212 R1):"})," ",Number(d.r2)-Number(d.r1)]})]})]})]})}const IB=["C2","C3","C4","C5","C6","C7","C8","T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12","L1","L2","L3","L4","L5","S1","S2","S3","S4-5"],EB=[{level:"C5",muscle:"Elbow flexors"},{level:"C6",muscle:"Wrist extensors"},{level:"C7",muscle:"Elbow extensors"},{level:"C8",muscle:"Finger flexors"},{level:"T1",muscle:"Finger abductors"},{level:"L2",muscle:"Hip flexors"},{level:"L3",muscle:"Knee extensors"},{level:"L4",muscle:"Ankle dorsiflexors"},{level:"L5",muscle:"Long toe extensors"},{level:"S1",muscle:"Ankle plantar flexors"}];function TB(){const[e,t]=(0,i.useState)({name:"",id:"",date:"",examiner:""}),[n,r]=(0,i.useState)(IB.map(e=>({level:e,rightLT:"",rightPP:"",leftLT:"",leftPP:""}))),[a,o]=(0,i.useState)(EB.map(e=>je(je({},e),{},{right:"",left:""}))),l=(e,t,n)=>{r(i=>{const r=[...i];return r[e]=je(je({},r[e]),{},{[t]:n}),r})},c=e=>Number.isFinite(+e)?+e:0,d=(0,i.useMemo)(()=>{let e=0,t=0,i=0,r=0;return n.forEach(n=>{e+=c(n.rightLT),t+=c(n.leftLT),i+=c(n.rightPP),r+=c(n.leftPP)}),{rLT:e,lLT:t,rPP:i,lPP:r}},[n]),u={container:{maxWidth:1200,margin:"0 auto",padding:20,fontFamily:"Arial"},section:{border:"1px solid #ddd",borderRadius:8,padding:16,marginBottom:20},title:{fontSize:18,fontWeight:700,marginBottom:10},label:{fontSize:12,fontWeight:600},input:{width:"100%",padding:6,fontSize:12},table:{width:"100%",borderCollapse:"collapse",fontSize:12},th:{border:"1px solid #ccc",padding:6,background:"#2f7f88",color:"#fff"},td:{border:"1px solid #ddd",padding:4,textAlign:"center"},tdLabel:{border:"1px solid #ddd",padding:4,fontWeight:600},tiny:{width:36,textAlign:"center"}};return(0,s.jsxs)("div",{style:u.container,children:[(0,s.jsx)("h2",{style:{textAlign:"center"},children:"ASIA / ISNCSCI Assessment"}),(0,s.jsxs)("div",{style:u.section,children:[(0,s.jsx)("div",{style:u.title,children:"Patient Information"}),(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("div",{style:u.label,children:"Patient Name"}),(0,s.jsx)("input",{style:u.input,value:e.name,onChange:n=>t(je(je({},e),{},{name:n.target.value}))})]}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("div",{style:u.label,children:"Patient ID"}),(0,s.jsx)("input",{style:u.input,value:e.id,onChange:n=>t(je(je({},e),{},{id:n.target.value}))})]})]})]}),(0,s.jsxs)("div",{style:u.section,children:[(0,s.jsx)("div",{style:u.title,children:"Sensory Examination (LT / PP)"}),(0,s.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{style:{verticalAlign:"top"},children:[(0,s.jsx)("td",{style:{padding:0},children:(0,s.jsxs)("table",{style:u.table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:u.th,children:"Lvl"}),(0,s.jsx)("th",{style:u.th,children:"LT"}),(0,s.jsx)("th",{style:u.th,children:"PP"})]})}),(0,s.jsx)("tbody",{children:n.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:u.tdLabel,children:e.level}),(0,s.jsx)("td",{style:u.td,children:(0,s.jsx)("input",{style:u.tiny,value:e.rightLT,onChange:e=>l(t,"rightLT",e.target.value)})}),(0,s.jsx)("td",{style:u.td,children:(0,s.jsx)("input",{style:u.tiny,value:e.rightPP,onChange:e=>l(t,"rightPP",e.target.value)})})]},e.level))})]})}),(0,s.jsx)("td",{style:{width:420,padding:0},children:(0,s.jsx)("div",{style:{height:"1000px",display:"flex",alignItems:"stretch",justifyContent:"center"},children:(0,s.jsx)("img",{src:"/asia-body.png",alt:"Dermatome Map",style:{height:"1000px",width:"auto",objectFit:"contain",display:"block"}})})}),(0,s.jsx)("td",{style:{padding:0},children:(0,s.jsxs)("table",{style:u.table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:u.th,children:"LT"}),(0,s.jsx)("th",{style:u.th,children:"PP"}),(0,s.jsx)("th",{style:u.th,children:"Lvl"})]})}),(0,s.jsx)("tbody",{children:n.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:u.td,children:(0,s.jsx)("input",{style:u.tiny,value:e.leftLT,onChange:e=>l(t,"leftLT",e.target.value)})}),(0,s.jsx)("td",{style:u.td,children:(0,s.jsx)("input",{style:u.tiny,value:e.leftPP,onChange:e=>l(t,"leftPP",e.target.value)})}),(0,s.jsx)("td",{style:u.tdLabel,children:e.level})]},e.level))})]})})]})})}),(0,s.jsxs)("div",{style:{marginTop:8,fontWeight:600},children:["Right LT: ",d.rLT," \xb7 Left LT: ",d.lLT," \xb7 Right PP: ",d.rPP," \xb7 Left PP: ",d.lPP]})]}),(0,s.jsxs)("div",{style:u.section,children:[(0,s.jsx)("div",{style:u.title,children:"Motor Examination"}),(0,s.jsxs)("table",{style:u.table,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:u.th,children:"Level"}),(0,s.jsx)("th",{style:u.th,children:"Key Muscle"}),(0,s.jsx)("th",{style:u.th,children:"Right"}),(0,s.jsx)("th",{style:u.th,children:"Left"})]})}),(0,s.jsx)("tbody",{children:a.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:u.tdLabel,children:e.level}),(0,s.jsx)("td",{style:u.tdLabel,children:e.muscle}),(0,s.jsx)("td",{style:u.td,children:(0,s.jsx)("input",{style:u.tiny})}),(0,s.jsx)("td",{style:u.td,children:(0,s.jsx)("input",{style:u.tiny})})]},e.level))})]})]})]})}function LB(){const[e,t]=(0,i.useState)("tab1"),n={container:{width:"100%",margin:"0 auto",fontFamily:"Arial, sans-serif"},tabHeaderContainer:{display:"flex",borderBottom:"2px solid #ddd",marginBottom:20},tabButton:{flex:1,padding:"10px 15px",textAlign:"center",cursor:"pointer",fontWeight:600,borderBottom:"3px solid transparent"},activeTabButton:{borderBottom:"3px solid #007bff",color:"#007bff"},tabContent:{background:"#fff",border:"1px solid #ddd",borderRadius:8}},r=()=>(0,s.jsx)("div",{children:(0,s.jsx)(PB,{})}),a=()=>(0,s.jsx)("div",{children:(0,s.jsx)(TB,{})}),o=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Tab 3 \u2013 Progress Notes"}),(0,s.jsx)("p",{children:"This section contains SOAP notes and daily progress updates."})]}),l=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Tab 4 \u2013 Summary"}),(0,s.jsx)("p",{children:"This section contains overall summary and discharge plans."})]});return(0,s.jsxs)("div",{style:n.container,children:[(0,s.jsx)("div",{style:n.tabHeaderContainer,children:["tab1","tab2","tab3","tab4","tab5"].map((i,r)=>(0,s.jsx)("div",{onClick:()=>t(i),style:je(je({},n.tabButton),e===i?n.activeTabButton:{}),children:["Spasm & Spasticity","Spinalcord Injury","Neuro","Amputee","Pain"][r]},i))}),(0,s.jsx)("div",{style:n.tabContent,children:(()=>{switch(e){case"tab1":return(0,s.jsx)(r,{});case"tab2":return(0,s.jsx)(a,{});case"tab3":return(0,s.jsx)(o,{});case"tab4":return(0,s.jsx)(l,{});default:return null}})()})]})}function MB(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1),a={title:"Hearing Assessment",sections:[{title:"Ear Issue",fields:[{type:"radio",name:"ear_status",label:"Ear Issue",options:[{label:"Intact",value:"intact"},{label:"Impaired",value:"impaired"}]},{type:"multi-select-dropdown",name:"b230_hearing_issue",label:"b230 Hearing Issue",showIf:{field:"ear_status",equals:"impaired"},options:[{label:"No issue",value:"no_issue"},{label:"Ear pain",value:"ear_pain"},{label:"Hearing loss",value:"hearing_loss"},{label:"Tinnitus",value:"tinnitus"},{label:"Feeling of fullness",value:"fullness"},{label:"Ear discharge",value:"ear_discharge"},{label:"Dizziness",value:"dizziness"},{label:"Vertigo",value:"vertigo"},{label:"Nausea",value:"nausea"},{label:"Itching",value:"itching"},{label:"Hyperacusis",value:"hyperacusis"},{label:"Deformity",value:"deformity"}]},{type:"textarea",name:"b230_hearing_issue_notes",label:"Elaboration of issues (if present)",showIf:{field:"ear_status",equals:"impaired"}}]},{title:"Use of Hearing Device",showIf:{field:"ear_status",equals:"impaired"},fields:[{type:"radio",name:"hearing_device",label:"Use of Hearing Device",options:[{label:"No",value:"no"},{label:"Hearing aid",value:"hearing_aid"},{label:"Cochlear implant",value:"cochlear_implant"},{label:"Other",value:"other"}]},{type:"input",name:"hearing_device_other",label:"Other (specify)",showIf:{field:"hearing_device",equals:"other"}}]},{title:"External Ear Examination",showIf:{field:"ear_status",equals:"impaired"},fields:[{type:"subheading",label:"Right Ear"},...["deformity","redness","swelling","tenderness","discharge"].flatMap(e=>[{type:"radio",name:"right_external_".concat(e),label:e.charAt(0).toUpperCase()+e.slice(1),options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"textarea",name:"right_external_".concat(e,"_notes"),label:"Elaboration for ".concat(e," (Right Ear)"),showIf:{field:"right_external_".concat(e),equals:"yes"}}]),{type:"subheading",label:"Left Ear"},...["deformity","redness","swelling","tenderness","discharge"].flatMap(e=>[{type:"radio",name:"left_external_".concat(e),label:e.charAt(0).toUpperCase()+e.slice(1),options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"textarea",name:"left_external_".concat(e,"_notes"),label:"Elaboration for ".concat(e," (Left Ear)"),showIf:{field:"left_external_".concat(e),equals:"yes"}}])]},{title:"Otoscopy \u2013 Ear Canal",showIf:{field:"ear_status",equals:"impaired"},fields:[{type:"subheading",label:"Right Ear"},...["wax","redness","swelling","foreign_body","discharge"].flatMap(e=>[{type:"radio",name:"right_canal_".concat(e),label:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"textarea",name:"right_canal_".concat(e,"_notes"),label:"Elaboration for ".concat(e.replace("_"," ")," (Right Ear)"),showIf:{field:"right_canal_".concat(e),equals:"yes"}}]),{type:"subheading",label:"Left Ear"},...["wax","redness","swelling","foreign_body","discharge"].flatMap(e=>[{type:"radio",name:"left_canal_".concat(e),label:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"textarea",name:"left_canal_".concat(e,"_notes"),label:"Elaboration for ".concat(e.replace("_"," ")," (Left Ear)"),showIf:{field:"left_canal_".concat(e),equals:"yes"}}])]},{title:"Tympanic Membrane (TM)",showIf:{field:"ear_status",equals:"impaired"},fields:[{type:"subheading",label:"Right Ear"},{type:"radio",name:"right_tm_color",label:"Color: Pearly Grey (Normal)",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"radio",name:"right_tm_position",label:"Position",options:[{label:"Neutral",value:"neutral"},{label:"Bulging",value:"bulging"},{label:"Retracted",value:"retracted"}]},...["handle_malleus","cone_light","perforation_scarring"].flatMap(e=>[{type:"radio",name:"right_tm_".concat(e),label:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"textarea",name:"right_tm_".concat(e,"_notes"),label:"Elaboration for ".concat(e.replace("_"," ")," (Right Ear)"),showIf:{field:"right_tm_".concat(e),equals:"yes"}}]),{type:"subheading",label:"Left Ear"},{type:"radio",name:"left_tm_color",label:"Color: Pearly Grey (Normal)",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"radio",name:"left_tm_position",label:"Position",options:[{label:"Neutral",value:"neutral"},{label:"Bulging",value:"bulging"},{label:"Retracted",value:"retracted"}]},...["handle_malleus","cone_light","perforation_scarring"].flatMap(e=>[{type:"radio",name:"left_tm_".concat(e),label:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"textarea",name:"left_tm_".concat(e,"_notes"),label:"Elaboration for ".concat(e.replace("_"," ")," (Left Ear)"),showIf:{field:"left_tm_".concat(e),equals:"yes"}}])]},{title:"Hearing Test",showIf:{field:"ear_status",equals:"impaired"},fields:[{type:"radio",name:"right_whisper_test",label:"Right Ear \u2013 Whisper Test",options:[{label:"Passed",value:"passed"},{label:"Failed",value:"failed"}]},{type:"radio",name:"left_whisper_test",label:"Left Ear \u2013 Whisper Test",options:[{label:"Passed",value:"passed"},{label:"Failed",value:"failed"}]},{type:"radio",name:"right_dix_hallpike",label:"Right Ear \u2013 Dix-Hallpike Test",options:[{label:"Positive",value:"positive"},{label:"Negative",value:"negative"}]},{type:"radio",name:"left_dix_hallpike",label:"Left Ear \u2013 Dix-Hallpike Test",options:[{label:"Positive",value:"positive"},{label:"Negative",value:"negative"}]}]},{title:"Plan",showIf:{field:"ear_status",equals:"impaired"},fields:[{type:"textarea",name:"hearing_plan",label:"For further evaluation by Audiologist"},{type:"textarea",name:"Others",label:"Others"}]}]};return(0,s.jsx)(i_,{schema:a,values:e,onChange:(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))},submitted:n})}function RB(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(null),f={title:"Cardiovascular & Respiratory Assessment",sections:[{title:"Respiratory \u2013 Symptoms",fields:[DB("dyspnoea_rest","Dyspnoea at rest"),DB("dyspnoea_exertion","Dyspnoea on exertion"),DB("orthopnoea","Orthopnoea"),DB("pnd","Paroxysmal nocturnal dyspnoea"),DB("cough","Cough"),DB("sputum","Sputum"),DB("wheeze","Wheeze"),DB("chest_pain_resp","Chest pain"),DB("fatigue_resp","Fatigue"),DB("weight_loss","Weight loss")]},{title:"Respiratory \u2013 Past History",fields:[DB("copd","COPD"),DB("asthma","Asthma"),DB("pneumonia","Pneumonia"),DB("smoking_resp","Smoking"),DB("environment_exposure","Exposure to environmental pollutants"),DB("recent_infections","Recent infections"),DB("aspiration_risk","Aspiration risk"),DB("tracheostomy","Tracheostomy"),DB("ventilation","Ventilation")]},{title:"Respiratory \u2013 Examination",fields:[DB("cyanosis","Cyanosis"),DB("clubbing","Clubbing"),DB("oedema_resp","Oedema"),DB("accessory_muscles","Use of accessory muscles"),DB("symmetry_expansion","Symmetry of expansion"),DB("auscultation_resp","Auscultation"),{type:"textarea",label:"Please specify",name:"resp_ausc_notes"},DB("cough_strength","Cough strength")]},{title:"Cardiovascular \u2013 Symptoms",fields:[DB("chest_pain_cardio","Chest pain"),DB("palpitations","Palpitations"),DB("syncope","Syncope / Pre syncope"),DB("dyspnoea_exertion_cardio","Dyspnoea on exertion"),DB("orthopnea_cardio","Orthopnea"),DB("ankle_swelling","Ankle swelling"),DB("fatigue_cardio","Fatigue"),DB("exercise_tolerance","Exercise tolerance")]},{title:"Cardiovascular \u2013 Past History",fields:[DB("prior_mi","Prior MI"),DB("heart_failure","Heart failure"),DB("arrhythmias","Arrhythmias"),DB("hypertension","Hypertension"),DB("dyslipidaemia","Dyslipidaemia"),DB("valve_disease","Valve disease"),DB("echo_done","ECHO done")]},{title:"Cardiovascular \u2013 Risk Factors",fields:[DB("smoking_cardio","Smoking"),DB("dm","DM"),DB("dyslipidemia","Dyslipidemia"),DB("family_hx_cvd","Family H/O CVD")]},{title:"Vital Signs",fields:[{type:"input",label:"HEART RATE (beats/min)",name:"heart_rate"},{type:"input",label:"ECG",name:"ecg"},{type:"input",label:"BLOOD PRESSURE SITTING (mmHg)",name:"bp_sitting"},{type:"input",label:"BLOOD PRESSURE STANDING (mmHg)",name:"bp_standing"},{type:"input",label:"RESPIRATORY RATE (breath/min)",name:"resp_rate"},DB("crt","CRT <2SEC"),{type:"input",label:"SKIN COLOUR",name:"skin_colour"},DB("radial_pulse","RADIAL PULSE"),DB("dorsalis_pedis","DORSALIS PEDIS"),DB("posterior_tibialis","POSTERIOR TIBIALIS"),DB("jvp_raised","JVP RAISED"),DB("oedema","OEDEMA"),{type:"single-select",label:"PITTING / NON PITTING",name:"oedema_type",options:[{label:"PITTING",value:"PITTING"},{label:"NON PITTING",value:"NON PITTING"}]}]},{title:"Auscultation",fields:[DB("s1s2","S1, S2"),DB("extra_sounds","EXTRA SOUNDS"),DB("crepitations","CREPITATIONS"),DB("carotid_bruits","CAROTID BRUITS"),DB("abi_assessment","FOR ABI ASSESSMENT")]}]};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i_,{schema:f,values:e,onChange:(e,n)=>t(t=>je(je({},t),{},{[e]:n})),submitted:n,children:[(0,s.jsxs)("div",{style:qB,children:[(0,s.jsx)("button",{style:HB,onClick:()=>o(!0),children:"NYHA Classification"}),(0,s.jsx)("button",{style:HB,onClick:()=>c(!0),children:"STOP-BANG Questionnaire"})]}),d&&(0,s.jsx)(FB,{label:"NYHA Class",value:d}),null!==h&&(0,s.jsx)(FB,{label:"STOP-BANG Score",value:h})]}),a&&(0,s.jsx)(BB,{onSave:u,onClose:()=>o(!1)}),l&&(0,s.jsx)(zB,{onSave:p,onClose:()=>c(!1)})]})}const DB=(e,t)=>({type:"radio",name:e,label:t,options:[{label:"YES",value:"YES"},{label:"NO",value:"NO"}]}),FB=e=>{let{label:t,value:n}=e;return(0,s.jsxs)("div",{style:VB,children:[(0,s.jsxs)("strong",{children:[t,":"]})," ",n]})};function BB(e){let{onSave:t,onClose:n}=e;const[r,a]=(0,i.useState)("");return(0,s.jsxs)(WB,{title:"NYHA Classification",children:[[["I","Structural myocardial changes (e.g. left ventricular hypertrophy)"],["II","Small decrease in exercise tolerance"],["III","Significant decrease in exercise tolerance"],["IV","Symptoms of heart failure at rest or during small exercise"]].map(e=>(0,s.jsxs)("div",{style:je(je({},QB),{},{background:r===e[0]+e[1]?"#eef6ff":"#fafafa"}),onClick:()=>a(e[0]+e[1]),children:[(0,s.jsx)("strong",{children:e[0]})," \u2013 ",e[1]]},e[0])),(0,s.jsx)(UB,{onCancel:n,onSave:()=>{t(r),n()}})]})}function zB(e){let{onSave:t,onClose:n}=e;const[r,a]=(0,i.useState)(Array(8).fill(null)),o=r.filter(e=>!0===e).length;return(0,s.jsxs)(WB,{title:"STOP-BANG Questionnaire",children:[["Snoring (Do you snore loudly?)","Tiredness (Do you often feel tired, fatigued, or sleepy during the daytime?)","Observed Apnea (Has anyone observed that you stop breathing during sleep?)","High Blood Pressure (Being treated for hypertension?)","BMI (Is your body mass index more than 35 kg per m\xb2?)","Age (Are you older than 50 years?)","Neck Circumference (Is your neck circumference greater than 40 cm [15.75 inches]?)","Gender (Are you male?)"].map((e,t)=>(0,s.jsxs)("div",{style:XB,children:[(0,s.jsx)("span",{children:e}),(0,s.jsxs)("label",{style:$B,children:[(0,s.jsx)("input",{type:"radio",checked:!0===r[t],onChange:()=>a(e=>e.map((e,n)=>n===t||e))})," YES"]}),(0,s.jsxs)("label",{style:$B,children:[(0,s.jsx)("input",{type:"radio",checked:!1===r[t],onChange:()=>a(e=>e.map((e,n)=>n!==t&&e))})," NO"]})]},t)),(0,s.jsx)(UB,{onCancel:n,onSave:()=>{t(o),n()}})]})}function WB(e){let{title:t,children:n}=e;return(0,s.jsx)("div",{style:GB,children:(0,s.jsxs)("div",{style:ZB,children:[(0,s.jsx)("h2",{style:{textAlign:"center"},children:t}),n]})})}function UB(e){let{onCancel:t,onSave:n}=e;return(0,s.jsxs)("div",{style:YB,children:[(0,s.jsx)("button",{style:KB,onClick:t,children:"Cancel"}),(0,s.jsx)("button",{style:JB,onClick:n,children:"Save"})]})}const qB={display:"flex",gap:12,marginTop:20},HB={padding:"8px 16px",borderRadius:999,fontWeight:600},VB={marginTop:12,padding:12,background:"#eef6ff",borderRadius:8},GB={position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",justifyContent:"center",alignItems:"center"},ZB={background:"#fff",padding:24,borderRadius:16,width:"90%",maxWidth:800},YB={display:"flex",justifyContent:"flex-end",gap:12,marginTop:24},KB={padding:"10px 18px",borderRadius:999,border:"1px solid #c7d2fe",background:"#eef2ff",fontWeight:600},JB={padding:"10px 22px",borderRadius:999,border:"none",background:"#2563eb",color:"#fff",fontWeight:600},XB={display:"grid",gridTemplateColumns:"1fr 90px 90px",alignItems:"center",marginBottom:12},$B={display:"flex",alignItems:"center",gap:6},QB={padding:12,border:"1px solid #e5e7eb",borderRadius:10,marginBottom:10,cursor:"pointer"};function ez(){const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i_,{schema:{title:"Bowel Assessment",sections:[{title:"History Taking / Assessment",fields:[{name:"frequency",label:"1. Frequency of defecation",type:"single-select",options:[{label:"Once per day",value:"once"},{label:"Twice per day",value:"twice"},{label:"Once every 2 days",value:"two_days"},{label:"Once every few days",value:"few_days"},{label:"Others",value:"others"}]},{name:"frequencyOther",label:"Please specify",type:"textarea",showIf:{field:"frequency",equals:"others"}},{name:"sensate",label:"2. Able to sensate",type:"radio",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Unsure",value:"Unsure"}]},{name:"control",label:"3. Able to hold / control",type:"radio",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Unsure",value:"Unsure"}]},{name:"stoolConsistency",label:"4. Stool consistency (Refer Bristol Stool Chart)",type:"single-select",options:[{label:"Type 1 \u2013 Separate hard lumps",value:"1"},{label:"Type 2 \u2013 Lumpy sausage-like",value:"2"},{label:"Type 3 \u2013 Sausage with cracks",value:"3"},{label:"Type 4 \u2013 Smooth soft sausage",value:"4"},{label:"Type 5 \u2013 Soft blobs",value:"5"},{label:"Type 6 \u2013 Mushy stool",value:"6"},{label:"Type 7 \u2013 Liquid stool",value:"7"}]},{name:"medication",label:"5. Medication use for defecation",type:"radio",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"medicationNotes",label:"Please specify medication",type:"textarea",showIf:{field:"medication",equals:"Yes"}},{name:"manualEvacuation",label:"6. Manual evacuation?",type:"radio",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"digitalStimulation",label:"7. Digital Rectal Stimulation?",type:"radio",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}]}]},values:e,onChange:(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))},submitted:n,onAction:e=>{"OPEN_BRISTOL_CHART"===e&&o(!0)}}),a&&(0,s.jsx)("div",{style:tz.overlay,children:(0,s.jsxs)("div",{style:tz.box,children:[(0,s.jsx)("img",{src:"/bristol-chart.png",alt:"Bristol Stool Chart",style:{width:"100%"}}),(0,s.jsx)("div",{style:{textAlign:"right",marginTop:12},children:(0,s.jsx)("button",{style:tz.btn,onClick:()=>o(!1),children:"Close"})})]})})]})}const tz={overlay:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},box:{background:"#fff",padding:20,borderRadius:12,width:500},btn:{padding:"6px 14px",borderRadius:8,border:"1px solid #111827",background:"#fff",fontWeight:600,cursor:"pointer"}},nz={title:"Bladder Issue",sections:[{title:null,fields:[{name:"urinaryProblem",label:"Any urinary problem?",type:"radio",options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}],validation:{required:!0}},{name:"currentMethod",label:"Currently on",type:"single-select",showIf:{field:"urinaryProblem",equals:"Yes"},options:[{label:"Spontaneous",value:"Spontaneous"},{label:"Continuous Bladder Drainage (CBD)",value:"CBD"},{label:"Condom catheter",value:"Condom"},{label:"Clean Intermittent Self-Catheterization (CISC)",value:"CISC"},{label:"Clean Intermittent Catheterization (CIC)",value:"CIC"},{label:"Supra Pubic Catheterization (SPC)",value:"SPC"},{label:"Others",value:"Others"}]},{name:"currentMethodOther",label:"Please specify",type:"input",showIf:{field:"currentMethod",equals:"Others"}},...[{key:"sensate",label:"1. Able to sensate?"},{key:"control",label:"2. Able to control?"},{key:"hold",label:"3. Able to hold?"},{key:"urgency",label:"4. Any urgency?"},{key:"hesitancy",label:"5. Hesitancy?"},{key:"history",label:"6. History of bladder stone / UTI / other problem?"},{key:"imaging",label:"7. Any imaging / procedure / surgery done? (UDS / SCC / USG)"}].flatMap(e=>[{name:e.key,label:e.label,type:"radio",showIf:{field:"urinaryProblem",equals:"Yes"},options:[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{name:"".concat(e.key,"Notes"),label:"Please specify",type:"input",showIf:{field:e.key,equals:"Yes"}}]),{name:"additional",label:"8. Other additional information",type:"textarea",showIf:{field:"urinaryProblem",equals:"Yes"}}]}]},iz={urinaryProblem:"",currentMethod:"",currentMethodOther:"",sensate:"",sensateNotes:"",control:"",controlNotes:"",hold:"",holdNotes:"",urgency:"",urgencyNotes:"",hesitancy:"",hesitancyNotes:"",history:"",historyNotes:"",imaging:"",imagingNotes:"",additional:""};function rz(){const[e,t]=(0,i.useState)(iz),[n,r]=(0,i.useState)(!1);return(0,s.jsx)(i_,{schema:nz,values:e,onChange:(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))},submitted:n})}const az=[{label:"Independent",value:0},{label:"Minimal dependence",value:1},{label:"Moderate dependence",value:2},{label:"Maximum dependence",value:3},{label:"Total dependence",value:4}];function oz(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)("adl"),h=t?"functional_assessment_draft_".concat(t.name):null;(0,i.useEffect)(()=>{if(!h)return;const e=localStorage.getItem(h);if(e){const t=JSON.parse(e);o(t.values||{})}},[h]);const p={title:"Functional Assessment",subtitle:"ADL & IADL",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"save",label:"Save"}],fields:[{name:"washing",label:"Washing oneself",type:"radio-matrix",options:az},{name:"body_care",label:"Caring for body parts",type:"radio-matrix",options:az},{name:"toileting",label:"Toileting",type:"radio-matrix",options:az},{name:"dressing",label:"Dressing",type:"radio-matrix",options:az},{name:"eating",label:"Eating",type:"radio-matrix",options:az},{name:"drinking",label:"Drinking",type:"radio-matrix",options:az},{name:"health_mgmt",label:"Looking after one\u2019s health",type:"radio-matrix",options:az},{name:"other_selfcare",label:"Other self-care activities",type:"radio-matrix",options:az},{name:"overall_selfcare",label:"Overall self-care",type:"radio-matrix",options:az},{name:"other_selfcare_specify",label:"Remarks",type:"textarea"}]},f={title:"Functional Assessment",subtitle:"Mobility \u2013 Walking and moving",actions:p.actions,fields:[{name:"mobility_category",label:"Mobility Type",type:"single-select",options:[{label:"1. Walking \u2013 Unaided",value:1},{label:"2. Walking \u2013 Using walking aids",value:2},{label:"3. Wheelchair mobility",value:3},{label:"4. Dependent mobility",value:4}],validation:{required:!0}},{name:"Walking_Unaided",label:"Walking \u2013 Unaided",helper:"Walks independently without assistive device",showIf:{field:"mobility_category",equals:1}},{name:"walking_aid_used",label:"Walking aid used",type:"single-select",options:[{label:"Walking stick / cane",value:"cane"},{label:"Elbow crutches \u2013 Single",value:"elbow_single"},{label:"Elbow crutches \u2013 Bilateral",value:"elbow_bilateral"},{label:"Axillary crutches \u2013 Single",value:"axillary_single"},{label:"Axillary crutches \u2013 Bilateral",value:"axillary_bilateral"},{label:"Platform \u2013 Single",value:"platform_single"},{label:"Platform \u2013 Bilateral",value:"platform_bilateral"},{label:"Quadripod / quad cane",value:"quad"},{label:"Walking frame",value:"frame"},{label:"Wheeled walker",value:"wheeled"},{label:"Rollator / reverse rollator",value:"rollator"},{label:"Other (specify)",value:"other"}],showIf:{field:"mobility_category",equals:2}},{name:"walking_aid_other",label:"Other Walking Aid",type:"textarea",showIf:{field:"walking_aid_used",equals:"other"}},{name:"wheelchair_mobility_type",label:"Wheelchair Mobility",type:"single-select",options:[{label:"Able to self-propel (short distances)",value:"short"},{label:"Able to self-propel (long distances)",value:"long"},{label:"Unable to self-propel",value:"unable"}],showIf:{field:"mobility_category",equals:3}},{name:"dependent_mobility",label:"Dependent mobility",helper:"Dependent on another person for mobility",showIf:{field:"mobility_category",equals:4}}]};return(0,s.jsxs)("div",{style:sz,children:[(0,s.jsxs)("div",{style:lz,children:[(0,s.jsx)("div",{style:"adl"===d?dz:cz,onClick:()=>u("adl"),children:"ADL & IADL"}),(0,s.jsx)("div",{style:"mobility"===d?dz:cz,onClick:()=>u("mobility"),children:"Mobility"})]}),(0,s.jsx)(i_,{schema:"adl"===d?p:f,values:a,onChange:(e,t)=>{o(n=>je(je({},n),{},{[e]:isNaN(t)?t:Number(t)}))},submitted:l,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":o({}),c(!1),localStorage.removeItem(h);break;case"save":localStorage.setItem(h,JSON.stringify({values:a,updatedAt:(new Date).toISOString()})),alert("Functional assessment draft saved");break;case"print":window.print()}},children:(0,s.jsx)("div",{style:uz,children:(0,s.jsx)("button",{style:hz,onClick:()=>{c(!0),null===n||void 0===n||n(a),alert("Functional Assessment submitted")},children:"Submit Functional Assessment"})})})]})}const sz={margin:"0 auto"},lz={display:"flex",gap:10,justifyContent:"center",borderBottom:"1px solid #cccccc",marginBottom:12},cz={padding:"10px 22px",border:"none !important",background:"#ffffff07",fontWeight:600,color:"#0f172a",cursor:"pointer"},dz=je(je({},cz),{},{borderBottom:"3px solid #2451b3ff",color:"#2451b3ff"}),uz={display:"flex",justifyContent:"flex-end",marginTop:20},hz={padding:"12px 32px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function pz(e){let{options:t,selected:n,setSelected:r}=e;const[a,o]=(0,i.useState)(!1),l=(0,i.useRef)(null),c=["Stroke Comprehensive","Traumatic Brain Injury Comprehensive","Spinal Cord Injury Long-Term Comprehensive","Multiple Sclerosis Comprehensive","Musculoskeletal post-Acute Comprehensive","Low Back Pain Comprehensive","Osteoarthritis Comprehensive","Cardiopulmonary post-acute Comprehensive","Diabetes Mellitus Comprehensive","Children / Youth with Cerebral Palsy Comprehensive","Vertigo Comprehensive","Hearing Loss Comprehensive","Vocational Rehabilitation Comprehensive","Hand Condition Comprehensive","Depression Comprehensive","Bipolar Disorders Comprehensive"],[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)("label",{style:{fontWeight:600},children:"Primary ICD"}),(0,s.jsxs)("select",{value:d,onChange:e=>u(e.target.value),style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ccc",marginTop:6},children:[(0,s.jsx)("option",{value:"",children:"Select Primary ICD"}),c.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),!f&&(0,s.jsx)("button",{onClick:()=>m(!0),style:{marginTop:8,padding:"6px 10px",borderRadius:6,background:"#007bff",color:"#fff",border:"none",cursor:"pointer",fontSize:14,fontWeight:600},children:"+ Add Secondary ICD"})]}),f&&(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)("label",{style:{fontWeight:600},children:"Secondary ICD"}),(0,s.jsxs)("select",{value:h,onChange:e=>p(e.target.value),style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ccc",marginTop:6},children:[(0,s.jsx)("option",{value:"",children:"Select Secondary ICD"}),c.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{ref:l,style:{width:"100%",marginBottom:20,position:"relative"},children:[(0,s.jsx)("label",{style:{fontWeight:600},children:"Refer to Departments"}),(0,s.jsx)("div",{onClick:()=>o(!a),style:{border:"1px solid #ccc",padding:10,borderRadius:6,background:"#fff",cursor:"pointer"},children:n.length?n.join(", "):"Select departments"}),a&&(0,s.jsx)("div",{style:{position:"absolute",background:"#fff",border:"1px solid #ccc",borderRadius:6,width:"100%",marginTop:4,zIndex:999,maxHeight:200,overflowY:"auto"},children:t.map(e=>(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:8},children:[(0,s.jsx)("input",{type:"checkbox",checked:n.includes(e),onChange:()=>r(n.includes(e)?n.filter(t=>t!==e):[...n,e]),style:{marginRight:10}}),e]},e))})]})]})}function fz(e){if(!e)return"No swallowing assessment recorded.";const t=[];return"yes"===e.hasDifficulty?t.push("Swallowing difficulty: Yes."):"no"===e.hasDifficulty?t.push("Swallowing difficulty: No."):t.push("Swallowing difficulty: Not recorded."),"yes"===e.hasDifficulty&&(t.push("Onset & progression: ".concat(e.onset&&e.onset.trim()?e.onset:"Not recorded",".")),t.push("Food / liquid difficulties: ".concat(e.foodDifficulty&&e.foodDifficulty.trim()?e.foodDifficulty:"Not recorded",".")),t.push("Diet modification: ".concat(e.dietModification&&e.dietModification.trim()?e.dietModification:"Not recorded",".")),t.push("Symptoms during meals: ".concat(e.symptoms&&e.symptoms.trim()?e.symptoms:"Not recorded","."))),t.join(" ")}function mz(e){if(!e)return"No visual assessment recorded.";const t=[];return t.push("Visual acuity: ".concat(e.acuity&&e.acuity.trim()?e.acuity:"Not recorded",".")),t.push("Field defect: ".concat(e.fieldDefect&&e.fieldDefect.trim()?e.fieldDefect:"Not recorded",".")),t.push("Notes: ".concat(e.notes&&e.notes.trim()?e.notes:"None",".")),t.join(" ")}function gz(e){let{patient:t,onUpdatePatient:n}=e;const[r,a]=(0,i.useState)(0),o=(0,i.useRef)(null),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),[h,p]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),[g,b]=(0,i.useState)(null),[y,v]=(0,i.useState)(null),[x,w]=(0,i.useState)(null),[j,S]=(0,i.useState)(null),[_,k]=(0,i.useState)(null),C=["Cognitive","Swallowing , Speech & Language","Visual","Hearing","Cardiovascular & Respiratory System","Physical","Bowel Issue","Bladder Issue","Skin","Functional","Social History","Work History"],[A,N]=(0,i.useState)([]);return(0,s.jsxs)("div",{style:{width:"100%",maxWidth:"100%",padding:15,boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[(0,s.jsx)("div",{style:{flexShrink:0,width:"100%",marginBottom:20},children:(0,s.jsx)("div",{ref:o,className:"custom-scrollbar",style:{display:"flex",overflowX:"auto",whiteSpace:"nowrap",gap:12,paddingBottom:12,borderBottom:"2px solid #ccc"},children:C.map((e,t)=>(0,s.jsx)("button",{onClick:()=>(e=>{a(e),o.current&&o.current.children[e]&&o.current.children[e].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})})(t),style:{flexShrink:0,padding:"10px 16px",borderRadius:6,border:r===t?"2px solid #007bff":"1px solid rgba(255,255,255,0)",background:r===t?"#007bff":"transparent",color:r===t?"#fff":"#000",fontWeight:r===t?700:500,cursor:"pointer",fontSize:14,whiteSpace:"nowrap"},children:e},t))})}),(0,s.jsxs)("div",{className:"content-scrollbar",style:{flex:1,overflowY:"auto",overflowX:"hidden",width:"100%",minHeight:0},children:["Visual"===C[r]?(0,s.jsx)(bB,{onChange:u}):"Swallowing , Speech & Language"===C[r]?(0,s.jsx)(yB,{onChange:c}):"Cognitive"===C[r]?(0,s.jsx)(NB,{onChange:p}):"Physical"===C[r]?(0,s.jsx)(LB,{onChange:m}):"Cardiovascular & Respiratory System"===C[r]?(0,s.jsx)(RB,{onChange:b}):"Hearing"===C[r]?(0,s.jsx)(MB,{onChange:v}):"Functional"===C[r]?(0,s.jsx)(oz,{onChange:k}):"Bowel Issue"===C[r]?(0,s.jsx)(ez,{onChange:w}):"Bladder Issue"===C[r]?(0,s.jsx)(rz,{onChange:S}):(0,s.jsxs)("div",{style:{padding:"20px 0"},children:[(0,s.jsxs)("h3",{style:{textAlign:"center"},children:[C[r]," Module"]}),(0,s.jsxs)("p",{children:["Content for ",(0,s.jsx)("strong",{children:C[r]})," tab goes here."]})]}),(0,s.jsx)(pz,{options:["Dietetics","Physiotherapy","Occupational Therapy","Speech Therapy","Psychology","Medical","Nursing","Orthotics & Prosthetics","Social Work"],selected:A,setSelected:N}),(0,s.jsx)("button",{onClick:()=>{if(!t)return;const e=je(je({},t),{},{departments:Array.from(new Set([...t.departments||[],"Doctor",...A]))});localStorage.setItem("patient_"+t.id,JSON.stringify(e)),(e=>{const t="patient_".concat(e,"_doctor_existing"),n={existing:!0,at:(new Date).toISOString()};localStorage.setItem(t,JSON.stringify(n))})(t.id),n&&n(e),alert("Referral submitted successfully!")},style:{padding:"10px 12px",background:"#007bff",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600,marginRight:20},children:"Submit Referral"}),(0,s.jsx)("button",{onClick:()=>{if(!t)return alert("No patient found!");const e="patient_".concat(t.id,"_reports"),n=JSON.parse(localStorage.getItem(e)||"[]"),i={reportId:"doctor_assessment_"+Date.now(),patientId:t.id,createdBy:"Doctor",allowedDepartments:A.length?A:["Doctor"],timestamp:Date.now(),summary:{swallowing:l,visual:d},summaryText:{swallowing:fz(l),visual:mz(d)}};localStorage.setItem(e,JSON.stringify([...n,i])),alert("Report generated and shared with referred departments!")},style:{padding:"10px 12px",background:"#28a745",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:600,marginBottom:20},children:"Generate Report"})]}),(0,s.jsx)("style",{children:"\n        .custom-scrollbar::-webkit-scrollbar,\n        .content-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .custom-scrollbar,\n        .content-scrollbar {\n          scrollbar-width: none;\n          -ms-overflow-style: none;\n        }\n      "})]})}const bz={};function yz(e){let{selected:t,onSave:n,initialFormData:i}=e;if(!t)return(0,s.jsx)("p",{children:"Select an assessment"});const r=bz[t];if(!r)return(0,s.jsxs)("p",{children:["No component for ",t]});return(0,s.jsx)(r,{onSave:(e,t)=>n&&n(e,t),onSubmit:e=>{n&&n(t,e)},assessmentName:t,initialFormData:i})}function vz(e){if(!e)return"";var t=e.split("\u2013");return t&&0!==t.length||(t=e.split("-")),t&&0!==t.length?t[0].trim():e.trim()}function xz(e){var t=e.patient||{},n=e.department||"services",r=e.onBack||function(){};const a=(e,t)=>R(n=>je(je({},n),{},{[e]:t})),o={input:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #ccc"},readonlyInput:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #ccc",background:"#eee",color:"#333"},textarea:{width:"100%",padding:"10px 12px",borderRadius:6,border:"1px solid #ccc"}};var[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)([]),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[g,b]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[x,w]=(0,i.useState)(!1),[j,S]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[g,b]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[x,w]=(0,i.useState)(!1),[j,S]=(0,i.useState)(!1);const _=(0,i.useRef)(null),[k,C]=(0,i.useState)(!1),[A,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{function e(e){_.current&&(_.current.contains(e.target)||C(!1))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);var[O,P]=(0,i.useState)(null),[I,E]=(0,i.useState)("subjective"),[T,L]=(0,i.useState)(null);const[M,R]=(0,i.useState)({});var[D,F]=(0,i.useState)({}),[B,z]=(0,i.useState)([]),[W,U]=(0,i.useState)({}),[q,H]=(0,i.useState)({}),[V,G]=(0,i.useState)([]),[Z,Y]=(0,i.useState)({}),[K,J]=(0,i.useState)([]),[X,$]=(0,i.useState)(null),[Q,ee]=(0,i.useState)([]),[te,ne]=(0,i.useState)(!1),[ie,re]=(0,i.useState)([]),[ae,oe]=(0,i.useState)(null),[se,le]=(0,i.useState)(null),[ce,de]=(0,i.useState)(null),[ue,he]=(0,i.useState)(!1),pe=l&&Ge&&Ge[l]?Ge[l][n]:null,fe=pe&&pe.ICF?Object.keys(pe.ICF):[],me=(0,i.useMemo)(function(){var e={ICF:{}};if(!He||!Ge)return e;for(var t=0;t<He.length;t++){var i=He[t],r=Ge&&Ge[i]?Ge[i][n]:null;if(r&&r.ICF)for(var a=Object.keys(r.ICF),o=0;o<a.length;o++){var s=a[o];e.ICF[s]||(e.ICF[s]=r.ICF[s])}}return e},[He,Ge,n]),ge=pe||me,be=(0,i.useMemo)(function(){for(var e={},t=me&&me.ICF?me.ICF:{},n=Object.keys(t||{}),i=0;i<n.length;i++)for(var r=t[n[i]],a=r&&r.ICHI?r.ICHI:[],o=0;o<a.length;o++)for(var s=(a[o]||""||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),l=0;l<s.length;l++){var c=s[l],d=(c.split("\u2013")[0]||c.split("-")[0]||"").trim();d&&!e[d]&&(e[d]=c)}return e},[me]),ye=((0,i.useMemo)(function(){if(!fe||0===fe.length)return[];if(!d||0===d.length)return[];for(var e=[],t=0;t<fe.length;t++){var n=fe[t];-1!==d.indexOf(n)&&e.push(n)}return e},[fe,d]),O&&pe&&pe.ICF?pe.ICF[O]:null),ve=O?vz(O):null,xe=ve&&Ze?Ze[ve]:null,we="patient_"+(t&&t.id?t.id:"anon")+"_icf_map_v1",Se=we+"_submissions_v1",_e=we+"_final_v1",ke=we+"_is_followup_v1";(0,i.useEffect)(function(){try{var e=localStorage.getItem(we);if(e){var t=JSON.parse(e);t&&"object"===typeof t&&Y(t)}}catch(n){console.warn("Failed to load persisted icf map:",n),oe("Failed to load persisted icf map: "+(n&&n.message?n.message:String(n)))}c(""),u([]),p(!1),P(null),L(null),E("subjective")},[we,t&&t.id]),(0,i.useEffect)(function(){try{localStorage.setItem(we,JSON.stringify(Z))}catch(e){console.warn("Failed to persist icfSavedMap:",e),oe("Failed to persist icfSavedMap: "+(e&&e.message?e.message:String(e)))}},[Z,we]),(0,i.useEffect)(function(){try{var e=localStorage.getItem(Se);if(e){var t=JSON.parse(e);Array.isArray(t)&&(J(t),t.length>0&&$(t.length-1))}}catch(n){console.warn("Failed to load submissions:",n),oe("Failed to load submissions: "+(n&&n.message?n.message:String(n)))}},[Se,t&&t.id]),(0,i.useEffect)(function(){try{localStorage.setItem(Se,JSON.stringify(K)),K&&K.length>0?$(K.length-1):$(null),ee([])}catch(e){console.warn("Failed to persist submissions:",e),oe("Failed to persist submissions: "+(e&&e.message?e.message:String(e)))}},[K,Se]),(0,i.useEffect)(function(){try{var e=localStorage.getItem(_e);if(e){var t=JSON.parse(e);de(t)}else de(null);localStorage.getItem(ke)}catch(n){console.warn("Failed to load final/followup flags:",n)}},[_e,ke,t&&t.id]),(0,i.useEffect)(function(){if(!ye||!ve)return F({}),z([]),U({}),H({}),void G([]);for(var e={},t=ye.ICHI||[],n=0;n<t.length;n++)for(var i=(t[n]||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),r=0;r<i.length;r++){var a=i[r],o=(a.split("\u2013")[0]||a.split("-")[0]||"").trim();o&&(e[o]="grey")}var s=Z&&Z[ve]?Z[ve]:null;s?(F(s.ichiStatus||e),z(s.savedAssessments||[]),U(s.formDataByAssessment||{}),H(s.unboldedApplicability||{}),G(s.manualAddedIchi||[])):(F(e),z([]),U({}),H({}),G([])),L(null)},[ye,ve]),(0,i.useEffect)(function(){ve&&Y(function(e){var t=Object.assign({},e);return t[ve]={ichiStatus:D,savedAssessments:B,formDataByAssessment:W,unboldedApplicability:q,manualAddedIchi:V},t})},[D,B,W,q,V,ve]);var Ce=(0,i.useMemo)(function(){for(var e=Object.keys(D||{}),t=[],n=0;n<e.length;n++){var i=e[n];"bold"!==D[i]&&t.push(i)}return t},[D]);function Ae(e,t){H(function(n){return Object.assign({},n,{[e]:t})})}var Ne=(0,i.useMemo)(function(){if(!ye)return V||[];for(var e=new Set(V||[]),t=0;t<(B||[]).length;t++)for(var n=B[t],i=ye.Relations&&ye.Relations[n]?ye.Relations[n]:[],r=0;r<i.length;r++){var a=i[r],o=a&&(a.split("\u2013")[0]||a.split("-")[0]||"").trim();o&&e.add(o)}return Array.from(e)},[ye,B,V]);function Oe(){Q&&0!==Q.length?(G(function(e){var t=new Set(e||[]);return Q.forEach(function(e){t.add(e)}),Array.from(t)}),F(function(e){var t=Object.assign({},e);return Q.forEach(function(e){t[e]="bold"}),t}),ve&&Y(function(e){var t=Object.assign({},e),n=t[ve]||{ichiStatus:{},savedAssessments:[],formDataByAssessment:{},unboldedApplicability:{},manualAddedIchi:[]},i=new Set(n.manualAddedIchi||[]);Q.forEach(function(e){i.add(e)}),n.manualAddedIchi=Array.from(i);var r=Object.assign({},n.ichiStatus||{});return Q.forEach(function(e){r[e]="bold"}),n.ichiStatus=r,t[ve]=n,t}),alert(Q.length+" ICHI added to Manual additions and marked bold."),ee([])):alert("Select at least one Left ICHI to add.")}var Pe=(0,i.useMemo)(function(){var e=new Set,t=[];if(!ge||!ge.ICF)return t;for(var n=Object.keys(ge.ICF),i=0;i<n.length;i++)for(var r=n[i],a=ge.ICF[r],o=a&&a.Assessments&&a.Assessments[I]?a.Assessments[I]:[],s=0;s<o.length;s++){var l=o[s];e.has(l)||(e.add(l),t.push(l))}return t},[ge,I]);function Ie(){if(!ce||!ce.when)return!1;var e=new Date(ce.when).getTime();return Date.now()-e<=216e5}return(0,i.useEffect)(function(){ce&&localStorage.setItem(ke,JSON.stringify({followup:!0,at:ce.when}))},[ce,ke]),(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:r,style:{marginRight:12},children:"\u2190 Back"}),(0,s.jsx)("strong",{style:{fontSize:16},children:t&&t.name?t.name:"Patient"}),ce?(0,s.jsx)("span",{style:{marginLeft:10,color:"#2b7a0b"},children:" \u2014 Finalised"}):null,ue?(0,s.jsx)("span",{style:{marginLeft:10,color:"#a25b00"},children:" \u2014 Edit mode"}):null]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[ce?(0,s.jsxs)(s.Fragment,{children:[Ie()?(0,s.jsx)("button",{onClick:function(){if(!ce)return he(!0),void alert("Edit mode enabled for this patient.");Ie()?(he(!ue),ue||alert("Edit mode enabled. Save your changes. When finished, you may 'Finalise' again.")):alert("Edit window closed (more than 6 hours since final submission). Editing not allowed.")},style:{padding:"8px 12px",borderRadius:6,background:ue?"#ffc107":"#28a745",color:"#fff"},children:ue?"Exit Edit":"Edit"}):(0,s.jsx)("button",{title:"Edit window closed",disabled:!0,style:{padding:"8px 12px",borderRadius:6,background:"#ddd",color:"#888"},children:"Edit (closed)"}),(0,s.jsx)("button",{onClick:function(){var e="\n      <html>\n      <head>\n        <title>Patient Summary - ".concat(t.name||"Patient",'</title>\n        <style>\n          body { font-family: Arial, Helvetica, sans-serif; padding: 24px; color: #111 }\n          h1 { margin-top:0; }\n          .section { margin-bottom: 18px; }\n          table { width:100%; border-collapse: collapse; margin-top:8px; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align:left; vertical-align: top; }\n          th { background: #f6f6f6; }\n        </style>\n      </head>\n      <body>\n        <h1>Patient Summary</h1>\n        <div class="section"><strong>Name:</strong> ').concat(t.name||""," <br/><strong>ID:</strong> ").concat(t.id||""," <br/><strong>Department:</strong> ").concat(n,'</div>\n\n        <div class="section">\n          <h3>Final status</h3>\n          <div>Finalised: ').concat(ce?"YES":"NO","</div>\n          ").concat(ce?"<div>Finalised at: ".concat(new Date(ce.when).toLocaleString(),"</div>"):"",'\n        </div>\n\n        <div class="section">\n          <h3>Submissions</h3>\n          ').concat(K&&K.length>0?"\n            <table>\n              <thead><tr><th>Time</th><th>Assessment</th><th>ICFs</th><th>ICHI (relations)</th><th>Left ICHI</th></tr></thead>\n              <tbody>\n                ".concat(K.map(e=>"<tr>\n                  <td>".concat(new Date(e.timestamp).toLocaleString(),"</td>\n                  <td>").concat(e.assessmentName,"</td>\n                  <td>").concat((e.icfShorts||[]).join(", "),"</td>\n                  <td>").concat((e.ichiFullLabels||e.ichi||[]).join(", "),"</td>\n                  <td>").concat((e.leftIchiFullLabels||[]).join(", "),"</td>\n                </tr>")).join(""),"\n              </tbody>\n            </table>"):"<div>No submissions recorded.</div>",'\n        </div>\n\n        <div class="section">\n          <h3>Manual additions</h3>\n          ').concat(V&&V.length>0?"<ul>".concat(V.map(e=>"<li>".concat(e," \u2014 ").concat(be[e]||"","</li>")).join(""),"</ul>"):"<div>None</div>",'\n        </div>\n\n        <div class="section">\n          <h3>Per-ICF saved state</h3>\n          ').concat(Object.keys(Z||{}).length>0?"<pre>".concat(JSON.stringify(Z,null,2),"</pre>"):"<div>None</div>",'\n        </div>\n\n        <div style="margin-top:24px;"><em>Generated at ').concat((new Date).toLocaleString(),"</em></div>\n      </body>\n      </html>\n    "),i=window.open("","_blank","noopener,noreferrer");i?(i.document.open(),i.document.write(e),i.document.close(),setTimeout(function(){try{i.focus(),i.print()}catch(e){console.warn("print error",e)}},400)):alert("Popup blocked. Allow popups or use the browser print/save functionality.")},style:{padding:"8px 12px",borderRadius:6,background:"#6c757d",color:"#fff"},children:"Patient Summary (PDF)"})]}):(0,s.jsx)("button",{onClick:function(){if(window.confirm("Finalise patient submission? After finalising, editing will be locked after 6 hours. Proceed?")){var e={when:(new Date).toISOString()};de(e),localStorage.setItem(_e,JSON.stringify(e)),localStorage.setItem(ke,JSON.stringify({followup:!0,at:e.when})),alert("Patient finalised. You can edit for up to 6 hours from now using the Edit button.")}},style:{padding:"8px 12px",borderRadius:6,background:"#0050ff",color:"#fff"},children:"Final submission"}),(0,s.jsx)("button",{onClick:function(){try{localStorage.removeItem(we),localStorage.removeItem(Se),localStorage.removeItem(_e),localStorage.removeItem(ke),Y({}),F({}),z([]),U({}),H({}),G([]),u([]),J([]),re([]),oe(null),le("Cleared persisted data"),de(null),he(!1),alert("All persisted data for this patient cleared.")}catch(e){console.warn("clear error",e),oe("clear error: "+(e&&e.message?e.message:String(e)))}},title:"Clear all persisted data for this patient",children:"Clear saved (dev)"})]})]}),(0,s.jsx)("hr",{style:{margin:"12px 0"}}),(0,s.jsxs)("div",{style:{marginBottom:12,position:"relative"},ref:_,children:[(0,s.jsx)("p",{children:"Doctors Selected ICD: Stroke"}),(0,s.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:6},children:"Select ICD"}),(0,s.jsxs)("div",{onClick:()=>C(e=>!e),style:{border:"1px solid #ccc",padding:"8px 10px",borderRadius:6,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff",minHeight:44},children:[(0,s.jsx)("div",{style:{color:"#333"},children:A&&A.length>0?1===A.length?A[0]:"".concat(A.length," selected"):(0,s.jsx)("em",{style:{color:"#666"},children:"Select ICD(s)"})}),(0,s.jsx)("div",{style:{fontSize:12,color:"#666"},children:k?"\u25b2":"\u25bc"})]}),k&&(0,s.jsxs)("div",{style:{position:"absolute",top:52,left:0,width:360,zIndex:1e3,border:"1px solid #ddd",background:"#fff",boxShadow:"0 6px 18px rgba(0,0,0,0.08)",borderRadius:6,padding:10,maxHeight:320,overflow:"auto"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,s.jsx)("button",{type:"button",onClick:function(){N(He?He.slice():[])},style:{padding:"6px 8px",borderRadius:6},children:"Select all"}),(0,s.jsx)("button",{type:"button",onClick:function(){N([])},style:{padding:"6px 8px",borderRadius:6},children:"Clear"})]}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:He&&He.map(e=>{const t=A&&-1!==A.indexOf(e);return(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",padding:"6px 4px",borderRadius:4},children:[(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:()=>function(e){N(t=>(t||(t=[]),-1!==t.indexOf(e)?t.filter(t=>t!==e):t.concat([e])))}(e)}),(0,s.jsx)("span",{style:{fontSize:14},children:e})]},e)})}),(0,s.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("small",{style:{color:"#666"},children:A&&A.length>0?"".concat(A.length," selected"):"None selected"}),(0,s.jsx)("button",{type:"button",onClick:()=>C(!1),style:{padding:"6px 8px",borderRadius:6},children:"Done"})]})]}),(0,s.jsxs)("div",{style:{marginTop:8,fontSize:13,color:"#333"},children:["Selected: ",0===A.length?(0,s.jsx)("em",{children:"None"}):A.join(", ")]})]}),ge&&(0,s.jsxs)("div",{style:{marginTop:8},children:[(0,s.jsxs)("div",{style:{marginBottom:10},children:[(0,s.jsx)("button",{onClick:()=>E("subjective"),style:{marginRight:8,padding:"8px 12px",borderRadius:6,background:"subjective"===I?"#007bff":"#fff",color:"subjective"===I?"#fff":"#000"},children:"Assessments"}),(0,s.jsx)("button",{onClick:()=>E("objective"),style:{padding:"8px 12px",borderRadius:6,background:"objective"===I?"#007bff":"#fff",color:"objective"===I?"#fff":"#000"},children:"Assessments (Equipment)"})]}),(0,s.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:0===Pe.length?(0,s.jsx)("div",{style:{color:"#666"},children:"No assessments available for the selected tab."}):Pe.map(function(e){return(0,s.jsx)("button",{onClick:()=>L(e),style:{padding:"8px 10px",borderRadius:6,background:T===e?"#0c3161ff":"#007bff",border:T===e?"2px solid #333":"1px solid #007bff",cursor:"pointer",color:"#fff"},children:e},e)})}),(0,s.jsx)("div",{children:ce&&!ue?(0,s.jsxs)("div",{style:{padding:12,borderRadius:6,background:"#fff3cd",border:"1px solid #ffeeba"},children:[(0,s.jsx)("strong",{children:"Patient finalised \u2014 editing locked."}),(0,s.jsx)("div",{style:{marginTop:8},children:"You cannot save new assessments. Use Patient Summary to export or wait for an admin to reopen editing."})]}):(0,s.jsx)(yz,{selected:T,onSave:function(e,t){if(ce&&!ue)return oe("Cannot save: patient finalized. Edit window closed or editing disabled."),void alert("Patient has been finalised. Editing is locked. Use 'Patient Summary' or ask an admin to reopen editing.");oe(null),le("Attempting save: "+e),console.log("[PatientDetails] saveAssessment called:",e,t);try{if(!e)return console.warn("[saveAssessment] no assessmentName provided"),void oe("saveAssessment called with empty assessmentName");for(var i=ge&&ge.ICF?Object.keys(ge.ICF):[],r=[],a=0;a<i.length;a++){var o=i[a],s=ge&&ge.ICF?ge.ICF[o]:null;-1!==(s&&s.Assessments&&s.Assessments[I]?s.Assessments[I]:[]).indexOf(e)&&r.push(o)}if(!r||0===r.length){if(!(O&&pe&&pe.ICF&&pe.ICF[O]))return console.warn("[saveAssessment] no affected ICFs found and no selectedICF fallback"),void oe("No affected ICFs found for "+e);r=[O]}var c=new Set,d=[],u=[],h=new Set,p={};A&&A.length>0&&A.forEach(function(e){c.add(e)});for(var f=0;f<r.length;f++){var m=r[f],g=null;ge&&ge.ICF&&ge.ICF[m]&&(g=ge.ICF[m]);var b=vz(m);b&&-1===d.indexOf(b)&&d.push(b),-1===u.indexOf(m)&&u.push(m);for(var y=He||[],v=0;v<y.length;v++){var x=y[v],w=Ge&&Ge[x]?Ge[x][n]:null;w&&w.ICF&&w.ICF[m]&&(c.add(x),g||(g=w.ICF[m]))}if(0===c.size&&l){var j=Ge&&Ge[l]?Ge[l][n]:null;j&&j.ICF&&j.ICF[m]&&c.add(l)}for(var S=g&&g.Relations&&g.Relations[e]?g.Relations[e]:[],_=0;_<S.length;_++){var k=S[_],C=k&&(k.split("\u2013")[0]||k.split("-")[0]||"").trim();if(C){h.add(C);for(var N=g&&g.ICHI?g.ICHI:[],P=0;P<N.length;P++)for(var E=(N[P]||""||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),T=0;T<E.length;T++){var L=E[T];0===L.indexOf(C)&&(p[C]||(p[C]=new Set),p[C].add(L))}}}if(g&&g.ICHI)for(var M=g.ICHI||[],R=0;R<M.length;R++)for(var D=(M[R]||""||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),B=0;B<D.length;B++){var W=D[B],q=(W.split("\u2013")[0]||W.split("-")[0]||"").trim();q&&(p[q]||(p[q]=new Set),p[q].add(W))}}var H=Array.from(c);0===H.length&&l&&(H=[l]);for(var V=Array.from(h),G=[],Z=0;Z<V.length;Z++){var K=V[Z],X=p[K];X&&X.size>0?X.forEach(function(e){-1===G.indexOf(e)&&G.push(e)}):-1===G.indexOf(K)&&G.push(K)}for(var $=Object.keys(p||{}).filter(function(e){return-1===V.indexOf(e)}),Q=[],ee=0;ee<$.length;ee++){var te=$[ee],ne=p[te];ne&&ne.size>0?ne.forEach(function(e){-1===Q.indexOf(e)&&Q.push(e)}):-1===Q.indexOf(te)&&Q.push(te)}if(Y(function(i){for(var a=Object.assign({},i),o=0;o<r.length;o++){var s=r[o],l=ge&&ge.ICF?ge.ICF[s]:null;if(!l)for(var c=He||[],d=0;d<c.length;d++){var u=c[d],h=Ge&&Ge[u]?Ge[u][n]:null;if(h&&h.ICF&&h.ICF[s]){l=h.ICF[s];break}}var p=vz(s),f=a[p]||{ichiStatus:{},savedAssessments:[],formDataByAssessment:{},unboldedApplicability:{},manualAddedIchi:[]};if(!f.ichiStatus||0===Object.keys(f.ichiStatus).length){for(var m={},g=l&&l.ICHI?l.ICHI:[],b=0;b<g.length;b++)for(var y=(g[b]||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),v=0;v<y.length;v++){var x=y[v],w=(x.split("\u2013")[0]||x.split("-")[0]||"").trim();w&&(m[w]=f.ichiStatus&&f.ichiStatus[w]?f.ichiStatus[w]:"grey")}f.ichiStatus=Object.assign({},m,f.ichiStatus||{})}for(var j=l&&l.Relations&&l.Relations[e]?l.Relations[e]:[],S=[],_=0;_<j.length;_++){var k=j[_],C=k&&(k.split("\u2013")[0]||k.split("-")[0]||"").trim()||null;C&&S.push(C)}for(var A=Object.assign({},f.ichiStatus),N=0;N<S.length;N++)A[S[N]]="bold";var O=[].concat(f.savedAssessments||[],[e]),P=Array.from(new Set(O)),I=Object.assign({},f.formDataByAssessment||{});I[e]="undefined"!==typeof t&&null!==t?t:f.formDataByAssessment?f.formDataByAssessment[e]:{},a[p]=Object.assign({},f,{ichiStatus:A,savedAssessments:P,formDataByAssessment:I})}return a}),O){var ie=pe&&pe.ICF?pe.ICF[O]:null;ie||me&&me.ICF&&me.ICF[O]&&(ie=me.ICF[O]);for(var ae=ie&&ie.Relations&&ie.Relations[e]?ie.Relations[e]:[],se=[],de=0;de<ae.length;de++){var he=ae[de],fe=he&&(he.split("\u2013")[0]||he.split("-")[0]||"").trim()||null;fe&&se.push(fe)}se.length>0&&F(function(e){for(var t=Object.assign({},e),n=0;n<se.length;n++)t[se[n]]="bold";return t}),z(function(t){return-1!==t.indexOf(e)?t:t.concat([e])}),U(function(n){var i=Object.assign({},n);return i[e]="undefined"!==typeof t&&null!==t?t:n[e]||{},i})}var be={id:Date.now()+"_"+Math.random().toString(36).slice(2,8),assessmentName:e,formData:"undefined"!==typeof t&&null!==t?t:null,icds:Array.from(c),icfShorts:d,icfLabelsFull:u,ichiCodes:Array.from(h),ichiFullLabels:G,leftIchiCodes:$,leftIchiFullLabels:Q,timestamp:(new Date).toISOString()};J(function(e){return e.concat([be])}),re(function(t){var n={when:(new Date).toISOString(),assessmentName:e,icds:Array.from(c),icfs:d,ichi:G},i=(t||[]).concat([n]);return i.length>10&&(i=i.slice(i.length-10)),i}),le("Saved "+e+" \u2192 "+d.join(", ")),console.log("[saveAssessment] saved row:",be)}catch(ye){console.error("[saveAssessment] error:",ye),oe("saveAssessment error: "+(ye&&ye.message?ye.message:String(ye)))}},initialFormData:W[T]||null})})]}),(0,s.jsxs)("div",{style:{marginTop:20},children:[(0,s.jsx)("b",{children:(0,s.jsx)("p",{children:"Submitted assessments (auto-linked ICF / ICHI)"})}),K&&0!==K.length?(0,s.jsx)("div",{style:{overflowX:"auto",border:"1px solid #eee",borderRadius:6},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{textAlign:"left",background:"#fafafa"},children:[(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Submitted Time"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Assessment"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"ICFs"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"ICHI"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:K.map(function(e,t){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5",verticalAlign:"top"},children:new Date(e.timestamp).toLocaleString()}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:e.assessmentName}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(e.icfShorts||[]).join(", ")}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(e.ichiFullLabels||e.ichi||[]).join(", ")}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(0,s.jsx)("button",{onClick:()=>alert(JSON.stringify(e,null,2)),style:{padding:"6px 8px",borderRadius:6,marginLeft:8},children:"View"})})]},e.id)})})]})}):(0,s.jsx)("p",{style:{color:"#666"},children:"No submissions yet."})]}),(0,s.jsxs)("div",{style:{padding:20,background:"white",padding:20,marginTop:20,borderRadius:10,border:"1px solid #ddd",marginBottom:20,boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},className:"card",children:[(0,s.jsx)("h3",{children:"Plan / Intervention"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12,marginTop:8},children:[(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:f,onChange:function(){m(!f)}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Initiate nutritional intervention"}),(0,s.jsx)("div",{style:o.small,children:"Start targeted interventions (meals, supplements)"})]})]}),(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:g,onChange:function(){b(!g)}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Order nutrition consult"}),(0,s.jsx)("div",{style:o.small,children:"Within 24\u201372 hours"})]})]}),(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:y,onChange:function(){v(!y)}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Monitor oral intake"}),(0,s.jsx)("div",{style:o.small,children:"Record intake daily"})]})]}),(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[(0,s.jsx)("input",{type:"checkbox",checked:x,onChange:function(){w(!x)}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Start supplements / consider enteral"}),(0,s.jsx)("div",{style:o.small,children:"If intake insufficient"})]})]}),(0,s.jsxs)("label",{style:{display:"flex",gap:10,alignItems:"flex-start",gridColumn:"1 / -1"},children:[(0,s.jsx)("input",{type:"checkbox",checked:j,onChange:function(){S(!j)}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Document follow-up plan"}),(0,s.jsx)("div",{style:o.small,children:"Include re-screen schedule & responsible clinician"})]})]})]}),(0,s.jsx)("h3",{style:{padding:20},children:"Short Term Goals"}),(0,s.jsx)("textarea",{style:o.textarea,value:M.diagnosis_signs,onChange:e=>a("diagnosis_signs",e.target.value)}),(0,s.jsx)("h3",{style:{paddingTop:40},children:"Long Term Goals"}),(0,s.jsx)("textarea",{style:o.textarea,value:M.diagnosis_signs,onChange:e=>a("diagnosis_signs",e.target.value)})]}),(0,s.jsxs)("div",{style:{marginTop:18,padding:12,border:"1px solid #ddd",borderRadius:8,background:"#fff"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Remaining ICHI"}),K&&0!==K.length?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:10,display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsx)("label",{style:{fontWeight:600},children:"Pick submission:"}),(0,s.jsxs)("select",{value:null===X?"":X,onChange:e=>{var t=""===e.target.value?null:parseInt(e.target.value,10);$(t),ee([])},style:{padding:"6px 8px",borderRadius:6},children:[(0,s.jsx)("option",{value:"",children:"-- choose submission --"}),K.map(function(e,t){return(0,s.jsxs)("option",{value:t,children:[new Date(e.timestamp).toLocaleString()," \u2014 ",e.assessmentName]},e.id)})]}),(0,s.jsxs)("div",{style:{marginLeft:"auto",color:"#666",fontSize:13},children:["Selected: ",null===X?(0,s.jsx)("em",{children:"None"}):new Date(K[X].timestamp).toLocaleString()]})]}),null===X?(0,s.jsx)("div",{style:{color:"#666"},children:"Choose a submission above to view and select its Left ICHI."}):function(){var e=K[X],t=e&&e.leftIchiFullLabels?e.leftIchiFullLabels:[],n=e&&e.leftIchiCodes?e.leftIchiCodes:[];if(!t||0===t.length)return(0,s.jsx)("div",{style:{color:"#666"},children:"No Left ICHI for this submission."});for(var i=[],r=0;r<t.length;r++){var a=t[r],o=n&&n[r]?n[r]:a.split(" ")[0]||a;i.push({code:o,label:a})}return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{maxHeight:260,overflowY:"auto",padding:8,border:"1px solid #f0f0f0",borderRadius:6,background:"#fafafa"},children:i.map(function(e){var t=Q&&-1!==Q.indexOf(e.code);return(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 4px",borderBottom:"1px dashed #eee"},children:[(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:()=>function(e){ee(function(t){var n=t?t.slice():[];return-1!==n.indexOf(e)?n.filter(function(t){return t!==e}):(n.push(e),n)})}(e.code)}),(0,s.jsx)("span",{style:{fontSize:14},children:e.label})]},e.code)})}),(0,s.jsxs)("div",{style:{marginTop:10,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:Oe,style:{padding:"8px 12px",borderRadius:6,background:"#28a745",color:"#fff"},children:"Add selected to Manual additions"}),(0,s.jsx)("button",{onClick:()=>ee([]),style:{padding:"8px 12px",borderRadius:6},children:"Clear selection"})]}),(0,s.jsx)("div",{style:{marginTop:10,color:"#666"},children:(0,s.jsx)("small",{children:"Tip: After adding, open the active ICF to see the codes reflected under 'ICHIs related to saved assessments (including manual additions)'."})})]})}()]}):(0,s.jsx)("div",{style:{color:"#666"},children:"No submissions available to pick Left ICHI from."})]}),(0,s.jsxs)("div",{style:{marginTop:16,padding:12,border:"1px solid #ddd",borderRadius:8,background:"#fff"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Added ICHI (manual additions)"}),V&&0!==V.length?(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{textAlign:"left",background:"#fafafa"},children:[(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"ICHI Code"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Full label"}),(0,s.jsx)("th",{style:{padding:8,borderBottom:"1px solid #eee"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:V.map(function(e){var t=be[e]||e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5",verticalAlign:"top"},children:e}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:t}),(0,s.jsx)("td",{style:{padding:8,borderTop:"1px solid #f5f5f5"},children:(0,s.jsx)("button",{onClick:()=>{return t=e,void G(function(e){var n=(e||[]).filter(function(e){return e!==t});return ve&&Y(function(e){var n=Object.assign({},e),i=n[ve]||{ichiStatus:{},savedAssessments:[],formDataByAssessment:{},unboldedApplicability:{},manualAddedIchi:[]};return i.manualAddedIchi=(i.manualAddedIchi||[]).filter(function(e){return e!==t}),i.ichiStatus&&i.ichiStatus[t]&&(i.ichiStatus[t]="grey"),n[ve]=i,n}),F(function(e){var n=Object.assign({},e);return n[t]&&(n[t]="grey"),n}),n});var t},style:{padding:"6px 8px",borderRadius:6},children:"Remove"})})]},e)})})]})}):(0,s.jsx)("div",{style:{color:"#666"},children:"No manual additions yet."})]}),ye&&(0,s.jsxs)("div",{style:{marginTop:8},children:[xe&&(0,s.jsxs)("div",{style:{marginBottom:18,padding:12,borderRadius:8,background:"#fbfbfb",border:"1px solid #eee"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ICF code:"})," ",ve]}),xe.title&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Title:"})," ",xe.title]}),xe.hierarchy&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Hierarchy:"}),(0,s.jsx)("div",{children:xe.hierarchy.map(function(e,t){return(0,s.jsx)("div",{children:e},t)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsxs)("h4",{style:{margin:"6px 0"},children:["ICHI for ",O]}),(0,s.jsxs)("div",{style:{marginTop:8},children:[(0,s.jsxs)("div",{style:{marginBottom:10},children:[(0,s.jsx)("button",{onClick:()=>E("subjective"),style:{marginRight:8,padding:"8px 12px",borderRadius:6,background:"subjective"===I?"#007bff":"#fff",color:"subjective"===I?"#fff":"#000"},children:"Assessment"}),(0,s.jsx)("button",{onClick:()=>E("objective"),style:{padding:"8px 12px",borderRadius:6,background:"objective"===I?"#007bff":"#fff",color:"objective"===I?"#fff":"#000"},children:"Equipment Based Assessment"})]}),(0,s.jsxs)("div",{style:{marginTop:20,padding:12,borderRadius:8,border:"1px dashed #ccc"},children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Saved assessments (for this ICF)"}),B&&0!==B.length?(0,s.jsx)("ul",{children:B.map(function(e){return(0,s.jsx)("li",{children:e},e)})}):(0,s.jsx)("p",{children:"None yet"}),(0,s.jsx)("h4",{style:{marginTop:12},children:"ICHIs related to saved assessments (including manual additions)"}),Ne&&0!==Ne.length?(0,s.jsx)("ul",{children:Ne.map(function(e){return(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:e}),-1!==(V||[]).indexOf(e)?" (manually added)":""]},e)})}):(0,s.jsx)("p",{children:"None yet"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{style:{marginTop:0},children:"Unbolded ICHI (set applicability)"}),(0,s.jsx)("div",{style:{padding:12,border:"1px solid #eee",borderRadius:8,maxHeight:520,overflowY:"auto"},children:Ce&&0!==Ce.length?(0,s.jsx)("div",{children:Ce.map(function(e){for(var t=e,n=!1,i=ye.ICHI||[],r=0;r<i.length&&!n;r++)for(var a=(i[r]||"").split("\n").map(function(e){return e.trim()}).filter(Boolean),o=0;o<a.length;o++){var l=a[o];if(0===l.indexOf(e)){t=l,n=!0;break}}var c=q[e]||"unknown";return(0,s.jsxs)("div",{style:{marginBottom:12,paddingBottom:8,borderBottom:"1px dashed #eee"},children:[(0,s.jsx)("div",{style:{marginBottom:6},children:(0,s.jsx)("strong",{children:t})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{marginRight:8},children:[(0,s.jsx)("input",{type:"radio",name:"app_"+e,checked:"applicable"===c,onChange:()=>Ae(e,"applicable")})," Applicable"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:"app_"+e,checked:"not_applicable"===c,onChange:()=>Ae(e,"not_applicable")})," Not applicable"]}),(0,s.jsx)("span",{style:{marginLeft:8,color:"#666"},children:"unknown"===c?"(not set)":""})]})]},e)})}):(0,s.jsx)("p",{children:"All ICHIs are bolded \u2014 none left to classify."})}),(0,s.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:function(){if(ve){var e=Ce.filter(function(e){return"applicable"===q[e]});if(!e||0===e.length)return Y(function(e){var t=Object.assign({},e);return t[ve]=Object.assign({},t[ve]||{},{ichiStatus:D,savedAssessments:B,formDataByAssessment:W,unboldedApplicability:q,manualAddedIchi:V}),t}),void alert("No 'Applicable' unbolded ICHI selected. Applicability saved.");F(function(t){for(var n=Object.assign({},t),i=0;i<e.length;i++)n[e[i]]="bold";return n}),G(function(t){for(var n=new Set(t||[]),i=0;i<e.length;i++)n.add(e[i]);return Array.from(n)}),console.log("Added applicable unbolded codes:",e),alert((e.length||0)+" ICHI added to related list.")}else alert("Select an ICF first.")},style:{padding:"8px 12px",borderRadius:6,background:"#28a745",color:"#fff"},children:"Final Save Unbolded ICHI"}),(0,s.jsx)("button",{onClick:function(){for(var e=Object.assign({},q),t=0;t<Ce.length;t++)e[Ce[t]]="not_applicable";H(e)},style:{padding:"8px 12px",borderRadius:6},children:"Mark all Not Applicable"})]}),(0,s.jsxs)("div",{style:{marginTop:14,padding:10,border:"1px dashed #eee",borderRadius:6},children:[(0,s.jsx)("strong",{children:"Manual additions"}),V&&0!==V.length?(0,s.jsx)("ul",{style:{marginTop:8},children:V.map(function(e){return(0,s.jsx)("li",{children:e},e)})}):(0,s.jsx)("p",{style:{marginTop:8},children:"None yet"})]})]})]})]})]})}function wz(e){let{patients:t=[],onSelectPatient:n,onOpenPatients:r,onOpenAppointments:a}=e;const[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),u=t.length,h=(0,i.useMemo)(()=>new Set(t.map(e=>e.icd).filter(Boolean)).size,[t]),p=(0,i.useMemo)(()=>{const e=t.map(e=>Number(e.age)).filter(e=>!Number.isNaN(e));if(!e.length)return"-";const n=e.reduce((e,t)=>e+t,0);return(n/e.length).toFixed(1)},[t]),f=((0,i.useMemo)(()=>[...t].sort((e,t)=>(t.id||0)-(e.id||0)),[t]),(0,i.useMemo)(()=>{if(!o.trim())return t;const e=o.toLowerCase();return t.filter(t=>{var n,i;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(i=t.icd)||void 0===i?void 0:i.toLowerCase().includes(e))})},[t,o]));return(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsx)("header",{style:{marginBottom:24}}),(0,s.jsx)("section",{style:{marginBottom:32},children:(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(170px, 1fr))",gap:14},children:Sz(r,a).map(e=>(0,s.jsxs)("button",{onClick:e.onClick,style:{padding:"14px 10px",borderRadius:10,border:"1px solid #ddd",background:"#fafafa",cursor:e.onClick?"pointer":"default",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-start",fontWeight:500},children:[(0,s.jsx)("span",{style:{fontSize:20},children:e.icon}),(0,s.jsx)("span",{style:{color:"#0050ff"},children:e.label})]},e.label))})}),(0,s.jsxs)("section",{style:{marginBottom:32},children:[(0,s.jsx)("h3",{children:"Select a Metric"}),(0,s.jsxs)("select",{value:c,onChange:e=>d(e.target.value),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #ccc",width:"100%"},children:[(0,s.jsx)("option",{value:"",children:"Select Metric"}),["Total Active Patients","New Admissions","Upcoming Appointments","Private Payers","Others"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("section",{style:{marginBottom:32},children:[(0,s.jsx)("h3",{style:{marginBottom:12},children:"Dashboard Summary"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(210px, 1fr))",gap:16},children:[(0,s.jsx)(jz,{title:"Total Patients",value:u,icon:"\ud83d\udc65"}),(0,s.jsx)(jz,{title:"Unique ICDs",value:h,icon:"\ud83d\udcc2"}),(0,s.jsx)(jz,{title:"Average Age",value:p,icon:"\ud83d\udcca"}),(0,s.jsx)(jz,{title:"Diet Plans (placeholder)",value:"\u2014",icon:"\ud83c\udf7d\ufe0f"})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Recent Patients"}),(0,s.jsx)("input",{placeholder:"Search by name or ICD\u2026",value:o,onChange:e=>l(e.target.value),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #ccc",minWidth:220}})]}),0===f.length?(0,s.jsx)("p",{style:{color:"#888",marginTop:8},children:"No matching patients."}):(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:10,marginTop:6},children:f.map(e=>(0,s.jsxs)("div",{onClick:()=>n&&n(e),style:{padding:12,borderRadius:10,border:"1px solid #ddd",background:"#fff",cursor:"pointer",display:"flex",flexDirection:"column",gap:4},children:[(0,s.jsx)("strong",{children:e.name}),(0,s.jsxs)("span",{style:{fontSize:13,color:"#555"},children:["ICD: ",e.icd||"-"]}),(0,s.jsxs)("span",{style:{fontSize:13,color:"#777"},children:["Age: ",e.age||"-"]})]},e.id))})]})]})}function jz(e){let{title:t,value:n,icon:i}=e;return(0,s.jsxs)("div",{style:{padding:14,background:"linear-gradient(135deg, rgba(0,123,255,0.04), rgba(0,0,0,0.02))",borderRadius:12,border:"1px solid #e0e0e0",boxShadow:"0 2px 4px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:6},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,s.jsx)("span",{style:{fontSize:18},children:i}),(0,s.jsx)("span",{style:{fontSize:13,color:"#555 !important"},children:t})]}),(0,s.jsx)("div",{style:{fontSize:22,fontWeight:"bold",marginTop:4},children:n})]})}function Sz(e,t){return[{label:"HOME",icon:"\ud83c\udfe0",onClick:null},{label:"PATIENTS",icon:"\ud83d\udc64",onClick:e},{label:"APPOINTMENTS",icon:"\ud83d\udcc5",onClick:t},{label:"CODING",icon:"\ud83d\udcbe",onClick:null},{label:"EDUCATION",icon:"\ud83d\udcda",onClick:null},{label:"NUTRITION DIAGNOSIS",icon:"\ud83e\uddec",onClick:null},{label:"ASSESSMENTS",icon:"\ud83d\udcdd",onClick:null},{label:"OUTCOME MEASURES",icon:"\ud83d\udcc8",onClick:null},{label:"MEAL PLANNING",icon:"\ud83c\udf7d\ufe0f",onClick:null},{label:"INTERVENTIONS",icon:"\ud83e\ude7a",onClick:null},{label:"FOLLOW-UP NOTES",icon:"\ud83d\udd01",onClick:null},{label:"REPORTS",icon:"\ud83d\udcd1",onClick:null}]}function _z(e){let{options:t,selected:n,setSelected:r}=e;const[a,o]=(0,i.useState)(!1),l=(0,i.useRef)(null);return(0,s.jsxs)("div",{ref:l,style:{width:"100%",marginBottom:20,position:"relative"},children:[(0,s.jsx)("label",{style:{fontWeight:600},children:"Refer to Departments"}),(0,s.jsx)("div",{onClick:()=>o(!a),style:{border:"1px solid #ccc",padding:10,borderRadius:6,background:"#fff",cursor:"pointer"},children:n.length?n.join(", "):"Select departments"}),a&&(0,s.jsx)("div",{style:{position:"absolute",background:"#fff",border:"1px solid #ccc",borderRadius:6,width:"100%",marginTop:4,zIndex:999,maxHeight:200,overflowY:"auto"},children:t.map(e=>(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:8},children:[(0,s.jsx)("input",{type:"checkbox",checked:n.includes(e),onChange:()=>r(n.includes(e)?n.filter(t=>t!==e):[...n,e]),style:{marginRight:10}}),e]},e))})]})}function kz(e){if(!e)return"No swallowing assessment recorded.";const t=[];return"yes"===e.hasDifficulty?t.push("Swallowing difficulty: Yes."):"no"===e.hasDifficulty?t.push("Swallowing difficulty: No."):t.push("Swallowing difficulty: Not recorded."),"yes"===e.hasDifficulty&&(t.push("Onset & progression: ".concat(e.onset&&e.onset.trim()?e.onset:"Not recorded",".")),t.push("Food / liquid difficulties: ".concat(e.foodDifficulty&&e.foodDifficulty.trim()?e.foodDifficulty:"Not recorded",".")),t.push("Diet modification: ".concat(e.dietModification&&e.dietModification.trim()?e.dietModification:"Not recorded",".")),t.push("Symptoms during meals: ".concat(e.symptoms&&e.symptoms.trim()?e.symptoms:"Not recorded","."))),t.join(" ")}function Cz(e){if(!e)return"No visual assessment recorded.";const t=[];return t.push("Visual acuity: ".concat(e.acuity&&e.acuity.trim()?e.acuity:"Not recorded",".")),t.push("Field defect: ".concat(e.fieldDefect&&e.fieldDefect.trim()?e.fieldDefect:"Not recorded",".")),t.push("Notes: ".concat(e.notes&&e.notes.trim()?e.notes:"None",".")),t.join(" ")}function Az(e){let{patient:t,onUpdatePatient:n}=e;const[r,a]=(0,i.useState)(0),o=(0,i.useRef)(null),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),g=["Cognitive","Swallowing","Speech & Language","Visual","Hearing","Cardiovascular & Respiratory System","Spasm & Spasticity","Pain","Bowel Issue","Bladder Issue","Skin","Neuro","Spinal Cord Injury","Amputee","ADL & IADL","Mobility","Social History","Work History"],[b,y]=(0,i.useState)([]);return(0,s.jsxs)("div",{style:{width:"100%",maxWidth:"100%",padding:15,boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[(0,s.jsx)("div",{style:{flexShrink:0,width:"100%",marginBottom:20},children:(0,s.jsx)("div",{ref:o,className:"custom-scrollbar",style:{display:"flex",overflowX:"auto",whiteSpace:"nowrap",gap:12,paddingBottom:12,borderBottom:"2px solid #ccc"},children:g.map((e,t)=>(0,s.jsx)("button",{onClick:()=>(e=>{a(e),o.current&&o.current.children[e]&&o.current.children[e].scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})})(t),style:{flexShrink:0,padding:"10px 16px",borderRadius:6,border:r===t?"2px solid #007bff":"1px solid rgba(255,255,255,0)",background:r===t?"#007bff":"transparent",color:r===t?"#fff":"#000",fontWeight:r===t?700:500,cursor:"pointer",fontSize:14,whiteSpace:"nowrap"},children:e},t))})}),(0,s.jsxs)("div",{style:{marginBottom:12,display:"flex",justifyContent:"flex-end",gap:10},children:[(0,s.jsx)("button",{style:Nz,onClick:()=>p(!0),children:"\ud83e\ude7a Doctor Reports"}),(0,s.jsx)("button",{style:Nz,onClick:()=>m(!0),children:"\ud83c\udf7d\ufe0f Diet Progress"})]}),h&&(0,s.jsxs)("div",{className:"card",style:{marginBottom:16},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Doctor Reports"}),(0,s.jsx)("button",{onClick:()=>p(!1),style:{padding:"4px 10px",background:"#ccc",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"\u2716 Close"})]}),(0,s.jsx)(Oe,{patient:t,mode:"doctor"})]}),f&&(0,s.jsxs)("div",{className:"card",style:{marginBottom:16},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,s.jsx)("h3",{style:{margin:0},children:"Diet Progress Reports"}),(0,s.jsx)("button",{onClick:()=>m(!1),style:{padding:"4px 10px",background:"#ccc",border:"none",borderRadius:4,cursor:"pointer",fontSize:12},children:"\u2716 Close"})]}),(0,s.jsx)(Oe,{patient:t,mode:"progress"})]}),(0,s.jsxs)("div",{className:"content-scrollbar",style:{flex:1,overflowY:"auto",overflowX:"hidden",width:"100%",minHeight:0},children:[(0,s.jsx)(_z,{options:["Dietetics","Physiotherapy","Occupational Therapy","Speech Therapy","Psychology","Medical","Nursing","Orthotics & Prosthetics","Social Work"],selected:b,setSelected:y}),(0,s.jsx)("button",{onClick:()=>{if(!t)return;const e=je(je({},t),{},{departments:Array.from(new Set([...t.departments||[],"Doctor",...b]))});localStorage.setItem("patient_"+t.id,JSON.stringify(e)),(e=>{const t="patient_".concat(e,"_doctor_existing"),n={existing:!0,at:(new Date).toISOString()};localStorage.setItem(t,JSON.stringify(n))})(t.id),n&&n(e),alert("Referral submitted successfully!")},style:{padding:"10px 12px",background:"#007bff",color:"white",border:"none",borderRadius:6,cursor:"pointer",width:"100%",fontSize:14,fontWeight:600,marginBottom:20},children:"Submit Referral"}),(0,s.jsx)("button",{onClick:()=>{if(!t)return alert("No patient found!");const e="patient_".concat(t.id,"_reports"),n=JSON.parse(localStorage.getItem(e)||"[]"),i={reportId:"doctor_assessment_"+Date.now(),patientId:t.id,createdBy:"Doctor",allowedDepartments:b.length?b:["Doctor"],timestamp:Date.now(),summary:{swallowing:l,visual:d},summaryText:{swallowing:kz(l),visual:Cz(d)}};localStorage.setItem(e,JSON.stringify([...n,i])),alert("Report generated and shared with referred departments!")},style:{padding:"10px 12px",background:"#28a745",color:"white",border:"none",borderRadius:6,cursor:"pointer",width:"100%",fontSize:14,fontWeight:600,marginBottom:20},children:"Generate Report"}),"Visual"===g[r]?(0,s.jsx)(bB,{onChange:u}):"Swallowing"===g[r]?(0,s.jsx)(yB,{onChange:c}):(0,s.jsxs)("div",{style:{padding:"20px 0"},children:[(0,s.jsxs)("h3",{style:{textAlign:"center"},children:[g[r]," Module"]}),(0,s.jsxs)("p",{children:["Content for ",(0,s.jsx)("strong",{children:g[r]})," tab goes here."]})]}),(0,s.jsxs)("div",{style:{marginTop:24,padding:16,borderRadius:8,background:"#f8f9fa",border:"1px solid #e2e6ea"},children:[(0,s.jsx)("h3",{style:{marginTop:0,marginBottom:12},children:"Summary of Assessments"}),l||d?(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsx)("h4",{style:{margin:"0 0 6px"},children:"Swallowing"}),(0,s.jsxs)("ul",{style:{margin:0,paddingLeft:18,fontSize:14},children:[(0,s.jsxs)("li",{children:["Swallowing difficulty:"," ",(0,s.jsx)("strong",{children:"yes"===l.hasDifficulty?"Yes":"no"===l.hasDifficulty?"No":"Not recorded"})]}),"yes"===l.hasDifficulty&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("li",{children:["Onset & progression:"," ",(0,s.jsx)("strong",{children:l.onset||"Not recorded"})]}),(0,s.jsxs)("li",{children:["Food / liquid difficulties:"," ",(0,s.jsx)("strong",{children:l.foodDifficulty||"Not recorded"})]}),(0,s.jsxs)("li",{children:["Diet modification:"," ",(0,s.jsx)("strong",{children:l.dietModification||"Not recorded"})]}),(0,s.jsxs)("li",{children:["Symptoms during meals:"," ",(0,s.jsx)("strong",{children:l.symptoms||"Not recorded"})]})]})]})]}),d&&(0,s.jsxs)("div",{style:{marginBottom:4},children:[(0,s.jsx)("h4",{style:{margin:"0 0 6px"},children:"Visual"}),(0,s.jsxs)("ul",{style:{margin:0,paddingLeft:18,fontSize:14},children:[(0,s.jsxs)("li",{children:["Visual acuity:"," ",(0,s.jsx)("strong",{children:d.acuity||"Not recorded"})]}),(0,s.jsxs)("li",{children:["Field defect:"," ",(0,s.jsx)("strong",{children:d.fieldDefect||"Not recorded"})]}),(0,s.jsxs)("li",{children:["Notes:"," ",(0,s.jsx)("strong",{children:d.notes&&d.notes.trim()?d.notes:"None"})]})]})]}),(0,s.jsxs)("p",{style:{marginTop:10,fontSize:12,color:"#777"},children:["This summary is what will be stored when you click"," ",(0,s.jsx)("strong",{children:"Generate Report"}),"."]})]}):(0,s.jsx)("p",{style:{fontSize:14,color:"#666"},children:"No assessment data entered yet. Start filling Swallowing or Visual tabs to see a summary here."})]})]}),(0,s.jsx)("style",{children:"\n        .custom-scrollbar::-webkit-scrollbar,\n        .content-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .custom-scrollbar,\n        .content-scrollbar {\n          scrollbar-width: none;\n          -ms-overflow-style: none;\n        }\n      "})]})}const Nz={padding:"8px 16px",background:"#0277bd",color:"white",borderRadius:6,border:"none",cursor:"pointer",fontWeight:600};function Oz(e){let{patients:t,department:n,updatePatientInMainList:r}=e;const[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)("dashboard"),[h,p]=(0,i.useState)("new"),f=t.filter(e=>e.departments.includes(n));function m(e){try{const t="patient_".concat(e.id,"_icf_map_v1_final_v1"),n=!!localStorage.getItem(t),i="patient_".concat(e.id,"_doctor_existing"),r=localStorage.getItem(i);return n||!!r}catch(t){return!1}}const g=f.filter(e=>!m(e)),b=f.filter(e=>m(e)),[y,v]=(0,i.useState)(null),[x,w]=(0,i.useState)(!1);function j(e){o(e);const t=function(e){if(!e)return!1;try{const t="patient_"+(e.id?e.id:"anon")+"_finalSubmittedAt";return!!window.localStorage.getItem(t)}catch(t){return!1}}(e);c(t)}function S(e){v(e),w(!0)}return y&&x?(0,s.jsx)(Az,{patient:y,department:n,onBack:()=>{v(null),w(!1)}}):a&&l?(0,s.jsx)(xz,{patient:a,department:n,onBack:()=>{o(null),c(!1)}}):a&&!l?(0,s.jsx)(gz,{patient:a,onUpdatePatient:r,department:n,onSubmit:()=>c(!0),onBack:()=>o(null)}):(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsxs)("h2",{children:[n," Department"]}),(0,s.jsxs)("div",{style:{marginBottom:16,display:"flex",gap:8},children:[(0,s.jsx)("button",{onClick:()=>u("dashboard"),style:{padding:"8px 14px",borderRadius:6,border:"dashboard"===d?"2px solid #000":"1px solid #ccc",color:"dashboard"===d?"#fff":"#000",backgroundColor:"dashboard"===d?"#007bff":"#fff",cursor:"pointer"},children:"Dashboard"}),(0,s.jsx)("button",{onClick:()=>u("patients"),style:{padding:"8px 14px",borderRadius:6,border:"patients"===d?"2px solid #000":"1px solid #ccc",color:"patients"===d?"#fff":"#000",backgroundColor:"patients"===d?"#007bff":"#fff",cursor:"pointer"},children:"Patients"})]}),"dashboard"===d&&(0,s.jsx)(wz,{patients:f,onSelectPatient:e=>j(e),onOpenPatients:()=>u("patients"),onOpenAppointments:()=>alert("Appointments page coming soon")}),"patients"===d&&(0,s.jsxs)("div",{style:{marginTop:10},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:30,borderBottom:"1px solid #d3d3d3",marginBottom:12},children:[(0,s.jsx)("div",{onClick:()=>p("new"),style:{paddingBottom:6,cursor:"pointer",fontSize:16,borderBottom:"new"===h?"3px solid #2a41e8":"3px solid transparent",color:"new"===h?"#000":"#555",fontWeight:"new"===h?"600":"500"},children:"New Patients"}),(0,s.jsx)("div",{onClick:()=>p("existing"),style:{paddingBottom:6,cursor:"pointer",fontSize:16,borderBottom:"existing"===h?"3px solid #2a41e8":"3px solid transparent",color:"existing"===h?"#000":"#555",fontWeight:"existing"===h?"600":"500"},children:"Existing Patients"})]}),"new"===h&&(0,s.jsx)("div",{children:0===g.length?(0,s.jsx)("div",{style:{fontSize:13,color:"#777"},children:"No new patients."}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:g.map(e=>(0,s.jsxs)("div",{onClick:()=>S(e),style:{padding:"8px 10px",border:"1px solid #ddd",borderRadius:6,cursor:"pointer",background:"#f7faff",fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:e.name})," \u2014 ICD: ",e.icd]}),(0,s.jsx)("span",{style:{fontSize:12,color:"#0050ff"},children:"Start \u2192"})]},e.id))})}),"existing"===h&&(0,s.jsx)("div",{children:0===b.length?(0,s.jsx)("div",{style:{fontSize:13,color:"#777"},children:"No final-submitted patients yet."}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:b.map(e=>(0,s.jsxs)("div",{onClick:()=>S(e),style:{padding:"8px 10px",border:"1px solid #ddd",borderRadius:6,cursor:"pointer",background:"#f3fff3",fontSize:14,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:e.name})," \u2014 ICD: ",e.icd]}),(0,s.jsx)("span",{style:{fontSize:12,color:"green"},children:"Finalised"})]},e.id))})})]})]})}qS.create({baseURL:"http://127.0.0.1:5000"});const Pz=function(){const e=e=>{const t=e.match(/^(\d{2})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2})$/);if(!t)return new Date(NaN);const[,n,i,r,a,o]=t,s=2e3+Number(r);return new Date(s,Number(i)-1,Number(n),Number(a),Number(o))},t=[{ts:e("25-08-25 12:15"),action:"Patient New Scanned Documents Added"},{ts:e("25-08-25 10:25"),action:"RTW/Light-Duty proposal updated"},{ts:e("25-08-25 10:06"),action:"GAS Goals Updated"},{ts:e("25-08-25 09:57"),action:"New Task Performance Created"},{ts:e("25-08-25 09:45"),action:"ICF Goals Updated"}].filter(e=>!isNaN(e.ts)).sort((e,t)=>t.ts-e.ts),n=t.reduce((e,t)=>{const n=t.ts.toLocaleDateString();return(e[n]||(e[n]=[])).push(t),e},{}),i=e=>e.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("section",{className:"card audit-wrap",children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Audit Trail"})}),(0,s.jsx)("div",{className:"audit-timeline",children:Object.entries(n).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{className:"audit-day",children:[(0,s.jsx)("span",{className:"date-badge",children:t}),n.map((e,t)=>(0,s.jsxs)("div",{className:"audit-item",children:[(0,s.jsx)("span",{className:"dot"}),(0,s.jsx)("div",{className:"when",children:i(e.ts)}),(0,s.jsx)("div",{className:"what",children:e.action})]},t))]},t)})})]})};const Iz=function(){return(0,s.jsx)("style",{children:'\n      :root { --bg:#f6fbff; --ink:#000332; --ink2:#5a6b85; --stroke:#e6eef7; --focus:#2563eb; }\n      * { box-sizing:border-box; }\n      body { margin:0; background:var(--bg); font-family:system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }\n      .page { display:grid; grid-template-columns:300px 1fr; min-height:100vh;background-color:#F1F4F4 !important; }\n      .rail { background:#fff; box-shadow: 2px 0 8px rgb(0 0 0 / 3%);color:#cbd5e1;gap:12px; \n               position:sticky; top:0; padding-top:45px; height:100vh; display:flex; flex-direction:column;  }\n      .brand { color:#e2e8f0; font-weight:900; letter-spacing:.2px; padding:10px 12px; border-radius:12px;\n               background:rgba(255,255,255,.04); box-shadow:inset 0 0 0 1px rgba(255,255,255,.05); }\n      .tabs { display:flex; flex-direction:column;  }\n      .tab {\n  appearance:none;\n  padding:16px 10px;\n  font-size:14px;\n  width:100%;\n  text-align:left;\n  background:#fff;\n  color:#000332 !important;\n  border:0;\n  border-radius:12px;\n  cursor:pointer;\n  transition:background .18s, color .18s, box-shadow .18s, transform .02s;\n  display:flex; align-items:center; gap:8px; /* NEW */\n}\n\n      .tab:hover { background:rgb(190 205 207 / 22%); color:#fff; }\n      .tab:active { transform:translateY(1px); }\n      .tab.active { color:#fff; background:rgb(190 205 207 / 22%);\n                    box-shadow: inset 0 0 0 1px rgba(255,255,255,.12), 0 10px 24px rgba(2,132,199,.18); }\n      .tab:focus-visible { outline:none; box-shadow:0 0 0 3px rgba(56,189,248,.45); }\n \n      // .main { padding:24px; }\n      .card { background:transparent; border:none; }\n      .title { margin:0 0 6px; color:#3A3FAD; font-size:1.5rem; line-height:1.8em}\n      .subtitle { margin:0 0 14px; color:var(--ink2); }\n      .note { margin-top:10px; border:1px solid #e0e7ff; background:#f6f9ff; padding:10px; border-radius:10px; color:#3b5bcc; }\n /* Inner top tabs (image-2 style) */\n.innerTabs { display:flex; gap:16px; flex-wrap:wrap;background:#EEF6FF;font-weight:500; color:#000332; border-bottom:1px solid #EEF6FF; }\n.innerTab { appearance:none; background:transparent; border:0; padding:8px 10px; font-weight:500; color:#000332; border-radius:8px; }\n.innerTab.active {  color:#000332; border-bottom:3px solid #3A3FAD;border-radius:0; }\n.innerTab:disabled {  cursor:not-allowed;font-weight:500; color:#000332; }\n.innerTab:hover { background:rgb(190 205 207 / 22%);  }\n\n/* Blue strip titles like the screenshot */\n.barTitle { font-weight:600; color:#000332; padding:40px 10px 20px 10px;  }\n/* Outer panel to mimic the bordered card in the screenshot */\n.landing-frame {\n\n\n  padding: 24px 24px 32px;\n  background: #ffffff;\n \n  border-radius: 4px;\n}\n\n/* Title + subtitle centered */\n.landing-header {\n  text-align: center;\n  margin-bottom: 12px;\n}\n.landing-header h1 {\n  margin: 0 0 4px 0;\n  font-weight: 700;\n  font-size: 50px; /* adjust if needed */\n  color: #3A3FAD;\n}\n.landing-header p {\n  margin: 0;\n  color: #000;\n  font-size: 25px;\n}\n\n/* Two-column body: image left, buttons right */\n.landing-body {\n  display: grid;\n  grid-template-columns: 1fr 500px;\n  gap: 32px;\n  align-items: center;\n  margin-top: 56px;\n}\n\n/* Illustration */\n.landing-hero img {\n  display: block;\n  width: 650px;\n  height: 400px;\n  margin: 0 auto;\n  border-radius: 4px; /* optional */\n}\n\n/* Buttons column */\n.landing-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  justify-content: center;\n}\n\n/* Outline buttons (rounded, orange border like screenshot) */\n.cta-btn {\n  width: 100%;\n  padding: 16px 20px;\n  background: #fff;\n  border: 0.8px solid #3A3FAD;         /* orange outline */\n  border-left:4px solid #f14f2c;\n  color: #111827;\n  font-size: 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: box-shadow .15s ease, transform .05s ease, background .15s ease;\n}\n.cta-btn:hover {\n  background: #fff8f5;\n  box-shadow: 0 4px 14px rgba(0,0,0,0.06);\n}\n.cta-btn:active {\n  transform: translateY(1px);\n}\n\n/* Responsive: stack on small screens */\n@media (max-width: 820px) {\n  .landing-body { grid-template-columns: 1fr; }\n  .landing-actions { max-width: 320px; margin: 0 auto; width: 100%; }\n}\n\n\n      .row { display:grid; grid-template-columns:260px 1fr; gap:14px; align-items:center; margin:12px 25px; }\n      .label { font-weight:500; color:#000332;font-size:16px; display:flex; align-items:center; gap:8px; }\n      .input { width:100%; padding:0px 10px; border-radius:12px; border:1px solid #dbe6f3; background:#fff;height:40px;font-size:15px;  }\n      .input:focus { outline:none; border-color:var(--focus); box-shadow:0 0 0 3px rgba(37,99,235,.12); }\n      .triple { display:flex; gap:8px; align-items:center; }\n      .form { margin:0; padding:5px 10px 10px 10px; border-radius:10px; box-shadow:0 !important; display:block; }\n      .actions { display:flex; gap:10px; padding-top:10px; }\n      .btn {\n    appearance: none;\n    background: transparent;\n    border: 0;\n    padding: 8px 10px;\n    \n    font-weight: 500;\n    color: #000332;\n    border-radius: 8px;\n}\n\n/* --- VITALS UI --- */\n.vitals { --bg:#fbfdff; --bd:#e6eef6; --text:#0f172a; --muted:#6b7a90; --ring:#90b4ff; }\n.vitals .section { background: var(--bg); border: 1px solid var(--bd); border-radius: 12px; padding: 12px 16px; }\n.vitals .grid { display:grid; grid-template-columns: repeat(12, minmax(0,1fr)); gap: 10px; }\n.vitals .field { display:flex; flex-direction:column; }\n.vitals .label-sm { font-size:13px; color:#323e4e; margin:2px 0 4px; }\n.vitals .control { position:relative; }\n.vitals .input-sm, .vitals .select-sm, .vitals .ta-sm {\n  width:100%; height:34px; padding:6px 10px; border:1px solid #9daab7; border-radius:6px;\n  background:#fff; outline:0; font-size:13px;\n}\n.vitals .ta-sm { height:auto; resize:vertical; }\n.vitals .input-sm:focus, .vitals .select-sm:focus, .vitals .ta-sm:focus {\n  background:#fff; border-color:var(--ring); box-shadow:0 0 0 3px rgba(59,130,246,.15);\n}\n.vitals .num { text-align:right; }\n.vitals .addon { position:absolute; right:8px; top:7px; font-size:12px; color:#9aa4b2; pointer-events:none; }\n.vitals .right { text-align:right; }\n.vitals .chip-info { font-size:12px; color:#94a3b8; }\n.vitals .btn-link { border:0; background:transparent; color:#2563eb; cursor:pointer; padding:0 4px; height:auto; }\n.vitals .vtable { width:100%; border-collapse:separate; border-spacing:0 8px; }\n.vitals .vtable th { font-size:12px; color:#fff; font-weight:600; padding:0 6px 2px;  }\n.vitals .vrow { display:grid; grid-template-columns: 120px repeat(3, 1fr); gap:10px;row-gap: 20px;margin-bottom:20px;  align-items:center; }\n.vitals .vrow .pos { color:var(--text); font-size:13px; padding-left:6px; }\n\n\n      .btn.active {\n    color: #000332;\n    border-bottom: 3px solid #3A3FAD;\n    border-radius: 0;\n}\n .ba{\n    border: 2px solid #1a1c1a;\n    background-color: #fff;\n    color: #343fac;\n    padding: 0px 5px;\n}\n    .oi {\n    border: 2px solid #2c2828;\n}\n      /* chips */\n      .chip { display:inline-flex; align-items:center; gap:6px; padding:4px 8px;\n               border:1px solid #cfe1ff; border-radius:10px;  }\n      .chip-x { border:0; background:transparent; cursor:pointer; font-weight:800;\n    color: #000332 !important;\n    margin: 0px !important; }\n \n      /* multiselect */\n      .ms { position:relative; }\n      .catTabs {\n  display:flex; gap:8px; flex-wrap:wrap; margin:4px 0 10px;\n}\n  .buttonbar{\n    display: flex\n;\n    gap: 16px;\n   \n    flex-wrap: wrap;\n    background: #EEF6FF;\n    font-weight: 500;\n    color: #000332;\n    border-bottom: 1px solid #EEF6FF;\n}\n.catTab {\n  padding:8px 12px; border-radius:10px;\n  border:1px solid #dbe6f3; background:#fff; cursor:pointer;\n  font-weight:700; color:#000332;\n}\n.catTab.active {\n  background:#000332; border-color:#000332; color:#fff;\n}\n  /* RAP layout \u2014 airy, not congested */\n.rap-wrap { padding: 0 10px 10px; }\n.rap-header { display:flex; align-items:center; justify-content:space-between; margin: 20px 25px 10px; }\n.pill.right { padding:6px 10px; border-radius:999px; background:#eef6ff; border:1px solid #cfe1ff; color:#000332; font-weight:500; }\n\n.rap-card { margin: 12px 5px; padding: 16px; background:#fff; border-radius:10px; border:1px solid #e6eef7; }\n.check-grid {\n  display:grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px 18px;\n  margin-top: 8px;\n}\n.check { display:flex; gap:10px; align-items:center; color:#000332; }\n.check input { transform: translateY(1px); }\n/* Dashboard */\n.dash-wrap { padding: 0 10px 10px; }\n.dash-card {\n  background:#fff; border:1px solid #e6eef7; border-radius:12px;\n  padding:16px; margin: 12px 25px;\n}\n  \n  .user{\n  cursor: pointer; \n      \n      height: 250px; \n      border: 1px solid #ddd; \n      border-radius: 8px; \n      padding: 20px; \n      textAlign: center; \n      boxShadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n      background: #fff;}\n.glance-head { display:flex; gap:20px; align-items:flex-start; justify-content:space-between; }\n.g-title { font-weight:600; color:#000332; margin-bottom:10px; }\n.g-row { display:grid; grid-template-columns: 160px 1fr; gap:12px; margin:10px 0; }\n.g-label { font-size:12px; color:#6b7280; letter-spacing:.2px; font-weight:600; }\n.g-name { font-weight:700; color:#0f172a; }\n.g-meta { color:#475569; font-size:13px; margin-top:2px; }\n.g-tags { display:flex; gap:6px; flex-wrap:wrap; }\n.tag {\n  display:inline-flex; gap:6px; padding:4px 8px;\n  border-radius:9999px; background:#f7fafc; border:1px solid #e6eef7; color:#0f172a;\n}\n.topbtn{\npadding: 5px 15px;\n    background-color: #3A3FAD;\n    color: #fff;\n    margin: 5px;\n}\n.glance-r { min-width: 280px; max-width: 360px; }\n.rtw-title { font-weight:600; color:#000332; margin-bottom:6px; text-align:right; }\n.rtw-bar { height:10px; border-radius:999px; background:#eef2ff; border:1px solid #dbe6f3; overflow:hidden; }\n.rtw-fill { height:100%; background:#3A3FAD; }\n.rtw-note { margin-top:6px; font-size:12px; color:#374151; text-align:right; }\n\n.dash-table { width:100%; border-collapse:separate; border-spacing:0; margin-top:6px; }\n.dash-table th, .dash-table td { border-bottom:1px solid #eef3fb; padding:10px; text-align:left; font-size:14px; }\n.dash-table thead th { background:#f7fafc; color:#334155; font-weight:600; }\n\n.progress-row { display:grid; grid-template-columns: 160px 1fr 60px; gap:12px; align-items:center; margin-top:14px; }\n.progress { position:relative; height:10px; border-radius:8px; background:#eef2ff; overflow:hidden; border:1px solid #dbe6f3; }\n.progress .bar { position:absolute; top:0; left:0; bottom:0; background:#3A3FAD; }\n.pct { font-weight:600; color:#000332; text-align:right; }\n\n.rap-form .row { display:grid; grid-template-columns: 220px 1fr; gap:14px; align-items:center; margin:10px 0; }\n@media (max-width: 900px) {\n  .rap-form .row { grid-template-columns: 1fr; }\n  .check-grid { grid-template-columns: 1fr; }\n  .progress-row { grid-template-columns: 1fr; }\n  .pct { text-align:left; }\n}\n.audit-wrap .cardheading { display:flex; align-items: baseline; gap:16px; }\n.audit-wrap .subtitle { color:#708090; margin-left:auto; font-size:12px; }\n.audit-mode button { margin-left:6px; padding:4px 10px; border-radius:9999px; border:1px solid #ddd; background:#fff; cursor:pointer; }\n.audit-mode .on { background:#eef2ff; border-color:#c7d2fe; }\n\n.audit-timeline { position:relative; padding-left: 12px; }\n.audit-timeline::before { content:""; position:absolute; left: 21px; top: 0; bottom: 0; width: 2px; background:#e6e8eb; }\n.audit-day { padding-left: 36px; margin: 14px 0; }\n.date-badge { display:inline-block; padding:2px 10px; border-radius:9999px; background:#f3f4f6; font-weight:600; font-size:12px; margin-bottom:8px; }\n.audit-item { position:relative; background:#fff; border:1px solid #eee; border-radius:10px; padding:10px 12px; margin:10px 0; box-shadow:0 1px 2px rgba(0,0,0,0.03); }\n.audit-item .dot { position:absolute; left:-30px; top:14px; width:10px; height:10px; border-radius:50%; background:#4f46e5; box-shadow:0 0 0 4px #eef2ff; }\n.audit-item .when { font-size:12px; color:#6b7280; margin-bottom:4px; }\n.audit-item .what { font-weight:500; }\n\n.audit-table table { width:100%; border-collapse: collapse; }\n.audit-table thead th { text-align:left; padding:10px; background:#15803d; color:#fff; }\n.audit-table tbody td { padding:10px; border-bottom:1px solid #eee; vertical-align: top; }\n.audit-table tbody tr:hover { background:#fafafa; }\n\n/* Audit Trail */\n.audit-wrap { padding-bottom: 10px; }\n.audit-list { list-style:none; margin: 10px 25px; padding:0; }\n.audit-list li { display:flex; gap:12px; align-items:flex-start; padding:10px 0; position:relative; }\n.audit-list li + li { border-top: 1px dashed #e8eef8; }\n.audit-list .dot { width:10px; height:10px; border-radius:50%; background:#3A3FAD; margin-top:8px; }\n.audit-list .entry .when { font-weight:600; color:#000332; }\n.audit-list .entry .what { color:#374151; margin-top:2px; }\n\n.catTab:disabled { opacity:.5; cursor:not-allowed; }\n      .ms-btn { width:100%; text-align:left; padding:10px 12px; border-radius:12px; border:1px solid #dbe6f3; background:#fff;color:#00345f; }\n      .ms-caret { float:right; opacity:.6; }\n      .ms-pop { position:absolute; z-index:20; margin-top:6px; width:100%; background:#fff; border:1px solid #dbe6f3;\n                border-radius:12px; box-shadow:0 10px 28px rgba(12,46,87,.08); }\n      .ms-hdr { padding:10px; border-bottom:1px solid #eef3fb; display:flex; gap:8px; align-items:center; }\n      .ms-search { flex:1; padding:8px 10px; border-radius:8px; border:1px solid #dbe6f3; }\n      .ms-actions { display:flex; gap:6px; }\n      .ms-mini { padding:6px 8px; border-radius:8px; border:1px solid #dbe6f3; background:#f9fbff; cursor:pointer; color:#00345f; }\n      .ms-list { max-height:260px; overflow:auto; padding:8px 10px; }\n      .ms-item { display:flex; gap:8px; align-items:center; padding:6px 4px;font-size: 14px; }\n      .ms-empty { padding:12px; color:#6b7280; }\n .savebtn{\n border:1px solid #000;background:#fff;color:#000;}\n      /* Summary page */\n      .grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }\n      // .box { border:1px solid var(--stroke); background:#fff; border-radius:12px; padding:12px; }\n      .box-title { font-weight:500; color:#000332; margin-bottom:8px; font-size:16px;}\n .cardheading {\n    background-color: white;\n    padding: 25px;\n    margin: 10px 25px;\n    border-radius: 6px;\n    border-left: 4px solid #3A3FAD;\n}\n    .savebtn:hover{\n    background:#000;\n    color:#fff;}\n    .ms-btn:hover { background: transparent !important; }\n   \n      .kv { display:flex; justify-content:space-between; gap:14px; padding:6px 0; border-bottom:1px dashed #edf2fb; }\n      .kv:last-child { border-bottom:0; }\n      .kv > span { color:#4b5563; }\n      .kv-inline { margin-right:12px; color:#374151; }\n \n      .icf-list { display:flex; flex-direction:column; gap:10px; }\n      .icf-row { padding:10px; border:1px solid #e9eef7; border-radius:10px;  }\n      .icf-head { margin-bottom:4px; }\n      .icf-sub { color:#334155; }\n     \n \n      .pill { padding:8px 12px; border:1px solid #dbe6f3; border-radius:12px; background:#fff; }\n     ul.flat { list-style:none; margin:0; padding-left:25px; }\n      ul.flat li { margin:6px 0; }\n      .dim { color:#6b7280; }\n      .muted { color:#6b7280; }\n \n      /* Top bar inside card */\n      .card-head { display:flex !important; align-items:center; justify-content:space-between; margin-bottom: 6px; }\n      .btn.ai { opacity:.7; cursor:not-allowed; background:#f5f7fb; border-color:#dbe6f3; }\n\n/* SOAP / TPS / RAP visuals to match your screenshots */\n.soap-head, .tps-head, .rap-head {\n  display:flex; align-items:center; justify-content:space-between;\n  padding: 10px 25px 0 25px;\n}\n.soap-title { font-weight:600; color:#000332; font-size:16px; }\n\n.soap-grid {\n  display:grid; grid-template-columns: 1fr 1fr; gap:12px; padding: 10px 25px 0 25px;\n}\n.box.soft { background:#fff; border:1px solid #e9eef7; border-radius:12px; padding:12px; }\n\n/* compact \u201ctiny\u201d button used in TPS head */\n.btn.tiny { border:1px solid #dbe6f3; padding:6px 8px; border-radius:8px; background:#f6f9ff; }\n\n/* tables */\n.table { width:100%; border-collapse:separate; border-spacing:0; }\n.table th, .table td { border-bottom:1px solid #eef3fb; padding:10px; text-align:left; font-size:14px; }\n.table thead th { background:#f7fafc; color:#334155; font-weight:600; }\n\n/* progress bar (RAP) */\n.progress { display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center; padding:10px 0 0 0; }\n.progress-label { grid-column:1 / 3; color:#000332; font-weight:600; margin-bottom:2px; }\n.meter { height:10px; border-radius:999px; background:#eef3fb; overflow:hidden; }\n.meter-fill { height:100%; background:#3A3FAD; }\n\n/* left-rail percent bubble for RAP */\n.nav-badge {\n  margin-left:auto; margin-right:8px;\n  padding:2px 8px; border-radius:999px; background:#eef6ff; border:1px solid #cfe1ff; color:#000332; font-size:12px;\n}\n\n/* documents */\n.doc-head { display:flex; align-items:center; justify-content:space-between; }\n.table.doc td, .table.doc th { padding-left:16px; padding-right:16px; }\n.dropzone {\n  margin-top:12px; border:2px dashed #dbe6f3; background:#f9fbff; color:#6b7280;\n  border-radius:12px; padding:18px; text-align:center;\n}\n.svg-icon{color:#fff}\n/* audit trail */\n.timeline { margin: 10px 25px; position:relative; padding-left:16px; }\n.t-item { display:flex; gap:12px; margin:14px 0; }\n.t-dot { width:10px; height:10px; background:#3A3FAD; border-radius:50%; margin-top:6px; }\n.t-body { }\n.t-date { font-weight:600; color:#000332; margin-bottom:4px; }\n.t-text { color:#334155; }\n\n.btnexport{\n    color: #3a3fad;\n    background-color: #fff;\n    padding: 10px;\n    width: 150px;\n    border: 1px solid #3a3fad;\n    margin: 20px;\n}\n    .pharmacy-container {\n  margin: 20px auto;\n\n  background: #f7f9fb;\n  padding: 20px;\n  border-radius: 8px;\n}\n\n.pharmacy-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.pharmacy-table th {\n  background-color: #2a6592;\n  color: white;\n  padding: 8px;\n  text-align: left;\n}\n\n.pharmacy-table td {\n  border: 1px solid #ccc;\n  padding: 8px;\n}\n\n.pharmacy-table input {\n  width: 100%;\n  border: none;\n  padding: 6px;\n  border-radius: 4px;\n  background-color: #fff;\n  outline: none;\n}\n\n.add-btn {\n  margin-top: 10px;\n  padding: 8px 14px;\n  background-color: #2a6592;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.remove-btn {\n  background-color: #c0392b;\n  color: white;\n  border: none;\n  padding: 6px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.icon{\n  color: #fff;\n  margin-right: 8px;\n  background-color: #3a3fad;\n  border-radius: 50px;\n  padding: 4px;\n}\nsvg { color: #3a3fad; }\n\n    svg{color: #3a3fad;\n    }\n      /* Textarea visual */\n      .input.ta { resize: vertical; min-height: 100px; }\n \n      /* Tiny gray helper text */\n      .hint { font-size: 12px; color: #6b7280; margin-top: 6px; }\n \n      .preview { margin-top:12px; background:#0b1f3a; color:#e8f0ff; padding:12px; border-radius:12px; overflow:auto; }\n      @media (max-width:900px){ .row{ grid-template-columns:1fr; } }\n    '})},Ez="http://127.0.0.1:5000";qS.create({baseURL:Ez});const Tz=function(e){let{value:t,onSelect:n}=e;const[r,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)([]),[u,h]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(!r||r.length<2)return void d([]);const e=setTimeout(async()=>{try{h(!0);const e=await fetch("".concat(Ez,"/patients/search?q=").concat(encodeURIComponent(r)));if(e.ok){const t=(await e.json()).map(e=>({value:e.patient_id,label:"".concat(e.patient_id," \u2014 ").concat(e.patient_name||"").concat(e.date_of_birth?" (".concat(e.date_of_birth,")"):"")}));d(t),l(!0)}}finally{h(!1)}},280);return()=>clearTimeout(e)},[r]),(0,s.jsxs)("div",{className:"ms",style:{width:420,position:"relative",paddingRight:"20px"},children:[(0,s.jsx)("input",{className:"input",placeholder:"Type patient ID or name\u2026",value:r,onChange:e=>a(e.target.value),onFocus:()=>r&&l(!0)}),o&&c.length>0&&(0,s.jsx)("div",{className:"ms-pop",style:{position:"absolute",width:"100%"},children:(0,s.jsx)("div",{className:"ms-list",children:c.map(e=>(0,s.jsx)("div",{className:"ms-item",onClick:()=>{n(e.value),a(e.label),l(!1)},children:e.label},e.value))})}),u&&(0,s.jsx)("div",{className:"hint",style:{marginTop:6},children:"Searching\u2026"})]})},Lz="http://127.0.0.1:5000";qS.create({baseURL:Lz});const Mz=function(e){let{patientId:t,onChangeData:n}=e;const[r,a]=(0,i.useState)({employment_status:"Unemployed",occupation:"",industry:"Others",last_drawn_salary_rm:"0.00",osi_code:"U",osi_label:"Unemployed"}),[o,l]=(0,i.useState)("idle"),[c,d]=(0,i.useState)(""),u=(e,t)=>a(n=>je(je({},n),{},{[e]:t})),h=[{code:"U",label:"Unemployed (U)"},{code:"R",label:"Realistic (R)"},{code:"I",label:"Investigative (I)"},{code:"A",label:"Artistic (A)"},{code:"S",label:"Social (S)"},{code:"E",label:"Enterprising (E)"},{code:"C",label:"Conventional (C)"}];return(0,i.useEffect)(()=>{null===n||void 0===n||n(r)},[r,n]),(0,i.useEffect)(()=>{t&&(async()=>{try{d("");const e=await fetch("".concat(Lz,"/patients/").concat(encodeURIComponent(t),"/employment"));if(e.ok){const t=await e.json();t&&t.patient_id&&a(e=>{var n;return je(je(je({},e),t),{},{last_drawn_salary_rm:(null!==(n=t.last_drawn_salary_rm)&&void 0!==n?n:"0.00").toString(),osi_code:t.osi_code||"U",osi_label:t.osi_label||"Unemployed"})})}}catch(e){d("Load failed: ".concat(e.message))}})()},[t]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"barTitle",children:"Employment Details"}),(0,s.jsx)(TJ,{label:"Current Employment Status *",children:(0,s.jsx)("select",{className:"input",value:r.employment_status,onChange:e=>u("employment_status",e.target.value),children:["Unemployed","Employed - Full-time","Employed - Part-time","Self-employed","Student","Retired","Homemaker","Unable to work","Other"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(TJ,{label:"Occupation",children:(0,s.jsx)("input",{className:"input",placeholder:"e.g., Teacher / Engineer / NA",value:r.occupation,onChange:e=>u("occupation",e.target.value)})}),(0,s.jsx)(TJ,{label:"Industry",children:(0,s.jsx)("select",{className:"input",value:r.industry,onChange:e=>u("industry",e.target.value),children:["Healthcare","Information Technology","Education","Finance","Manufacturing","Retail","Hospitality","Construction","Public Sector","Others"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(TJ,{label:"Last Drawn Salary (RM) *",children:(0,s.jsx)("input",{className:"input",type:"number",step:"0.01",value:r.last_drawn_salary_rm,onChange:e=>u("last_drawn_salary_rm",e.target.value)})}),(0,s.jsx)(TJ,{label:"Occupational Search Inventory (OSI)",children:(0,s.jsx)("select",{className:"input",value:r.osi_code,onChange:e=>{const t=e.target.value,n=h.find(e=>e.code===t);u("osi_code",t),u("osi_label",(null===n||void 0===n?void 0:n.label)||"")},children:h.map(e=>(0,s.jsx)("option",{value:e.code,children:e.label},e.code))})}),(0,s.jsxs)("div",{className:"actions",children:[(0,s.jsx)("button",{className:"btn savebtn ".concat("saving"===o?"is-busy":""),style:{margin:"20px"},type:"button",onClick:async()=>{try{if(!t)return void alert("Save Patient Details first to get a Patient ID.");l("saving"),d("");const e=je(je({},r),{},{last_drawn_salary_rm:""===r.last_drawn_salary_rm?0:Number(r.last_drawn_salary_rm)}),n=await fetch("".concat(Lz,"/patients/").concat(encodeURIComponent(t),"/employment"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await(n.ok?null:n.json().catch(()=>null));if(!n.ok)throw new Error("".concat(n.status," ").concat((null===i||void 0===i?void 0:i.error)||n.statusText));const a=await n.json();l("saved"),d(a.message||"Employment details saved")}catch(e){l("idle"),d("Save failed: ".concat(e.message))}},disabled:"saving"===o||!t,"aria-busy":"saving"===o,children:"saving"===o?"Saving\u2026":"saved"===o?"Saved":"Save Employment"}),c&&(0,s.jsx)("span",{className:"hint",style:{marginLeft:10},children:c}),!t&&(0,s.jsx)("span",{className:"hint",style:{marginLeft:10},children:"Save Patient Details first to get a Patient ID."})]})]})},Rz="http://127.0.0.1:5000";qS.create({baseURL:Rz});const Dz=function(e){let{patientId:t,onChangeData:n}=e;const[r,a]=(0,i.useState)({payer_type:"Self-pay",insurer_existing:"",create_new_insurer:"No",pricing_policy:"",contact_no:"",email:"",gl_from:"",gl_to:"",amount_rm:"",policy_ref:"",oku_holder:"No",oku_id:"",upload_copy_of_gl:"No change of File"}),[o,l]=(0,i.useState)("idle"),[c,d]=(0,i.useState)("");(0,i.useEffect)(()=>{null===n||void 0===n||n(r)},[r,n]);const u=(e,t)=>a(n=>je(je({},n),{},{[e]:t}));return(0,i.useEffect)(()=>{t&&(async()=>{try{d("");const e=await fetch("".concat(Rz,"/patients/").concat(encodeURIComponent(t),"/financial"));if(e.ok){const t=await e.json();t&&t.patient_id&&a(e=>{var n;return je(je(je({},e),t),{},{amount_rm:null!==(n=t.amount_rm)&&void 0!==n?n:"",oku_holder:t.oku_holder||"No",oku_id:t.oku_id||""})})}}catch(e){d("Load failed: ".concat(e.message))}})()},[t]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"barTitle",children:"Financial Details"}),(0,s.jsx)(TJ,{label:"Payer Type",children:(0,s.jsxs)("select",{className:"input",value:r.payer_type,onChange:e=>u("payer_type",e.target.value),children:[(0,s.jsx)("option",{children:"Self-pay"}),(0,s.jsx)("option",{children:"Insurance"}),(0,s.jsx)("option",{children:"Corporate"}),(0,s.jsx)("option",{children:"Government"}),(0,s.jsx)("option",{children:"Other"})]})}),(0,s.jsx)(TJ,{label:"Create New Insurer / Company?",children:(0,s.jsxs)("select",{className:"input",value:r.create_new_insurer,onChange:e=>u("create_new_insurer",e.target.value),children:[(0,s.jsx)("option",{children:"No"}),(0,s.jsx)("option",{children:"Yes"})]})}),(0,s.jsx)("div",{className:"barTitle soft",children:"Payer Information"}),(0,s.jsx)(TJ,{label:"Select Existing Payer",children:(0,s.jsxs)("select",{className:"input",value:r.insurer_existing,onChange:e=>u("insurer_existing",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select Insurer \u2014"}),["AXA","Cigna","Allianz","William Russell","AIA","Bupa","GeoBlue","IMG","MSIG"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)(TJ,{label:"Pricing Policy",children:(0,s.jsxs)("select",{className:"input",value:r.pricing_policy,onChange:e=>u("pricing_policy",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select Policy \u2014"}),["Systematic approach","Standing answer to recurring questions","Alignment with business objectives","Consideration of various factors"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)(TJ,{label:"Contact No",children:(0,s.jsx)("input",{className:"input",placeholder:"e.g., +91-XXXXXXXXXX",value:r.contact_no,onChange:e=>u("contact_no",e.target.value)})}),(0,s.jsx)(TJ,{label:"e-Mail",children:(0,s.jsx)("input",{className:"input",placeholder:"payer@example.com",value:r.email,onChange:e=>u("email",e.target.value)})}),(0,s.jsx)(TJ,{label:"GL Date From",children:(0,s.jsx)("input",{className:"input",type:"date",value:r.gl_from,onChange:e=>u("gl_from",e.target.value),style:{maxWidth:220}})}),(0,s.jsx)(TJ,{label:"To",children:(0,s.jsx)("input",{className:"input",type:"date",value:r.gl_to,onChange:e=>u("gl_to",e.target.value),style:{maxWidth:220}})}),(0,s.jsx)(TJ,{label:"Amount (RM)",children:(0,s.jsx)("input",{className:"input",type:"number",step:"0.01",value:r.amount_rm,onChange:e=>u("amount_rm",e.target.value)})}),(0,s.jsx)(TJ,{label:"Policy Reference",children:(0,s.jsx)("input",{className:"input",placeholder:"Policy Reference",value:r.policy_ref,onChange:e=>u("policy_ref",e.target.value)})}),(0,s.jsx)(TJ,{label:"OKU Card Holder",children:(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsxs)("select",{className:"input",style:{maxWidth:220},value:r.oku_holder,onChange:e=>{const t=e.target.value;u("oku_holder",t),"Yes"!==t&&u("oku_id","")},children:[(0,s.jsx)("option",{children:"No"}),(0,s.jsx)("option",{children:"Yes"})]}),"Yes"===r.oku_holder&&(0,s.jsx)("input",{className:"input",style:{maxWidth:260},placeholder:"Enter OKU ID",value:r.oku_id,onChange:e=>u("oku_id",e.target.value)})]})}),(0,s.jsx)(TJ,{label:"Upload Copy of GL",children:(0,s.jsxs)("select",{className:"input",value:r.upload_copy_of_gl,onChange:e=>u("upload_copy_of_gl",e.target.value),children:[(0,s.jsx)("option",{children:"No change of file"}),(0,s.jsx)("option",{children:"Upload now (coming soon)"})]})}),(0,s.jsxs)("div",{className:"actions",children:[(0,s.jsx)("button",{className:"btn savebtn ".concat("saving"===o?"is-busy":""),style:{margin:"20px"},type:"button",onClick:async()=>{try{if(!t)return void alert("Save Patient Details first to get a Patient ID.");l("saving"),d("");const e=je({},r),n=parseFloat(String(e.amount_rm).replace(/,/g,""));e.amount_rm=Number.isFinite(n)?n:null,"Yes"!==e.oku_holder&&(e.oku_id="");const i=await fetch("".concat(Rz,"/patients/").concat(encodeURIComponent(t),"/financial"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await(i.ok?null:i.json().catch(()=>null));if(!i.ok)throw new Error("".concat(i.status," ").concat((null===a||void 0===a?void 0:a.error)||i.statusText));const o=await i.json();l("saved"),d(o.message||"Financial details saved")}catch(e){l("idle"),d("Save failed: ".concat(e.message))}},disabled:"saving"===o||!t,"aria-busy":"saving"===o,children:"saving"===o?"Saving\u2026":"saved"===o?"Saved":"Save Financial"}),c&&(0,s.jsx)("span",{className:"hint",style:{marginLeft:10},children:c}),!t&&(0,s.jsx)("span",{className:"hint",style:{marginLeft:10},children:"Save Patient Details first to get a Patient ID."})]})]})},Fz="http://127.0.0.1:5000";qS.create({baseURL:Fz});const Bz=function(e){let{value:t,onChange:n,onFinancialChange:r,onEmploymentChange:a}=e;const o=t,l=(0,i.useCallback)((e,t)=>{n(n=>je(je({},n),{},{[e]:t}))},[n]),[c,d]=(0,i.useState)("PATIENT"),[u,h]=(0,i.useState)("New"),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)([]),[b,y]=(0,i.useState)("idle"),[v,x]=(0,i.useState)(""),w=(0,i.useMemo)(()=>Array.from({length:31},(e,t)=>"".concat(t+1).padStart(2,"0")),[]),j=(0,i.useMemo)(()=>[{v:"01",n:"Jan"},{v:"02",n:"Feb"},{v:"03",n:"Mar"},{v:"04",n:"Apr"},{v:"05",n:"May"},{v:"06",n:"Jun"},{v:"07",n:"Jul"},{v:"08",n:"Aug"},{v:"09",n:"Sep"},{v:"10",n:"Oct"},{v:"11",n:"Nov"},{v:"12",n:"Dec"}],[]),S=(0,i.useMemo)(()=>{const e=[];for(let t=(new Date).getFullYear();t>=1900;t--)e.push("".concat(t));return e},[]),_=(e,t,n)=>e&&t&&n?"".concat(n,"-").concat(t,"-").concat(e):null;(0,i.useEffect)(()=>{"Existing"===u&&p&&(async()=>{try{x(""),y("idle"),l("photo_url",t.photo_url||""),N(t.photo_url||""),C(null);const e=await fetch("".concat(Fz,"/patients/").concat(encodeURIComponent(p)));if(!e.ok)throw new Error("HTTP ".concat(e.status));const t=await e.json();if(l("patient_id",t.patient_id||""),l("patient_name",t.patient_name||""),t.date_of_birth){const[e,n,i]=t.date_of_birth.split("-");l("dob_year",e||""),l("dob_month",n||""),l("dob_day",i||"")}else l("dob_year",""),l("dob_month",""),l("dob_day","");if(t.date_register_otc){const[e,n,i]=t.date_register_otc.split("-");l("reg_year",e||""),l("reg_month",n||""),l("reg_day",i||"")}else l("reg_year",""),l("reg_month",""),l("reg_day","");l("gender",t.gender||""),l("marital",t.marital_status||""),l("nationality",t.nationality||""),l("occupation",t.occupation||"");const n=await fetch("".concat(Fz,"/patients/").concat(encodeURIComponent(p),"/history")),i=n.ok?await n.json():[];g(i||[])}catch(e){x("Failed to load patient: ".concat(e.message))}})()},[u,p]);const[k,C]=(0,i.useState)(null),[A,N]=(0,i.useState)(""),[O,P]=(0,i.useState)("idle"),[I,E]=(0,i.useState)("");return(0,i.useEffect)(()=>()=>{if(A&&A.startsWith("blob:"))try{URL.revokeObjectURL(A)}catch(e){}},[A]),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsxs)("div",{className:"innerTabs",children:[(0,s.jsx)("button",{type:"button",className:"innerTab ".concat("PATIENT"===c?"active":""),onClick:()=>d("PATIENT"),children:"Patient Details"}),(0,s.jsx)("button",{type:"button",className:"innerTab ".concat("FINANCIAL"===c?"active":""),onClick:()=>d("FINANCIAL"),children:"Financial Details"}),(0,s.jsx)("button",{type:"button",className:"innerTab ".concat("EMPLOYMENT"===c?"active":""),onClick:()=>d("EMPLOYMENT"),children:"Employment Details"})]}),(0,s.jsxs)("div",{className:"row",style:{padding:"10px",gap:16,alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsx)("div",{style:{width:104,height:104,borderRadius:"6px",overflow:"hidden",border:"1px solid #ddd",background:"#f6f6f6",display:"flex",alignItems:"center",justifyContent:"center"},children:A?(0,s.jsx)("img",{src:A,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,s.jsx)("span",{style:{fontSize:12,color:"#999",textAlign:"center",padding:8},children:"No photo"})}),(0,s.jsxs)("div",{style:{display:"grid",gap:8,minWidth:240},children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!n.type.startsWith("image/"))return E("Please choose an image file."),void C(null);if(n.size>52428800)return E("Max size is 50 MB."),void C(null);E(""),C(n);const i=URL.createObjectURL(n);N(i)},style:{maxWidth:280}}),(0,s.jsxs)("div",{style:{gap:8,display:"flex",flexWrap:"wrap"},children:[(0,s.jsx)("button",{type:"button",className:"btn",onClick:()=>async function(e){if(k&&e){P("saving"),E("");try{const t=new FormData;t.append("file",k);const n=await fetch("".concat(Fz,"/patients/").concat(encodeURIComponent(e),"/photo"),{method:"PUT",body:t}),i=await(n.ok?null:n.json().catch(()=>null));if(!n.ok)throw new Error("".concat(n.status," ").concat((null===i||void 0===i?void 0:i.error)||n.statusText));const r=await n.json().catch(()=>({}));r.photo_url&&(l("photo_url",r.photo_url),N(r.photo_url)),P("saved"),E("Photo uploaded.")}catch(t){P("error"),E("Upload failed: ".concat(t.message))}}}(o.patient_id||""),disabled:!k||"saving"===O,children:"saving"===O?"Uploading\u2026":"Photo Uploaded"}),(0,s.jsx)("button",{type:"button",className:"btn",onClick:()=>{C(null),E(""),A.startsWith("blob:")&&N("")},disabled:!k&&!A,children:"Clear"})]}),(0,s.jsx)("div",{className:"hint",style:{fontSize:12,color:"#666"},children:"Max size: 50\xa0MB. Accepted: images only."}),I&&(0,s.jsx)("div",{className:"hint",style:{color:"error"===O?"#b00020":"#2f6f2f"},children:I})]})]}),(0,s.jsx)("div",{style:{display:"EMPLOYMENT"===c?"block":"none"},children:(0,s.jsx)(Mz,{patientId:o.patient_id,onChangeData:a})}),(0,s.jsxs)("div",{style:{display:"PATIENT"===c?"block":"none"},children:[(0,s.jsxs)("div",{className:"row",style:{padding:"40px 10px 10px 10px"},children:[(0,s.jsx)("div",{className:"label",children:"User type"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,s.jsxs)("select",{className:"input",value:u,onChange:e=>{h(e.target.value),f("")},children:[(0,s.jsx)("option",{value:"New",children:"Private"}),(0,s.jsx)("option",{value:"Existing",children:"SOCSO"})]}),(0,s.jsx)("input",{className:"input",style:{maxWidth:200},placeholder:"Patient ID - IND0002",value:o.patient_id||"",onChange:e=>l("patient_id",e.target.value),readOnly:"Existing"===u})]})]}),"Existing"===u&&(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"label",style:{margin:"12px"},children:"Find patient"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(Tz,{value:p,onSelect:e=>f(e)}),(0,s.jsx)("div",{className:"hint",style:{marginTop:6},children:"Search by ID or name. Picking one will auto-fill the form and show history."})]})]}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),"saving"!==b){y("saving"),x("");try{const e=_(o.dob_day,o.dob_month,o.dob_year),t=_(o.reg_day,o.reg_month,o.reg_year),n={patient_name:(o.patient_name||"").trim(),gender:o.gender||"",marital_status:o.marital||"",nationality:o.nationality||"",occupation:o.occupation||"",date_of_birth:e,date_register_otc:t};let i;i="Existing"===u&&o.patient_id?await fetch("".concat(Fz,"/patients/").concat(encodeURIComponent(o.patient_id)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}):await fetch("".concat(Fz,"/patients"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});const r=await(i.ok?null:i.json().catch(()=>null));if(!i.ok)throw new Error("".concat(i.status," ").concat((null===r||void 0===r?void 0:r.error)||i.statusText));const a=await i.json();a.patient_id&&l("patient_id",a.patient_id),y("saved"),x(a.message||"Saved.")}catch(Hs){y("error"),x("Save failed: ".concat(Hs.message))}}},className:"form",children:[(0,s.jsx)(TJ,{label:"Patient name",children:(0,s.jsx)("input",{className:"input",placeholder:"Enter Full Name",value:o.patient_name||"",onChange:e=>l("patient_name",e.target.value)})}),(0,s.jsx)(TJ,{label:"Date Register OTC",children:(0,s.jsx)(LJ,{form:o,onChange:l,pfx:"reg",days:w,months:j,years:S})}),(0,s.jsx)(TJ,{label:"Date of Birth",children:(0,s.jsx)(LJ,{form:o,onChange:l,pfx:"dob",days:w,months:j,years:S})}),(0,s.jsx)(TJ,{label:"Gender",children:(0,s.jsxs)("select",{className:"input",value:o.gender||"",onChange:e=>l("gender",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select Gender \u2014"}),(0,s.jsx)("option",{children:"Female"}),(0,s.jsx)("option",{children:"Male"}),(0,s.jsx)("option",{children:"Other"}),(0,s.jsx)("option",{children:"Prefer not to say"})]})}),(0,s.jsx)(TJ,{label:"Marital Status",children:(0,s.jsxs)("select",{className:"input",value:o.marital||"",onChange:e=>l("marital",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"\u2014 Select Status \u2014"}),(0,s.jsx)("option",{children:"Single"}),(0,s.jsx)("option",{children:"Married"}),(0,s.jsx)("option",{children:"Separated"}),(0,s.jsx)("option",{children:"Divorced"}),(0,s.jsx)("option",{children:"Widowed"})]})}),(0,s.jsx)(TJ,{label:"Nationality",children:(0,s.jsx)("input",{className:"input",placeholder:"e.g., Indian",value:o.nationality||"",onChange:e=>l("nationality",e.target.value)})}),(0,s.jsx)(TJ,{label:"Occupation",children:(0,s.jsx)("input",{className:"input",placeholder:"e.g., Engineer",value:o.occupation||"",onChange:e=>l("occupation",e.target.value)})}),(0,s.jsx)("div",{className:"actions",children:v&&(0,s.jsx)("span",{className:"hint",style:{marginLeft:10},children:v})})]}),"Existing"===u&&(0,s.jsxs)("div",{className:"box",style:{marginTop:12},children:[(0,s.jsx)("div",{className:"box-title",children:"Past visits / improvements"}),0===m.length?(0,s.jsx)("div",{className:"muted",children:"No prior records found."}):(0,s.jsx)("ul",{className:"flat",children:m.map((e,t)=>(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:e.date||e.timestamp||"\u2014"})," \u2014 ",e.summary||e.note||e.detail||"Entry"]},t))})]})]}),(0,s.jsx)("div",{style:{display:"FINANCIAL"===c?"block":"none"},children:(0,s.jsx)(Dz,{patientId:o.patient_id,onChangeData:r})})]})};var zz=Uint8Array,Wz=Uint16Array,Uz=Int32Array,qz=new zz([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hz=new zz([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vz=new zz([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gz=function(e,t){for(var n=new Wz(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new Uz(n[30]);for(i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r:r}},Zz=Gz(qz,2),Yz=Zz.b,Kz=Zz.r;Yz[28]=258,Kz[258]=28;for(var Jz=Gz(Hz,0),Xz=(Jz.b,Jz.r),$z=new Wz(32768),Qz=0;Qz<32768;++Qz){var eW=(43690&Qz)>>1|(21845&Qz)<<1;eW=(61680&(eW=(52428&eW)>>2|(13107&eW)<<2))>>4|(3855&eW)<<4,$z[Qz]=((65280&eW)>>8|(255&eW)<<8)>>1}var tW=function(e,t,n){for(var i=e.length,r=0,a=new Wz(t);r<i;++r)e[r]&&++a[e[r]-1];var o,s=new Wz(t);for(r=1;r<t;++r)s[r]=s[r-1]+a[r-1]<<1;if(n){o=new Wz(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var c=r<<4|e[r],d=t-e[r],u=s[e[r]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)o[$z[u]>>l]=c}else for(o=new Wz(i),r=0;r<i;++r)e[r]&&(o[r]=$z[s[e[r]-1]++]>>15-e[r]);return o},nW=new zz(288);for(Qz=0;Qz<144;++Qz)nW[Qz]=8;for(Qz=144;Qz<256;++Qz)nW[Qz]=9;for(Qz=256;Qz<280;++Qz)nW[Qz]=7;for(Qz=280;Qz<288;++Qz)nW[Qz]=8;var iW=new zz(32);for(Qz=0;Qz<32;++Qz)iW[Qz]=5;var rW=tW(nW,9,0),aW=tW(iW,5,0),oW=function(e){return(e+7)/8|0},sW=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new zz(e.subarray(t,n))},lW=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},cW=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},dW=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:bW,l:0};if(1==r){var o=new zz(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=r-1;)s=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:s.f+l.f,l:s,r:l};var h=a[0].s;for(i=1;i<r;++i)a[i].s>h&&(h=a[i].s);var p=new Wz(h+1),f=uW(n[d-1],p,0);if(f>t){i=0;var m=0,g=f-t,b=1<<g;for(a.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});i<r;++i){var y=a[i].s;if(!(p[y]>t))break;m+=b-(1<<f-p[y]),p[y]=t}for(m>>=g;m>0;){var v=a[i].s;p[v]<t?m-=1<<t-p[v]++-1:++i}for(;i>=0&&m;--i){var x=a[i].s;p[x]==t&&(--p[x],++m)}f=t}return{t:new zz(p),l:f}},uW=function(e,t,n){return-1==e.s?Math.max(uW(e.l,t,n+1),uW(e.r,t,n+1)):t[e.s]=n},hW=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Wz(++t),i=0,r=e[0],a=1,o=function(e){n[i++]=e},s=1;s<=t;++s)if(e[s]==r&&s!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=e[s]}return{c:n.subarray(0,i),n:t}},pW=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},fW=function(e,t,n){var i=n.length,r=oW(t+2);e[r]=255&i,e[r+1]=i>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var a=0;a<i;++a)e[r+a+4]=n[a];return 8*(r+4+i)},mW=function(e,t,n,i,r,a,o,s,l,c,d){lW(t,d++,n),++r[256];for(var u=dW(r,15),h=u.t,p=u.l,f=dW(a,15),m=f.t,g=f.l,b=hW(h),y=b.c,v=b.n,x=hW(m),w=x.c,j=x.n,S=new Wz(19),_=0;_<y.length;++_)++S[31&y[_]];for(_=0;_<w.length;++_)++S[31&w[_]];for(var k=dW(S,7),C=k.t,A=k.l,N=19;N>4&&!C[Vz[N-1]];--N);var O,P,I,E,T=c+5<<3,L=pW(r,nW)+pW(a,iW)+o,M=pW(r,h)+pW(a,m)+o+14+3*N+pW(S,C)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&T<=L&&T<=M)return fW(t,d,e.subarray(l,l+c));if(lW(t,d,1+(M<L)),d+=2,M<L){O=tW(h,p,0),P=h,I=tW(m,g,0),E=m;var R=tW(C,A,0);lW(t,d,v-257),lW(t,d+5,j-1),lW(t,d+10,N-4),d+=14;for(_=0;_<N;++_)lW(t,d+3*_,C[Vz[_]]);d+=3*N;for(var D=[y,w],F=0;F<2;++F){var B=D[F];for(_=0;_<B.length;++_){var z=31&B[_];lW(t,d,R[z]),d+=C[z],z>15&&(lW(t,d,B[_]>>5&127),d+=B[_]>>12)}}}else O=rW,P=nW,I=aW,E=iW;for(_=0;_<s;++_){var W=i[_];if(W>255){cW(t,d,O[(z=W>>18&31)+257]),d+=P[z+257],z>7&&(lW(t,d,W>>23&31),d+=qz[z]);var U=31&W;cW(t,d,I[U]),d+=E[U],U>3&&(cW(t,d,W>>5&8191),d+=Hz[U])}else cW(t,d,O[W]),d+=P[W]}return cW(t,d,O[256]),d+P[256]},gW=new Uz([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bW=new zz(0),yW=function(e,t,n,i,r,a){var o=a.z||e.length,s=new zz(i+o+5*(1+Math.ceil(o/7e3))+r),l=s.subarray(i,s.length-r),c=a.l,d=7&(a.r||0);if(t){d&&(l[0]=a.r>>3);for(var u=gW[t-1],h=u>>13,p=8191&u,f=(1<<n)-1,m=a.p||new Wz(32768),g=a.h||new Wz(f+1),b=Math.ceil(n/3),y=2*b,v=function(t){return(e[t]^e[t+1]<<b^e[t+2]<<y)&f},x=new Uz(25e3),w=new Wz(288),j=new Wz(32),S=0,_=0,k=a.i||0,C=0,A=a.w||0,N=0;k+2<o;++k){var O=v(k),P=32767&k,I=g[O];if(m[P]=I,g[O]=P,A<=k){var E=o-k;if((S>7e3||C>24576)&&(E>423||!c)){d=mW(e,l,0,x,w,j,_,C,N,k-N,d),C=S=_=0,N=k;for(var T=0;T<286;++T)w[T]=0;for(T=0;T<30;++T)j[T]=0}var L=2,M=0,R=p,D=P-I&32767;if(E>2&&O==v(k-D))for(var F=Math.min(h,E)-1,B=Math.min(32767,k),z=Math.min(258,E);D<=B&&--R&&P!=I;){if(e[k+L]==e[k+L-D]){for(var W=0;W<z&&e[k+W]==e[k+W-D];++W);if(W>L){if(L=W,M=D,W>F)break;var U=Math.min(D,W-2),q=0;for(T=0;T<U;++T){var H=k-D+T&32767,V=H-m[H]&32767;V>q&&(q=V,I=H)}}}D+=(P=I)-(I=m[P])&32767}if(M){x[C++]=268435456|Kz[L]<<18|Xz[M];var G=31&Kz[L],Z=31&Xz[M];_+=qz[G]+Hz[Z],++w[257+G],++j[Z],A=k+L,++S}else x[C++]=e[k],++w[e[k]]}}for(k=Math.max(k,A);k<o;++k)x[C++]=e[k],++w[e[k]];d=mW(e,l,c,x,w,j,_,C,N,k-N,d),c||(a.r=7&d|l[d/8|0]<<3,d-=7,a.h=g,a.p=m,a.i=k,a.w=A)}else{for(k=a.w||0;k<o+c;k+=65535){var Y=k+65535;Y>=o&&(l[d/8|0]=c,Y=o),d=fW(l,d+1,e.subarray(k,Y))}a.i=o}return sW(s,0,i+oW(d)+r)},vW=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,a=0|n.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)r+=i+=n[o];i=(65535&i)+15*(i>>16),r=(65535&r)+15*(r>>16)}e=i,t=r},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},xW=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new zz(a.length+e.length);o.set(a),o.set(e,a.length),e=o,r.w=a.length}return yW(e,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,i,r)},wW=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},jW=function(e,t){var n=t.level,i=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=vW();r.p(t.dictionary),wW(e,2,r.d())}};function SW(e,t){t||(t={});var n=vW();n.p(e);var i=xW(e,t,t.dictionary?6:2,4);return jW(i,t),wW(i,i.length-4,n.d()),i}var _W="undefined"!=typeof TextDecoder&&new TextDecoder;try{_W.decode(bW,{stream:!0})}catch(p1){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function kW(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const CW=new TextEncoder;const AW=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),NW={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class OW{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,xe.A)(this,"buffer",void 0),(0,xe.A)(this,"byteLength",void 0),(0,xe.A)(this,"byteOffset",void 0),(0,xe.A)(this,"length",void 0),(0,xe.A)(this,"offset",void 0),(0,xe.A)(this,"lastWrittenByte",void 0),(0,xe.A)(this,"littleEndian",void 0),(0,xe.A)(this,"_data",void 0),(0,xe.A)(this,"_mark",void 0),(0,xe.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,r=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof OW)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=n?r:0,this.buffer=e,this.length=r,this.byteLength=r,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,r),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=NW[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,r=this.buffer.slice(i,i+n);if(this.littleEndian===AW&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(i,i+n));e.reverse();const r=new NW[t](e.buffer);return this.offset+=n,r.reverse(),r}const a=new NW[t](r);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return kW(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return kW(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return CW.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function PW(e){let t=e.length;for(;--t>=0;)e[t]=0}const IW=256,EW=286,TW=30,LW=15,MW=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),RW=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),DW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),FW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BW=new Array(576);PW(BW);const zW=new Array(60);PW(zW);const WW=new Array(512);PW(WW);const UW=new Array(256);PW(UW);const qW=new Array(29);PW(qW);const HW=new Array(TW);function VW(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let GW,ZW,YW;function KW(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}PW(HW);const JW=e=>e<256?WW[e]:WW[256+(e>>>7)],XW=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},$W=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,XW(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},QW=(e,t,n)=>{$W(e,n[2*t],n[2*t+1])},eU=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},tU=(e,t,n)=>{const i=new Array(16);let r,a,o=0;for(r=1;r<=LW;r++)o=o+n[r-1]<<1,i[r]=o;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=eU(i[t]++,t))}},nU=e=>{let t;for(t=0;t<EW;t++)e.dyn_ltree[2*t]=0;for(t=0;t<TW;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},iU=e=>{e.bi_valid>8?XW(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},rU=(e,t,n,i)=>{const r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]},aU=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&rU(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!rU(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},oU=(e,t,n)=>{let i,r,a,o,s=0;if(0!==e.sym_next)do{i=255&e.pending_buf[e.sym_buf+s++],i+=(255&e.pending_buf[e.sym_buf+s++])<<8,r=e.pending_buf[e.sym_buf+s++],0===i?QW(e,r,t):(a=UW[r],QW(e,a+IW+1,t),o=MW[a],0!==o&&(r-=qW[a],$W(e,r,o)),i--,a=JW(i),QW(e,a,n),o=RW[a],0!==o&&(i-=HW[a],$W(e,i,o)))}while(s<e.sym_next);QW(e,256,t)},sU=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<a;o++)0!==n[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[2*l+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)aU(e,n,o);l=a;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],aU(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*l]=n[2*o]+n[2*s],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=l,e.heap[1]=l++,aU(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,f,m=0;for(h=0;h<=LW;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,m++),n[2*d+1]=h,d>i||(e.bl_count[h]++,p=0,d>=s&&(p=o[d-s]),f=n[2*d],e.opt_len+=f*(h+p),a&&(e.static_len+=f*(r[2*d+1]+p)));if(0!==m){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>i||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),tU(n,c,e.bl_count)},lU=(e,t,n)=>{let i,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<l&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))},cU=(e,t,n)=>{let i,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<l&&r===o)){if(s<c)do{QW(e,r,e.bl_tree)}while(0!==--s);else 0!==r?(r!==a&&(QW(e,r,e.bl_tree),s--),QW(e,16,e.bl_tree),$W(e,s-3,2)):s<=10?(QW(e,17,e.bl_tree),$W(e,s-3,3)):(QW(e,18,e.bl_tree),$W(e,s-11,7));s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}};let dU=!1;const uU=(e,t,n,i)=>{$W(e,0+(i?1:0),3),iU(e),XW(e,n),XW(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var hU=e=>{dU||((()=>{let e,t,n,i,r;const a=new Array(16);for(n=0,i=0;i<28;i++)for(qW[i]=n,e=0;e<1<<MW[i];e++)UW[n++]=i;for(UW[n-1]=i,r=0,i=0;i<16;i++)for(HW[i]=r,e=0;e<1<<RW[i];e++)WW[r++]=i;for(r>>=7;i<TW;i++)for(HW[i]=r<<7,e=0;e<1<<RW[i]-7;e++)WW[256+r++]=i;for(t=0;t<=LW;t++)a[t]=0;for(e=0;e<=143;)BW[2*e+1]=8,e++,a[8]++;for(;e<=255;)BW[2*e+1]=9,e++,a[9]++;for(;e<=279;)BW[2*e+1]=7,e++,a[7]++;for(;e<=287;)BW[2*e+1]=8,e++,a[8]++;for(tU(BW,287,a),e=0;e<TW;e++)zW[2*e+1]=5,zW[2*e]=eU(e,5);GW=new VW(BW,MW,257,EW,LW),ZW=new VW(zW,RW,0,TW,LW),YW=new VW(new Array(0),DW,0,19,7)})(),dU=!0),e.l_desc=new KW(e.dyn_ltree,GW),e.d_desc=new KW(e.dyn_dtree,ZW),e.bl_desc=new KW(e.bl_tree,YW),e.bi_buf=0,e.bi_valid=0,nU(e)},pU=(e,t,n,i)=>{let r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<IW;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),sU(e,e.l_desc),sU(e,e.d_desc),o=(e=>{let t;for(lU(e,e.dyn_ltree,e.l_desc.max_code),lU(e,e.dyn_dtree,e.d_desc.max_code),sU(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*FW[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?uU(e,t,n,i):4===e.strategy||a===r?($W(e,2+(i?1:0),3),oU(e,BW,zW)):($W(e,4+(i?1:0),3),((e,t,n,i)=>{let r;for($W(e,t-257,5),$W(e,n-1,5),$W(e,i-4,4),r=0;r<i;r++)$W(e,e.bl_tree[2*FW[r]+1],3);cU(e,e.dyn_ltree,t-1),cU(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),oU(e,e.dyn_ltree,e.dyn_dtree)),nU(e),i&&iU(e)},fU=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(UW[n]+IW+1)]++,e.dyn_dtree[2*JW(t)]++),e.sym_next===e.sym_end),mU=e=>{$W(e,2,3),QW(e,256,BW),(e=>{16===e.bi_valid?(XW(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},gU={_tr_init:hU,_tr_stored_block:uU,_tr_flush_block:pU,_tr_tally:fU,_tr_align:mU};var bU=(e,t,n,i)=>{let r=65535&e,a=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{r=r+t[i++]|0,a=a+r|0}while(--o);r%=65521,a%=65521}return r|a<<16};const yU=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var vU=(e,t,n,i)=>{const r=yU,a=i+n;e^=-1;for(let o=i;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e},xU={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wU={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:jU,_tr_stored_block:SU,_tr_flush_block:_U,_tr_tally:kU,_tr_align:CU}=gU,{Z_NO_FLUSH:AU,Z_PARTIAL_FLUSH:NU,Z_FULL_FLUSH:OU,Z_FINISH:PU,Z_BLOCK:IU,Z_OK:EU,Z_STREAM_END:TU,Z_STREAM_ERROR:LU,Z_DATA_ERROR:MU,Z_BUF_ERROR:RU,Z_DEFAULT_COMPRESSION:DU,Z_FILTERED:FU,Z_HUFFMAN_ONLY:BU,Z_RLE:zU,Z_FIXED:WU,Z_DEFAULT_STRATEGY:UU,Z_UNKNOWN:qU,Z_DEFLATED:HU}=wU,VU=258,GU=262,ZU=42,YU=113,KU=666,JU=(e,t)=>(e.msg=xU[t],t),XU=e=>2*e-(e>4?9:0),$U=e=>{let t=e.length;for(;--t>=0;)e[t]=0},QU=e=>{let t,n,i,r=e.w_size;t=e.hash_size,i=t;do{n=e.head[--i],e.head[i]=n>=r?n-r:0}while(--t);t=r,i=t;do{n=e.prev[--i],e.prev[i]=n>=r?n-r:0}while(--t)};let eq=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const tq=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},nq=(e,t)=>{_U(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,tq(e.strm)},iq=(e,t)=>{e.pending_buf[e.pending++]=t},rq=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},aq=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=bU(e.adler,t,r,n):2===e.state.wrap&&(e.adler=vU(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},oq=(e,t)=>{let n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-GU?e.strstart-(e.w_size-GU):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+VU;let p=c[a+o-1],f=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+o]===f&&c[n+o-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(i=VU-(h-a),a=h-VU,i>o){if(e.match_start=t,o=i,i>=s)break;p=c[a+o-1],f=c[a+o]}}}while((t=u[t&d])>l&&0!==--r);return o<=e.lookahead?o:e.lookahead},sq=e=>{const t=e.w_size;let n,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-GU)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),QU(e),i+=t),0===e.strm.avail_in)break;if(n=aq(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=eq(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=eq(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<GU&&0!==e.strm.avail_in)},lq=(e,t)=>{let n,i,r,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,s=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<a&&(0===n&&t!==PU||t===AU||n!==i+e.strm.avail_in))break;o=t===PU&&n===i+e.strm.avail_in?1:0,SU(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,tq(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(aq(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==AU&&t!==PU&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(aq(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,a=r>e.w_size?e.w_size:r,i=e.strstart-e.block_start,(i>=a||(i||t===PU)&&t!==AU&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,o=t===PU&&0===e.strm.avail_in&&n===i?1:0,SU(e,e.block_start,n,o),e.block_start+=n,tq(e.strm)),o?3:1)},cq=(e,t)=>{let n,i;for(;;){if(e.lookahead<GU){if(sq(e),e.lookahead<GU&&t===AU)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=eq(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-GU&&(e.match_length=oq(e,n)),e.match_length>=3)if(i=kU(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=eq(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=eq(e,e.ins_h,e.window[e.strstart+1]);else i=kU(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(nq(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===PU?(nq(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nq(e,!1),0===e.strm.avail_out)?1:2},dq=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<GU){if(sq(e),e.lookahead<GU&&t===AU)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=eq(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-GU&&(e.match_length=oq(e,n),e.match_length<=5&&(e.strategy===FU||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=kU(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=eq(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(nq(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=kU(e,0,e.window[e.strstart-1]),i&&nq(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=kU(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===PU?(nq(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nq(e,!1),0===e.strm.avail_out)?1:2};function uq(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const hq=[new uq(0,0,0,0,lq),new uq(4,4,8,4,cq),new uq(4,5,16,8,cq),new uq(4,6,32,32,cq),new uq(4,4,16,16,dq),new uq(8,16,32,32,dq),new uq(8,16,128,128,dq),new uq(8,32,128,256,dq),new uq(32,128,258,1024,dq),new uq(32,258,258,4096,dq)];function pq(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=HU,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),$U(this.dyn_ltree),$U(this.dyn_dtree),$U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),$U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),$U(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const fq=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ZU&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==YU&&t.status!==KU?1:0},mq=e=>{if(fq(e))return JU(e,LU);e.total_in=e.total_out=0,e.data_type=qU;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?ZU:YU,e.adler=2===t.wrap?0:1,t.last_flush=-2,jU(t),EU},gq=e=>{const t=mq(e);return t===EU&&(e=>{e.window_size=2*e.w_size,$U(e.head),e.max_lazy_match=hq[e.level].max_lazy,e.good_match=hq[e.level].good_length,e.nice_match=hq[e.level].nice_length,e.max_chain_length=hq[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},bq=(e,t,n,i,r,a)=>{if(!e)return LU;let o=1;if(t===DU&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==HU||i<8||i>15||t<0||t>9||a<0||a>WU||8===i&&1!==o)return JU(e,LU);8===i&&(i=9);const s=new pq;return e.state=s,s.strm=e,s.status=ZU,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=a,s.method=n,gq(e)};var yq=(e,t)=>{if(fq(e)||t>IU||t<0)return e?JU(e,LU):LU;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===KU&&t!==PU)return JU(e,0===e.avail_out?RU:LU);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(tq(e),0===e.avail_out)return n.last_flush=-1,EU}else if(0===e.avail_in&&XU(t)<=XU(i)&&t!==PU)return JU(e,RU);if(n.status===KU&&0!==e.avail_in)return JU(e,RU);if(n.status===ZU&&0===n.wrap&&(n.status=YU),n.status===ZU){let t=HU+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=BU||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,rq(n,t),0!==n.strstart&&(rq(n,e.adler>>>16),rq(n,65535&e.adler)),e.adler=1,n.status=YU,tq(e),0!==n.pending)return n.last_flush=-1,EU}if(57===n.status)if(e.adler=0,iq(n,31),iq(n,139),iq(n,8),n.gzhead)iq(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),iq(n,255&n.gzhead.time),iq(n,n.gzhead.time>>8&255),iq(n,n.gzhead.time>>16&255),iq(n,n.gzhead.time>>24&255),iq(n,9===n.level?2:n.strategy>=BU||n.level<2?4:0),iq(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(iq(n,255&n.gzhead.extra.length),iq(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=vU(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(iq(n,0),iq(n,0),iq(n,0),iq(n,0),iq(n,0),iq(n,9===n.level?2:n.strategy>=BU||n.level<2?4:0),iq(n,3),n.status=YU,tq(e),0!==n.pending)return n.last_flush=-1,EU;if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=vU(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=r,tq(e),0!==n.pending)return n.last_flush=-1,EU;t=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=vU(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=vU(e.adler,n.pending_buf,n.pending-i,i)),tq(e),0!==n.pending)return n.last_flush=-1,EU;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,iq(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=vU(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=vU(e.adler,n.pending_buf,n.pending-i,i)),tq(e),0!==n.pending)return n.last_flush=-1,EU;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,iq(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=vU(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(tq(e),0!==n.pending))return n.last_flush=-1,EU;iq(n,255&e.adler),iq(n,e.adler>>8&255),e.adler=0}if(n.status=YU,tq(e),0!==n.pending)return n.last_flush=-1,EU}if(0!==e.avail_in||0!==n.lookahead||t!==AU&&n.status!==KU){let i=0===n.level?lq(n,t):n.strategy===BU?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(sq(e),0===e.lookahead)){if(t===AU)return 1;break}if(e.match_length=0,n=kU(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(nq(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===PU?(nq(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nq(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===zU?((e,t)=>{let n,i,r,a;const o=e.window;for(;;){if(e.lookahead<=VU){if(sq(e),e.lookahead<=VU&&t===AU)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){a=e.strstart+VU;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=VU-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=kU(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=kU(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(nq(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===PU?(nq(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nq(e,!1),0===e.strm.avail_out)?1:2})(n,t):hq[n.level].func(n,t);if(3!==i&&4!==i||(n.status=KU),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),EU;if(2===i&&(t===NU?CU(n):t!==IU&&(SU(n,0,0,!1),t===OU&&($U(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tq(e),0===e.avail_out))return n.last_flush=-1,EU}return t!==PU?EU:n.wrap<=0?TU:(2===n.wrap?(iq(n,255&e.adler),iq(n,e.adler>>8&255),iq(n,e.adler>>16&255),iq(n,e.adler>>24&255),iq(n,255&e.total_in),iq(n,e.total_in>>8&255),iq(n,e.total_in>>16&255),iq(n,e.total_in>>24&255)):(rq(n,e.adler>>>16),rq(n,65535&e.adler)),tq(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?EU:TU)},vq=(e,t)=>{let n=t.length;if(fq(e))return LU;const i=e.state,r=i.wrap;if(2===r||1===r&&i.status!==ZU||i.lookahead)return LU;if(1===r&&(e.adler=bU(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&($U(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,sq(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=eq(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,sq(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,i.wrap=r,EU},xq={deflateInit:(e,t)=>bq(e,t,HU,15,8,UU),deflateInit2:bq,deflateReset:gq,deflateResetKeep:mq,deflateSetHeader:(e,t)=>fq(e)||2!==e.state.wrap?LU:(e.state.gzhead=t,EU),deflate:yq,deflateEnd:e=>{if(fq(e))return LU;const t=e.state.status;return e.state=null,t===YU?JU(e,MU):EU},deflateSetDictionary:vq,deflateInfo:"pako deflate (from Nodeca project)"};const wq=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var jq=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)wq(n,t)&&(e[t]=n[t])}}return e},Sq=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,a=e.length;i<a;i++){let t=e[i];n.set(t,r),r+=t.length}return n};let _q=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(f1){_q=!1}const kq=new Uint8Array(256);for(let n=0;n<256;n++)kq[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;kq[254]=kq[254]=1;var Cq=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,r,a,o=e.length,s=0;for(r=0;r<o;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<o&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<o&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},Aq=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,r;const a=new Array(2*n);for(r=0,i=0;i<n;){let t=e[i++];if(t<128){a[r++]=t;continue}let o=kq[t];if(o>4)a[r++]=65533,i+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&i<n;)t=t<<6|63&e[i++],o--;o>1?a[r++]=65533:t<65536?a[r++]=t:(t-=65536,a[r++]=55296|t>>10&1023,a[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&_q)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(a,r)},Nq=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+kq[e[n]]>t?n:t};var Oq=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Pq=Object.prototype.toString,{Z_NO_FLUSH:Iq,Z_SYNC_FLUSH:Eq,Z_FULL_FLUSH:Tq,Z_FINISH:Lq,Z_OK:Mq,Z_STREAM_END:Rq,Z_DEFAULT_COMPRESSION:Dq,Z_DEFAULT_STRATEGY:Fq,Z_DEFLATED:Bq}=wU;function zq(e){this.options=jq({level:Dq,method:Bq,chunkSize:16384,windowBits:15,memLevel:8,strategy:Fq},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oq,this.strm.avail_out=0;let n=xq.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Mq)throw new Error(xU[n]);if(t.header&&xq.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Cq(t.dictionary):"[object ArrayBuffer]"===Pq.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=xq.deflateSetDictionary(this.strm,e),n!==Mq)throw new Error(xU[n]);this._dict_set=!0}}function Wq(e,t){const n=new zq(t);if(n.push(e,!0),n.err)throw n.msg||xU[n.err];return n.result}zq.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Lq:Iq,"string"===typeof e?n.input=Cq(e):"[object ArrayBuffer]"===Pq.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(a===Eq||a===Tq)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=xq.deflate(n,a),r===Rq)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=xq.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Mq;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},zq.prototype.onData=function(e){this.chunks.push(e)},zq.prototype.onEnd=function(e){e===Mq&&(this.result=Sq(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Uq=function(e,t){return(t=t||{}).raw=!0,Wq(e,t)},qq=function(e,t){return(t=t||{}).gzip=!0,Wq(e,t)},Hq={Deflate:zq,deflate:Wq,deflateRaw:Uq,gzip:qq,constants:wU};const Vq=16209;var Gq=function(e,t){let n,i,r,a,o,s,l,c,d,u,h,p,f,m,g,b,y,v,x,w,j,S,_,k;const C=e.state;n=e.next_in,_=e.input,i=n+(e.avail_in-5),r=e.next_out,k=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),s=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,h=C.hold,p=C.bits,f=C.lencode,m=C.distcode,g=(1<<C.lenbits)-1,b=(1<<C.distbits)-1;e:do{p<15&&(h+=_[n++]<<p,p+=8,h+=_[n++]<<p,p+=8),y=f[h&g];t:for(;;){if(v=y>>>24,h>>>=v,p-=v,v=y>>>16&255,0===v)k[r++]=65535&y;else{if(!(16&v)){if(0===(64&v)){y=f[(65535&y)+(h&(1<<v)-1)];continue t}if(32&v){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Vq;break e}x=65535&y,v&=15,v&&(p<v&&(h+=_[n++]<<p,p+=8),x+=h&(1<<v)-1,h>>>=v,p-=v),p<15&&(h+=_[n++]<<p,p+=8,h+=_[n++]<<p,p+=8),y=m[h&b];n:for(;;){if(v=y>>>24,h>>>=v,p-=v,v=y>>>16&255,!(16&v)){if(0===(64&v)){y=m[(65535&y)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",C.mode=Vq;break e}if(w=65535&y,v&=15,p<v&&(h+=_[n++]<<p,p+=8,p<v&&(h+=_[n++]<<p,p+=8)),w+=h&(1<<v)-1,w>s){e.msg="invalid distance too far back",C.mode=Vq;break e}if(h>>>=v,p-=v,v=r-a,w>v){if(v=w-v,v>c&&C.sane){e.msg="invalid distance too far back",C.mode=Vq;break e}if(j=0,S=u,0===d){if(j+=l-v,v<x){x-=v;do{k[r++]=u[j++]}while(--v);j=r-w,S=k}}else if(d<v){if(j+=l+d-v,v-=d,v<x){x-=v;do{k[r++]=u[j++]}while(--v);if(j=0,d<x){v=d,x-=v;do{k[r++]=u[j++]}while(--v);j=r-w,S=k}}}else if(j+=d-v,v<x){x-=v;do{k[r++]=u[j++]}while(--v);j=r-w,S=k}for(;x>2;)k[r++]=S[j++],k[r++]=S[j++],k[r++]=S[j++],x-=3;x&&(k[r++]=S[j++],x>1&&(k[r++]=S[j++]))}else{j=r-w;do{k[r++]=k[j++],k[r++]=k[j++],k[r++]=k[j++],x-=3}while(x>2);x&&(k[r++]=k[j++],x>1&&(k[r++]=k[j++]))}break}}break}}while(n<i&&r<o);x=p>>3,n-=x,p-=x<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<o?o-r+257:257-(r-o),C.hold=h,C.bits=p};const Zq=15,Yq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Kq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Jq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var $q=(e,t,n,i,r,a,o,s)=>{const l=s.bits;let c,d,u,h,p,f,m=0,g=0,b=0,y=0,v=0,x=0,w=0,j=0,S=0,_=0,k=null;const C=new Uint16Array(16),A=new Uint16Array(16);let N,O,P,I=null;for(m=0;m<=Zq;m++)C[m]=0;for(g=0;g<i;g++)C[t[n+g]]++;for(v=l,y=Zq;y>=1&&0===C[y];y--);if(v>y&&(v=y),0===y)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(b=1;b<y&&0===C[b];b++);for(v<b&&(v=b),j=1,m=1;m<=Zq;m++)if(j<<=1,j-=C[m],j<0)return-1;if(j>0&&(0===e||1!==y))return-1;for(A[1]=0,m=1;m<Zq;m++)A[m+1]=A[m]+C[m];for(g=0;g<i;g++)0!==t[n+g]&&(o[A[t[n+g]]++]=g);if(0===e?(k=I=o,f=20):1===e?(k=Yq,I=Kq,f=257):(k=Jq,I=Xq,f=0),_=0,g=0,m=b,p=a,x=v,w=0,u=-1,S=1<<v,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){N=m-w,o[g]+1<f?(O=0,P=o[g]):o[g]>=f?(O=I[o[g]-f],P=k[o[g]-f]):(O=96,P=0),c=1<<m-w,d=1<<x,b=d;do{d-=c,r[p+(_>>w)+d]=N<<24|O<<16|P}while(0!==d);for(c=1<<m-1;_&c;)c>>=1;if(0!==c?(_&=c-1,_+=c):_=0,g++,0===--C[m]){if(m===y)break;m=t[n+o[g]]}if(m>v&&(_&h)!==u){for(0===w&&(w=v),p+=b,x=m-w,j=1<<x;x+w<y&&(j-=C[x+w],!(j<=0));)x++,j<<=1;if(S+=1<<x,1===e&&S>852||2===e&&S>592)return 1;u=_&h,r[u]=v<<24|x<<16|p-a}}return 0!==_&&(r[p+_]=m-w<<24|64<<16),s.bits=v,0};const{Z_FINISH:Qq,Z_BLOCK:eH,Z_TREES:tH,Z_OK:nH,Z_STREAM_END:iH,Z_NEED_DICT:rH,Z_STREAM_ERROR:aH,Z_DATA_ERROR:oH,Z_MEM_ERROR:sH,Z_BUF_ERROR:lH,Z_DEFLATED:cH}=wU,dH=16180,uH=16190,hH=16191,pH=16192,fH=16194,mH=16199,gH=16200,bH=16206,yH=16209,vH=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function xH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wH=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<dH||t.mode>16211?1:0},jH=e=>{if(wH(e))return aH;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=dH,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,nH},SH=e=>{if(wH(e))return aH;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jH(e)},_H=(e,t)=>{let n;if(wH(e))return aH;const i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?aH:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,SH(e))},kH=(e,t)=>{if(!e)return aH;const n=new xH;e.state=n,n.strm=e,n.window=null,n.mode=dH;const i=_H(e,t);return i!==nH&&(e.state=null),i};let CH,AH,NH=!0;const OH=e=>{if(NH){CH=new Int32Array(512),AH=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for($q(1,e.lens,0,288,CH,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;$q(2,e.lens,0,32,AH,0,e.work,{bits:5}),NH=!1}e.lencode=CH,e.lenbits=9,e.distcode=AH,e.distbits=5},PH=(e,t,n,i)=>{let r;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0};var IH=(e,t)=>{let n,i,r,a,o,s,l,c,d,u,h,p,f,m,g,b,y,v,x,w,j,S,_=0;const k=new Uint8Array(4);let C,A;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wH(e)||!e.output||!e.input&&0!==e.avail_in)return aH;n=e.state,n.mode===hH&&(n.mode=pH),o=e.next_out,r=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,c=n.hold,d=n.bits,u=s,h=l,S=nH;e:for(;;)switch(n.mode){case dH:if(0===n.wrap){n.mode=pH;break}for(;d<16;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,k[0]=255&c,k[1]=c>>>8&255,n.check=vU(n.check,k,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=yH;break}if((15&c)!==cH){e.msg="unknown compression method",n.mode=yH;break}if(c>>>=4,d-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=yH;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:hH,c=0,d=0;break;case 16181:for(;d<16;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==cH){e.msg="unknown compression method",n.mode=yH;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=yH;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=vU(n.check,k,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=vU(n.check,k,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=vU(n.check,k,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=vU(n.check,k,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+p),j)),512&n.flags&&4&n.wrap&&(n.check=vU(n.check,i,p,a)),s-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;p=0;do{j=i[a+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=vU(n.check,i,p,a)),s-=p,a+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;p=0;do{j=i[a+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=vU(n.check,i,p,a)),s-=p,a+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=yH;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=hH;break;case 16189:for(;d<32;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}e.adler=n.check=vH(c),c=0,d=0,n.mode=uH;case uH:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,rH;e.adler=n.check=1,n.mode=hH;case hH:if(t===eH||t===tH)break e;case pH:if(n.last){c>>>=7&d,d-=7&d,n.mode=bH;break}for(;d<3;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(OH(n),n.mode=mH,t===tH){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=yH}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yH;break}if(n.length=65535&c,c=0,d=0,n.mode=fH,t===tH)break e;case fH:n.mode=16195;case 16195:if(p=n.length,p){if(p>s&&(p=s),p>l&&(p=l),0===p)break e;r.set(i.subarray(a,a+p),o),s-=p,a+=p,l-=p,o+=p,n.length-=p;break}n.mode=hH;break;case 16196:for(;d<14;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yH;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}n.lens[N[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},S=$q(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid code lengths set",n.mode=yH;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],g=_>>>24,b=_>>>16&255,y=65535&_,!(g<=d);){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(y<16)c>>>=g,d-=g,n.lens[n.have++]=y;else{if(16===y){for(A=g+2;d<A;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=yH;break}j=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===y){for(A=g+3;d<A;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}c>>>=g,d-=g,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(A=g+7;d<A;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}c>>>=g,d-=g,j=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yH;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===yH)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=yH;break}if(n.lenbits=9,C={bits:n.lenbits},S=$q(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid literal/lengths set",n.mode=yH;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},S=$q(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,S){e.msg="invalid distances set",n.mode=yH;break}if(n.mode=mH,t===tH)break e;case mH:n.mode=gH;case gH:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,Gq(e,h),o=e.next_out,r=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,c=n.hold,d=n.bits,n.mode===hH&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],g=_>>>24,b=_>>>16&255,y=65535&_,!(g<=d);){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(b&&0===(240&b)){for(v=g,x=b,w=y;_=n.lencode[w+((c&(1<<v+x)-1)>>v)],g=_>>>24,b=_>>>16&255,y=65535&_,!(v+g<=d);){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}c>>>=v,d-=v,n.back+=v}if(c>>>=g,d-=g,n.back+=g,n.length=y,0===b){n.mode=16205;break}if(32&b){n.back=-1,n.mode=hH;break}if(64&b){e.msg="invalid literal/length code",n.mode=yH;break}n.extra=15&b,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;d<A;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;_=n.distcode[c&(1<<n.distbits)-1],g=_>>>24,b=_>>>16&255,y=65535&_,!(g<=d);){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(0===(240&b)){for(v=g,x=b,w=y;_=n.distcode[w+((c&(1<<v+x)-1)>>v)],g=_>>>24,b=_>>>16&255,y=65535&_,!(v+g<=d);){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}c>>>=v,d-=v,n.back+=v}if(c>>>=g,d-=g,n.back+=g,64&b){e.msg="invalid distance code",n.mode=yH;break}n.offset=y,n.extra=15&b,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;d<A;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yH;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yH;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=r,f=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{r[o++]=m[f++]}while(--p);0===n.length&&(n.mode=gH);break;case 16205:if(0===l)break e;r[o++]=n.length,l--,n.mode=gH;break;case bH:if(n.wrap){for(;d<32;){if(0===s)break e;s--,c|=i[a++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?vU(n.check,r,h,o-h):bU(n.check,r,h,o-h)),h=l,4&n.wrap&&(n.flags?c:vH(c))!==n.check){e.msg="incorrect data check",n.mode=yH;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===s)break e;s--,c+=i[a++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=yH;break}c=0,d=0}n.mode=16208;case 16208:S=iH;break e;case yH:S=oH;break e;case 16210:return sH;default:return aH}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<yH&&(n.mode<bH||t!==Qq))&&PH(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?vU(n.check,r,h,e.next_out-h):bU(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===hH?128:0)+(n.mode===mH||n.mode===fH?256:0),(0===u&&0===h||t===Qq)&&S===nH&&(S=lH),S},EH={inflateReset:SH,inflateReset2:_H,inflateResetKeep:jH,inflateInit:e=>kH(e,15),inflateInit2:kH,inflate:IH,inflateEnd:e=>{if(wH(e))return aH;let t=e.state;return t.window&&(t.window=null),e.state=null,nH},inflateGetHeader:(e,t)=>{if(wH(e))return aH;const n=e.state;return 0===(2&n.wrap)?aH:(n.head=t,t.done=!1,nH)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,r,a;return wH(e)?aH:(i=e.state,0!==i.wrap&&i.mode!==uH?aH:i.mode===uH&&(r=1,r=bU(r,t,n,0),r!==i.check)?oH:(a=PH(e,t,n,n),a?(i.mode=16210,sH):(i.havedict=1,nH)))},inflateInfo:"pako inflate (from Nodeca project)"};var TH=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const LH=Object.prototype.toString,{Z_NO_FLUSH:MH,Z_FINISH:RH,Z_OK:DH,Z_STREAM_END:FH,Z_NEED_DICT:BH,Z_STREAM_ERROR:zH,Z_DATA_ERROR:WH,Z_MEM_ERROR:UH}=wU;function qH(e){this.options=jq({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Oq,this.strm.avail_out=0;let n=EH.inflateInit2(this.strm,t.windowBits);if(n!==DH)throw new Error(xU[n]);if(this.header=new TH,EH.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Cq(t.dictionary):"[object ArrayBuffer]"===LH.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=EH.inflateSetDictionary(this.strm,t.dictionary),n!==DH)))throw new Error(xU[n])}function HH(e,t){const n=new qH(t);if(n.push(e),n.err)throw n.msg||xU[n.err];return n.result}qH.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=t===~~t?t:!0===t?RH:MH,"[object ArrayBuffer]"===LH.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=EH.inflate(n,o),a===BH&&r&&(a=EH.inflateSetDictionary(n,r),a===DH?a=EH.inflate(n,o):a===WH&&(a=BH));n.avail_in>0&&a===FH&&n.state.wrap>0&&0!==e[n.next_in];)EH.inflateReset(n),a=EH.inflate(n,o);switch(a){case zH:case WH:case BH:case UH:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||a===FH))if("string"===this.options.to){let e=Nq(n.output,n.next_out),t=n.next_out-e,r=Aq(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==DH||0!==s){if(a===FH)return a=EH.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},qH.prototype.onData=function(e){this.chunks.push(e)},qH.prototype.onEnd=function(e){e===DH&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Sq(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var VH=function(e,t){return(t=t||{}).raw=!0,HH(e,t)},GH={Inflate:qH,inflate:HH,inflateRaw:VH,ungzip:HH,constants:wU};const{Deflate:ZH,deflate:YH,deflateRaw:KH,gzip:JH}=Hq,{Inflate:XH,inflate:$H,inflateRaw:QH,ungzip:eV}=GH;var tV=XH,nV=$H;const iV=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;iV[n]=e}const rV=4294967295;function aV(e,t){return(function(e,t,n){let i=e;for(let r=0;r<n;r++)i=iV[255&(i^t[r])]^i>>>8;return i}(rV,e,t)^rV)>>>0}function oV(e,t,n){const i=e.readUint32(),r=aV(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(r!==i)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(i,", found ").concat(r))}function sV(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function lV(e,t,n,i){let r=0;for(;r<i;r++)t[r]=e[r];for(;r<n;r++)t[r]=e[r]+t[r-i]&255}function cV(e,t,n,i){let r=0;if(0===n.length)for(;r<i;r++)t[r]=e[r];else for(;r<i;r++)t[r]=e[r]+n[r]&255}function dV(e,t,n,i,r){let a=0;if(0===n.length){for(;a<r;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+(t[a-r]>>1)&255}else{for(;a<r;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<i;a++)t[a]=e[a]+(t[a-r]+n[a]>>1)&255}}function uV(e,t,n,i,r){let a=0;if(0===n.length){for(;a<r;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+t[a-r]&255}else{for(;a<r;a++)t[a]=e[a]+n[a]&255;for(;a<i;a++)t[a]=e[a]+hV(t[a-r],n[a],n[a-r])&255}}function hV(e,t,n){const i=e+t-n,r=Math.abs(i-e),a=Math.abs(i-t),o=Math.abs(i-n);return r<=a&&r<=o?e:a<=o?t:n}function pV(e,t,n,i,r,a){switch(e){case 0:sV(t,n,r);break;case 1:lV(t,n,r,a);break;case 2:cV(t,n,i,r);break;case 3:dV(t,n,i,r,a);break;case 4:uV(t,n,i,r,a);break;default:throw new Error("Unsupported filter: ".concat(e))}}const fV=new Uint16Array([255]),mV=255===new Uint8Array(fV.buffer)[0];function gV(e){return(255&e)<<8|e>>8&255}const bV=new Uint16Array([255]),yV=255===new Uint8Array(bV.buffer)[0],vV=new Uint8Array(0);function xV(e){const{data:t,width:n,height:i,channels:r,depth:a}=e,o=Math.ceil(a/8)*r,s=Math.ceil(a/8*r*n),l=new Uint8Array(i*s);let c,d,u=vV,h=0;for(let p=0;p<i;p++){switch(c=t.subarray(h+1,h+1+s),d=l.subarray(p*s,(p+1)*s),t[h]){case 0:sV(c,d,s);break;case 1:lV(c,d,s,o);break;case 2:cV(c,d,u,s);break;case 3:dV(c,d,u,s,o);break;case 4:uV(c,d,u,s,o);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=d,h+=s+1}if(16===a){const e=new Uint16Array(l.buffer);if(yV)for(let t=0;t<e.length;t++)e[t]=wV(e[t]);return e}return l}function wV(e){return(255&e)<<8|e>>8&255}const jV=Uint8Array.of(137,80,78,71,13,10,26,10);function SV(e){if(!function(e){if(e.length<jV.length)return!1;for(let t=0;t<jV.length;t++)if(e[t]!==jV[t])return!1;return!0}(e.readBytes(jV.length)))throw new Error("wrong PNG signature")}const _V="tEXt",kV=new TextDecoder("latin1");function CV(e){if(NV(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const AV=/^[\u0000-\u00FF]*$/;function NV(e){if(!AV.test(e))throw new Error("invalid latin1 text")}function OV(e,t,n){const i=PV(t);e[i]=function(e,t){return kV.decode(e.readBytes(t))}(t,n-i.length-1)}function PV(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=kV.decode(e.readBytes(t-e.offset-1));return e.skip(1),CV(n),n}const IV=-1,EV=0,TV=2,LV=3,MV=4,RV=6,DV=-1,FV=0,BV=-1,zV=0,WV=-1,UV=0,qV=1,HV=0,VV=1,GV=2,ZV=0,YV=1;class KV extends OW{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,xe.A)(this,"_checkCrc",void 0),(0,xe.A)(this,"_inflator",void 0),(0,xe.A)(this,"_png",void 0),(0,xe.A)(this,"_apng",void 0),(0,xe.A)(this,"_end",void 0),(0,xe.A)(this,"_hasPalette",void 0),(0,xe.A)(this,"_palette",void 0),(0,xe.A)(this,"_hasTransparency",void 0),(0,xe.A)(this,"_transparency",void 0),(0,xe.A)(this,"_compressionMethod",void 0),(0,xe.A)(this,"_filterMethod",void 0),(0,xe.A)(this,"_interlaceMethod",void 0),(0,xe.A)(this,"_colorType",void 0),(0,xe.A)(this,"_isAnimated",void 0),(0,xe.A)(this,"_numberOfFrames",void 0),(0,xe.A)(this,"_numberOfPlays",void 0),(0,xe.A)(this,"_frames",void 0),(0,xe.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new tV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=DV,this._filterMethod=BV,this._interlaceMethod=WV,this._colorType=IV,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(SV(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(SV(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case _V:OV(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?oV(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?oV(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case EV:n=1;break;case TV:n=3;break;case LV:n=1;break;case MV:n=2;break;case RV:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==FV)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case EV:case TV:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case LV:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=PV(this),n=this.readUint8();if(n!==FV)throw new Error("Unsupported iCCP compression method: ".concat(n));const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:nV(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=xV({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case HV:break;case VV:for(let t=0;t<this._png.height;t++)for(let i=0;i<this._png.width;i++){const r=(t*e.width+i)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[r+e]=0}break;case GV:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case ZV:for(let n=0;n<t.height;n++)for(let r=0;r<t.width;r++){const{index:a,frameIndex:o}=i(n,r);for(let n=0;n<this._png.channels;n++)e.data[a+n]=t.data[o+n]}break;case YV:for(let r=0;r<t.height;r++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:s}=i(r,a);for(let i=0;i<this._png.channels;i++){const r=t.data[s+this._png.channels-1]/n,a=i%(this._png.channels-1)===0?1:t.data[s+i],l=Math.floor(r*a+(1-r)*e.data[o+i]);e.data[o+i]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==zV)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===UV)this._png.data=xV({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==qV)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:i,channels:r,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*r,l=new Uint8Array(i*n*s);let c=0;for(let d=0;d<7;d++){const e=o[d],r=Math.ceil((n-e.x)/e.xStep),a=Math.ceil((i-e.y)/e.yStep);if(r<=0||a<=0)continue;const u=r*s,h=new Uint8Array(u);for(let o=0;o<a;o++){const a=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);pV(a,d,p,h,u,s),h.set(p);for(let t=0;t<r;t++){const r=e.x+t*e.xStep,a=e.y+o*e.yStep;if(!(r>=n||a>=i))for(let e=0;e<s;e++)l[(a*n+r)*s+e]=p[t*s+e]}}}if(16===a){const e=new Uint16Array(l.buffer);if(mV)for(let t=0;t<e.length;t++)e[t]=gV(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:HV,blendOp:ZV,data:e}),this._inflator=new tV,this._writingDataChunks=!1}}var JV;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(JV||(JV={}));var XV=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function $V(){XV.console&&"function"==typeof XV.console.log&&XV.console.log.apply(XV.console,arguments)}var QV={log:$V,warn:function(e){XV.console&&("function"==typeof XV.console.warn?XV.console.warn.apply(XV.console,arguments):$V.call(null,arguments))},error:function(e){XV.console&&("function"==typeof XV.console.error?XV.console.error.apply(XV.console,arguments):$V(e))}};function eG(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){iG(i.response,t,n)},i.onerror=function(){QV.error("could not download file")},i.send()}function tG(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function nG(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var iG=XV.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,rN.A)(window))||window!==XV?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=XV.URL||XV.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin!==location.origin?tG(r.href)?eG(e,t,n):nG(r,r.target="_blank"):nG(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){nG(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(tG(e))eG(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){nG(i)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,rN.A)(t)&&(QV.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return eG(e,t,n);var r="application/octet-stream"===e.type,a=/constructor/i.test(XV.HTMLElement)||XV.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&"object"===("undefined"==typeof FileReader?"undefined":(0,rN.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},s.readAsDataURL(e)}else{var l=XV.URL||XV.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function rG(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,o=r.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var aG=XV.atob.bind(XV),oG=XV.btoa.bind(XV);function sG(e,t){var n=e[0],i=e[1],r=e[2],a=e[3];n=cG(n,i,r,a,t[0],7,-680876936),a=cG(a,n,i,r,t[1],12,-389564586),r=cG(r,a,n,i,t[2],17,606105819),i=cG(i,r,a,n,t[3],22,-1044525330),n=cG(n,i,r,a,t[4],7,-176418897),a=cG(a,n,i,r,t[5],12,1200080426),r=cG(r,a,n,i,t[6],17,-1473231341),i=cG(i,r,a,n,t[7],22,-45705983),n=cG(n,i,r,a,t[8],7,1770035416),a=cG(a,n,i,r,t[9],12,-1958414417),r=cG(r,a,n,i,t[10],17,-42063),i=cG(i,r,a,n,t[11],22,-1990404162),n=cG(n,i,r,a,t[12],7,1804603682),a=cG(a,n,i,r,t[13],12,-40341101),r=cG(r,a,n,i,t[14],17,-1502002290),n=dG(n,i=cG(i,r,a,n,t[15],22,1236535329),r,a,t[1],5,-165796510),a=dG(a,n,i,r,t[6],9,-1069501632),r=dG(r,a,n,i,t[11],14,643717713),i=dG(i,r,a,n,t[0],20,-373897302),n=dG(n,i,r,a,t[5],5,-701558691),a=dG(a,n,i,r,t[10],9,38016083),r=dG(r,a,n,i,t[15],14,-660478335),i=dG(i,r,a,n,t[4],20,-405537848),n=dG(n,i,r,a,t[9],5,568446438),a=dG(a,n,i,r,t[14],9,-1019803690),r=dG(r,a,n,i,t[3],14,-187363961),i=dG(i,r,a,n,t[8],20,1163531501),n=dG(n,i,r,a,t[13],5,-1444681467),a=dG(a,n,i,r,t[2],9,-51403784),r=dG(r,a,n,i,t[7],14,1735328473),n=uG(n,i=dG(i,r,a,n,t[12],20,-1926607734),r,a,t[5],4,-378558),a=uG(a,n,i,r,t[8],11,-2022574463),r=uG(r,a,n,i,t[11],16,1839030562),i=uG(i,r,a,n,t[14],23,-35309556),n=uG(n,i,r,a,t[1],4,-1530992060),a=uG(a,n,i,r,t[4],11,1272893353),r=uG(r,a,n,i,t[7],16,-155497632),i=uG(i,r,a,n,t[10],23,-1094730640),n=uG(n,i,r,a,t[13],4,681279174),a=uG(a,n,i,r,t[0],11,-358537222),r=uG(r,a,n,i,t[3],16,-722521979),i=uG(i,r,a,n,t[6],23,76029189),n=uG(n,i,r,a,t[9],4,-640364487),a=uG(a,n,i,r,t[12],11,-421815835),r=uG(r,a,n,i,t[15],16,530742520),n=hG(n,i=uG(i,r,a,n,t[2],23,-995338651),r,a,t[0],6,-198630844),a=hG(a,n,i,r,t[7],10,1126891415),r=hG(r,a,n,i,t[14],15,-1416354905),i=hG(i,r,a,n,t[5],21,-57434055),n=hG(n,i,r,a,t[12],6,1700485571),a=hG(a,n,i,r,t[3],10,-1894986606),r=hG(r,a,n,i,t[10],15,-1051523),i=hG(i,r,a,n,t[1],21,-2054922799),n=hG(n,i,r,a,t[8],6,1873313359),a=hG(a,n,i,r,t[15],10,-30611744),r=hG(r,a,n,i,t[6],15,-1560198380),i=hG(i,r,a,n,t[13],21,1309151649),n=hG(n,i,r,a,t[4],6,-145523070),a=hG(a,n,i,r,t[11],10,-1120210379),r=hG(r,a,n,i,t[2],15,718787259),i=hG(i,r,a,n,t[9],21,-343485551),e[0]=xG(n,e[0]),e[1]=xG(i,e[1]),e[2]=xG(r,e[2]),e[3]=xG(a,e[3])}function lG(e,t,n,i,r,a){return t=xG(xG(t,e),xG(i,a)),xG(t<<r|t>>>32-r,n)}function cG(e,t,n,i,r,a,o){return lG(t&n|~t&i,e,t,r,a,o)}function dG(e,t,n,i,r,a,o){return lG(t&i|n&~i,e,t,r,a,o)}function uG(e,t,n,i,r,a,o){return lG(t^n^i,e,t,r,a,o)}function hG(e,t,n,i,r,a,o){return lG(n^(t|~i),e,t,r,a,o)}function pG(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)sG(i,fG(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(sG(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,sG(i,r),i}function fG(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var mG="0123456789abcdef".split("");function gG(e){for(var t="",n=0;n<4;n++)t+=mG[e>>8*n+4&15]+mG[e>>8*n&15];return t}function bG(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function yG(e){return pG(e).map(bG).join("")}var vG="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=gG(e[t]);return e.join("")}(pG("hello"));function xG(e,t){if(vG){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function wG(e,t){var n,i,r,a;if(e!==n){for(var o=(r=e,a=1+(256/e.length|0),new Array(a+1).join(r)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var d=s[l];c=(c+d+o.charCodeAt(l))%256,s[l]=s[c],s[c]=d}n=e,i=s}else s=i;var u=t.length,h=0,p=0,f="";for(l=0;l<u;l++)p=(p+(d=s[h=(h+1)%256]))%256,s[h]=s[p],s[p]=d,o=s[(s[h]+s[p])%256],f+=String.fromCharCode(t.charCodeAt(l)^o);return f}var jG={print:4,modify:8,copy:16,"annot-forms":32};function SG(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(e){if(void 0!==jG.perm)throw new Error("Invalid permission: "+e);r+=jG[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^r)),this.encryptionKey=yG(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=wG(this.encryptionKey,this.padding)}function _G(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):e[i]}return t}function kG(e){if("object"!==(0,rN.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[n,!!i],r},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,i)}catch(Ki){XV.console&&QV.error("jsPDF PubSub Error",Ki.message,Ki)}o[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function CG(e){if(!(this instanceof CG))return new CG(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function AG(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function NG(e,t,n,i,r){if(!(this instanceof NG))return new NG(e,t,n,i,r);this.type="axial"===e?2:3,this.coords=t,this.colors=n,AG.call(this,i,r)}function OG(e,t,n,i,r){if(!(this instanceof OG))return new OG(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,AG.call(this,i,r)}function PG(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],o=[],s=1,l=16,c="S",d=null;"object"===(0,rN.A)(e=e||{})&&(n=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===a?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=kG;var f="1.3",m=p.__private__.getPdfVersion=function(){return f};p.__private__.setPdfVersion=function(e){f=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var b=p.__private__.getPageFormat=function(e){return g[e]};r=r||"a4";var y="compat",v="advanced",x=y;function w(){this.saveGraphicsState(),X(new Ie(he,0,0,-he,0,pn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",x=v}function j(){this.restoreGraphicsState(),c="S",x=y}var S=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=x===y;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.compatAPI=function(e){var t=x===v;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},p.isAdvancedAPI=function(){return x===v};var _,k=function(e){if(x!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var i=t||n;if(isNaN(e)||isNaN(i))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(i).replace(/0+$/,"")};_=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var A=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},N=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},O=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return x===y?e*he:x===v?e:void 0},P=function(e){return O(function(e){return x===y?pn()-e:x===v?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,E="00000000000000000000000000000000",T=p.__private__.getFileId=function(){return E},L=p.__private__.setFileId=function(e){return E=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():E.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(yt=new SG(d.userPermissions,d.userPassword,d.ownerPassword,E)),E};p.setFileId=function(e){return L(e),this},p.getFileId=function(){return T()};var M=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),r=Math.abs(t%60),a=[n,z(i),"'",z(r),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),a].join("")},R=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),r=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,i,r,a,o,0)},D=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=M(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},F=p.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=R(I)),t};p.setCreationDate=function(e){return D(e),this},p.getCreationDate=function(e){return F(e)};var B,z=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},W=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},U=0,q=[],H=[],V=0,G=[],Z=[],Y=!1,K=H;p.__private__.setCustomOutputDestination=function(e){Y=!0,K=e};var J=function(e){Y||(K=e)};p.__private__.resetCustomOutputDestination=function(){Y=!1,K=H};var X=p.__private__.out=function(e){return e=e.toString(),V+=e.length+1,K.push(e),K},$=p.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Q=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return te=x===v?e/he:e,this};var ne,ie=p.__private__.getFontSize=p.getFontSize=function(){return x===y?te:te*he},re=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return re=e,this},p.__private__.getR2L=p.getR2L=function(){return re};var ae,oe=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};p.__private__.getZoomMode=function(){return ne};var se,le=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};p.__private__.getPageMode=function(){return ae};var ce=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');se=e};p.__private__.getLayoutMode=function(){return se},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return oe(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,pe,fe,me,ge={},be={},ye=[],ve={},xe={},we={},je={},Se=null,_e=0,ke=[],Ce=new kG(p),Ae=e.hotfixes||[],Ne={},Oe={},Pe=[],Ie=function e(t,n,i,r,a,o){if(!(this instanceof e))return new e(t,n,i,r,a,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(i)&&(i=0),isNaN(r)&&(r=1),isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._matrix=[t,n,i,r,a,o]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,i=e.shx*this.sx+e.sy*this.shx,r=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,i,r,a,o)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,r=this.tx,a=this.ty,o=Math.sqrt(e*e+t*t),s=(e/=o)*n+(t/=o)*i;n-=e*s,i-=t*s;var l=Math.sqrt(n*n+i*i);return s/=l,e*(i/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,o=-o),{scale:new Ie(o,0,0,l,0,0),translate:new Ie(1,0,0,1,r,a),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,s,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,r=this.tx,a=this.ty,o=1/(e*i-t*n),s=i*o,l=-t*o,c=-n*o,d=e*o;return new Ie(s,l,c,d,-s*r-c*a,-l*r-d*a)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,r=this.tx,a=this.ty;return new Ie(e,t,n,i,r,a)},p.Matrix=Ie;var Ee=p.matrixMult=function(e,t){return t.multiply(e)},Te=new Ie(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Te;var Le=function(e,t){if(!xe[e]){var n=(t instanceof NG?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=n,xe[e]=n,ve[n]=t,Ce.publish("addPattern",t)}};p.ShadingPattern=NG,p.TilingPattern=OG,p.addShadingPattern=function(e,t){return k("addShadingPattern()"),Le(e,t),this},p.beginTilingPattern=function(e){k("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){k("endTilingPattern()"),t.stream=Z[B].join("\n"),Le(e,t),Ce.publish("endTilingPattern",t),Pe.pop().restore()};var Me,Re=p.__private__.newObject=function(){var e=De();return Fe(e,!0),e},De=p.__private__.newObjectDeferred=function(){return U++,q[U]=function(){return V},U},Fe=function(e,t){return t="boolean"==typeof t&&t,q[e]=V,t&&X(e+" 0 obj"),e},Be=p.__private__.newAdditionalObject=function(){var e={objId:De(),content:""};return G.push(e),e},ze=De(),We=De(),Ue=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var i="#",r=0;r<3;r++)i+=("0"+Math.floor(255*parseFloat(t[r])).toString(16)).slice(-2);return i},qe=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,i=e.ch2,r=e.ch3,a=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new rG(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,i=l>>8&255,r=255&l}if(void 0===i||void 0===a&&n===i&&i===r)t="string"==typeof n?n+" "+o[0]:2===e.precision?A(n/255)+" "+o[0]:N(n/255)+" "+o[0];else if(void 0===a||"object"===(0,rN.A)(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",o[1]].join(" ");t="string"==typeof n?[n,i,r,o[1]].join(" "):2===e.precision?[A(n/255),A(i/255),A(r/255),o[1]].join(" "):[N(n/255),N(i/255),N(r/255),o[1]].join(" ")}else t="string"==typeof n?[n,i,r,a,o[2]].join(" "):2===e.precision?[A(n),A(i),A(r),A(a),o[2]].join(" "):[N(n),N(i),N(r),N(a),o[2]].join(" ");return t},He=p.__private__.getFilters=function(){return o},Ve=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||He(),i=e.alreadyAppliedFilters||[],r=e.addLength1||!1,a=t.length,o=e.objectId,s=function(e){return e};if(null!==d&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(s=yt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==PG.API.processDataByFilters?PG.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===r&&c.push({key:"Length1",value:a})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}X("<<");for(var m=0;m<c.length;m++)X("/"+c[m].key+" "+c[m].value);X(">>"),0!==l.data.length&&(X("stream"),X(s(l.data)),X("endstream"))},Ge=p.__private__.putPage=function(e){var t=e.number,n=e.data,i=e.objId,r=e.contentsObjId;Fe(i,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(_(e.mediaBox.bottomLeftX))+" "+parseFloat(_(e.mediaBox.bottomLeftY))+" "+_(e.mediaBox.topRightX)+" "+_(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+_(e.cropBox.bottomLeftX)+" "+_(e.cropBox.bottomLeftY)+" "+_(e.cropBox.topRightX)+" "+_(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+_(e.bleedBox.bottomLeftX)+" "+_(e.bleedBox.bottomLeftY)+" "+_(e.bleedBox.topRightX)+" "+_(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+_(e.trimBox.bottomLeftX)+" "+_(e.trimBox.bottomLeftY)+" "+_(e.trimBox.topRightX)+" "+_(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+_(e.artBox.bottomLeftX)+" "+_(e.artBox.bottomLeftY)+" "+_(e.artBox.topRightX)+" "+_(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:i,pageContext:ke[t],pageNumber:t,page:n}),X("/Contents "+r+" 0 R"),X(">>"),X("endobj");var a=n.join("\n");return x===v&&(a+="\nQ"),Fe(r,!0),Ve({data:a,filters:He(),objectId:r}),X("endobj"),i},Ze=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=_e;e++)ke[e].objId=De(),ke[e].contentsObjId=De();for(e=1;e<=_e;e++)n.push(Ge({number:e,data:Z[e],objId:ke[e].objId,contentsObjId:ke[e].contentsObjId,mediaBox:ke[e].mediaBox,cropBox:ke[e].cropBox,bleedBox:ke[e].bleedBox,trimBox:ke[e].trimBox,artBox:ke[e].artBox,userUnit:ke[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:We}));Fe(ze,!0),X("<</Type /Pages");var i="/Kids [";for(t=0;t<_e;t++)i+=n[t]+" 0 R ";X(i+"]"),X("/Count "+_e),X(">>"),X("endobj"),Ce.publish("postPutPages")},Ye=function(e){Ce.publish("putFont",{font:e,out:X,newObject:Re,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Re(),X("<<"),X("/Type /Font"),X("/BaseFont /"+_G(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ke=function(e){e.objectNumber=Re();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[_(e.x),_(e.y),_(e.x+e.width),_(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=Re(),i=function(e,t){var n,i=[],r=1/(t-1);for(n=0;n<1;n+=r)i.push(n);if(i.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var s="",l=0,c=0;c<i.length;c++){for(n=i[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;s+=W(Math.round((1-u)*h[0]+u*p[0]).toString(16))+W(Math.round((1-u)*h[1]+u*p[1]).toString(16))+W(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return s.trim()}(e.colors,t),r=[];r.push({key:"FunctionType",value:"0"}),r.push({key:"Domain",value:"[0.0 1.0]"}),r.push({key:"Size",value:"["+t+"]"}),r.push({key:"BitsPerSample",value:"8"}),r.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),r.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:i,additionalKeyValues:r,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Re(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var a="/Coords ["+_(parseFloat(e.coords[0]))+" "+_(parseFloat(e.coords[1]))+" ";2===e.type?a+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3])):a+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3]))+" "+_(parseFloat(e.coords[4]))+" "+_(parseFloat(e.coords[5])),X(a+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=De(),i=Re();t.push({resourcesOid:n,objectOid:i}),e.objectNumber=i;var r=[];r.push({key:"Type",value:"/Pattern"}),r.push({key:"PatternType",value:"1"}),r.push({key:"PaintType",value:"1"}),r.push({key:"TilingType",value:"1"}),r.push({key:"BBox",value:"["+e.boundingBox.map(_).join(" ")+"]"}),r.push({key:"XStep",value:_(e.xStep)}),r.push({key:"YStep",value:_(e.yStep)}),r.push({key:"Resources",value:n+" 0 R"}),e.matrix&&r.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:r,objectId:e.objectNumber}),X("endobj")},$e=function(e){for(var t in e.objectNumber=Re(),X("<<"),e)switch(t){case"opacity":X("/ca "+A(e[t]));break;case"stroke-opacity":X("/CA "+A(e[t]))}X(">>"),X("endobj")},Qe=function(e){Fe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+ge[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in X("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof NG&&ve[e].objectNumber>=0&&X("/"+e+" "+ve[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in X("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof p.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&X("/"+t+" "+ve[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ne)Ne.hasOwnProperty(e)&&Ne[e].objectNumber>=0&&X("/"+e+" "+Ne[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){be[e.fontName]=be[e.fontName]||{},be[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,i,r){var a={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:i,isStandardFont:r||!1,metadata:{}};return Ce.publish("addFont",{font:a,instance:this}),ge[a.id]=a,et(a),a.id},nt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,i,r,a,o,s,l,c,d;if(r=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[ue].metadata&&ge[ue].metadata[r]&&ge[ue].metadata[r].encoding&&(a=ge[ue].metadata[r].encoding,!o&&ge[ue].encoding&&(o=ge[ue].encoding),!o&&a.codePages&&(o=a.codePages[0]),"string"==typeof o&&(o=a[o]),o)){for(l=!1,s=[],n=0,i=e.length;n<i;n++)(c=o[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,i=e.length;n<i;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(d),s.push(c-(d<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=p.__private__.beginPage=function(e){Z[++_e]=[],ke[_e]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(_e),J(Z[B])},rt=function(e,t){var i,a,o;switch(n=t||n,"string"==typeof e&&(i=b(e.toLowerCase()),Array.isArray(i)&&(a=i[0],o=i[1])),Array.isArray(e)&&(a=e[0]*he,o=e[1]*he),isNaN(a)&&(a=r[0],o=r[1]),(a>14400||o>14400)&&(QV.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),o=Math.min(14400,o)),r=[a,o],n.substr(0,1)){case"l":o>a&&(r=[o,a]);break;case"p":a>o&&(r=[o,a])}it(r),Ft(Rt),X(Gt),0!==$t&&X($t+" J"),0!==Qt&&X(Qt+" j"),Ce.publish("addPage",{pageNumber:_e})},at=function(e){e>0&&e<=_e&&(Z.splice(e,1),ke.splice(e,1),_e--,B>_e&&(B=_e),this.setPage(B))},ot=function(e){e>0&&e<=_e&&(B=e)},st=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Z.length-1},lt=function(e,t,n){var i,r=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,i=e.toLowerCase(),void 0!==be[i]&&void 0!==be[i][t]?r=be[i][t]:void 0!==be[e]&&void 0!==be[e][t]?r=be[e][t]:!1===n.disableWarning&&QV.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),r||n.noFallback||null==(r=be.times[t])&&(r=be.times.normal),r},ct=p.__private__.putInfo=function(){var e=Re(),t=function(e){return e};for(var n in null!==d&&(t=yt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+PG.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(de[n]))+")");X("/CreationDate ("+nt(t(I))+")"),X(">>"),X("endobj")},dt=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(Re(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+A(ne)+"]")}switch(se||(se="continuous"),se){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ae&&X("/PageMode /"+ae),Ce.publish("putCatalog"),X(">>"),X("endobj")},ut=p.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(U+1)),X("/Root "+U+" 0 R"),X("/Info "+(U-1)+" 0 R"),null!==d&&X("/Encrypt "+yt.oid+" 0 R"),X("/ID [ <"+E+"> <"+E+"> ]"),X(">>")},ht=p.__private__.putHeader=function(){X("%PDF-"+f),X("%\xba\xdf\xac\xe0")},pt=p.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(U+1)),X("0000000000 65535 f ");for(var t=1;t<=U;t++)"function"==typeof q[t]?X((e+q[t]()).slice(-10)+" 00000 n "):void 0!==q[t]?X((e+q[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},ft=p.__private__.buildDocument=function(){var e;U=0,V=0,H=[],q=[],G=[],ze=De(),We=De(),J(H),Ce.publish("buildDocument"),ht(),Ze(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];Fe(t.objId,!0),X(t.content),X("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Ye(ge[e])}(),function(){var e;for(e in we)we.hasOwnProperty(e)&&$e(we[e])}(),function(){for(var e in Ne)Ne.hasOwnProperty(e)&&Ke(Ne[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof NG?Je(ve[t]):ve[t]instanceof OG&&Xe(ve[t],e))}(e),Ce.publish("putResources"),e.forEach(Qe),Qe({resourcesOid:We,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==d&&(yt.oid=Re(),X("<<"),X("/Filter /Standard"),X("/V "+yt.v),X("/R "+yt.r),X("/U <"+yt.toHexString(yt.U)+">"),X("/O <"+yt.toHexString(yt.O)+">"),X("/P "+yt.P),X(">>"),X("endobj")),ct(),dt();var t=V;return pt(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(Z[B]),H.join("\n")},mt=p.__private__.getBlob=function(e){return new Blob([Q(e)],{type:"application/pdf"})},gt=p.output=p.__private__.output=(Me=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":p.save(t.filename);break;case"arraybuffer":return Q(ft());case"blob":return mt(ft());case"bloburi":case"bloburl":if(void 0!==XV.URL&&"function"==typeof XV.URL.createObjectURL)return XV.URL&&XV.URL.createObjectURL(mt(ft()))||void 0;QV.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",i=ft();try{n=oG(i)}catch(d){n=oG(unescape(encodeURIComponent(i)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(XV)){var r="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(r=t.pdfObjectUrl,a="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+r+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=XV.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(XV)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=XV.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(XV))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=XV.open();if(null!==f&&(f.document.write(h),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return XV.document.location.href=this.output("datauristring",t);default:return null}},Me.foo=function(){try{return Me.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!XV.console)throw new Error(n);XV.console.error(n,t),XV.alert&&alert(n)}},Me.foo.bar=Me,Me.foo),bt=function(e){return!0===Array.isArray(Ae)&&Ae.indexOf(e)>-1};switch(i){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==bt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);he=i}var yt=null;D(),L();var vt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ke[e].objId,pageNumber:e,pageContext:ke[e]}},xt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in ke)if(ke[t].objId===e)break;return vt(t)},wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ke[B].objId,pageNumber:B,pageContext:ke[B]}};p.addPage=function(){return rt.apply(this,arguments),this},p.setPage=function(){return ot.apply(this,arguments),J.call(this,Z[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var n,i;if(e>t){n=Z[e],i=ke[e];for(var r=e;r>t;r--)Z[r]=Z[r-1],ke[r]=ke[r-1];Z[t]=n,ke[t]=i,this.setPage(t)}else if(e<t){n=Z[e],i=ke[e];for(var a=e;a<t;a++)Z[a]=Z[a+1],ke[a]=ke[a+1];Z[t]=n,ke[t]=i,this.setPage(t)}return this},p.deletePage=function(){return at.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,i,r){var a,o,s,l,c,d,u,p,f,m=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ie==0?(s=arguments[4],l=arguments[5],"object"===(0,rN.A)(u=arguments[3])&&null!==u||("string"==typeof s&&(l=s,s=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(s=u,u=null),i={flags:u,angle:s,align:l})):(k("The transform parameter of text() with a Matrix value"),f=r),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var b,y="",w="number"==typeof i.lineHeightFactor?i.lineHeightFactor:Mt,j=m.internal.scaleFactor;function S(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),nt(e,u)}function C(e){for(var t,n=e.concat(),i=[],r=n.length;r--;)"string"==typeof(t=n.shift())?i.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function A(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var i,r,a=e.concat(),o=[],s=a.length;s--;)"string"==typeof(i=a.shift())?o.push(t(i)[0]):Array.isArray(i)&&"string"==typeof i[0]&&(r=t(i[0],i[1],i[2]),o.push([r[0],r[1],r[2]]));n=o}return n}var N=!1,P=!0;if("string"==typeof e)N=!0;else if(Array.isArray(e)){var I=e.concat();o=[];for(var E,T=I.length;T--;)("string"!=typeof(E=I.shift())||Array.isArray(E)&&"string"!=typeof E[0])&&(P=!1);N=P}if(!1===N)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/m.internal.scaleFactor,M=L*(w-1);switch(i.baseline){case"bottom":n-=M;break;case"top":n+=L-M;break;case"hanging":n+=L-2*M;break;case"middle":n+=L/2-M}if((d=i.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,d))},[]))),a={text:e,x:t,y:n,options:i,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("preProcessText",a),e=a.text,s=(i=a.options).angle,f instanceof Ie==0&&s&&"number"==typeof s){s*=Math.PI/180,0===i.rotationDirection&&(s=-s),x===v&&(s=-s);var R=Math.cos(s),D=Math.sin(s);f=new Ie(R,D,-D,R,0,0)}else s&&s instanceof Ie&&(f=s);x!==v||f||(f=Te),void 0!==(c=i.charSpace||Jt)&&(y+=_(O(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=i.horizontalScale)&&(y+=_(100*p)+" Tz\n"),i.lang;var F=-1,B=void 0!==i.renderingMode?i.renderingMode:i.stroke,z=m.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var W=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==F?y+=F+" Tr\n":-1!==W&&(y+="0 Tr\n"),-1!==F&&(z.usedRenderingMode=F),l=i.align||"left";var U,q=te*w,H=m.internal.pageSize.getWidth(),V=ge[ue];c=i.charSpace||Jt,d=i.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},i.flags);var G=[],Z=function(e){return m.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:te,doKerning:!1})*te/j};if("[object Array]"===Object.prototype.toString.call(e)){var Y;o=C(e),"left"!==l&&(U=o.map(Z));var K,J=0;if("right"===l){t-=U[0],e=[],T=o.length;for(var $=0;$<T;$++)0===$?(K=Ut(t),Y=qt(n)):(K=O(J-U[$]),Y=-q),e.push([o[$],K,Y]),J=U[$]}else if("center"===l){t-=U[0]/2,e=[],T=o.length;for(var Q=0;Q<T;Q++)0===Q?(K=Ut(t),Y=qt(n)):(K=O((J-U[Q])/2),Y=-q),e.push([o[Q],K,Y]),J=U[Q]}else if("left"===l){e=[],T=o.length;for(var ee=0;ee<T;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],T=o.length,d=0!==d?d:H;for(var ne=0,ie=0;ie<T;ie++)if(Y=0===ie?qt(n):-q,K=0===ie?Ut(t):ne,ie<T-1){var ae=O((d-U[ie])/(o[ie].split(" ").length-1)),oe=o[ie].split(" ");e.push([oe[0]+" ",K,Y]),ne=0;for(var se=1;se<oe.length;se++){var le=(Z(oe[se-1]+" "+oe[se])-Z(oe[se]))*j+ae;se==oe.length-1?e.push([oe[se],le,0]):e.push([oe[se]+" ",le,0]),ne-=le}}else e.push([o[ie],K,Y]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],T=o.length,d=0!==d?d:H,ie=0;ie<T;ie++){Y=0===ie?qt(n):-q,K=0===ie?Ut(t):0;var ce=o[ie].split(" ").length-1,de=ce>0?(d-U[ie])/ce:0;ie<T-1?G.push(_(O(de))):G.push(0),e.push([o[ie],K,Y])}}}!0===("boolean"==typeof i.R2L?i.R2L:re)&&(e=A(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),a={text:e,x:t,y:n,options:i,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ce.publish("postProcessText",a),e=a.text,b=a.mutex.isHex||!1;var he=ge[ue].encoding;"WinAnsiEncoding"!==he&&"StandardEncoding"!==he||(e=A(e,function(e,t,n){return[S(e),t,n]})),o=C(e),e=[];for(var pe,fe,me,be=Array.isArray(o[0])?1:0,ye="",ve=function(e,t,n){var r="";return n instanceof Ie?(n="number"==typeof i.angle?Ee(n,new Ie(1,0,0,1,e,t)):Ee(new Ie(1,0,0,1,e,t),n),x===v&&(n=Ee(new Ie(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=_(e)+" "+_(t)+" Td\n",r},xe=0;xe<o.length;xe++){switch(ye="",be){case 1:me=(b?"<":"(")+o[xe][0]+(b?">":")"),pe=parseFloat(o[xe][1]),fe=parseFloat(o[xe][2]);break;case 0:me=(b?"<":"(")+o[xe]+(b?">":")"),pe=Ut(t),fe=qt(n)}void 0!==G&&void 0!==G[xe]&&(ye=G[xe]+" Tw\n"),0===xe?e.push(ye+ve(pe,fe,f)+me):0===be?e.push(ye+me):1===be&&e.push(ye+ve(pe,fe,f)+me)}e=0===be?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var we="BT\n/";return we+=ue+" "+te+" Tf\n",we+=_(te*w)+" TL\n",we+=Yt+"\n",we+=y,we+=e,X(we+="ET"),h[ue]=!0,m};var jt=p.__private__.clip=p.clip=function(e){return X("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return jt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return X("n"),this};var St=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return St(e)&&(c=e),this};var _t=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},kt=p.close=function(){return X("h"),this};p.stroke=function(){return X("S"),this},p.fill=function(e){return Ct("f",e),this},p.fillEvenOdd=function(e){return Ct("f*",e),this},p.fillStroke=function(e){return Ct("B",e),this},p.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===(0,rN.A)(t)?Ot(t,e):X(e)},At=function(e){null===e||x===v&&void 0===e||(e=_t(e),X(e))};function Nt(e,t,n,i,r){var a=new OG(t||this.boundingBox,n||this.xStep,i||this.yStep,this.gState,r||this.matrix);a.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Le(o,a),a}var Ot=function(e,t){var n=xe[e.key],i=ve[n];if(i instanceof NG)X("q"),X(Pt(t)),i.gState&&p.setGState(i.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(i instanceof OG){var r=new Ie(1,0,0,-1,0,pn());e.matrix&&(r=r.multiply(e.matrix||Te),n=Nt.call(i,e.key,e.boundingBox,e.xStep,e.yStep,r).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),i.gState&&p.setGState(i.gState),X(t),X("Q")}},Pt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},It=p.moveTo=function(e,t){return X(_(O(e))+" "+_(P(t))+" m"),this},Et=p.lineTo=function(e,t){return X(_(O(e))+" "+_(P(t))+" l"),this},Tt=p.curveTo=function(e,t,n,i,r,a){return X([_(O(e)),_(P(t)),_(O(n)),_(P(i)),_(O(r)),_(P(a)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,i,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!St(r))throw new Error("Invalid arguments passed to jsPDF.line");return x===y?this.lines([[n-e,i-t]],e,t,[1,1],r||"S"):this.lines([[n-e,i-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,i,r,a){var o,s,l,c,d,u,h,p,f,m,g,b;if("number"==typeof e&&(b=n,n=t,t=e,e=b),i=i||[1,1],a=a||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(i)||!St(r)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(It(t,n),o=i[0],s=i[1],c=e.length,m=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(m=d[0]*o+m,g=d[1]*s+g,Et(m,g)):(u=d[0]*o+m,h=d[1]*s+g,p=d[2]*o+m,f=d[3]*s+g,m=d[4]*o+m,g=d[5]*s+g,Tt(u,h,p,f,m,g));return a&&kt(),At(r),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.c;switch(n.op){case"m":It(i[0],i[1]);break;case"l":Et(i[0],i[1]);break;case"c":Tt.apply(this,i);break;case"h":kt()}}return this},p.__private__.rect=p.rect=function(e,t,n,i,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!St(r))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y&&(i=-i),X([_(O(e)),_(P(t)),_(O(n)),_(O(i)),"re"].join(" ")),At(r),this},p.__private__.triangle=p.triangle=function(e,t,n,i,r,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(a)||!St(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,i-t],[r-n,a-i],[e-r,t-a]],e,t,[1,1],o,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,i,r,a,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(a)||!St(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return r=Math.min(r,.5*n),a=Math.min(a,.5*i),this.lines([[n-2*r,0],[r*s,0,r,a-a*s,r,a],[0,i-2*a],[0,a*s,-r*s,a,-r,a],[2*r-n,0],[-r*s,0,-r,-a*s,-r,-a],[0,2*a-i],[0,-a*s,r*s,-a,r,-a]],e+r,t,[1,1],o,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,i,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!St(r))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*i;return It(e+n,t),Tt(e+n,t-o,e+a,t-i,e,t-i),Tt(e-a,t-i,e-n,t-o,e-n,t),Tt(e-n,t+o,e-a,t+i,e,t+i),Tt(e+a,t+i,e+n,t+o,e+n,t),At(r),this},p.__private__.circle=p.circle=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||!St(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,i)},p.setFont=function(e,t,n){return n&&(t=S(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Lt=p.__private__.getFont=p.getFont=function(){return ge[lt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in be)if(be.hasOwnProperty(e))for(t in n[e]=[],be[e])be[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,i,r){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?r=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=S(n,i)),tt.call(this,e,t,n,r=r||"Identity-H")};var Mt,Rt=e.lineWidth||.200025,Dt=p.__private__.getLineWidth=p.getLineWidth=function(){return Rt},Ft=p.__private__.setLineWidth=p.setLineWidth=function(e){return Rt=e,X(_(O(e))+" w"),this};p.__private__.setLineDash=PG.API.setLineDash=PG.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return _(O(e))}).join(" "),t=_(O(t)),X("["+e+"] "+t+" d"),this};var Bt=p.__private__.getLineHeight=p.getLineHeight=function(){return te*Mt};p.__private__.getLineHeight=p.getLineHeight=function(){return te*Mt};var zt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Mt=e),this},Wt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Mt};zt(e.lineHeight);var Ut=p.__private__.getHorizontalCoordinate=function(e){return O(e)},qt=p.__private__.getVerticalCoordinate=function(e){return x===v?e:ke[B].mediaBox.topRightY-ke[B].mediaBox.bottomLeftY-O(e)},Ht=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return _(Ut(e))},Vt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return _(qt(e))},Gt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ue(Gt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,i){return Gt=qe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),X(Gt),this};var Zt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ue(Zt)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,i){return Zt=qe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),X(Zt),this};var Yt=e.textColor||"0 g",Kt=p.__private__.getTextColor=p.getTextColor=function(){return Ue(Yt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,i){return Yt=qe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Jt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var $t=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,X(t+" J"),this};var Qt=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,X(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(_(O(e))+" M"),this},p.GState=CG,p.setGState=function(e){(e="string"==typeof e?we[je[e]]:en(null,e)).equals(Se)||(X("/"+e.id+" gs"),Se=e)};var en=function(e,t){if(!e||!je[e]){var n=!1;for(var i in we)if(we.hasOwnProperty(i)&&we[i].equals(t)){n=!0;break}if(n)t=we[i];else{var r="GS"+(Object.keys(we).length+1).toString(10);we[r]=t,t.id=r}return e&&(je[e]=t.id),Ce.publish("addGState",t),t}};p.addGState=function(e,t){return en(e,t),this},p.saveGraphicsState=function(){return X("q"),ye.push({key:ue,size:te,color:Yt}),this},p.restoreGraphicsState=function(){X("Q");var e=ye.pop();return ue=e.key,te=e.size,Yt=e.color,Se=null,this},p.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},p.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var r="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return r},set:function(e){r=e.toString()}}),this},nn=function(e,t,n,i){tn.call(this,e,t),this.type="rect";var r=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},rn=function(){this.page=_e,this.currentPage=B,this.pages=Z.slice(0),this.pagesContext=ke.slice(0),this.x=pe,this.y=fe,this.matrix=me,this.width=sn(B),this.height=cn(B),this.outputDestination=K,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){_e=this.page,B=this.currentPage,ke=this.pagesContext,Z=this.pages,pe=this.x,fe=this.y,me=this.matrix,ln(B,this.width),dn(B,this.height),K=this.outputDestination};var an=function(e,t,n,i,r){Pe.push(new rn),_e=B=0,Z=[],pe=e,fe=t,me=r,it([n,i])};for(var on in p.beginFormObject=function(e,t,n,i,r){return an(e,t,n,i,r),this},p.endFormObject=function(e){return function(e){if(Oe[e])Pe.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Ne).length+1).toString(10);t.id=n,Oe[e]=n,Ne[n]=t,Ce.publish("addFormObject",t),Pe.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Ne[Oe[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},p.getFormObject=function(e){var t=Ne[Oe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(iG(mt(ft()),e),"function"==typeof iG.unload&&XV.setTimeout&&setTimeout(iG.unload,911),this):new Promise(function(t,n){try{var r=iG(mt(ft()),e);"function"==typeof iG.unload&&XV.setTimeout&&setTimeout(iG.unload,911),t(r)}catch(i){n(i.message)}})},PG.API)PG.API.hasOwnProperty(on)&&("events"===on&&PG.API.events.length?function(e,t){var n,i,r;for(r=t.length-1;-1!==r;r--)n=t[r][0],i=t[r][1],e.subscribe.apply(e,[n].concat("function"==typeof i?[i]:i))}(Ce,PG.API.events):p[on]=PG.API[on]);function sn(e){return ke[e].mediaBox.topRightX-ke[e].mediaBox.bottomLeftX}function ln(e,t){ke[e].mediaBox.topRightX=t+ke[e].mediaBox.bottomLeftX}function cn(e){return ke[e].mediaBox.topRightY-ke[e].mediaBox.bottomLeftY}function dn(e,t){ke[e].mediaBox.topRightY=t+ke[e].mediaBox.bottomLeftY}var un=p.getPageWidth=function(e){return sn(e=e||B)/he},hn=p.setPageWidth=function(e,t){ln(e,t*he)},pn=p.getPageHeight=function(e){return cn(e=e||B)/he},fn=p.setPageHeight=function(e,t){dn(e,t*he)};return p.internal={pdfEscape:nt,getStyle:_t,getFont:Lt,getFontSize:ie,getCharSpace:Xt,getTextColor:Kt,getLineHeight:Bt,getLineHeightFactor:Wt,getLineWidth:Dt,write:$,getHorizontalCoordinate:Ut,getVerticalCoordinate:qt,getCoordinateString:Ht,getVerticalCoordinateString:Vt,collections:{},newObject:Re,newAdditionalObject:Be,newObjectDeferred:De,newObjectDeferredBegin:Fe,getFilters:He,putStream:Ve,events:Ce,scaleFactor:he,pageSize:{getWidth:function(){return un(B)},setWidth:function(e){hn(B,e)},getHeight:function(){return pn(B)},setHeight:function(e){fn(B,e)}},encryptionOptions:d,encryption:yt,getEncryptor:function(e){return null!==d?yt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:st,get pages(){return Z},out:X,f2:A,f3:N,getPageInfo:vt,getPageInfoByObjId:xt,getCurrentPageInfo:wt,getPDFVersion:m,Point:tn,Rectangle:nn,Matrix:Ie,hasHotfix:bt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return un(B)},set:function(e){hn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return pn(B)},set:function(e){fn(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var i=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[i]=!0);var r=e[t][0].split("-");et({id:i,fontName:r[0],fontStyle:r[1]||""})}Ce.publish("addFonts",{fonts:ge,dictionary:be})}.call(p,ee),ue="F1",rt(r,n),Ce.publish("initialized"),p}SG.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},SG.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},SG.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},SG.prototype.processOwnerPassword=function(e,t){return wG(yG(t).substr(0,5),e)},SG.prototype.encryptor=function(e,t){var n=yG(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return wG(n,e)}},CG.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,rN.A)(e)!==(0,rN.A)(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return 0===i},PG.API={events:[]},PG.version="3.0.4";var IG=PG.API,EG=1,TG=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},LG=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},MG=function(e){return e.toFixed(2)},RG=function(e){return e.toFixed(5)};IG.__acroform__={};var DG=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},FG=function(e){return e*EG},BG=function(e){var t=new tZ,n=mZ.internal.getHeight(e)||0,i=mZ.internal.getWidth(e)||0;return t.BBox=[0,0,Number(MG(i)),Number(MG(n))],t},zG=IG.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},WG=IG.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},UG=IG.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},qG=IG.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UG(e,t-1)},HG=IG.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zG(e,t-1)},VG=IG.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WG(e,t-1)},GG=IG.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(a+s)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(a)||0,[Number(MG(l.lowerLeft_X)),Number(MG(l.lowerLeft_Y)),Number(MG(l.upperRight_X)),Number(MG(l.upperRight_Y))]},ZG=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=YG(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+MG(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=BG(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},YG=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(e){return e.split("\n")}):r.map(function(e){return[e]});var a=n,o=mZ.internal.getHeight(e)||0;o=o<0?-o:o;var s=mZ.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,i){if(t+1<r.length){var a=n+" "+r[t+1][0];return KG(a,e,i).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,u=KG("3",e,a).height,h=e.multiline?o-a:(o-u)/2,p=h+=2,f=0,m=0,g=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+KG(t,e,a=12).width+", FieldWidth:"+s+"\n";break}for(var b="",y=0,v=0;v<r.length;v++)if(r.hasOwnProperty(v)){var x=!1;if(1!==r[v].length&&g!==r[v].length-1){if((u+2)*(y+2)+2>o)continue e;b+=r[v][g],x=!0,m=v,v--}else{b=" "==(b+=r[v][g]+" ").substr(b.length-1)?b.substr(0,b.length-1):b;var w=parseInt(v),j=l(w,b,a),S=v>=r.length-1;if(j&&!S){b+=" ",g=0;continue}if(j||S){if(S)m=w;else if(e.multiline&&(u+2)*(y+2)+2>o)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>o)continue e;m=w}}for(var _="",k=f;k<=m;k++){var C=r[k];if(e.multiline){if(k===m){_+=C[g]+" ",g=(g+1)%C.length;continue}if(k===f){_+=C[C.length-1]+" ";continue}}_+=C[0]+" "}switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,d=KG(_,e,a).width,e.textAlign){case"right":c=s-d-2;break;case"center":c=(s-d)/2;break;default:c=2}t+=MG(c)+" "+MG(p)+" Td\n",t+="("+TG(_)+") Tj\n",t+=-MG(c)+" 0 Td\n",p=-(a+2),d=0,f=x?m:m+1,y++,b=""}break}return i.text=t,i.fontSize=a,i},KG=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},JG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XG=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},$G=IG.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(e){return e};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(0!==a&&(r+=" "),(0,rN.A)(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(i=n.internal.getEncryptor(t)),r+="("+TG(i(e[a].toString()))+")"):r+=e[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},QG=function(e,t,n){var i=function(e){return e};return void 0!==t&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+TG(i(e))+")"},eZ=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eZ.prototype.toString=function(){return this.objId+" 0 R"},eZ.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},eZ.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:$G(r,this.objId,this.scope)}):r instanceof eZ?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&e.push({key:i,value:r}))}return e};var tZ=function(){eZ.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};DG(tZ,eZ);var nZ=function(){eZ.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+TG(t(e))+")"}},set:function(t){e=t}})};DG(nZ,eZ);var iZ=function e(){eZ.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(t,3))},set:function(e){!0===Boolean(e)?this.F=HG(t,3):this.F=VG(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(e){i[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(e){i[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(e){i[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(e){i[3]=e}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof uZ)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+TG(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/EG:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof uZ||this instanceof pZ))return QG(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof lZ==0?QG(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof lZ==0?"("===e.substr(0,1)?LG(e.substr(1,e.length-2)):LG(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lZ==1?LG(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof lZ==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof lZ==0?QG(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof lZ==0?"("===e.substr(0,1)?LG(e.substr(1,e.length-2)):LG(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lZ==1?LG(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof lZ==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,1):this.Ff=VG(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,2):this.Ff=VG(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,3):this.Ff=VG(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};DG(iZ,eZ);var rZ=function(){iZ.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $G(t,this.objId,this.scope)},set:function(e){var n,i;i=[],"string"==typeof(n=e)&&(i=function(e,t,n){n||(n=1);for(var i,r=[];i=t.exec(e);)r.push(i[n]);return r}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,18):this.Ff=VG(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=HG(this.Ff,19):this.Ff=VG(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=HG(this.Ff,20),t.sort()):this.Ff=VG(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,22):this.Ff=VG(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,23):this.Ff=VG(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,27):this.Ff=VG(this.Ff,27)}}),this.hasAppearanceStream=!1};DG(rZ,iZ);var aZ=function(){rZ.call(this),this.fontName="helvetica",this.combo=!1};DG(aZ,rZ);var oZ=function(){aZ.call(this),this.combo=!0};DG(oZ,aZ);var sZ=function(){oZ.call(this),this.edit=!0};DG(sZ,oZ);var lZ=function(){iZ.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,15):this.Ff=VG(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,16):this.Ff=VG(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,17):this.Ff=VG(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,26):this.Ff=VG(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+TG(e(t[n]))+")");return i.push(">>"),i.join("\n")}},set:function(e){"object"===(0,rN.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};DG(lZ,iZ);var cZ=function(){lZ.call(this),this.pushButton=!0};DG(cZ,lZ);var dZ=function(){lZ.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};DG(dZ,lZ);var uZ=function(){var e,t;iZ.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),i)n.push("/"+t+" ("+TG(e(i[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,rN.A)(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mZ.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};DG(uZ,iZ),dZ.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},dZ.prototype.createOption=function(e){var t=new uZ;return t.Parent=this,t.optionName=e,this.Kids.push(t),gZ.call(this.scope,t),t};var hZ=function(){lZ.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mZ.CheckBox.createAppearanceStream()};DG(hZ,lZ);var pZ=function(){iZ.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,13):this.Ff=VG(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,21):this.Ff=VG(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,23):this.Ff=VG(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,24):this.Ff=VG(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,25):this.Ff=VG(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,26):this.Ff=VG(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};DG(pZ,iZ);var fZ=function(){pZ.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(qG(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=HG(this.Ff,14):this.Ff=VG(this.Ff,14)}}),this.password=!0};DG(fZ,pZ);var mZ={CheckBox:{createAppearanceStream:function(){return{N:{On:mZ.CheckBox.YesNormal},D:{On:mZ.CheckBox.YesPushDown,Off:mZ.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=BG(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=YG(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+MG(mZ.internal.getWidth(e))+" "+MG(mZ.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+MG(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=BG(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=mZ.internal.getHeight(e),o=mZ.internal.getWidth(e),s=YG(e,e.caption);return r.push("1 g"),r.push("0 0 "+MG(o)+" "+MG(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+MG(o-1)+" "+MG(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+MG(s.fontSize)+" Tf "+i),r.push(s.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=BG(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+MG(mZ.internal.getWidth(e))+" "+MG(mZ.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:mZ.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=mZ.RadioButton.Circle.YesNormal,t.D[e]=mZ.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=BG(e);t.scope=e.scope;var n=[],i=mZ.internal.getWidth(e)<=mZ.internal.getHeight(e)?mZ.internal.getWidth(e)/4:mZ.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=mZ.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+RG(mZ.internal.getWidth(e)/2)+" "+RG(mZ.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=BG(e);t.scope=e.scope;var n=[],i=mZ.internal.getWidth(e)<=mZ.internal.getHeight(e)?mZ.internal.getWidth(e)/4:mZ.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*mZ.internal.Bezier_C).toFixed(5)),o=Number((i*mZ.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+RG(mZ.internal.getWidth(e)/2)+" "+RG(mZ.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+RG(mZ.internal.getWidth(e)/2)+" "+RG(mZ.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=BG(e);t.scope=e.scope;var n=[],i=mZ.internal.getWidth(e)<=mZ.internal.getHeight(e)?mZ.internal.getWidth(e)/4:mZ.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*mZ.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+RG(mZ.internal.getWidth(e)/2)+" "+RG(mZ.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:mZ.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=mZ.RadioButton.Cross.YesNormal,t.D[e]=mZ.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=BG(e);t.scope=e.scope;var n=[],i=mZ.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+MG(mZ.internal.getWidth(e)-2)+" "+MG(mZ.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(MG(i.x1.x)+" "+MG(i.x1.y)+" m"),n.push(MG(i.x2.x)+" "+MG(i.x2.y)+" l"),n.push(MG(i.x4.x)+" "+MG(i.x4.y)+" m"),n.push(MG(i.x3.x)+" "+MG(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=BG(e);t.scope=e.scope;var n=mZ.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+MG(mZ.internal.getWidth(e))+" "+MG(mZ.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+MG(mZ.internal.getWidth(e)-2)+" "+MG(mZ.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(MG(n.x1.x)+" "+MG(n.x1.y)+" m"),i.push(MG(n.x2.x)+" "+MG(n.x2.y)+" l"),i.push(MG(n.x4.x)+" "+MG(n.x4.y)+" m"),i.push(MG(n.x3.x)+" "+MG(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=BG(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+MG(mZ.internal.getWidth(e))+" "+MG(mZ.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};mZ.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=mZ.internal.getWidth(e),n=mZ.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},mZ.internal.getWidth=function(e){var t=0;return"object"===(0,rN.A)(e)&&(t=FG(e.Rect[2])),t},mZ.internal.getHeight=function(e){var t=0;return"object"===(0,rN.A)(e)&&(t=FG(e.Rect[3])),t};var gZ=IG.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(iZ.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(JG)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EG=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nZ,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.objId=void 0,i.hasAnnotation&&XG(i,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var r=e[i],a=[],o=r.Rect;if(r.Rect&&(r.Rect=GG(r.Rect,t)),t.internal.newObjectDeferredBegin(r.objId,!0),r.DA=mZ.createDefaultAppearanceStream(r),"object"===(0,rN.A)(r)&&"function"==typeof r.getKeyValueListForStream&&(a=r.getKeyValueListForStream()),r.Rect=o,r.hasAppearanceStream&&!r.appearanceStreamContent){var s=ZG(r);a.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(r.appearanceStreamContent){var l="";for(var c in r.appearanceStreamContent)if(r.appearanceStreamContent.hasOwnProperty(c)){var d=r.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var i in d)if(d.hasOwnProperty(i)){var u=d[i];"function"==typeof u&&(u=u.call(t,r)),l+="/"+i+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,r)),l+="/"+i+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:r.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,rN.A)(r)&&"function"==typeof r.putStream&&r.putStream(),delete e[i]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof iZ))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};IG.AcroFormChoiceField=rZ,IG.AcroFormListBox=aZ,IG.AcroFormComboBox=oZ,IG.AcroFormEditBox=sZ,IG.AcroFormButton=lZ,IG.AcroFormPushButton=cZ,IG.AcroFormRadioButton=dZ,IG.AcroFormCheckBox=hZ,IG.AcroFormTextField=pZ,IG.AcroFormPasswordField=fZ,IG.AcroFormAppearance=mZ,IG.AcroForm={ChoiceField:rZ,ListBox:aZ,ComboBox:oZ,EditBox:sZ,Button:lZ,PushButton:cZ,RadioButton:dZ,CheckBox:hZ,TextField:pZ,PasswordField:fZ,Appearance:mZ},PG.AcroForm={ChoiceField:rZ,ListBox:aZ,ComboBox:oZ,EditBox:sZ,Button:lZ,PushButton:cZ,RadioButton:dZ,CheckBox:hZ,TextField:pZ,PasswordField:fZ,Appearance:mZ};PG.AcroForm;function bZ(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,t){var r,a,o,s,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in i)for(o=i[l],r=0;r<o.length;r+=1){for(s=!0,a=0;a<o[r].length;a+=1)if(void 0!==o[r][a]&&o[r][a]!==e[a]){s=!1;break}if(!0===s){c=l;break}}else for(l in i)for(o=i[l],r=0;r<o.length;r+=1){for(s=!0,a=0;a<o[r].length;a+=1)if(void 0!==o[r][a]&&o[r][a]!==e.charCodeAt(a)){s=!1;break}if(!0===s){c=l;break}}return c===n&&t!==n&&(c=t),c},a=function e(t){for(var n=this.internal.write,i=this.internal.putStream,r=(0,this.internal.getFilters)();-1!==r.indexOf("FlateEncode");)r.splice(r.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===b.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===b.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var o="",s=0,l=t.transparency.length;s<l;s++)o+=t.transparency[s]+" "+t.transparency[s]+" ";a.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(i({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(h.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),h.filter=t.filter),e.call(this,h)}if(t.colorSpace===b.INDEXED){var p=this.internal.newObject();i({data:_(new Uint8Array(t.palette)),objectId:p}),n("endobj")}},o=function(){var e=this.internal.collections[t+"images"];for(var n in e)a.call(this,e[n])},s=function(){var e,n=this.internal.collections[t+"images"],i=this.internal.write;for(var r in n)i("/I"+(e=n[r]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,rN.A)(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return aG(unescape(i).split("base64,").pop());var r=e.loadFile(i,!0);if(void 0!==r)return r}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return aG(t.toDataURL(a,1).split("base64,").pop())}},f=function(e){var n=this.internal.collections[t+"images"];if(n)for(var i in n)if(e===n[i].alias)return n[i]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,i,r,a){var o=m.call(this,n,i,r),s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=o[0],i=o[1],d[r.index]=r,a){a*=Math.PI/180;var u=Math.cos(a),h=Math.sin(a),p=function(e){return e.toFixed(4)},f=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,s(e),l(t+i),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(i),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(i),s(e),l(t+i),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+r.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,n,i=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)i=(i<<5)-i+e[t],i|=0;return i},x=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},S=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},_=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),i=0;i<n.length;i+=8192)t+=String.fromCharCode.apply(null,n.subarray(i,i+8192));return t};e.addImage=function(){var e,t,i,r,a,o,s,c,d;if("number"==typeof arguments[1]?(t=n,i=arguments[1],r=arguments[2],a=arguments[3],o=arguments[4],s=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],i=arguments[2],r=arguments[3],a=arguments[4],o=arguments[5],s=arguments[6],c=arguments[7],d=arguments[8]),"object"===(0,rN.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,i=u.x||i||0,r=u.y||r||0,a=u.w||u.width||a,o=u.h||u.height||o,s=u.alias||s,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(i)||isNaN(r))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var f=k.call(this,e,t,s,c);return g.call(this,i,r,a,o,f,d),this};var k=function(t,i,a,o){var s,l,c;if("string"==typeof t&&r(t)===n){t=unescape(t);var m=C(t,!1);(""!==m||void 0!==(m=e.loadFile(t,!0)))&&(t=m)}if(h(t)&&(t=p(t,i)),i=r(t,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(c=a)||0===c.length)&&(a=function(e){return"string"==typeof e||j(e)?v(e):j(e.data)?v(e.data):null}(t)),(s=f.call(this,a))||(t instanceof Uint8Array||"RGBA"===i||(l=t,t=S(t)),s=this["process"+i.toUpperCase()](t,d.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(o),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,i="";if("string"==typeof e){var a;n=null!==(a=w(e))&&void 0!==a?a:e;try{i=aG(n)}catch(r){if(t)throw x(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+r.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(t){var i,a,o="";if(h(t)&&(t=p(t)),"string"==typeof t&&r(t)===n&&(""===(o=C(t,!1))&&(o=e.loadFile(t)||""),t=o),a=r(t),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=S(t)),!(i=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=a,i}}(PG.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};PG.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,i,r,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),b=n.title||"Note";r="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",r+=" /Popup "+m.objId+" 0 R",r+=" /P "+s.objId+" 0 R",r+=" /T ("+h(g(b))+") >>",f.content=r;var y=f.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(r+=" /Open true"),r+=" >>",m.content=r,this.internal.write(f.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(n.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(n.options.name){var x=this.annotations._nameMap[n.options.name];n.options.pageNumber=x.page,n.options.top=x.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",r="",n.options.url)r="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,r+=" /FitV "+n.options.left+"]";break;default:var w=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),r+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,i,r){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(e),y:s(t),w:o(e+n),h:s(t+i)},options:r,type:"link"})},e.textWithLink=function(e,t,n,i){var r,a,o=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==i.maxWidth){a=i.maxWidth;var l=this.splitTextToSize(e,a).length;r=Math.ceil(s*l)}else a=o,r=s;return this.text(e,t,n,i),n+=.2*s,"center"===i.align&&(t-=o/2),"right"===i.align&&(t-=o),this.link(t,n-s,a,r,i),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(PG.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&r.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&a(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=n,r="",a=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(a++,"number"==typeof(i=i[e.charCodeAt(t)])&&(r+=String.fromCharCode(i),i=n,a=0),t===e.length-1&&(i=n,r+=e.charAt(t-(a-1)),t-=a-1,a=0)):(i=n,r+=e.charAt(t-a),t-=a,a=0);return r};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===a(e)?-1:!c(e)||!o(t)&&!o(n)||!o(n)&&s(t)||s(e)&&!o(t)||s(e)&&l(t)||s(e)&&s(t)?0:d(e)&&o(t)&&!s(t)&&o(n)&&c(n)?3:s(e)||!o(n)?1:2:-1},p=function(e){var n=0,i=0,r=0,a="",s="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),i=0;i<c[n].length;i+=1)a=c[n][i],s=c[n][i-1],l=c[n][i+1],o(a)?(r=h(a,s,l),d[n]+=-1!==r?String.fromCharCode(t[a.charCodeAt(0)][r]):a):d[n]+=a;d[n]=u(d[n])}return d.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)Array.isArray(t[i])?n.push([p(t[i][0]),t[i][1],t[i][2]]):n.push([p(t[i])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(PG.API),PG.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(PG.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var r=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,o=0,s=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)o<(l=this.getStringUnitWidth(e[u],{font:r})*n)&&(o=l);return 0!==o&&(s=e.length),{w:o/=a,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var r=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(i.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,f,m=[],g=[],b=[],y={},v={},x=[],w=[],j=(d=d||{}).autoSize||!1,S=!1!==d.printHeaders,_=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,k=d.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof d.padding?d.padding:3,A=d.headerBackgroundColor||"#c8c8c8",N=d.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=N,this.setFontSize(_),null==c)g=m=Object.keys(l[0]),b=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,rN.A)(c[0]))for(m=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),b=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)v[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,b=m.map(function(){return"left"}));if(j||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<m.length;u+=1){for(y[f=m[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),x.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=y[f],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)x.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[f]=Math.max.apply(null,x)+C+C,x=[]}if(S){var O={};for(u=0;u<m.length;u+=1)O[m[u]]={},O[m[u]].text=g[u],O[m[u]].align=b[u];var P=s.call(this,O,v);w=m.map(function(t){return new a(e,n,v[t],P,O[t].text,void 0,O[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var I=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var E=s.call(this,l[u],v);for(p=0;p<m.length;p+=1){var T=l[u][m[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:T},this),o.call(this,new a(e,n,v[m[p]],E,T,u+2,I[m[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,i=this.internal.__cell__.table_font_size,r=this.internal.scaleFactor;return Object.keys(e).map(function(i){var r=e[i];return this.splitTextToSize(r.hasOwnProperty("text")?r.text:r,t[i]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*i/r+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){r=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,r),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(PG.API);var yZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xZ=bZ(vZ),wZ=[100,200,300,400,500,600,700,800,900],jZ=bZ(wZ);function SZ(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return yZ[e=e||"normal"]?e:"normal"}(e.style),i=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),r=function(e){return"number"==typeof xZ[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function _Z(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var kZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},CZ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AZ(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function NZ(e){return e.trimLeft()}function OZ(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function PZ(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var IZ,EZ,TZ,LZ,MZ,RZ,DZ,FZ,BZ=["times"];function zZ(e,t,n,i,r){var a=4,o=qZ;switch(r){case PG.API.image_compression.FAST:a=1,o=UZ;break;case PG.API.image_compression.MEDIUM:a=6,o=HZ;break;case PG.API.image_compression.SLOW:a=9,o=VZ}e=function(e,t,n,i){for(var r,a=e.length/t,o=new Uint8Array(e.length+a),s=[WZ,UZ,qZ,HZ,VZ],l=0;l<a;l+=1){var c=l*t,d=e.subarray(c,c+t);if(i)o.set(i(d,n,r),c+l);else{for(var u=s.length,h=[],p=0;p<u;p+=1)h[p]=s[p](d,n,r);var f=ZZ(h.concat());o.set(h[f],c+l)}r=d}return o}(e,t,Math.ceil(n*i/8),o);var s=SW(e,{level:a});return PG.API.__addimage__.arrayBufferToBinaryString(s)}function WZ(e){var t=Array.apply([],e);return t.unshift(0),t}function UZ(e,t){var n=e.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var a=e[r-t]||0;i[r+1]=e[r]-a+256&255}return i}function qZ(e,t,n){var i=e.length,r=[];r[0]=2;for(var a=0;a<i;a+=1){var o=n&&n[a]||0;r[a+1]=e[a]-o+256&255}return r}function HZ(e,t,n){var i=e.length,r=[];r[0]=3;for(var a=0;a<i;a+=1){var o=e[a-t]||0,s=n&&n[a]||0;r[a+1]=e[a]+256-(o+s>>>1)&255}return r}function VZ(e,t,n){var i=e.length,r=[];r[0]=4;for(var a=0;a<i;a+=1){var o=GZ(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);r[a+1]=e[a]-o+256&255}return r}function GZ(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),r=Math.abs(e-n),a=Math.abs(e+t-n-n);return i<=r&&i<=a?e:r<=a?t:n}function ZZ(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function YZ(e,t,n){var i=t*n,r=Math.floor(i/8),a=16-(i-8*r+n),o=(1<<n)-1;return JZ(e,r)>>a&o}function KZ(e,t,n,i){var r=n*i,a=Math.floor(r/8),o=16-(r-8*a+i),s=(1<<i)-1,l=(t&s)<<o;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var i=n>>8&255;e.setUint8(t,i)}}(e,a,JZ(e,a)&~(s<<o)&65535|l)}function JZ(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function XZ(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,o=1<<1+(7&r);e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var c=!0,d=[],u=0,h=null,p=0,f=null;for(this.width=n,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++],w=x>>6&1,j=1<<1+(7&x),S=s,_=l,k=!1;x>>7&&(k=!0,S=t,_=j,t+=3*j);var C=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}d.push({x:g,y:b,width:y,height:v,has_local_palette:k,palette_offset:S,palette_size:_,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,i){var r=this.frameInfo(t),a=r.width*r.height,o=new Uint8Array(a);$Z(e,r.data_offset,o,a);var s=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var c=r.width,d=n-c,u=c,h=4*(r.y*n+r.x),p=4*((r.y+r.height)*n+r.x),f=h,m=4*d;!0===r.interlaced&&(m+=4*n*7);for(var g=8,b=0,y=o.length;b<y;++b){var v=o[b];if(0===u&&(u=c,(f+=m)>=p&&(m=4*d+4*n*(g-1),f=h+(c+d)*(g<<1),g>>=1)),v===l)f+=4;else{var x=e[s+3*v],w=e[s+3*v+1],j=e[s+3*v+2];i[f++]=j,i[f++]=w,i[f++]=x,i[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,i){var r=this.frameInfo(t),a=r.width*r.height,o=new Uint8Array(a);$Z(e,r.data_offset,o,a);var s=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var c=r.width,d=n-c,u=c,h=4*(r.y*n+r.x),p=4*((r.y+r.height)*n+r.x),f=h,m=4*d;!0===r.interlaced&&(m+=4*n*7);for(var g=8,b=0,y=o.length;b<y;++b){var v=o[b];if(0===u&&(u=c,(f+=m)>=p&&(m=4*d+4*n*(g-1),f=h+(c+d)*(g<<1),g>>=1)),v===l)f+=4;else{var x=e[s+3*v],w=e[s+3*v+1],j=e[s+3*v+2];i[f++]=x,i[f++]=w,i[f++]=j,i[f++]=255}--u}}}function $Z(e,t,n,i){for(var r=e[t++],a=1<<r,o=a+1,s=o+1,l=r+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],f=new Int32Array(4096),m=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==a){if(g===o)break;for(var b=g<s?g:m,y=0,v=b;v>a;)v=f[v]>>8,++y;var x=v;if(h+y+(b!==g?1:0)>i)return void QV.log("Warning, gif stream longer than expected.");n[h++]=x;var w=h+=y;for(b!==g&&(n[h++]=x),v=b;y--;)v=f[v],n[--w]=255&v,v>>=8;null!==m&&s<4096&&(f[s++]=m<<8|x,s>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else s=o+1,c=(1<<(l=r+1))-1,m=null}return h!==i&&QV.log("Warning, gif stream shorter than expected."),n}function QZ(e){var t,n,i,r,a,o=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),f=new Array(64),m=[],g=0,b=7,y=new Array(64),v=new Array(64),x=new Array(64),w=new Array(256),j=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function E(e,t){for(var n=0,i=0,r=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=a,i++,n++;n*=2}return r}function T(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<b),n--,--b<0&&(255==g?(L(255),L(0)):L(g),b=7,g=0)}function L(e){m.push(e)}function M(e){L(e>>8&255),L(255&e)}function R(e,t,n,i,r){for(var a,o=r[0],s=r[240],l=function(e,t){var n,i,r,a,o,s,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],i=e[h+1],r=e[h+2],a=e[h+3],o=e[h+4],s=e[h+5],l=e[h+6];var f=n+(c=e[h+7]),m=n-c,g=i+l,b=i-l,y=r+s,v=r-s,x=a+o,w=a-o,j=f+x,S=f-x,_=g+y,k=g-y;e[h]=j+_,e[h+4]=j-_;var C=.707106781*(k+S);e[h+2]=S+C,e[h+6]=S-C;var A=.382683433*((j=w+v)-(k=b+m)),N=.5411961*j+A,O=1.306562965*k+A,P=.707106781*(_=v+b),I=m+P,E=m-P;e[h+5]=E+N,e[h+3]=E-N,e[h+1]=I+O,e[h+7]=I-O,h+=8}for(h=0,d=0;d<8;++d){n=e[h],i=e[h+8],r=e[h+16],a=e[h+24],o=e[h+32],s=e[h+40],l=e[h+48];var T=n+(c=e[h+56]),L=n-c,M=i+l,R=i-l,D=r+s,F=r-s,B=a+o,z=a-o,W=T+B,U=T-B,q=M+D,H=M-D;e[h]=W+q,e[h+32]=W-q;var V=.707106781*(H+U);e[h+16]=U+V,e[h+48]=U-V;var G=.382683433*((W=z+F)-(H=R+L)),Z=.5411961*W+G,Y=1.306562965*H+G,K=.707106781*(q=F+R),J=L+K,X=L-K;e[h+40]=X+Z,e[h+24]=X-Z,e[h+8]=J+Y,e[h+56]=J-Y,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)f[S[c]]=l[c];var d=f[0]-n;n=f[0],0==d?T(i[0]):(T(i[h[a=32767+d]]),T(u[a]));for(var m=63;m>0&&0==f[m];)m--;if(0==m)return T(o),n;for(var g,b=1;b<=m;){for(var y=b;0==f[b]&&b<=m;)++b;var v=b-y;if(v>=16){g=v>>4;for(var x=1;x<=g;++x)T(s);v&=15}a=32767+f[b],T(r[(v<<4)+h[a]]),T(u[a]),b++}return 63!=m&&T(o),n}function D(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=o((t[n]*e+50)/100);i=Math.min(Math.max(i,1),255),s[S[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var u=o((r[a]*e+50)/100);u=Math.min(Math.max(u,1),255),l[S[a]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)c[p]=1/(s[S[p]]*h[f]*h[m]*8),d[p]=1/(l[S[p]]*h[f]*h[m]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&D(a),m=new Array,g=0,b=7,M(65496),M(65504),M(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),M(1),M(1),L(0),L(0),function(){M(65499),M(132),L(0);for(var e=0;e<64;e++)L(s[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){M(65472),M(17),L(8),M(t),M(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){M(65476),M(418),L(0);for(var e=0;e<16;e++)L(_[e+1]);for(var t=0;t<=11;t++)L(k[t]);L(16);for(var n=0;n<16;n++)L(C[n+1]);for(var i=0;i<=161;i++)L(A[i]);L(1);for(var r=0;r<16;r++)L(N[r+1]);for(var a=0;a<=11;a++)L(O[a]);L(17);for(var o=0;o<16;o++)L(P[o+1]);for(var s=0;s<=161;s++)L(I[s])}(),M(65498),M(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var o=0,u=0,h=0;g=0,b=7,this.encode.displayName="_encode_";for(var p,f,w,S,E,F,B,z,W,U=e.data,q=e.width,H=e.height,V=4*q,G=0;G<H;){for(p=0;p<V;){for(E=V*G+p,B=-1,z=0,W=0;W<64;W++)F=E+(z=W>>3)*V+(B=4*(7&W)),G+z>=H&&(F-=V*(G+1+z-H)),p+B>=V&&(F-=p+B-V+4),f=U[F++],w=U[F++],S=U[F++],y[W]=(j[f]+j[w+256|0]+j[S+512|0]>>16)-128,v[W]=(j[f+768|0]+j[w+1024|0]+j[S+1280|0]>>16)-128,x[W]=(j[f+1280|0]+j[w+1536|0]+j[S+1792|0]>>16)-128;o=R(y,c,o,t,i),u=R(v,d,u,n,r),h=R(x,d,h,n,r),p+=32}G+=8}if(b>=0){var Z=[];Z[1]=b+1,Z[0]=(1<<b+1)-1,T(Z)}return M(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=E(_,k),n=E(N,O),i=E(C,A),r=E(P,I),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)h[32767+i]=n,u[32767+i]=[],u[32767+i][1]=n,u[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=t-1+r;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),D(e)}function eY(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tY(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var i=0;4>i;i++)if(e[t+i]!=n.charCodeAt(i))return!0;return!1}function i(e,t,n,i,r){for(var a=0;a<r;a++)e[t+a]=n[i+a]}function r(e,t,n,i){for(var r=0;r<i;r++)e[t+r]=n}function a(e){return new Int32Array(e)}function o(e,t){for(var n=[],i=0;i<e;i++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,i,r){for(var a=r[i],o=0;o<a&&(n.push(r.length>i+1?[]:new t),!(r.length<i+1));o++)e(n[o],i+1,r)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,i,r,a){t(!(r%i));do{e[n+(r-=i)]=a}while(0<r)}function d(e,n,i,r,o){if(t(2328>=o),512>=o)var s=a(512);else if(null==(s=a(o)))return 0;return function(e,n,i,r,o,s){var d,h,p=n,f=1<<i,m=a(16),g=a(16);for(t(0!=o),t(null!=r),t(null!=e),t(0<i),h=0;h<o;++h){if(15<r[h])return 0;++m[r[h]]}if(m[0]==o)return 0;for(g[1]=0,d=1;15>d;++d){if(m[d]>1<<d)return 0;g[d+1]=g[d]+m[d]}for(h=0;h<o;++h)d=r[h],0<r[h]&&(s[g[d]++]=h);if(1==g[15])return(r=new u).g=0,r.value=s[0],c(e,p,1,f,r),f;var b,y=-1,v=f-1,x=0,w=1,j=1,S=1<<i;for(h=0,d=1,o=2;d<=i;++d,o<<=1){if(w+=j<<=1,0>(j-=m[d]))return 0;for(;0<m[d];--m[d])(r=new u).g=d,r.value=s[h++],c(e,p+x,o,S,r),x=l(x,d)}for(d=i+1,o=2;15>=d;++d,o<<=1){if(w+=j<<=1,0>(j-=m[d]))return 0;for(;0<m[d];--m[d]){if(r=new u,(x&v)!=y){for(p+=S,b=1<<(y=d)-i;15>y&&!(0>=(b-=m[y]));)++y,b<<=1;f+=S=1<<(b=y-i),e[n+(y=x&v)].g=b+i,e[n+y].value=p-n-y}r.g=d-i,r.value=s[h++],c(e,p+(x>>i),o,S,r),x=l(x,d)}}return w!=2*g[15]-1?0:f}(e,n,i,r,o,s)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=o(5,u),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fn,h)}function f(e,n,i,r){t(null!=e),t(null!=n),t(2147483648>r),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=i,e.Jd=n,e.Yc=i+r,e.Zc=4<=r?i+r-4+1:i,C(e)}function m(e,t){for(var n=0;0<t--;)n|=N(e,128)<<t;return n}function g(e,t){var n=m(e,t);return A(e)?-n:n}function b(e,n,i,r){var a,o=0;for(t(null!=e),t(null!=n),t(4294967288>r),e.Sb=r,e.Ra=0,e.u=0,e.h=0,4<r&&(r=4),a=0;a<r;++a)o+=n[i+a]<<8*a;e.Ra=o,e.bb=r,e.oa=n,e.pa=i}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Wn-8>>>0,++e.bb,e.u-=8;S(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=zn){var i=j(e)&Bn[n];return e.u+=n,y(e),i}return e.h=1,e.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&Wn-1)>>>0}function S(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Wn}function _(e,t){e.u=t,e.h=S(e)}function k(e){e.u>=Un&&(t(e.u>=Un),y(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function N(e,t){var n=e.Ca;0>e.b&&C(e);var i=e.b,r=n*t>>>8,a=(e.I>>>i>r)+0;for(a?(n-=r,e.I-=r+1<<i>>>0):n=r+1,i=n,r=0;256<=i;)r+=8,i>>=8;return i=7^r+qn[i],e.b-=i,e.Ca=(n<<i)-1,a}function O(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function P(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return P(e,t)|e[t+2]<<16}function E(e,t){return P(e,t)|P(e,t+2)<<16}function T(e,n){var i=1<<n;return t(null!=e),t(0<n),e.X=a(i),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),i(n.X,0,e.X,0,1<<n.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function R(e,n,i,r){t(null!=i),t(null!=r);var a=i[0],o=r[0];return 0==a&&(a=(e*o+n/2)/n),0==o&&(o=(n*a+e/2)/e),0>=a||0>=o?0:(i[0]=a,r[0]=o,1)}function D(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,i,r,a,o,s,l){var c;for(c=0;c<o;++c){var d=e[t](s[l+c-1],r,a+c);s[l+c]=F(n[i+c],d)}}}function z(){this.ud=this.hd=this.jd=0}function W(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function q(e,t){return U(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,i,r,a,o){for(i=a[o-1],n=0;n<r;++n)a[o+n]=i=F(e[t+n],i)}function G(e,t,n,i,r){var a;for(a=0;a<n;++a){var o=e[t+a],s=o>>8&255,l=16711935&(l=(l=16711935&o)+((s<<16)+s));i[r+a]=(4278255360&o)+l>>>0}}function Z(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,n,i,r,a){var o;for(o=0;o<i;++o){var s=t[n+o],l=s>>>8,c=s,d=255&(d=(d=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),r[a+o]=(4278255360&s)+(d<<16)+c}}function K(t,n,i,r,a){e[n]=function(e,t,n,i,o,s,l,c,d){for(i=l;i<c;++i)for(l=0;l<d;++l)o[s++]=a(n[r(e[t++])])},e[t]=function(t,n,o,s,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<o;++n){var m,g=0;for(m=0;m<h;++m)m&t||(g=r(s[l++])),c[d++]=a(p[g&f]),g>>=u}else e["VP8LMapColor"+i](s,l,p,f,c,d,n,o,h)}}function J(e,t,n,i,r){for(n=t+n;t<n;){var a=e[t++];i[r++]=a>>16&255,i[r++]=a>>8&255,i[r++]=255&a}}function X(e,t,n,i,r){for(n=t+n;t<n;){var a=e[t++];i[r++]=a>>16&255,i[r++]=a>>8&255,i[r++]=255&a,i[r++]=a>>24&255}}function $(e,t,n,i,r){for(n=t+n;t<n;){var a=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;i[r++]=a,i[r++]=o}}function Q(e,t,n,i,r){for(n=t+n;t<n;){var a=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;i[r++]=a,i[r++]=o}}function ee(e,t,n,i,r){for(n=t+n;t<n;){var a=e[t++];i[r++]=255&a,i[r++]=a>>8&255,i[r++]=a>>16&255}}function te(e,t,n,r,a,o){if(0==o)for(n=t+n;t<n;)O(r,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),a+=32;else i(r,a,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function ie(e){return e==Ui||e==qi||e==Hi||e==Vi}function re(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new re,this.f.kb=new ae,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,r=t.ba.f.RGBA,a=r.eb,o=r.fb+e.ka*r.A,s=gr[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,f=t.cc,m=t.dc,g=t.Mc,b=t.Nc,y=e.ka,v=e.ka+e.T,x=e.U,w=x+1>>1;for(0==y?s(l,c,null,null,d,u,h,p,d,u,h,p,a,o,null,null,x):(s(t.ec,t.fc,l,c,f,m,g,b,d,u,h,p,a,o-r.A,a,o,x),++n);y+2<v;y+=2)f=d,m=u,g=h,b=p,u+=e.Rc,p+=e.Rc,o+=2*r.A,s(l,(c+=2*e.fa)-e.fa,l,c,f,m,g,b,d,u,h,p,a,o-r.A,a,o,x);return c+=e.fa,e.j+v<e.o?(i(t.ec,t.fc,l,c,x),i(t.cc,t.dc,d,u,w),i(t.Mc,t.Nc,h,p,w),n--):1&v||s(l,c,null,null,d,u,h,p,d,u,h,p,a,o+r.A,null,null,x),n}function ue(e,n,i){var r=e.F,a=[e.J];if(null!=r){var o=e.U,s=n.ba.S,l=s==Bi||s==Hi;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=_i(r,a[0],e.width,o,c,u,d+(l?0:3),n.A),t(i==c),e&&ie(s)&&ji(u,d,l,o,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,i=11>n,r=n==Ri||n==Fi||n==Bi||n==zi||12==n||ie(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Mn(t.Oa,e,r?11:12))return 0;if(r&&ie(n)&&yn(),e.da)alert("todo:use_scaling");else{if(i){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,yn()}}else alert("todo:EmitYUV");r&&(t.Jb=ue,i&&gn())}if(i&&!Pr){for(e=0;256>e;++e)Ir[e]=89858*(e-128)+kr>>_r,Lr[e]=-22014*(e-128)+kr,Tr[e]=-45773*(e-128),Er[e]=113618*(e-128)+kr>>_r;for(e=Cr;e<Ar;++e)t=76283*(e-16)+kr>>_r,Mr[e-Cr]=Ve(t,255),Rr[e-Cr]=Ve(t+8>>4,15);Pr=1}return 1}function pe(e){var n=e.ma,i=e.U,r=e.T;return t(!(1&e.ka)),0>=i||0>=r?0:(i=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,i),n.Dc+=i,1)}function fe(e){e.ma.memory=null}function me(e,t,n,i){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,i[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function be(e,t){return 120<t?t-120:1<=(n=((n=Xi[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var i=j(n),r=e[t+=255&i].g-8;return 0<r&&(_(n,n.u+8),i=j(n),t+=e[t].value,t+=i&(1<<r)-1),_(n,n.u+e[t].g),e[t].value}function ve(e,n,i){return i.g+=e.g,i.value+=e.value<<n>>>0,t(8>=i.g),e.g}function xe(e,n,i){var r=e.xc;return t((n=0==r?0:e.vc[e.md*(i>>r)+(n>>r)])<e.Wb),e.Ya[n]}function we(e,n,r,a){var o=e.ab,s=e.c*n,l=e.C;n=l+n;var c=r,d=a;for(a=e.Ta,r=e.Ua;0<o--;){var u=e.gc[o],h=l,p=n,f=c,m=d,g=(d=a,c=r,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:Gn(f,m,(p-h)*g,d,c);break;case 0:var b=h,y=p,v=d,x=c,w=(C=u).Ea;0==b&&(Hn(f,m,null,null,1,v,x),V(f,m+1,0,0,w-1,v,x+1),m+=w,x+=w,++b);for(var j=1<<C.b,S=j-1,_=D(w,C.b),k=C.K,C=C.w+(b>>C.b)*_;b<y;){var A=k,N=C,O=1;for(Vn(f,m,v,x-w,1,v,x);O<w;){var P=(O&~S)+j;P>w&&(P=w),(0,Xn[A[N++]>>8&15])(f,m+ +O,v,x+O-w,P-O,v,x+O),O=P}m+=w,x+=w,++b&S||(C+=_)}p!=u.nc&&i(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=f,y=m,w=(f=u.Ea)-(x=f&~(v=(m=1<<u.b)-1)),b=D(f,u.b),j=u.K,u=u.w+(h>>u.b)*b;h<p;){for(S=j,_=u,k=new z,C=y+x,A=y+f;y<C;)Z(S[_++],k),$n(k,g,y,m,d,c),y+=m,c+=m;y<A&&(Z(S[_++],k),$n(k,g,y,w,d,c),y+=w,c+=w),++h&v||(u+=b)}break;case 3:if(f==d&&m==c&&0<u.b){for(y=d,f=g=c+(p-h)*g-(x=(p-h)*D(u.Ea,u.b)),m=d,v=c,b=[],x=(w=x)-1;0<=x;--x)b[x]=m[v+x];for(x=w-1;0<=x;--x)y[f+x]=b[x];Zn(u,h,p,d,g,d,c)}else Zn(u,h,p,f,m,d,c)}c=a,d=r}d!=r&&i(a,r,c,d,s)}function je(e,n){var i=e.V,r=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var o=e.l,s=e.Ta,l=e.Ua,c=o.width;if(we(e,a,i,r),a=l=[l],t((i=e.C)<(r=n)),t(o.v<o.va),r>o.o&&(r=o.o),i<o.j){var d=o.j-i;i=o.j,a[0]+=d*c}if(i>=r?i=0:(a[0]+=4*o.v,o.ka=i-o.j,o.U=o.va-o.v,o.T=r-i,i=1),i){if(l=l[0],11>(i=e.ca).S){var u=i.f.RGBA,h=(r=i.S,a=o.U,o=o.T,d=u.eb,u.A),p=o;for(u=u.fb+e.Ma*u.A;0<p--;){var f=s,m=l,g=a,b=d,y=u;switch(r){case Mi:Qn(f,m,g,b,y);break;case Ri:ei(f,m,g,b,y);break;case Ui:ei(f,m,g,b,y),ji(b,y,0,g,1,0);break;case Di:ii(f,m,g,b,y);break;case Fi:te(f,m,g,b,y,1);break;case qi:te(f,m,g,b,y,1),ji(b,y,0,g,1,0);break;case Bi:te(f,m,g,b,y,0);break;case Hi:te(f,m,g,b,y,0),ji(b,y,1,g,1,0);break;case zi:ti(f,m,g,b,y);break;case Vi:ti(f,m,g,b,y),Si(b,y,g,1,0);break;case Wi:ni(f,m,g,b,y);break;default:t(0)}l+=c,u+=h}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=i.height)}}e.C=n,t(e.C<=e.i)}function Se(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,i=e.Ya[t].H;if(0<n[1][i[1]+0].g||0<n[2][i[2]+0].g||0<n[3][i[3]+0].g)return 0}return 1}function _e(e,n,i,r,a,o){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=mr[e.Z]);n<i;++n)mr[e.Z](s,l,r,a,r,a,o),s=r,l=a,a+=o;e.qd=s,e.rd=l}}function ke(e,n){var i=e.l.ma,r=0==i.Z||1==i.Z?e.l.j:e.C;if(r=e.C<r?r:e.C,t(n<=e.l.o),n>r){var a=e.l.width,o=i.ca,s=i.tb+a*r,l=e.V,c=e.Ba+e.c*r,d=e.gc;t(1==e.ab),t(3==d[0].hc),Kn(d[0],r,n,l,c,o,s),_e(i,r,n,o,s,a)}e.C=e.Ma=n}function Ce(e,n,i,r,a,o,s){var l=e.$/r,c=e.$%r,d=e.m,u=e.s,h=i+e.$,p=h;a=i+r*a;var f=i+r*o,m=280+u.ua,g=e.Pb?l:16777216,b=0<u.ua?u.Wa:null,y=u.wc,v=h<f?xe(u,c,l):null;t(e.C<o),t(f<=a);var x=!1;e:for(;;){for(;x||h<f;){var w=0;if(l>=g){var C=h-i;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&L(g.s.Wa,g.s.vb),g=l+Qi}if(c&y||(v=xe(u,c,l)),t(null!=v),v.Qb&&(n[h]=v.qb,x=!0),!x)if(k(d),v.jc){w=d,C=n;var A=h,N=v.pd[j(w)&Fn-1];t(v.jc),256>N.g?(_(w,w.u+N.g),C[A]=N.value,w=0):(_(w,w.u+N.g-256),t(256<=N.value),w=N.value),0==w&&(x=!0)}else w=ye(v.G[0],v.H[0],d);if(d.h)break;if(x||256>w){if(!x)if(v.nd)n[h]=(v.qb|w<<8)>>>0;else{if(k(d),x=ye(v.G[1],v.H[1],d),k(d),C=ye(v.G[2],v.H[2],d),A=ye(v.G[3],v.H[3],d),d.h)break;n[h]=(A<<24|x<<16|w<<8|C)>>>0}if(x=!1,++h,++c>=r&&(c=0,++l,null!=s&&l<=o&&!(l%16)&&s(e,l),null!=b))for(;p<h;)w=n[p++],b.X[(506832829*w&4294967295)>>>b.Mb]=w}else if(280>w){if(w=ge(w-256,d),C=ye(v.G[4],v.H[4],d),k(d),C=be(r,C=ge(C,d)),d.h)break;if(h-i<C||a-h<w)break e;for(A=0;A<w;++A)n[h+A]=n[h+A-C];for(h+=w,c+=w;c>=r;)c-=r,++l,null!=s&&l<=o&&!(l%16)&&s(e,l);if(t(h<=a),c&y&&(v=xe(u,c,l)),null!=b)for(;p<h;)w=n[p++],b.X[(506832829*w&4294967295)>>>b.Mb]=w}else{if(!(w<m))break e;for(x=w-280,t(null!=b);p<h;)w=n[p++],b.X[(506832829*w&4294967295)>>>b.Mb]=w;w=h,t(!(x>>>(C=b).Xa)),n[w]=C.X[x],x=!0}x||t(d.h==S(d))}if(e.Pb&&d.h&&h<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=s&&s(e,l>o?o:l),e.a=0,e.$=h-i}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ne(){var t=new on;return null==t?null:(t.a=0,t.xb=fr,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,$n=Y,Qn=J,ei=X,ti=$,ni=Q,ii=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Jn,t)}function Oe(e,n,i,s,l){var c=1,h=[e],f=[n],m=s.m,g=s.s,b=null,y=0;e:for(;;){if(i)for(;c&&v(m,1);){var x=h,w=f,S=s,C=1,A=S.m,N=S.gc[S.ab],O=v(A,2);if(S.Oc&1<<O)c=0;else{switch(S.Oc|=1<<O,N.hc=O,N.Ea=x[0],N.nc=w[0],N.K=[null],++S.ab,t(4>=S.ab),O){case 0:case 1:N.b=v(A,3)+2,C=Oe(D(N.Ea,N.b),D(N.nc,N.b),0,S,N.K),N.K=N.K[0];break;case 3:var P,I=v(A,8)+1,E=16<I?0:4<I?1:2<I?2:3;if(x[0]=D(N.Ea,E),N.b=E,P=C=Oe(I,1,0,S,N.K)){var L,M=I,R=N,B=1<<(8>>R.b),z=a(B);if(null==z)P=0;else{var W=R.K[0],U=R.w;for(z[0]=R.K[0][0],L=1;L<1*M;++L)z[L]=F(W[U+L],z[L-1]);for(;L<4*B;++L)z[L]=0;R.K[0]=null,R.K[0]=z,P=1}}C=P;break;case 2:break;default:t(0)}c=C}}if(h=h[0],f=f[0],c&&v(m,1)&&!(c=1<=(y=v(m,4))&&11>=y)){s.a=3;break e}var q;if(q=c)t:{var H,V,G,Z=s,Y=h,K=f,J=y,X=i,$=Z.m,Q=Z.s,ee=[null],te=1,ne=0,ie=$i[J];n:for(;;){if(X&&v($,1)){var re=v($,3)+2,ae=D(Y,re),oe=D(K,re),se=ae*oe;if(!Oe(ae,oe,0,Z,ee))break n;for(ee=ee[0],Q.xc=re,H=0;H<se;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if($.h)break n;for(V=0;5>V;++V){var ce=Yi[V];!V&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=o(te*ie,u),ue=te,he=o(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var fe=a(ne);if(null==pe||null==fe||null==de){Z.a=1;break n}var me=de;for(H=G=0;H<te;++H){var ge=pe[H],be=ge.G,ye=ge.H,xe=0,we=1,je=0;for(V=0;5>V;++V){ce=Yi[V],be[V]=me,ye[V]=G,!V&&0<J&&(ce+=1<<J);i:{var Se,_e=ce,ke=Z,Ne=fe,Pe=me,Ie=G,Ee=0,Te=ke.m,Le=v(Te,1);if(r(Ne,0,0,_e),Le){var Me=v(Te,1)+1,Re=v(Te,1),De=v(Te,0==Re?1:8);Ne[De]=1,2==Me&&(Ne[De=v(Te,8)]=1);var Fe=1}else{var Be=a(19),ze=v(Te,4)+4;if(19<ze){ke.a=3;var We=0;break i}for(Se=0;Se<ze;++Se)Be[Ji[Se]]=v(Te,3);var Ue=void 0,qe=void 0,He=ke,Ve=Be,Ge=_e,Ze=Ne,Ye=0,Ke=He.m,Je=8,Xe=o(128,u);r:for(;d(Xe,0,7,Ve,19);){if(v(Ke,1)){var $e=2+2*v(Ke,3);if((Ue=2+v(Ke,$e))>Ge)break r}else Ue=Ge;for(qe=0;qe<Ge&&Ue--;){k(Ke);var Qe=Xe[0+(127&j(Ke))];_(Ke,Ke.u+Qe.g);var et=Qe.value;if(16>et)Ze[qe++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,it=Zi[nt],rt=v(Ke,Gi[nt])+it;if(qe+rt>Ge)break r;for(var at=tt?Je:0;0<rt--;)Ze[qe++]=at}}Ye=1;break r}Ye||(He.a=3),Fe=Ye}(Fe=Fe&&!Te.h)&&(Ee=d(Pe,Ie,8,Ne,_e)),Fe&&0!=Ee?We=Ee:(ke.a=3,We=0)}if(0==We)break n;if(we&&1==Ki[V]&&(we=0==me[G].g),xe+=me[G].g,G+=We,3>=V){var ot,st=fe[0];for(ot=1;ot<ce;++ot)fe[ot]>st&&(st=fe[ot]);je+=st}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(be[3][ye[3]+0].value<<24|be[1][ye[1]+0].value<<16|be[2][ye[2]+0].value)>>>0,0==xe&&256>be[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=be[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Fn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ve(ht,8,ut),dt>>=ve(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ve(ct.G[2][ct.H[2]+dt],0,ut),ve(ct.G[3][ct.H[3]+dt],24,ut))}}}Q.vc=ee,Q.Wb=te,Q.Ya=pe,Q.yc=de,q=1;break t}q=0}if(!(c=q)){s.a=3;break e}if(0<y){if(g.ua=1<<y,!T(g.Wa,y)){s.a=1,c=0;break e}}else g.ua=0;var pt=s,ft=h,mt=f,gt=pt.s,bt=gt.xc;if(pt.c=ft,pt.i=mt,gt.md=D(ft,bt),gt.wc=0==bt?-1:(1<<bt)-1,i){s.xb=pr;break e}if(null==(b=a(h*f))){s.a=1,c=0;break e}c=(c=Ce(s,b,0,h,f,f,null))&&!m.h;break e}return c?(null!=l?l[0]=b:(t(null==b),t(i)),s.$=0,i||Ae(g)):Ae(g),c}function Pe(e,n){var i=e.c*e.i,r=i+n+16*n;return t(e.c<=n),e.V=a(r),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+i+n,1)}function Ie(e,n){var i=e.C,r=n-i,a=e.V,o=e.Ba+e.c*i;for(t(n<=e.l.o);0<r;){var s=16<r?16:r,l=e.l.ma,c=e.l.width,d=c*s,u=l.ca,h=l.tb+c*i,p=e.Ta,f=e.Ua;we(e,s,a,o),ki(p,f,u,h,d),_e(l,i,i+s,u,h,c),r-=s,a+=s*e.c,i+=s}t(i==n),e.C=e.Ma=n}function Ee(){this.ub=this.yd=this.td=this.Rb=0}function Te(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Me(){this.Yb=function(){var e=[];return function e(t,n,i){for(var r=i[n],a=0;a<r&&(t.push(i.length>n+1?[]:0),!(i.length<n+1));a++)e(t[a],n+1,i)}(e,0,[3,11]),e}()}function Re(){this.jb=a(3),this.Wc=s([4,8],Me),this.Xc=s([4,17],Me)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function We(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ue(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new We),this.aa=0,this.l=new Ge}function qe(){this.y=a(16),this.f=a(8),this.ea=a(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new Ee,this.Kc=new Te,this.ed=new De,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new Ue,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,x),this.ia=0,this.pb=o(4,ze),this.Pa=new Re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qe),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new We),this.L=this.aa=0,this.gd=s([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ze(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,nr||(nr=Xe)),e}function Ye(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ke(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var i=n.data,a=n.w,o=n.ha;if(4>o)return Ye(e,7,"Truncated header.");var s=i[a+0]|i[a+1]<<8|i[a+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ye(e,4,"Frame not displayable.");a+=3,o-=3;var c=e.Kc;if(l.Rb){if(7>o)return Ye(e,7,"cannot parse picture header");if(!Ke(i,a,o))return Ye(e,3,"Bad code word");c.c=16383&(i[a+4]<<8|i[a+3]),c.Td=i[a+4]>>6,c.i=16383&(i[a+6]<<8|i[a+5]),c.Ud=i[a+6]>>6,a+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,r((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,r(s.Zb,0,0,s.Zb.length),r(s.Lb,0,0,s.Lb)}if(l.ub>o)return Ye(e,7,"bad partition length");f(s=e.m,i,a,l.ub),a+=l.ub,o-=l.ub,l.Rb&&(c.Ld=A(s),c.Kd=A(s)),c=e.Qa;var d,u=e.Pa;if(t(null!=s),t(null!=c),c.Cb=A(s),c.Cb){if(c.Bb=A(s),A(s)){for(c.Fb=A(s),d=0;4>d;++d)c.Zb[d]=A(s)?g(s,7):0;for(d=0;4>d;++d)c.Lb[d]=A(s)?g(s,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=A(s)?m(s,8):255}else c.Bb=0;if(s.Ka)return Ye(e,3,"cannot parse segment header");if((c=e.ed).zd=A(s),c.Tb=m(s,6),c.wb=m(s,3),c.Pc=A(s),c.Pc&&A(s)){for(u=0;4>u;++u)A(s)&&(c.vd[u]=g(s,6));for(u=0;4>u;++u)A(s)&&(c.od[u]=g(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return Ye(e,3,"cannot parse filter header");var h=o;if(o=d=a,a=d+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(u=e.Xb))i=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=i[o+0]|i[o+1]<<8|i[o+2]<<16;p>c&&(p=c),f(e.Jc[+h],i,d,p),d+=p,c-=p,o+=3}f(e.Jc[+u],i,d,c),i=d<a?0:5}if(0!=i)return Ye(e,i,"cannot parse partitions");for(i=m(d=e.m,7),o=A(d)?g(d,4):0,a=A(d)?g(d,4):0,c=A(d)?g(d,4):0,u=A(d)?g(d,4):0,d=A(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var b=h.Zb[p];h.Fb||(b+=i)}else{if(0<p){e.pb[p]=e.pb[0];continue}b=i}var y=e.pb[p];y.Sc[0]=er[Ve(b+o,127)],y.Sc[1]=tr[Ve(b+0,127)],y.Eb[0]=2*er[Ve(b+a,127)],y.Eb[1]=101581*tr[Ve(b+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=er[Ve(b+u,117)],y.Qc[1]=tr[Ve(b+d,127)],y.lc=b+d}if(!l.Rb)return Ye(e,4,"Not a key frame.");for(A(s),l=e.Pa,i=0;4>i;++i){for(o=0;8>o;++o)for(a=0;3>a;++a)for(c=0;11>c;++c)u=N(s,lr[i][o][a][c])?m(s,8):or[i][o][a][c],l.Wc[i][o].Yb[a][c]=u;for(o=0;17>o;++o)l.Xc[i][o]=l.Wc[i][cr[o]]}return e.kc=A(s),e.kc&&(e.Bd=m(s,8)),e.cb=1}function Xe(e,t,n,i,r,a,o){var s=t[r].Yb[n];for(n=0;16>r;++r){if(!N(e,s[n+0]))return r;for(;!N(e,s[n+1]);)if(s=t[++r].Yb[0],n=0,16==r)return 16;var l=t[r+1].Yb;if(N(e,s[n+2])){var c=e,d=0;if(N(c,(h=s)[(u=n)+3]))if(N(c,h[u+6])){for(s=0,u=2*(d=N(c,h[u+8]))+(h=N(c,h[u+9+d])),d=0,h=ir[u];h[s];++s)d+=d+N(c,h[s]);d+=3+(8<<u)}else N(c,h[u+7])?(d=7+2*N(c,165),d+=N(c,145)):d=5+N(c,159);else d=N(c,h[u+4])?3+N(c,h[u+5]):2;s=l[2]}else d=1,s=l[1];l=o+rr[r],0>(c=e).b&&C(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,a[l]=((d^p)-p)*i[(0<r)+0]}return 16}function $e(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,r(e.zc,0,0,e.zc.length),e.ja=0}function Qe(e,t,n,i,r){r=e[t+n+32*i]+(r>>3),e[t+n+32*i]=-256&r?0>r?0:255:r}function et(e,t,n,i,r,a){Qe(e,t,0,n,i+r),Qe(e,t,1,n,i+a),Qe(e,t,2,n,i-a),Qe(e,t,3,n,i-r)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,i){var r,o=0,s=a(16);for(r=0;4>r;++r){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);s[o+0]=l+u,s[o+1]=c+d,s[o+2]=c-d,s[o+3]=l-u,o+=4,t++}for(r=o=0;4>r;++r)l=(e=s[o+0]+4)+s[o+8],c=e-s[o+8],d=(35468*s[o+4]>>16)-tt(s[o+12]),Qe(n,i,0,0,l+(u=tt(s[o+4])+(35468*s[o+12]>>16))),Qe(n,i,1,0,c+d),Qe(n,i,2,0,c-d),Qe(n,i,3,0,l-u),o++,i+=32}function it(e,t,n,i){var r=e[t+0]+4,a=35468*e[t+4]>>16,o=tt(e[t+4]),s=35468*e[t+1]>>16;et(n,i,0,r+o,e=tt(e[t+1]),s),et(n,i,1,r+a,e,s),et(n,i,2,r-a,e,s),et(n,i,3,r-o,e,s)}function rt(e,t,n,i,r){nt(e,t,n,i),r&&nt(e,t+16,n,i+4)}function at(e,t,n,i){ai(e,t+0,n,i,1),ai(e,t+32,n,i+128,1)}function ot(e,t,n,i){var r;for(e=e[t+0]+4,r=0;4>r;++r)for(t=0;4>t;++t)Qe(n,i,t,r,e)}function st(e,t,n,i){e[t+0]&&li(e,t+0,n,i),e[t+16]&&li(e,t+16,n,i+4),e[t+32]&&li(e,t+32,n,i+128),e[t+48]&&li(e,t+48,n,i+128+4)}function lt(e,t,n,i){var r,o=a(16);for(r=0;4>r;++r){var s=e[t+0+r]+e[t+12+r],l=e[t+4+r]+e[t+8+r],c=e[t+4+r]-e[t+8+r],d=e[t+0+r]-e[t+12+r];o[0+r]=s+l,o[8+r]=s-l,o[4+r]=d+c,o[12+r]=d-c}for(r=0;4>r;++r)s=(e=o[0+4*r]+3)+o[3+4*r],l=o[1+4*r]+o[2+4*r],c=o[1+4*r]-o[2+4*r],d=e-o[3+4*r],n[i+0]=s+l>>3,n[i+16]=d+c>>3,n[i+32]=s-l>>3,n[i+48]=d-c>>3,i+=64}function ct(e,t,n){var i,r=t-32,a=Ti,o=255-e[r-1];for(i=0;i<n;++i){var s,l=a,c=o+e[t-1];for(s=0;s<n;++s)e[t+s]=l[c+e[r+s]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)i(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)r(e,t,e[t-1],16),t+=32}function mt(e,t,n){var i;for(i=0;16>i;++i)r(t,n+32*i,e,16)}function gt(e,t){var n,i=16;for(n=0;16>n;++n)i+=e[t-1+32*n]+e[t+n-32];mt(i>>5,e,t)}function bt(e,t){var n,i=8;for(n=0;16>n;++n)i+=e[t-1+32*n];mt(i>>4,e,t)}function yt(e,t){var n,i=8;for(n=0;16>n;++n)i+=e[t+n-32];mt(i>>4,e,t)}function vt(e,t){mt(128,e,t)}function xt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,r=t-32;for(r=new Uint8Array([xt(e[r-1],e[r+0],e[r+1]),xt(e[r+0],e[r+1],e[r+2]),xt(e[r+1],e[r+2],e[r+3]),xt(e[r+2],e[r+3],e[r+4])]),n=0;4>n;++n)i(e,t+32*n,r,0,r.length)}function jt(e,t){var n=e[t-1],i=e[t-1+32],r=e[t-1+64],a=e[t-1+96];O(e,t+0,16843009*xt(e[t-1-32],n,i)),O(e,t+32,16843009*xt(n,i,r)),O(e,t+64,16843009*xt(i,r,a)),O(e,t+96,16843009*xt(r,a,a))}function St(e,t){var n,i=4;for(n=0;4>n;++n)i+=e[t+n-32]+e[t-1+32*n];for(i>>=3,n=0;4>n;++n)r(e,t+32*n,i,4)}function _t(e,t){var n=e[t-1+0],i=e[t-1+32],r=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=xt(i,r,e[t-1+96]),e[t+1+96]=e[t+0+64]=xt(n,i,r),e[t+2+96]=e[t+1+64]=e[t+0+32]=xt(a,n,i),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=xt(o,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=xt(s,o,a),e[t+3+32]=e[t+2+0]=xt(l,s,o),e[t+3+0]=xt(c,l,s)}function kt(e,t){var n=e[t+1-32],i=e[t+2-32],r=e[t+3-32],a=e[t+4-32],o=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=xt(e[t+0-32],n,i),e[t+1+0]=e[t+0+32]=xt(n,i,r),e[t+2+0]=e[t+1+32]=e[t+0+64]=xt(i,r,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=xt(r,a,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=xt(a,o,s),e[t+3+64]=e[t+2+96]=xt(o,s,l),e[t+3+96]=xt(s,l,l)}function Ct(e,t){var n=e[t-1+0],i=e[t-1+32],r=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+o+1>>1,e[t+1+0]=e[t+2+64]=o+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=xt(r,i,n),e[t+0+64]=xt(i,n,a),e[t+0+32]=e[t+1+96]=xt(n,a,o),e[t+1+32]=e[t+2+96]=xt(a,o,s),e[t+2+32]=e[t+3+96]=xt(o,s,l),e[t+3+32]=xt(s,l,c)}function At(e,t){var n=e[t+0-32],i=e[t+1-32],r=e[t+2-32],a=e[t+3-32],o=e[t+4-32],s=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+i+1>>1,e[t+1+0]=e[t+0+64]=i+r+1>>1,e[t+2+0]=e[t+1+64]=r+a+1>>1,e[t+3+0]=e[t+2+64]=a+o+1>>1,e[t+0+32]=xt(n,i,r),e[t+1+32]=e[t+0+96]=xt(i,r,a),e[t+2+32]=e[t+1+96]=xt(r,a,o),e[t+3+32]=e[t+2+96]=xt(a,o,s),e[t+3+64]=xt(o,s,l),e[t+3+96]=xt(s,l,c)}function Nt(e,t){var n=e[t-1+0],i=e[t-1+32],r=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+i+1>>1,e[t+2+0]=e[t+0+32]=i+r+1>>1,e[t+2+32]=e[t+0+64]=r+a+1>>1,e[t+1+0]=xt(n,i,r),e[t+3+0]=e[t+1+32]=xt(i,r,a),e[t+3+32]=e[t+1+64]=xt(r,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Ot(e,t){var n=e[t-1+0],i=e[t-1+32],r=e[t-1+64],a=e[t-1+96],o=e[t-1-32],s=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=i+n+1>>1,e[t+0+64]=e[t+2+96]=r+i+1>>1,e[t+0+96]=a+r+1>>1,e[t+3+0]=xt(s,l,c),e[t+2+0]=xt(o,s,l),e[t+1+0]=e[t+3+32]=xt(n,o,s),e[t+1+32]=e[t+3+64]=xt(i,n,o),e[t+1+64]=e[t+3+96]=xt(r,i,n),e[t+1+96]=xt(a,r,i)}function Pt(e,t){var n;for(n=0;8>n;++n)i(e,t+32*n,e,t-32,8)}function It(e,t){var n;for(n=0;8>n;++n)r(e,t,e[t-1],8),t+=32}function Et(e,t,n){var i;for(i=0;8>i;++i)r(t,n+32*i,e,8)}function Tt(e,t){var n,i=8;for(n=0;8>n;++n)i+=e[t+n-32]+e[t-1+32*n];Et(i>>4,e,t)}function Lt(e,t){var n,i=4;for(n=0;8>n;++n)i+=e[t+n-32];Et(i>>3,e,t)}function Mt(e,t){var n,i=4;for(n=0;8>n;++n)i+=e[t-1+32*n];Et(i>>3,e,t)}function Rt(e,t){Et(128,e,t)}function Dt(e,t,n){var i=e[t-n],r=e[t+0],a=3*(r-i)+Ii[1020+e[t-2*n]-e[t+n]],o=Ei[112+(a+4>>3)];e[t-n]=Ti[255+i+Ei[112+(a+3>>3)]],e[t+0]=Ti[255+r-o]}function Ft(e,t,n,i){var r=e[t+0],a=e[t+n];return Li[255+e[t-2*n]-e[t-n]]>i||Li[255+a-r]>i}function Bt(e,t,n,i){return 4*Li[255+e[t-n]-e[t+0]]+Li[255+e[t-2*n]-e[t+n]]<=i}function zt(e,t,n,i,r){var a=e[t-3*n],o=e[t-2*n],s=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Li[255+s-l]+Li[255+o-c]>i?0:Li[255+e[t-4*n]-a]<=r&&Li[255+a-o]<=r&&Li[255+o-s]<=r&&Li[255+u-d]<=r&&Li[255+d-c]<=r&&Li[255+c-l]<=r}function Wt(e,t,n,i){var r=2*i+1;for(i=0;16>i;++i)Bt(e,t+i,n,r)&&Dt(e,t+i,n)}function Ut(e,t,n,i){var r=2*i+1;for(i=0;16>i;++i)Bt(e,t+i*n,1,r)&&Dt(e,t+i*n,1)}function qt(e,t,n,i){var r;for(r=3;0<r;--r)Wt(e,t+=4*n,n,i)}function Ht(e,t,n,i){var r;for(r=3;0<r;--r)Ut(e,t+=4,n,i)}function Vt(e,t,n,i,r,a,o,s){for(a=2*a+1;0<r--;){if(zt(e,t,n,a,o))if(Ft(e,t,n,s))Dt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],f=l[c+d],m=l[c+2*d],g=27*(y=Ii[1020+3*(p-h)+Ii[1020+u-f]])+63>>7,b=18*y+63>>7,y=9*y+63>>7;l[c-3*d]=Ti[255+l[c-3*d]+y],l[c-2*d]=Ti[255+u+b],l[c-d]=Ti[255+h+g],l[c+0]=Ti[255+p-g],l[c+d]=Ti[255+f-b],l[c+2*d]=Ti[255+m-y]}t+=i}}function Gt(e,t,n,i,r,a,o,s){for(a=2*a+1;0<r--;){if(zt(e,t,n,a,o))if(Ft(e,t,n,s))Dt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],f=Ei[112+(4+(m=3*(h-u))>>3)],m=Ei[112+(m+3>>3)],g=f+1>>1;l[c-2*d]=Ti[255+l[c-2*d]+g],l[c-d]=Ti[255+u+m],l[c+0]=Ti[255+h-f],l[c+d]=Ti[255+p-g]}t+=i}}function Zt(e,t,n,i,r,a){Vt(e,t,n,1,16,i,r,a)}function Yt(e,t,n,i,r,a){Vt(e,t,1,n,16,i,r,a)}function Kt(e,t,n,i,r,a){var o;for(o=3;0<o;--o)Gt(e,t+=4*n,n,1,16,i,r,a)}function Jt(e,t,n,i,r,a){var o;for(o=3;0<o;--o)Gt(e,t+=4,1,n,16,i,r,a)}function Xt(e,t,n,i,r,a,o,s){Vt(e,t,r,1,8,a,o,s),Vt(n,i,r,1,8,a,o,s)}function $t(e,t,n,i,r,a,o,s){Vt(e,t,1,r,8,a,o,s),Vt(n,i,1,r,8,a,o,s)}function Qt(e,t,n,i,r,a,o,s){Gt(e,t+4*r,r,1,8,a,o,s),Gt(n,i+4*r,r,1,8,a,o,s)}function en(e,t,n,i,r,a,o,s){Gt(e,t+4,1,r,8,a,o,s),Gt(n,i+4,1,r,8,a,o,s)}function tn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function on(){this.xb=this.a=0,this.l=new Ge,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,rn),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,i,r,a,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)r[a+t]=e+n[i+t]&255,e=r[a+t]}function cn(e,t,n,i,r,a,o){var s;if(null==e)ln(null,null,n,i,r,a,o);else for(s=0;s<o;++s)r[a+s]=e[t+s]+n[i+s]&255}function dn(e,t,n,i,r,a,o){if(null==e)ln(null,null,n,i,r,a,o);else{var s,l=e[t+0],c=l,d=l;for(s=0;s<o;++s)c=d+(l=e[t+s])-c,d=n[i+s]+(-256&c?0>c?0:255:c)&255,c=l,r[a+s]=d}}function un(e,n,r,o){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>r||0>=o||r+o>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new sn,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,f=e.nb,m=u+1,g=h-1,y=c.l;if(t(null!=d&&null!=p&&null!=n),mr[0]=null,mr[1]=ln,mr[2]=cn,mr[3]=dn,c.ca=p,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(y.put=pe,y.ac=he,y.bc=fe,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)e:{t(1==c.$a),n=Ne();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,b(n.m,d,m,g),!Oe(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Se(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Pe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=l-r}t(null!=e.ga),t(r+o<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(m=e.rc,g=e.Vc,y=e.Fa,u=e.P+1+r*n,h=e.mb,p=e.nb+r*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=mr[d.Z]),c=0;c<o;++c)mr[d.Z](m,g,y,u,h,p,n),m=h,g=p,p+=n,u+=n;else for(c=0;c<o;++c)i(h,p,y,u,n),m=h,g=p,p+=n,u+=n;e.rc=m,e.Vc=g}else{if(t(null!=d.mc),n=r+o,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,m=c.Ba,g=c.c;var v=c.i,x=(y=1,u=c.$/g,h=c.$%g,p=c.m,f=c.s,c.$),w=g*v,j=g*n,_=f.wc,C=x<j?xe(f,h,u):null;t(x<=w),t(n<=v),t(Se(f));t:for(;;){for(;!p.h&&x<j;){if(h&_||(C=xe(f,h,u)),t(null!=C),k(p),256>(v=ye(C.G[0],C.H[0],p)))d[m+x]=v,++x,++h>=g&&(h=0,++u<=n&&!(u%16)&&ke(c,u));else{if(!(280>v)){y=0;break t}v=ge(v-256,p);var A,N=ye(C.G[4],C.H[4],p);if(k(p),!(x>=(N=be(g,N=ge(N,p)))&&w-x>=v)){y=0;break t}for(A=0;A<v;++A)d[m+x+A]=d[m+x+A-N];for(x+=v,h+=v;h>=g;)h-=g,++u<=n&&!(u%16)&&ke(c,u);x<j&&h&_&&(C=xe(f,h,u))}t(p.h==S(p))}ke(c,u>n?n:u);break t}!y||p.h&&x<w?(y=0,c.a=p.h?5:3):c.$=x,n=y}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Ie);if(!n){o=0;break e}}r+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+r*s}function hn(e,t,n,i,r,a){for(;0<r--;){var o,s=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(o=0;o<i;++o){var u=c[d+4*o];255!=u&&(u*=32897,s[l+4*o+0]=s[l+4*o+0]*u>>23,s[l+4*o+1]=s[l+4*o+1]*u>>23,s[l+4*o+2]=s[l+4*o+2]*u>>23)}t+=a}}function pn(e,t,n,i,r){for(;0<i--;){var a;for(a=0;a<n;++a){var o=e[t+2*a+0],s=15&(c=e[t+2*a+1]),l=4369*s,c=(240&c|c>>4)*l>>16;e[t+2*a+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*a+1]=240&c|s}t+=r}}function fn(e,t,n,i,r,a,o,s){var l,c,d=255;for(c=0;c<r;++c){for(l=0;l<i;++l){var u=e[t+l];a[o+4*l]=u,d&=u}t+=n,o+=s}return 255!=d}function mn(e,t,n,i,r){var a;for(a=0;a<r;++a)n[i+a]=e[t+a]>>8}function gn(){ji=hn,Si=pn,_i=fn,ki=mn}function bn(n,i,r){e[n]=function(e,n,a,o,s,l,c,d,u,h,p,f,m,g,b,y,v){var x,w=v-1>>1,j=s[l+0]|c[d+0]<<16,S=u[h+0]|p[f+0]<<16;t(null!=e);var _=3*j+S+131074>>2;for(i(e[n+0],255&_,_>>16,m,g),null!=a&&(_=3*S+j+131074>>2,i(a[o+0],255&_,_>>16,b,y)),x=1;x<=w;++x){var k=s[l+x]|c[d+x]<<16,C=u[h+x]|p[f+x]<<16,A=j+k+S+C+524296,N=A+2*(k+S)>>3;_=N+j>>1,j=(A=A+2*(j+C)>>3)+k>>1,i(e[n+2*x-1],255&_,_>>16,m,g+(2*x-1)*r),i(e[n+2*x-0],255&j,j>>16,m,g+(2*x-0)*r),null!=a&&(_=A+S>>1,j=N+C>>1,i(a[o+2*x-1],255&_,_>>16,b,y+(2*x-1)*r),i(a[o+2*x+0],255&j,j>>16,b,y+(2*x+0)*r)),j=k,S=C}1&v||(_=3*j+S+131074>>2,i(e[n+v-1],255&_,_>>16,m,g+(v-1)*r),null!=a&&(_=3*S+j+131074>>2,i(a[o+v-1],255&_,_>>16,b,y+(v-1)*r)))}}function yn(){gr[Mi]=br,gr[Ri]=vr,gr[Di]=yr,gr[Fi]=xr,gr[Bi]=wr,gr[zi]=jr,gr[Wi]=Sr,gr[Ui]=vr,gr[qi]=xr,gr[Hi]=wr,gr[Vi]=jr}function vn(e){return e&~Or?0>e?0:255:e>>Nr}function xn(e,t){return vn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return vn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return vn((19077*e>>8)+(33050*t>>8)-17685)}function Sn(e,t,n,i,r){i[r+0]=xn(e,n),i[r+1]=wn(e,t,n),i[r+2]=jn(e,t)}function _n(e,t,n,i,r){i[r+0]=jn(e,t),i[r+1]=wn(e,t,n),i[r+2]=xn(e,n)}function kn(e,t,n,i,r){var a=wn(e,t,n);t=a<<3&224|jn(e,t)>>3,i[r+0]=248&xn(e,n)|a>>5,i[r+1]=t}function Cn(e,t,n,i,r){var a=240&jn(e,t)|15;i[r+0]=240&xn(e,n)|wn(e,t,n)>>4,i[r+1]=a}function An(e,t,n,i,r){i[r+0]=255,Sn(e,t,n,i,r+1)}function Nn(e,t,n,i,r){_n(e,t,n,i,r),i[r+3]=255}function On(e,t,n,i,r){Sn(e,t,n,i,r),i[r+3]=255}function Pn(t,n,i){e[t]=function(e,t,r,a,o,s,l,c,d){for(var u=c+(-2&d)*i;c!=u;)n(e[t+0],r[a+0],o[s+0],l,c),n(e[t+1],r[a+0],o[s+0],l,c+i),t+=2,++a,++s,c+=2*i;1&d&&n(e[t+0],r[a+0],o[s+0],l,c)}}function In(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function En(e,t,n,i,r){switch(e>>>30){case 3:ai(t,n,i,r,0);break;case 2:oi(t,n,i,r);break;case 1:li(t,n,i,r)}}function Tn(e,t){var n,a,o=t.M,s=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<o?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(r(l,c-32-1,127,21),r(d,u-32-1,127,9),r(h,p-32-1,127,9)),a=0;a<e.za;++a){var f=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)i(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)i(d,u+32*n-4,d,u+32*n+4,4),i(h,p+32*n-4,h,p+32*n+4,4)}var m=e.Gd,g=e.Hd+a,b=f.ad,y=f.Hc;if(0<o&&(i(l,c-32,m[g].y,0,16),i(d,u-32,m[g].f,0,8),i(h,p-32,m[g].ea,0,8)),f.Za){var v=l,x=c-32+16;for(0<o&&(a>=e.za-1?r(v,x,m[g].y[15],4):i(v,x,m[g+1].y,0,4)),n=0;4>n;n++)v[x+128+n]=v[x+256+n]=v[x+384+n]=v[x+0+n];for(n=0;16>n;++n,y<<=2)v=l,x=c+Dr[n],ur[f.Ob[n]](v,x),En(y,b,16*+n,v,x)}else if(v=In(a,o,f.Ob[0]),dr[v](l,c),0!=y)for(n=0;16>n;++n,y<<=2)En(y,b,16*+n,l,c+Dr[n]);for(n=f.Gc,v=In(a,o,f.Dd),hr[v](d,u),hr[v](h,p),y=b,v=d,x=u,255&(f=0|n)&&(170&f?si(y,256,v,x):ci(y,256,v,x)),f=h,y=p,255&(n>>=8)&&(170&n?si(b,320,f,y):ci(b,320,f,y)),o<e.Ub-1&&(i(m[g].y,0,l,c+480,16),i(m[g].f,0,d,u+224,8),i(m[g].ea,0,h,p+224,8)),n=8*s*e.B,m=e.sa,g=e.ta+16*a+16*s*e.R,b=e.qa,f=e.ra+8*a+n,y=e.Ha,v=e.Ia+8*a+n,n=0;16>n;++n)i(m,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)i(b,f+n*e.B,d,u+32*n,8),i(y,v+n*e.B,h,p+32*n,8)}}function Ln(e,i,r,a,o,s,l,c,d){var u=[0],h=[0],p=0,f=null!=d?d.kd:0,m=null!=d?d:new nn;if(null==e||12>r)return 7;m.data=e,m.w=i,m.ha=r,i=[i],r=[r],m.gb=[m.gb];e:{var g=i,y=r,v=m.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){v=3;break e}var x=E(e,g[0]+4);if(12>x||4294967286<x){v=3;break e}if(f&&x>y[0]-8){v=7;break e}v[0]=x,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(x=0<m.gb[0],r=r[0];;){e:{var j=e;y=i,v=r;var S=u,_=h,k=g=[0];if((N=p=[p])[0]=0,8>v[0])v=7;else{if(!n(j,y[0],"VP8X")){if(10!=E(j,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var C=E(j,y[0]+8),A=1+I(j,y[0]+12);if(2147483648<=A*(j=1+I(j,y[0]+15))){v=3;break e}null!=k&&(k[0]=C),null!=S&&(S[0]=A),null!=_&&(_[0]=j),y[0]+=18,v[0]-=18,N[0]=1}v=0}}if(p=p[0],g=g[0],0!=v)return v;if(y=!!(2&g),!x&&p)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&y&&null==d){v=0;break}if(4>r){v=7;break}if(x&&p||!x&&!p&&!n(e,i[0],"ALPH")){r=[r],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{C=e,v=i,x=r;var N=m.gb;S=m.na,_=m.P,k=m.Sa,A=22,t(null!=C),t(null!=x),j=v[0];var O=x[0];for(t(null!=S),t(null!=k),S[0]=null,_[0]=null,k[0]=0;;){if(v[0]=j,x[0]=O,8>O){v=7;break e}var P=E(C,j+4);if(4294967286<P){v=3;break e}var T=8+P+1&-2;if(A+=T,0<N&&A>N){v=3;break e}if(!n(C,j,"VP8 ")||!n(C,j,"VP8L")){v=0;break e}if(O[0]<T){v=7;break e}n(C,j,"ALPH")||(S[0]=C,_[0]=j+8,k[0]=P),j+=T,O-=T}}if(r=r[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=v)break}r=[r],m.Ja=[m.Ja],m.xa=[m.xa];e:if(N=e,v=i,x=r,S=m.gb[0],_=m.Ja,k=m.xa,C=v[0],j=!n(N,C,"VP8 "),A=!n(N,C,"VP8L"),t(null!=N),t(null!=x),t(null!=_),t(null!=k),8>x[0])v=7;else{if(j||A){if(N=E(N,C+4),12<=S&&N>S-12){v=3;break e}if(f&&N>x[0]-8){v=7;break e}_[0]=N,v[0]+=8,x[0]-=8,k[0]=A}else k[0]=5<=x[0]&&47==N[C+0]&&!(N[C+4]>>5),_[0]=x[0];v=0}if(r=r[0],m.Ja=m.Ja[0],m.xa=m.xa[0],i=i[0],0!=v)break;if(4294967286<m.Ja)return 3;if(null==c||y||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>r){v=7;break}c=l,f=g,y=s,null==e||5>r?e=0:5<=r&&47==e[i+0]&&!(e[i+4]>>5)?(x=[0],N=[0],S=[0],b(_=new w,e,i,r),me(_,x,N,S)?(null!=c&&(c[0]=x[0]),null!=f&&(f[0]=N[0]),null!=y&&(y[0]=S[0]),e=1):e=0):e=0}else{if(10>r){v=7;break}c=g,null==e||10>r||!Ke(e,i+3,r-3)?e=0:(f=e[i+0]|e[i+1]<<8|e[i+2]<<16,y=16383&(e[i+7]<<8|e[i+6]),e=16383&(e[i+9]<<8|e[i+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=m.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=m,d.offset=i-d.w,t(4294967286>i-d.w),t(d.offset==d.ha-r));break}return 0==v||7==v&&p&&null==d?(null!=s&&(s[0]|=null!=m.na&&0<m.na.length),null!=a&&(a[0]=l),null!=o&&(o[0]=g),0):v}function Mn(e,t,n){var i=t.width,r=t.height,a=0,o=0,s=i,l=r;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,a=e.v,o=e.j,11>n||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=l||a+s>i||o+l>r))return 0;if(t.v=a,t.j=o,t.va=a+s,t.o=o+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!R(s,l,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*i/4&&t.hb<3*r/4,t.Kb=0),1}function Rn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,i){if(null==i||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var r=n.cd,o=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=r||0>=o||s+r>e||l+o>t)return 2;e=r,t=o}if(n.da){if(!R(e,t,r=[n.ib],o=[n.hb]))return 2;e=r[0],t=o[0]}}i.width=e,i.height=t;e:{var c=i.width,d=i.height;if(e=i.S,0>=c||0>=d||!(e>=Mi&&13>e))e=2;else{if(0>=i.Rd&&null==i.sd){s=o=r=t=0;var u=(l=c*zr[e])*d;if(11>e||(o=(d+1)/2*(t=(c+1)/2),12==e&&(s=(r=c)*d)),null==(d=a(u+2*o+s))){e=1;break e}i.sd=d,11>e?((c=i.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=i.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=o,c.ea=d,c.W=0+u+o,c.Db=t,c.Ed=o,12==e&&(c.F=d,c.J=0+u+2*o),c.Tc=s,c.lb=r)}if(t=1,r=i.S,o=i.width,s=i.height,r>=Mi&&13>r)if(11>r)e=i.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+o<=e.size,t&=l>=o*zr[r],t&=null!=e.eb;else{e=i.f.kb,l=(o+1)/2,u=(s+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),f=p*(s-1)+o;t&=c*(s-1)+o<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=o&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==r&&(t&=p>=o,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Rn(i)),e}var Fn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zn=24,Wn=32,Un=8,qn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return W(W(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return W(e,t[n-1])},e.Predictor7=function(e,t,n){return W(e,t[n+0])},e.Predictor8=function(e,t,n){return W(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return W(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return W(W(e,t[n-1]),W(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var i=t[n+0];return 0>=H(i>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(i>>16&255,e>>16&255,t>>16&255)+H(i>>8&255,e>>8&255,t>>8&255)+H(255&i,255&e,255&t)?i:e},e.Predictor12=function(e,t,n){var i=t[n+0];return(U((e>>24&255)+(i>>24&255)-((t=t[n-1])>>24&255))<<24|U((e>>16&255)+(i>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(i>>8&255)-(t>>8&255))<<8|U((255&e)+(255&i)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var i=t[n-1];return(q((e=W(e,t[n+0]))>>24&255,i>>24&255)<<24|q(e>>16&255,i>>16&255)<<16|q(e>>8&255,i>>8&255)<<8|q(255&e,255&i))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=V,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,Zn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Kn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,Qn,ei,ti,ni,ii,ri,ai,oi,si,li,ci,di,ui,hi,pi,fi,mi,gi,bi,yi,vi,xi,wi,ji,Si,_i,ki,Ci=a(511),Ai=a(2041),Ni=a(225),Oi=a(767),Pi=0,Ii=Ai,Ei=Ni,Ti=Oi,Li=Ci,Mi=0,Ri=1,Di=2,Fi=3,Bi=4,zi=5,Wi=6,Ui=7,qi=8,Hi=9,Vi=10,Gi=[2,3,7],Zi=[3,3,11],Yi=[280,256,256,256,40],Ki=[0,1,1,1,0],Ji=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$i=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qi=8,er=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nr=null,ir=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ar=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],or=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],dr=[],ur=[],hr=[],pr=1,fr=2,mr=[],gr=[];bn("UpsampleRgbLinePair",Sn,3),bn("UpsampleBgrLinePair",_n,3),bn("UpsampleRgbaLinePair",On,4),bn("UpsampleBgraLinePair",Nn,4),bn("UpsampleArgbLinePair",An,4),bn("UpsampleRgba4444LinePair",Cn,2),bn("UpsampleRgb565LinePair",kn,2);var br=e.UpsampleRgbLinePair,yr=e.UpsampleBgrLinePair,vr=e.UpsampleRgbaLinePair,xr=e.UpsampleBgraLinePair,wr=e.UpsampleArgbLinePair,jr=e.UpsampleRgba4444LinePair,Sr=e.UpsampleRgb565LinePair,_r=16,kr=1<<_r-1,Cr=-227,Ar=482,Nr=6,Or=(256<<Nr)-1,Pr=0,Ir=a(256),Er=a(256),Tr=a(256),Lr=a(256),Mr=a(Ar-Cr),Rr=a(Ar-Cr);Pn("YuvToRgbRow",Sn,3),Pn("YuvToBgrRow",_n,3),Pn("YuvToRgbaRow",On,4),Pn("YuvToBgraRow",Nn,4),Pn("YuvToArgbRow",An,4),Pn("YuvToRgba4444Row",Cn,2),Pn("YuvToRgb565Row",kn,2);var Dr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fr=[0,2,8],Br=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,s,l,c){var d=Ri,u=new tn,h=new oe;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,f=h.height,m=new se;if(null==m||null==e)var g=2;else t(null!=m),g=Ln(e,n,s,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=g?p=0:(null!=p&&(p[0]=m.width[0]),null!=f&&(f[0]=m.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ge,(c=new nn).data=e,c.w=n,c.ha=s,c.kd=1,n=[0],t(null!=c),(0==(e=Ln(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=fe,l.ma=u,c.xa){if(null==(e=Ne())){u=1;break e}if(function(e,n){var i=[0],r=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,b(e.m,n.data,n.w,n.ha),!me(e.m,i,r,a)){e.a=3;break t}if(e.xb=fr,n.width=i[0],n.height=r[0],!Oe(i[0],r[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Dn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(s=l.l)),t(null!=(c=s.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Mn(c.Oa,s,Fi)){l.a=2;break n}if(!Pe(l,s.width))break n;if(s.da)break n;if((s.da||ie(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!T(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,s.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ze)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=Dn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,s=u.Oa,t(null!=(c=e)),null!=s){if(0<(p=0>(p=s.Md)?0:100<p?255:255*p/100)){for(f=m=0;4>f;++f)12>(g=c.pb[f]).lc&&(g.ia=p*Br[0>g.lc?0:g.lc]>>3),m|=g.ia;m&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=s.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Fr[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var d=e.Qa.Lb[s];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[s][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}s=0}else Ye(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=1);t:{s=e.Ic,l=4*(p=e.za);var f=32*p,m=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,b=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*s+Fr[e.L])/2*f)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)s=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=a(u),e.Fc=0,null==e.Ec){s=Ye(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=o(f,qe),e.Hd=0,e.rb=o(m+1,Be),e.sb=1,e.wa=g?o(g,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=o(b,We),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(f=Fr[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*s*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+f,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),$e(e),r(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Pi){for(s=-255;255>=s;++s)Ci[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Ai[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Ni[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Oi[255+s]=0>s?0:255<s?255:s;Pi=1}ri=lt,ai=rt,si=at,li=ot,ci=st,oi=it,di=Zt,ui=Yt,hi=Xt,pi=$t,fi=Kt,mi=Jt,gi=Qt,bi=en,yi=Wt,vi=Ut,xi=qt,wi=Ht,ur[0]=St,ur[1]=dt,ur[2]=wt,ur[3]=jt,ur[4]=_t,ur[5]=Ct,ur[6]=kt,ur[7]=At,ur[8]=Ot,ur[9]=Nt,dr[0]=gt,dr[1]=ht,dr[2]=pt,dr[3]=ft,dr[4]=bt,dr[5]=yt,dr[6]=vt,hr[0]=Tt,hr[1]=ut,hr[2]=Pt,hr[3]=It,hr[4]=Mt,hr[5]=Lt,hr[6]=Rt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,s=e.Jc[e.M&e.Xb],l=e.m,c=e;for(o=0;o<c.za;++o){var d=l,u=c,h=u.Ac,p=u.Bc+4*o,f=u.zc,m=u.ya[u.aa+o];if(u.Qa.Bb?m.$b=N(d,u.Pa.jb[0])?2+N(d,u.Pa.jb[2]):N(d,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=N(d,u.Bd)),m.Za=!N(d,145)+0,m.Za){var g=m.Ob,b=0;for(u=0;4>u;++u){var y,v=f[0+u];for(y=0;4>y;++y){v=sr[h[p+y]][v];for(var x=ar[N(d,v[0])];0<x;)x=ar[2*x+N(d,v[x])];v=-x,h[p+y]=v}i(g,b,h,p,4),b+=4,f[0+u]=v}}else v=N(d,156)?N(d,128)?1:3:N(d,163)?2:0,m.Ob[0]=v,r(h,p,v,4),r(f,0,v,4);m.Dd=N(d,142)?N(d,114)?N(d,183)?1:3:2:0}if(c.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],p=l.kc?o.Ad:0)d.la=h.la=0,o.Za||(d.Na=h.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,f=l.ya[l.aa+l.ja],m=l.pb[f.$b],u=f.ad,g=0,b=l.rb[l.sb-1],v=y=0,r(u,g,0,384),f.Za)var S=0,_=p[3];else{x=a(16);var k=d.Na+b.Na;if(k=nr(h,p[1],k,m.Eb,0,x,0),d.Na=b.Na=(0<k)+0,1<k)ri(x,0,u,g);else{var C=x[0]+3>>3;for(x=0;256>x;x+=16)u[g+x]=C}S=1,_=p[0]}var A=15&d.la,O=15&b.la;for(x=0;4>x;++x){var P=1&O;for(C=j=0;4>C;++C)A=A>>1|(P=(k=nr(h,_,k=P+(1&A),m.Sc,S,u,g))>S)<<7,j=j<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;A>>=4,O=O>>1|P<<7,y=(y<<8|j)>>>0}for(_=A,S=O>>4,w=0;4>w;w+=2){for(j=0,A=d.la>>4+w,O=b.la>>4+w,x=0;2>x;++x){for(P=1&O,C=0;2>C;++C)k=P+(1&A),A=A>>1|(P=0<(k=nr(h,p[2],k,m.Qc,0,u,g)))<<3,j=j<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;A>>=2,O=O>>1|P<<5}v|=j<<4*w,_|=A<<4<<w,S|=(240&O)<<w}d.la=_,b.la=S,f.Hc=y,f.Gc=v,f.ia=43690&v?0:m.ia,p=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if($e(e),l=n,c=1,o=(s=e).D,d=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)t:{if(o.M=s.M,o.uc=d,Tn(s,o),c=1,o=(j=s.D).Nb,d=(v=Fr[s.L])*s.R,h=v/2*s.B,x=16*o*s.R,C=8*o*s.B,p=s.sa,f=s.ta-d+x,m=s.qa,u=s.ra-h+C,g=s.Ha,b=s.Ia-h+C,O=0==(A=j.M),y=A>=s.Va-1,2==s.Aa&&Tn(s,j),j.uc)for(P=(k=s).D.M,t(k.D.uc),j=k.yb;j<k.Hb;++j){S=j,_=P;var I=(E=(W=k).D).Nb;w=W.R;var E=E.wa[E.Y+S],T=W.sa,L=W.ta+16*I*w+16*S,M=E.dd,R=E.tc;if(0!=R)if(t(3<=R),1==W.L)0<S&&vi(T,L,w,R+4),E.La&&wi(T,L,w,R),0<_&&yi(T,L,w,R+4),E.La&&xi(T,L,w,R);else{var D=W.B,F=W.qa,B=W.ra+8*I*D+8*S,z=W.Ha,W=W.Ia+8*I*D+8*S;I=E.ld,0<S&&(ui(T,L,w,R+4,M,I),pi(F,B,z,W,D,R+4,M,I)),E.La&&(mi(T,L,w,R,M,I),bi(F,B,z,W,D,R,M,I)),0<_&&(di(T,L,w,R+4,M,I),hi(F,B,z,W,D,R+4,M,I)),E.La&&(fi(T,L,w,R,M,I),gi(F,B,z,W,D,R,M,I))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*A,A=16*(A+1),O?(l.y=s.sa,l.O=s.ta+x,l.f=s.qa,l.N=s.ra+C,l.ea=s.Ha,l.W=s.Ia+C):(j-=v,l.y=p,l.O=f,l.f=m,l.N=u,l.ea=g,l.W=b),y||(A-=v),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&j<A&&(l.J=un(s,l,j,A-j),l.F=s.mb,null==l.F&&0==l.F.length)){c=Ye(s,3,"Could not decode alpha data.");break t}j<l.j&&(v=l.j-j,j=l.j,t(!(1&v)),l.O+=s.R*v,l.N+=s.B*(v>>1),l.W+=s.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),j<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=A-j,c=l.put(l))}o+1!=s.Ic||y||(i(s.sa,s.ta-d,p,f+16*s.R,d),i(s.qa,s.ra-h,m,u+8*s.B,h),i(s.Ha,s.Ia-h,g,b+8*s.B,h))}if(!c)return Ye(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=Rn(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var zr=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",i=0;i<4;i++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],f=[0],m=[],g=new l,b=e,y=function(e,t){var n={},i=0,r=!1,a=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var s=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[i]&&(n.frames[i]={}),(g=n.frames[i]).src_off=r?o:t-8,g.src_size=a+l+8,i++,r&&(r=!1,a=0,o=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var f=t+4;g.canvas_width=1+u(e,f),f+=3,g.canvas_height=1+u(e,f),f+=3;break;case"ALPH":r=!0,a=p+8,o=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),f=t+4,g.loop_count=d(e,f),f+=2;break;case"ANMF":var m,g;(g=n.frames[i]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=s&&(t+=p)}return n}}(b,0);y.response=b,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,x=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],f=[v.canvas_width];for(var w=0;w<x.length&&0!=x[w].blend;w++);}var j=x[0],S=g.WebPDecodeRGBA(b,j.src_off,j.src_size,f,p);j.rgba=S,j.imgwidth=f[0],j.imgheight=p[0];for(var _=0;_<f[0]*p[0]*4;_++)m[_]=S[_];return this.width=f,this.height=p,this.data=m,this}!function(e){var t,n,i,r,a,o,s,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(e){i=Boolean(e)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(e){isNaN(e)||(r=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,f=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){p=null,f=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var n=t[1];t[2];var i=t[3],r=t[4];t[5];var a=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(r)[2];r="px"===o?Math.floor(parseFloat(r)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(r);var s=function(e){var t,n,i=[],r=e.trim();if(""===r)return BZ;if(r in CZ)return[CZ[r]];for(;""!==r;){switch(n=null,t=(r=NZ(r)).charAt(0)){case'"':case"'":n=OZ(r.substring(1),t);break;default:n=PZ(r)}if(null===n)return BZ;if(i.push(n[0]),""!==(r=NZ(n[1]))&&","!==r.charAt(0))return BZ;r=r.replace(/^,/,"")}return i}(a);if(this.fontFaces){var l=function(e,t){var n=e.getFontList(),i=JSON.stringify(n);if(null===p||f!==i){var r=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var i=null;switch(e){case"bold":i={family:n,weight:"bold"};break;case"italic":i={family:n,style:"italic"};break;case"bolditalic":i={family:n,weight:"bold",style:"italic"};break;case"":case"normal":i={family:n}}null!==i&&(i.ref={name:n,style:e},t.push(i))})}),t}(n);p=function(e){for(var t={},n=0;n<e.length;++n){var i=SZ(e[n]),r=i.family,a=i.stretch,o=i.style,s=i.weight;t[r]=t[r]||{},t[r][a]=t[r][a]||{},t[r][a][o]=t[r][a][o]||{},t[r][a][o][s]=i}return t}(r.concat(t)),f=i}return p}(this.pdf,this.fontFaces),c=s.map(function(e){return{family:e,stretch:"normal",weight:i,style:n}}),d=function(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},kZ,n.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(r[(a=SZ(t[s])).family]&&(a.family=r[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[i]))throw new Error("Could not find a font-family for the rule '"+AZ(a)+"' and default family '"+i+"'.");if(o=function(e,t){if(t[e])return t[e];var n=xZ[e],i=n<=xZ.normal?-1:1,r=_Z(t,vZ,n,i);if(!r)throw new Error("Could not find a matching font-stretch value for "+e);return r}(a.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=yZ[e],i=0;i<n.length;++i)if(t[n[i]])return t[n[i]];throw new Error("Could not find a matching font-style for "+e)}(a.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=jZ[e],i=_Z(t,wZ,n,e<400?-1:1);if(!i)throw new Error("Could not find a matching font-weight for value "+e);return i}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+AZ(a)+"'.");return o}(l,c);this.pdf.setFont(d.ref.name,d.ref.style)}else{var u="";("bold"===i||parseInt(i,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var h="",m={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},g=0;g<s.length;g++){if(void 0!==this.pdf.internal.getFont(s[g],u,{noFallback:!0,disableWarning:!0})){h=s[g];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(s[g],"bold",{noFallback:!0,disableWarning:!0}))h=s[g],u="bold";else if(void 0!==this.pdf.internal.getFont(s[g],"normal",{noFallback:!0,disableWarning:!0})){h=s[g],u="normal";break}}if(""===h)for(var b=0;b<s.length;b++)if(m[s[b]]){h=m[s[b]];break}h=""===h?"Times":h,this.pdf.setFont(h,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){x.call(this,"fill",!1)},u.prototype.stroke=function(){x.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw QV.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},u.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,rN.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw QV.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t))throw QV.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var r=this.ctx.transform.applyToPoint(new o(n,i)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:r.x,y:r.y}),this.ctx.lastPoint=new o(r.x,r.y)},u.prototype.bezierCurveTo=function(e,t,n,i,r,a){if(isNaN(r)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw QV.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(r,a)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,i));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},u.prototype.arc=function(e,t,n,i,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r))throw QV.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(r-i)>=2*Math.PI&&(i=0,r=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:i,endAngle:r,counterclockwise:a})},u.prototype.arcTo=function(e,t,n,i,r){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw QV.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw QV.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var r={};"butt"!==this.lineCap&&(r.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(r.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,i),this.fill(),r.hasOwnProperty("lineCap")&&(this.lineCap=r.lineCap),r.hasOwnProperty("lineJoin")&&(this.lineJoin=r.lineJoin)}},u.prototype.strokeRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw QV.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,i),this.stroke())},u.prototype.clearRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw QV.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,i))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,i,r;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,i=0,r=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),n=parseInt(a[2]),i=parseInt(a[3]),r=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),n=parseInt(a[2]),i=parseInt(a[3]),r=parseFloat(a[4]);else{if(r=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new rG(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,i=e.substring(3,4),i+=i):(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:t,g:n,b:i,a:r,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw QV.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!p.call(this)){var r=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;N.call(this,{text:e,x:t,y:n,scale:a,angle:r,align:this.textAlign,maxWidth:i})}},u.prototype.strokeText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw QV.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){i=isNaN(i)?void 0:i;var r=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;N.call(this,{text:e,x:t,y:n,scale:a,renderingMode:"stroke",angle:r,align:this.textAlign,maxWidth:i})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw QV.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),r=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:r*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw QV.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw QV.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw QV.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,i,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(a))throw QV.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,i,r,a);this.ctx.transform=this.ctx.transform.multiply(o)},u.prototype.setTransform=function(e,t,n,i,r,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,i=isNaN(i)?1:i,r=isNaN(r)?0:r,a=isNaN(a)?0:a,this.ctx.transform=new l(e,t,n,i,r,a)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,i,r,a,o,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,f=1,b=1;void 0!==i&&void 0!==c&&(f=c/i,b=d/r,h=u.width/i*c/i,p=u.height/r*d/r),void 0===a&&(a=t,o=n,t=0,n=0),void 0!==i&&void 0===c&&(c=i,d=r),void 0===i&&void 0===c&&(c=u.width,d=u.height);var x=this.ctx.transform.decompose(),j=L(x.rotate.shx),S=new l,_=(S=(S=(S=S.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new s(a-t*f,o-n*b,i*h,r*p));if(this.autoPaging){for(var k,C=g.call(this,_),A=[],N=0;N<C.length;N+=1)-1===A.indexOf(C[N])&&A.push(C[N]);v(A);for(var O=A[0],P=A[A.length-1],I=O;I<P+1;I++){this.pdf.setPage(I);var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===I?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],R=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===I?0:M+(I-2)*R;if(0!==this.ctx.clip_path.length){var F=this.path;k=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(k,this.posX+this.margin[3],-D+T+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=F}var B=JSON.parse(JSON.stringify(_));B=y([B],this.posX+this.margin[3],-D+T+this.ctx.prevPageLastElemOffset)[0];var z=(I>O||I<P)&&m.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,R,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,j),z&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",_.x,_.y,_.w,_.h,null,null,j)};var g=function(e,t,n){var i=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var r=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+r)/n)+1);break;case"arc":i.push(Math.floor((e.y+r-e.radius)/n)+1),i.push(Math.floor((e.y+r+e.radius)/n)+1);break;case"qct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor((a.y+r)/n)+1),i.push(Math.floor((a.y+a.h+r)/n)+1);break;case"bct":var o=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor((o.y+r)/n)+1),i.push(Math.floor((o.y+o.h+r)/n)+1);break;case"rect":i.push(Math.floor((e.y+r)/n)+1),i.push(Math.floor((e.y+e.h+r)/n)+1)}for(var s=0;s<i.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<i[s];)b.call(this);return i},b=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,i=this.lineCap,r=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=i,this.lineWidth=r,this.lineJoin=a},y=function(e,t,n){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=n;case"qct":e[i].x1+=t,e[i].y1+=n;default:e[i].x+=t,e[i].y+=n}return e},v=function(e){return e.sort(function(e,t){return e-t})},x=function(e,t){var n=this.fillStyle,i=this.strokeStyle,r=this.lineCap,a=this.lineWidth,o=Math.abs(a*this.ctx.transform.scaleX),s=this.lineJoin;if(this.autoPaging){for(var l,c,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var f=g.call(this,u[p]),x=0;x<f.length;x+=1)-1===h.indexOf(f[x])&&h.push(f[x]);for(var j=0;j<h.length;j++)for(;this.pdf.internal.getNumberOfPages()<h[j];)b.call(this);v(h);for(var S=h[0],_=h[h.length-1],k=S;k<_+1;k++){this.pdf.setPage(k),this.fillStyle=n,this.strokeStyle=i,this.lineCap=r,this.lineWidth=o,this.lineJoin=s;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===k?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===k?0:N+(k-2)*O;if(0!==this.ctx.clip_path.length){var I=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(l,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=I}if(c=JSON.parse(JSON.stringify(d)),this.path=y(c,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===t||0===k){var E=(k>S||k<_)&&m.call(this);E&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,O,null).clip().discardPath()),w.call(this,e,t),E&&this.pdf.restoreGraphicsState()}this.lineWidth=a}this.path=d}else this.lineWidth=o,w.call(this,e,t),this.lineWidth=a},w=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,i,r=[],a=this.path,o=0;o<a.length;o++){var s=a[o];switch(s.type){case"begin":r.push({begin:!0});break;case"close":r.push({close:!0});break;case"mt":r.push({start:s,deltas:[],abs:[]});break;case"lt":var l=r.length;if(a[o-1]&&!isNaN(a[o-1].x)&&(n=[s.x-a[o-1].x,s.y-a[o-1].y],l>0))for(;l>=0;l--)if(!0!==r[l-1].close&&!0!==r[l-1].begin){r[l-1].deltas.push(n),r[l-1].abs.push(s);break}break;case"bct":n=[s.x1-a[o-1].x,s.y1-a[o-1].y,s.x2-a[o-1].x,s.y2-a[o-1].y,s.x-a[o-1].x,s.y-a[o-1].y],r[r.length-1].deltas.push(n);break;case"qct":var c=a[o-1].x+2/3*(s.x1-a[o-1].x),d=a[o-1].y+2/3*(s.y1-a[o-1].y),u=s.x+2/3*(s.x1-s.x),h=s.y+2/3*(s.y1-s.y),m=s.x,g=s.y;n=[c-a[o-1].x,d-a[o-1].y,u-a[o-1].x,h-a[o-1].y,m-a[o-1].x,g-a[o-1].y],r[r.length-1].deltas.push(n);break;case"arc":r.push({deltas:[],abs:[],arc:!0}),Array.isArray(r[r.length-1].abs)&&r[r.length-1].abs.push(s)}}i=t?null:"stroke"===e?"stroke":"fill";for(var b=!1,y=0;y<r.length;y++)if(r[y].arc)for(var v=r[y].abs,x=0;x<v.length;x++){var w=v[x];"arc"===w.type?_.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!b):O.call(this,w.x,w.y),b=!0}else if(!0===r[y].close)this.pdf.internal.out("h"),b=!1;else if(!0!==r[y].begin){var j=r[y].start.x,S=r[y].start.y;P.call(this,r[y].deltas,j,S),b=!0}i&&k.call(this,i),t&&C.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},S=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(e,t,n,i,r,a,o,s,l){for(var c=E.call(this,n,i,r,a),d=0;d<c.length;d++){var u=c[d];0===d&&(l?A.call(this,u.x1+e,u.y1+t):O.call(this,u.x1+e,u.y1+t)),I.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}s?C.call(this):k.call(this,o)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(n(e)+" "+i(t)+" m")},N=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n,i,r,a=this.pdf.getTextDimensions(e.text),c=j.call(this,e.y),d=S.call(this,c)-a.h,u=this.ctx.transform.applyToPoint(new o(e.x,c));if(this.autoPaging){var h=this.ctx.transform.decompose(),p=new l;p=(p=(p=p.multiply(h.translate)).multiply(h.skew)).multiply(h.scale);for(var f=this.ctx.transform.applyToRectangle(new s(e.x,c,a.w,a.h)),b=p.applyToRectangle(new s(e.x,d,a.w,a.h)),x=g.call(this,b),_=[],k=0;k<x.length;k+=1)-1===_.indexOf(x[k])&&_.push(x[k]);v(_);for(var C=_[0],A=_[_.length-1],N=C;N<A+1;N++){this.pdf.setPage(N);var O=1===N?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],E=I-this.margin[0],T=this.pdf.internal.pageSize.width-this.margin[1],L=T-this.margin[3],M=1===N?0:P+(N-2)*E;if(0!==this.ctx.clip_path.length){var R=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-1*M+O),w.call(this,"fill",!0),this.path=R}var D=y([JSON.parse(JSON.stringify(b))],this.posX+this.margin[3],-M+O+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(i=this.pdf.internal.getFontSize(),this.pdf.setFontSize(i*e.scale),r=this.lineWidth,this.lineWidth=r*e.scale);var F="text"!==this.autoPaging;if(F||D.y+D.h<=I){if(F||D.y>=O&&D.x<=T){var B=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||T-D.x)[0],z=y([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-M+O+this.ctx.prevPageLastElemOffset)[0],W=F&&(N>C||N<A)&&m.call(this);W&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,E,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),W&&this.pdf.restoreGraphicsState()}}else D.y<I&&(this.ctx.prevPageLastElemOffset+=I-D.y);e.scale>=.01&&(this.pdf.setFontSize(i),this.lineWidth=r)}}else e.scale>=.01&&(i=this.pdf.internal.getFontSize(),this.pdf.setFontSize(i*e.scale),r=this.lineWidth,this.lineWidth=r*e.scale),this.pdf.text(e.text,u.x+this.posX,u.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(i),this.lineWidth=r)},O=function(e,t,r,a){r=r||0,a=a||0,this.pdf.internal.out(n(e+r)+" "+i(t+a)+" l")},P=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,i,o,s,l,c,d){this.pdf.internal.out([t(r(i+e)),t(a(o+n)),t(r(s+e)),t(a(l+n)),t(r(c+e)),t(a(d+n)),"c"].join(" "))},E=function(e,t,n,i){for(var r=2*Math.PI,a=Math.PI/2;t>n;)t-=r;var o=Math.abs(n-t);o<r&&i&&(o=r-o);for(var s=[],l=i?-1:1,c=t;o>1e-5;){var d=c+l*Math.min(o,a);s.push(T.call(this,e,c,d)),o-=Math.abs(d-c),c=d}return s},T=function(e,t,n){var i=(n-t)/2,r=e*Math.cos(i),a=e*Math.sin(i),o=r,s=-a,l=o*o+s*s,c=l+o*r+s*a,d=4/3*(Math.sqrt(2*l*c)-c)/(o*a-s*r),u=o-d*s,h=s+d*o,p=u,f=-h,m=i+t,g=Math.cos(m),b=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*b,y2:u*b+h*g,x3:p*g-f*b,y3:p*b+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},M=function(e,t,n,i,r,a){var o=e+.5*(n-e),l=t+.5*(i-t),c=r+.5*(n-r),d=a+.5*(i-a),u=Math.min(e,r,o,c),h=Math.max(e,r,o,c),p=Math.min(t,a,l,d),f=Math.max(t,a,l,d);return new s(u,p,h-u,f-p)},R=function(e,t,n,i,r,a,o,l){var c,d,u,h,p,f,m,g,b,y,v,x,w,j,S=n-e,_=i-t,k=r-n,C=a-i,A=o-r,N=l-a;for(d=0;d<41;d++)b=(m=(u=e+(c=d/40)*S)+c*((p=n+c*k)-u))+c*(p+c*(r+c*A-p)-m),y=(g=(h=t+c*_)+c*((f=i+c*C)-h))+c*(f+c*(a+c*N-f)-g),0==d?(v=b,x=y,w=b,j=y):(v=Math.min(v,b),x=Math.min(x,y),w=Math.max(w,b),j=Math.max(j,y));return new s(Math.round(v),Math.round(x),Math.round(w-v),Math.round(j-x))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(PG.API),function(e){var t=function(e){var t,n,i,r,a,o,s,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],i=0,r=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;r>i;i+=4)0!==(a=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(o=(a=((a=((a=((a=(a-(d=a%85))/85)-(c=a%85))/85)-(l=a%85))/85)-(s=a%85))/85)%85,n.push(o+33,s+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,i,r,a,o=String,s="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),i=[],r=0,a=(e+=t="uuuuu"[d](e[s]%5||5))[s];a>r;r+=5)n=52200625*(e[c](r)-33)+614125*(e[c](r+1)-33)+7225*(e[c](r+2)-33)+85*(e[c](r+3)-33)+(e[c](r+4)-33),i.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(i,t[s]),o.fromCharCode.apply(o,i)},i=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",i=0;i<e.length;i+=2)n+=String.fromCharCode("0x"+(e[i]+e[i+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=SW(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,o){var s=0,l=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=i(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(PG.API),function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var i=void 0;try{i=function(e,t,n){var i=new XMLHttpRequest,r=0,a=function(e){var t=e.length,n=[],i=String.fromCharCode;for(r=0;r<t;r+=1)n.push(i(255&e.charCodeAt(r)));return n.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){200===i.status?n(a(this.responseText)):n(void 0)}),i.send(null),t&&200===i.status)return a(i.responseText)}(e,t,n)}catch(QO){}return i}(e,t,n)},e.loadImageFile=e.loadFile}(PG.API),function(e){function t(){return(XV.html2canvas?Promise.resolve(XV.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function i(){return(XV.DOMPurify?Promise.resolve(XV.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var r=function(e){var t=(0,rN.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var i in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[i]=t.style[i];return n},o=function e(t,n){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;r=r.nextSibling)!0!==n&&1===r.nodeType&&"SCRIPT"===r.nodeName||i.appendChild(e(r,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft},!0)),i},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),n);return(i=i.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(r(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(i).then(function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,i="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,r=Object.assign({async:!0,allowTaint:!0,scale:i,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete r.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var o=n[a],s=o.src.find(function(e){return"truetype"===e.format});s&&t.addFont(s.url,o.ref.name,o.ref.style)}return r.windowHeight=r.windowHeight||0,r.windowHeight=0==r.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):r.windowHeight,t.context2d.save(!0),e(this.prop.container,r)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(e){if("object"!==r(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},s.prototype.get=function(e,t){return this.then(function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},s.prototype.setMargin=function(e){return this.then(function(){switch(r(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||PG.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},s.prototype.setProgress=function(e,t,n,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,i){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var i=this;e&&(e=e.bind(i)),t&&(t=t.bind(i));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:s.convert(Object.assign({},i),Promise.prototype),a=n.call(r,e,t);return s.convert(a,i.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then(function(){throw new Error(e)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,PG.getPageSize=function(e,t,n){if("object"===(0,rN.A)(e)){var i=e;e=i.orientation,t=i.unit||t,n=i.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var r,a=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":r=1;break;case"mm":r=72/25.4;break;case"cm":r=72/2.54;break;case"in":r=72;break;case"px":r=.75;break;case"pc":case"em":r=12;break;case"ex":r=6;break;default:throw"Invalid unit: "+t}var s,l=0,c=0;if(o.hasOwnProperty(a))l=o[a][1]/r,c=o[a][0]/r;else try{l=n[1],c=n[0]}catch(rG){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(s=c,c=l,l=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(s=c,c=l,l=s)}return{width:c,height:l,unit:t,k:r,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(SZ):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(PG.API),PG.API.addJS=function(e){return TZ=e,this.internal.events.subscribe("postPutResources",function(){IZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(IZ+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),EZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+TZ+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==IZ&&void 0!==EZ&&this.internal.out("/Names <</JavaScript "+IZ+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),r=0;r<i.length;r++){var a=i[r],o=n.exec(a);if(null!=o){var s=o[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(r=0;r<l;r++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<c.length;r++)e.internal.write("(page_"+(r+1)+")"+c[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var i={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var r=t.children[i];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(t)),i>0&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var a=this.count=this.count_r({count:0},r);if(a>0&&this.line("/Count "+a),r.options&&r.options.pageNumber){var o=e.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(PG.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,i,r,a,o){var s,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,s=function(e){for(var n,i=256*e.charCodeAt(4)+e.charCodeAt(5),r=e.length,a={width:0,height:0,numcomponents:1},o=4;o<r;o+=2){if(o+=i,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),a={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}i=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(PG.API),PG.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var r,a=function(e,t){return new KV(e,t).decode()}(e,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,c=a.palette,d=a.depth;r=c&&1===l?function(e){for(var t=e.width,n=e.height,i=e.data,r=e.palette,a=e.depth,o=!1,s=[],l=[],c=void 0,d=!1,u=0,h=0;h<r.length;h++){var p=nN(r[h],4),f=p[0],m=p[1],g=p[2],b=p[3];s.push(f,m,g),null!=b&&(0===b?(u++,l.length<1&&l.push(h)):b<255&&(d=!0))}if(d||u>1){o=!0,l=void 0;var y=t*n;c=new Uint8Array(y);for(var v=new DataView(i.buffer),x=0;x<y;x++){var w=nN(r[YZ(v,x,a)],4)[3];c[x]=w}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:o?8:void 0,colorBytes:i,alphaBytes:c,needSMask:o,palette:s,mask:l}}(a):2===l||4===l?function(e){for(var t=e.data,n=e.width,i=e.height,r=e.channels,a=e.depth,o=2===r?"DeviceGray":"DeviceRGB",s=r-1,l=n*i,c=s,d=l*c,u=1*l,h=Math.ceil(d*a/8),p=Math.ceil(u*a/8),f=new Uint8Array(h),m=new Uint8Array(p),g=new DataView(t.buffer),b=new DataView(f.buffer),y=new DataView(m.buffer),v=!1,x=0;x<l;x++){for(var w=x*r,j=0;j<c;j++)KZ(b,YZ(g,w+j,a),x*c+j,a);var S=YZ(g,w+c,a);S<(1<<a)-1&&(v=!0),KZ(y,S,1*x,a)}return{colorSpace:o,colorsPerPixel:s,sMaskBitsPerComponent:v?a:void 0,colorBytes:f,alphaBytes:m,needSMask:v}}(a):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=0;r<t;r++)i.setUint16(2*r,e[r],!1);return n}(t):t,needSMask:!1}}(a);var u,h,p,f=r,m=f.colorSpace,g=f.colorsPerPixel,b=f.sMaskBitsPerComponent,y=f.colorBytes,v=f.alphaBytes,x=f.needSMask,w=f.palette,j=f.mask,S=null;return i!==PG.API.image_compression.NONE?(S=function(e){var t;switch(e){case PG.API.image_compression.FAST:t=11;break;case PG.API.image_compression.MEDIUM:t=13;break;case PG.API.image_compression.SLOW:t=14;break;default:t=12}return t}(i),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(S," /Colors ").concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=zZ(y,Math.ceil(o*g*d/8),g,d,i),x&&(p=zZ(v,Math.ceil(o*b/8),1,b,i))):(u=void 0,h=void 0,e=y,x&&(p=v)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:j,palette:w,sMask:p,predictor:S,width:o,height:s,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,i,r){var a=new XZ(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:s},d=new QZ(100).encode(c,100);return e.processJPEG.call(this,d,n,i,r)},e.processGIF87A=e.processGIF89A}(PG.API),eY.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eY.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){QV.log("bit decode error:"+n)}},eY.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}0!==n&&(this.pos+=4-n)}},eY.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,s=a>>4,l=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},eY.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},eY.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,d=i*this.width*4+4*r;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=c}this.pos+=e}},eY.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,d=r*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=e}},eY.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},eY.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=o}},eY.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var a=new eY(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new QZ(100).encode(l,100);return e.processJPEG.call(this,c,n,i,r)}}(PG.API),tY.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var a=new tY(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},c=new QZ(100).encode(l,100);return e.processJPEG.call(this,c,n,i,r)}}(PG.API),PG.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),o=new Uint8Array(r/4),s=0,l=0,c=0;c<r;c+=4){var d=i[c],u=i[c+1],h=i[c+2],p=i[c+3];a[s++]=d,a[s++]=u,a[s++]=h,o[l++]=p}var f=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},PG.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},LZ=PG.API,MZ=LZ.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:r.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,f=0,m=s[0]||l,g=[];for(n=0;n<p;n++)i=e.charCodeAt(n),"function"==typeof r.metadata.widthOfString?g.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/a)||0)/1e3):(h=u&&"object"===(0,rN.A)(c[i])&&!isNaN(parseInt(c[i][f],10))?c[i][f]/d:0,g.push((s[i]||m)/l+h)),f=i;return g},RZ=LZ.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return LZ.processArabic&&(e=LZ.processArabic(e)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,n,r)/n:MZ.apply(this,arguments).reduce(function(e,t){return e+t},0)},DZ=function(e,t,n,i){for(var r=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<n;)s+=t[a],a++;r.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>i&&(r.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&r.push(e.slice(l,a)),r},FZ=function(e,t,n){n||(n={});var i,r,a,o,s,l,c,d=[],u=[d],h=n.textIndent||0,p=0,f=0,m=e.split(" "),g=MZ.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),y=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),m=y,l=RZ.apply(this,[b,n])}for(a=0,o=m.length;a<o;a++){var v=0;if(i=m[a],l&&"\n"==i[0]&&(i=i.substr(1),v=1),h+p+(f=(r=MZ.apply(this,[i,n])).reduce(function(e,t){return e+t},0))>t||v){if(f>t){for(s=DZ.apply(this,[i,r,t-(h+p),t]),d.push(s.shift()),d=[s.pop()];s.length;)u.push([s.shift()]);f=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[i];u.push(d),h=f+l,p=g}else d.push(i),h+=p+f,p=g}return c=l?function(e,t){return(t?b:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},LZ.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=i.length;s<l;s++)c=c.concat(FZ.apply(this,[i[s],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},a=0;a<16;a++)i[n[a]]=t[a],r[t[a]]=n[a];var o=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,i,a,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),a="-"):(i=o(t).slice(2),a=""),i=a+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==(0,rN.A)(t))throw new Error("Don't know what to do with value type "+(0,rN.A)(t)+".");i=s(t)}l.push(n+i)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,r,a,o={},s=1,l=o,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(a=e[p])?t?(r=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([l,r]),l={},r=void 0):"}"==a?((n=c.pop())[0][n[1]]=l,r=void 0,l=n[0]):"-"==a?s=-1:void 0===r?i.hasOwnProperty(a)?(d+=i[a],r=parseInt(d,16)*s,s=1,d=""):d+=a:i.hasOwnProperty(a)?(u+=i[a],l[r]=parseInt(u,16)*s,s=1,r=void 0,u=""):u+=a;return o},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var i=d.Unicode[t.postScriptName];i&&(t.metadata.Unicode.encoding=i,t.encoding=i.codePages[0])}])}(PG.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===a.existsFileInVFS(r.postScriptName)?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");!function(n,i){i=/^\x00\x01\x00\x00/.test(i)?t(i):t(aG(i)),n.metadata=e.API.TTFFont.open(i),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(r,i)}}])}(PG),PG.API.addSvgAsImage=function(e,t,i,r,a,o,s,l){if(isNaN(t)||isNaN(i))throw QV.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw QV.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(XV.canvg?Promise.resolve(XV.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,i,r,a,s,l)})},PG.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},PG.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],c=0,d=0,u=0;function h(e,t){var n,i=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=s.length;for(u=0;u<p;u+=1)n[s[u]].value=n[s[u]].defaultValue,n[s[u]].explicitSet=!1}if("object"===(0,rN.A)(e))for(r in e)if(a=e[r],h(s,r)&&void 0!==a){if("boolean"===n[r].type&&"boolean"==typeof a)n[r].value=a;else if("name"===n[r].type&&h(n[r].valueSet,a))n[r].value=a;else if("integer"===n[r].type&&Number.isInteger(a))n[r].value=a;else if("array"===n[r].type){for(c=0;c<a.length;c+=1)if(i=!0,1===a[c].length&&"number"==typeof a[c][0])l.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)"number"!=typeof a[c][d]&&(i=!1);!0===i&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}n[r].value="["+l.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),r=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+i.length+r.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+i+r+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(PG.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,i=t.metadata.Unicode.widths,r=["","0","00","000","0000"],a=[""],o=0,s=e.length;o<s;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(r[4-n.length],n)}return a.join("")},i=function(e){var t,n,i,r,a,o,s;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],o=0,s=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<s;o++)t=n[o],i.length>=100&&(a+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(r=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+r+">"));return i.length&&(a+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,r=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=a();o({data:c,addLength1:!0,objectId:u}),r("endobj");var h=a();o({data:i(n.metadata.toUnicode),addLength1:!0,objectId:h}),r("endobj");var p=a();r("<<"),r("/Type /FontDescriptor"),r("/FontName /"+_G(n.fontName)),r("/FontFile2 "+u+" 0 R"),r("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),r("/Flags "+n.metadata.flags),r("/StemV "+n.metadata.stemV),r("/ItalicAngle "+n.metadata.italicAngle),r("/Ascent "+n.metadata.ascender),r("/Descent "+n.metadata.decender),r("/CapHeight "+n.metadata.capHeight),r(">>"),r("endobj");var f=a();r("<<"),r("/Type /Font"),r("/BaseFont /"+_G(n.fontName)),r("/FontDescriptor "+p+" 0 R"),r("/W "+e.API.PDFObject.convert(s)),r("/CIDToGIDMap /Identity"),r("/DW 1000"),r("/Subtype /CIDFontType2"),r("/CIDSystemInfo"),r("<<"),r("/Supplement 0"),r("/Registry (Adobe)"),r("/Ordering ("+n.encoding+")"),r(">>"),r(">>"),r("endobj"),n.objectNumber=a(),r("<<"),r("/Type /Font"),r("/Subtype /Type0"),r("/ToUnicode "+h+" 0 R"),r("/BaseFont /"+_G(n.fontName)),r("/Encoding /"+n.encoding),r("/DescendantFonts ["+f+" 0 R]"),r(">>"),r("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,r=t.out,a=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",c=0;c<s.length;c++)l+=String.fromCharCode(s[c]);var d=a();o({data:l,addLength1:!0,objectId:d}),r("endobj");var u=a();o({data:i(n.metadata.toUnicode),addLength1:!0,objectId:u}),r("endobj");var h=a();r("<<"),r("/Descent "+n.metadata.decender),r("/CapHeight "+n.metadata.capHeight),r("/StemV "+n.metadata.stemV),r("/Type /FontDescriptor"),r("/FontFile2 "+d+" 0 R"),r("/Flags 96"),r("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),r("/FontName /"+_G(n.fontName)),r("/ItalicAngle "+n.metadata.italicAngle),r("/Ascent "+n.metadata.ascender),r(">>"),r("endobj"),n.objectNumber=a();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));r("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+_G(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),r("endobj"),n.isAlreadyPutted=!0}}(t)}]);var r=function(e){var t,i=e.text||"",r=e.x,a=e.y,o=e.options||{},s=e.mutex||{},l=s.pdfEscape,c=s.activeFontKey,d=s.fonts,u=c,h="",p=0,f="",m=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:i,x:r,y:a,options:o,mutex:s};for(f=i,u=c,Array.isArray(i)&&(f=i[0]),p=0;p<f.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),t||f[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=f[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=n(h,d[u])),s.isHex=!0,{text:g,x:r,y:a,options:o,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?n.push([r(Object.assign({},i,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(r(Object.assign({},i,{text:t[a]})).text);e.text=n}else e.text=r(Object.assign({},i,{text:t})).text}])}(PG),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(PG.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,i,r,a,o,s,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,b=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,i=p[n];return void 0!==i?c[256*i+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},x=function(e,t,o,s){var l,c,d,u,h=t[s];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=o[s-1])&&"AN"!==l||"EN"!==(c=t[s+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=s>0?o[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){h="EN";break}if(g){h="N";break}for(d=s+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(r&&!a){for(u=t.length,d=s+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[s],f=p>=1425&&p<=2303||64286===p;if(l=t[d],f&&("R"===l||"AL"===l)){h="R";break}}}h=s<1||"B"===(l=t[s-1])?"N":o[s-1];break;case"B":g=!1,n=!0,h=b;break;case"S":i=!0,h="N"}return h},w=function(e,t,n){var i=e.split("");return n&&j(i,n,{hiLevel:b}),i.reverse(),t&&t.reverse(),i.join("")},j=function(e,t,r){var a,o,s,l,c,p=-1,f=e.length,m=0,v=[],w=b?u:d,j=[];for(g=!1,n=!1,i=!1,o=0;o<f;o++)j[o]=y(e[o]);for(s=0;s<f;s++){if(c=m,v[s]=x(e,j,v,s),a=240&(m=w[c][h[v[s]]]),m&=15,t[s]=l=w[m][5],a>0)if(16===a){for(o=p;o<s;o++)t[o]=1;p=-1}else p=-1;if(w[m][6])-1===p&&(p=s);else if(p>-1){for(o=p;o<s;o++)t[o]=l;p=-1}"B"===j[s]&&(t[s]=0),r.hiLevel|=l}i&&function(e,t,n){for(var i=0;i<n;i++)if("S"===e[i]){t[i]=b;for(var r=i-1;r>=0&&"WS"===e[r];r--)t[r]=b}}(j,t,f)},S=function(e,t,i,r,a){if(!(a.hiLevel<e)){if(1===e&&1===b&&!n)return t.reverse(),void(i&&i.reverse());for(var o,s,l,c,d=t.length,u=0;u<d;){if(r[u]>=e){for(l=u+1;l<d&&r[l]>=e;)l++;for(c=u,s=l-1;c<s;c++,s--)o=t[c],t[c]=t[s],t[s]=o,i&&(o=i[c],i[c]=i[s],i[s]=o);u=l}u++}}},_=function(e,t,n){var i=e.split(""),r={hiLevel:b};return n||(n=[]),j(i,n,r),function(e,t,n){if(0!==n.hiLevel&&l)for(var i,r=0;r<e.length;r++)1===t[r]&&(i=f.indexOf(e[r]))>=0&&(e[r]=f[i+1])}(i,n,r),S(2,i,t,n,r),S(1,i,t,n,r),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===a&&(a=v(e)),void 0===s&&(s=v(e))}(e,t),r||!o||s)if(r&&o&&a^s)b=a?1:0,e=w(e,t,n);else if(!r&&o&&s)b=a?1:0,e=_(e,t,n),e=w(e,t);else if(!r||a||o||s){if(r&&!o&&a^s)e=w(e,t),a?(b=0,e=_(e,t,n)):(b=1,e=_(e,t,n),e=w(e,t));else if(r&&a&&!o&&s)b=1,e=_(e,t,n),e=w(e,t);else if(!r&&!o&&a^s){var i=l;a?(b=1,e=_(e,t,n),b=0,l=!1,e=_(e,t,n),l=i):(b=0,e=_(e,t,n),e=w(e,t),b=1,l=!1,e=_(e,t,n),l=i,e=w(e,t))}}else b=0,e=_(e,t,n);else b=a?1:0,e=_(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(r=e.isInputVisual,o=e.isOutputVisual,a=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var i=e.options||{};e.mutex,i.lang;var r=[];if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,n.setOptions(i),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(r=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?r.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):r.push([n.doBidiReorder(t[a])]);e.text=r}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(PG),PG.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new iY(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new jY(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new rY(this.contents),this.head=new sY(this),this.name=new fY(this),this.cmap=new cY(this),this.toUnicode={},this.hhea=new dY(this),this.maxp=new mY(this),this.hmtx=new gY(this),this.post=new hY(this),this.os2=new uY(this),this.loca=new wY(this),this.glyf=new yY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,i,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,i,r;for(r=[],t=0,n=(i=this.bbox).length;t<n;t++)e=i[t],r.push(Math.round(e*this.scaleFactor));return r}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var i,r,a,o;for(a=0,r=0,o=(e=""+e).length;0<=o?r<o:r>o;r=0<=o?++r:--r)i=e.charCodeAt(r),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var nY,iY=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,i,r,a,o,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^r)+65536*(255^a)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*r+65536*a+256*o+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(this.writeByte(t));return r},e}(),rY=function(){var e;function t(e){var t,n,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,i,r,a,o,s,l,c,d,u,h,p,f;for(f in h=Object.keys(t).length,s=Math.log(2),d=16*Math.floor(Math.log(h)/s),a=Math.floor(d/s),c=16*h-d,(i=new iY).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(a),i.writeShort(c),r=16*h,l=i.pos+r,o=null,p=[],t)for(u=t[f],i.writeString(f),i.writeInt(e(u)),i.writeInt(l),i.writeInt(u.length),p=p.concat(u),"head"===f&&(o=l),l+=u.length;l%4;)p.push(0),l++;return i.write(p),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(e){var t,n,i,r;for(e=bY.call(e);e.length%4;)e.push(0);for(i=new iY(e),n=0,t=0,r=e.length;t<r;t=t+=4)n+=i.readUInt32();return 4294967295&n},t}(),aY={}.hasOwnProperty,oY=function(e,t){for(var n in t)aY.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};nY=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var sY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new iY).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),lY=function(){function e(e,t){var n,i,r,a,o,s,l,c,d,u,h,p,f,m,g,b,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,r=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=u?t<u:t>u;s=0<=u?++t:--t)n.push(e.readUInt16());return n}(),i=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],s=t=0;0<=i?t<i:t>i;s=0<=i?++t:--t)n.push(e.readUInt16());return n}(),s=g=0,y=r.length;g<y;s=++g)for(m=r[s],n=b=p=f[s];p<=m?b<=m:b>=m;n=p<=m?++b:--b)0===c[s]?a=n+l[s]:0!==(a=o[c[s]/2+(n-p)-(u-s)]||0)&&(a+=l[s]),this.codeMap[n]=65535&a}e.pos=d}return e.encode=function(e,t){var n,i,r,a,o,s,l,c,d,u,h,p,f,m,g,b,y,v,x,w,j,S,_,k,C,A,N,O,P,I,E,T,L,M,R,D,F,B,z,W,U,q,H,V,G,Z;switch(O=new iY,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,m=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),b={0:0},r={},P=0,L=a.length;P<L;P++)null==b[H=e[i=a[P]]]&&(b[H]=++f),r[i]={old:e[i],new:b[e[i]]},m[i]=b[e[i]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(m),{charMap:r,subtable:O.data,maxGlyphID:f+1};case"unicode":for(A=[],d=[],y=0,b={},n={},g=l=null,I=0,M=a.length;I<M;I++)null==b[x=e[i=a[I]]]&&(b[x]=++y),n[i]={old:x,new:b[x]},o=b[x]-i,null!=g&&o===l||(g&&d.push(g),A.push(i),l=o),g=i;for(g&&d.push(g),d.push(65535),A.push(65535),k=2*(_=A.length),S=2*Math.pow(Math.log(_)/Math.LN2,2),u=Math.log(S/2)/Math.LN2,j=2*_-S,s=[],w=[],h=[],p=E=0,R=A.length;E<R;p=++E){if(C=A[p],c=d[p],65535===C){s.push(0),w.push(0);break}if(C-(N=n[C].new)>=32768)for(s.push(0),w.push(2*(h.length+_-p)),i=T=C;C<=c?T<=c:T>=c;i=C<=c?++T:--T)h.push(n[i].new);else s.push(N-C),w.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*_+2*h.length),O.writeUInt16(0),O.writeUInt16(k),O.writeUInt16(S),O.writeUInt16(u),O.writeUInt16(j),U=0,D=d.length;U<D;U++)i=d[U],O.writeUInt16(i);for(O.writeUInt16(0),q=0,F=A.length;q<F;q++)i=A[q],O.writeUInt16(i);for(V=0,B=s.length;V<B;V++)o=s[V],O.writeUInt16(o);for(G=0,z=w.length;G<z;G++)v=w[G],O.writeUInt16(v);for(Z=0,W=h.length;Z<W;Z++)f=h[Z],O.writeUInt16(f);return{charMap:n,subtable:O.data,maxGlyphID:y+1}}},e}(),cY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new lY(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,i;return null==t&&(t="macroman"),n=lY.encode(e,t),(i=new iY).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),dY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),uY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),hY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var r;for(n=e.readUInt16(),this.glyphNameIndex=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,i;for(i=[],r=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;r=0<=n?++t:--t)i.push(e.readUInt32());return i}.call(this)}},e}(),pY=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},fY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,i,r,a,o,s,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},r=c=0,d=n.length;c<d;r=++c)i=n[r],e.pos=i.offset,l=e.readString(i.length),a=new pY(l,i),null==s[u=i.nameID]&&(s[u]=[]),s[i.nameID].push(a);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(aG){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),mY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),gY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,i,r,a,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,r;for(r=[],t=n=0;0<=i?n<i:n>i;t=0<=i?++n:--n)r.push(e.readInt16());return r}(),this.widths=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.metrics).length;e<t;e++)r=n[e],i.push(r.advance);return i}.call(this),n=this.widths[this.widths.length-1],s=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),bY=[].slice,yY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,i,r,a,o,s,l,c,d;return e in this.cache?this.cache[e]:(r=this.file.loca,t=this.file.contents,n=r.indexOf(e),0===(i=r.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new iY(t.read(i))).readShort(),l=o.readShort(),d=o.readShort(),s=o.readShort(),c=o.readShort(),this.cache[e]=-1===a?new xY(o,l,d,s,c):new vY(o,a,l,d,s,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var i,r,a,o,s;for(a=[],r=[],o=0,s=t.length;o<s;o++)i=e[t[o]],r.push(a.length),i&&(a=a.concat(i.encode(n)));return r.push(a.length),{table:a,offsets:r}},e}(),vY=function(){function e(e,t,n,i,r,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),xY=function(){function e(e,t,n,i,r){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new iY(bY.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),wY=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return oY(e,nY),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,i;for(i=[],n=0,t=this.length;n<t;n+=2)i.push(2*e.readUInt16());return i}.call(this):function(){var t,i;for(i=[],n=0,t=this.length;n<t;n+=4)i.push(e.readUInt32());return i}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,r=0,a=0;a<n.length;++a)if(n[a]=i,r<t.length&&t[r]==a){++r,n[a]=i;var o=this.offsets[a],s=this.offsets[a+1]-o;s>0&&(i+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),jY=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,i,r;for(t in i=this.font.cmap.tables[0].codeMap,e={},r=this.subset)n=r[t],e[t]=i[n];return e},e.prototype.glyphsFor=function(e){var t,n,i,r,a,o,s;for(i={},a=0,o=e.length;a<o;a++)i[r=e[a]]=this.font.glyf.glyphFor(r);for(r in t=[],i)(null!=(n=i[r])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(r in s=this.glyphsFor(t))n=s[r],i[r]=n;return i},e.prototype.encode=function(e,t){var n,i,r,a,o,s,l,c,d,u,h,p,f,m,g;for(i in n=cY.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},g=n.charMap)h[(s=g[i]).old]=s.new;for(p in u=n.maxGlyphID,a)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)o=d[e],n.push(c[o]);return n}(),r=this.font.glyf.encode(a,f,h),l=this.font.loca.encode(r.offsets,f),m={cmap:this.font.cmap.raw(),glyf:r.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();PG.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var i,r,a,o;if(Array.isArray(n))return"["+function(){var e,r,a;for(a=[],e=0,r=n.length;e<r;e++)i=n[e],a.push(t.convert(i));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(r in a=["<<"],n)o=n[r],a.push("/"+r+" "+t.convert(o));return a.push(">>"),a.join("\n")}return""+n},t}();qS.create({baseURL:"http://127.0.0.1:5000"});const SY=function(e){let{patient:t,icdPath:n,icdCode:i,icfSummary:r,ichiSummary:a,gasSummary:o=[]}=e;const l=t.dob_year&&t.dob_month&&t.dob_day?"".concat(t.dob_year,"-").concat(t.dob_month,"-").concat(t.dob_day):"",c=t.reg_year&&t.reg_month&&t.reg_day?"".concat(t.reg_year,"-").concat(t.reg_month,"-").concat(t.reg_day):"",d=n.length?n.map(e=>e.label).join("  \u203a  "):i||"\u2014";return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsxs)("div",{className:"cardheading",children:[(0,s.jsxs)("div",{className:"card-head ",children:[(0,s.jsx)("h2",{className:"title",children:"Patient summary"}),(0,s.jsx)("button",{className:"btn ai",disabled:!0,title:"AI mode (coming soon)",children:"AI mode"})]}),(0,s.jsx)("p",{className:"subtitle",children:"A compact key sheet containing demographics and selections."})]}),(0,s.jsxs)("div",{className:"grid2",style:{padding:25},children:[(0,s.jsxs)("div",{className:"box",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6},children:[(0,s.jsx)("div",{className:"box-title",children:"Patient details"}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Patient ID"}),(0,s.jsx)("strong",{children:t.patient_id||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Name"}),(0,s.jsx)("strong",{children:t.patient_name||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Register date"}),(0,s.jsx)("strong",{children:c||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Date of birth"}),(0,s.jsx)("strong",{children:l||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Gender"}),(0,s.jsx)("strong",{children:t.gender||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Marital status"}),(0,s.jsx)("strong",{children:t.marital||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Nationality"}),(0,s.jsx)("strong",{children:t.nationality||"\u2014"})]}),(0,s.jsxs)("div",{className:"kv",children:[(0,s.jsx)("span",{children:"Occupation"}),(0,s.jsx)("strong",{children:t.occupation||"\u2014"})]})]}),(0,s.jsxs)("div",{className:"box",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6},children:[(0,s.jsx)("div",{className:"box-title",children:"ICD"}),(0,s.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:d})]})]}),(0,s.jsxs)("div",{className:"box",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6,margin:"10px 25px"},children:[(0,s.jsx)("div",{className:"box-title",children:"ICF Selections"}),0===r.length?(0,s.jsx)("div",{className:"muted",children:"No ICF selection recorded."}):(0,s.jsx)("div",{className:"icf-list",children:r.map((e,t)=>(0,s.jsxs)("div",{className:"icf-row",children:[(0,s.jsxs)("div",{className:"icf-head",children:[(0,s.jsx)("span",{className:"badge",children:e.parent_icf})," ",e.parent_name]}),(0,s.jsxs)("div",{className:"icf-sub",children:[(0,s.jsx)("span",{className:"badge soft",children:e.child_icf})," ",e.child_name]}),(e.range||e.qualifier_label)&&(0,s.jsxs)("div",{className:"icf-sub",children:[(0,s.jsxs)("span",{className:"kv-inline",children:[(0,s.jsx)("b",{children:"Qualifier:"})," ",e.qualifier_label||"\u2014"]}),e.range?(0,s.jsxs)("span",{className:"kv-inline",children:[(0,s.jsx)("b",{children:"Range:"})," ",e.range]}):null,Number.isFinite(e.score)?(0,s.jsxs)("span",{className:"kv-inline",children:[(0,s.jsx)("b",{children:"Score:"})," ",e.score]}):null]})]},"".concat(e.parent_icf,"-").concat(e.child_icf,"-").concat(t)))})]}),(0,s.jsxs)("div",{className:"grid2",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6,margin:"10px 25px"},children:[(0,s.jsxs)("div",{className:"box",children:[(0,s.jsx)("div",{className:"box-title",children:"ICHI Actions"}),a.selected&&0!==a.selected.length?(0,s.jsx)("ul",{className:"flat",children:a.selected.map((e,t)=>(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:e.ichi_code})," \u2014 ",e.ichi_name," ",(0,s.jsxs)("span",{className:"dim",children:["[",e.icf_code,"]"]})]},"".concat(e.icf_code,"-").concat(e.ichi_code,"-").concat(t)))}):(0,s.jsx)("div",{className:"muted",children:"No ICHI selected."})]}),(0,s.jsxs)("div",{className:"box",children:[(0,s.jsx)("div",{className:"box-title",children:"Modalities"}),a.modalities&&0!==a.modalities.length?(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:a.modalities.map((e,t)=>(0,s.jsxs)("span",{className:"chip",children:[e.label,(e.range_label||e.duration_label)&&(0,s.jsxs)("span",{className:"dim",children:[" \u2014 ",e.range_label||"\u2014"," | ",e.duration_label||"\u2014"]})]},"".concat(e.value,"-").concat(t)))}):(0,s.jsx)("div",{className:"muted",children:"No modalities selected."})]})]}),(0,s.jsxs)("div",{className:"box",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6,margin:"10px 25px"},children:[(0,s.jsx)("div",{className:"box-title",children:"Clinical Note / Plan"}),(0,s.jsx)("div",{className:"note-view",children:a.note?a.note:(0,s.jsx)("span",{className:"muted",children:"No note provided."})})]}),(0,s.jsxs)("div",{className:"box",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6,margin:"10px 25px"},children:[(0,s.jsx)("div",{className:"box-title",children:"Assessments"}),a.assessments&&0!==a.assessments.length?(0,s.jsx)("ul",{className:"flat",children:a.assessments.map((e,t)=>(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:e.assessment}),(0,s.jsx)("ul",{className:"flat",style:{marginTop:6,marginLeft:10},children:e.items.map((t,n)=>(0,s.jsxs)("li",{children:[t.input,Number.isFinite(t.score)?" \u2014 score: ".concat(t.score):""]},"".concat(e.assessment,"-").concat(t.input,"-").concat(n)))})]},"".concat(e.assessment,"-").concat(t)))}):(0,s.jsx)("div",{className:"muted",children:"No assessments recorded."})]}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"box",style:{border:"1px solid rgb(206 203 237 / 63%)",padding:10,borderRadius:6,margin:"10px 25px"},children:[(0,s.jsx)("div",{className:"box-title",children:"GAS Goals"}),!o.length&&(0,s.jsx)("div",{children:"-"}),o.map(e=>(0,s.jsxs)("div",{children:[e.icf_child_code,": ",e.score>0?"+".concat(e.score):e.score," \u2014 ",e.label]},e.icf_child_code))]}),(0,s.jsx)("button",{className:"btnexport",onClick:()=>{const e=new PG,n=10,i=e.internal.pageSize.height;let s=n;const u=10;e.setFontSize(16),e.text("Patient Summary",n,s),s+=16,e.setFontSize(12),e.text("Patient ID: ".concat(t.patient_id||"\u2014"),n,s),s+=6,e.text("Name: ".concat(t.patient_name||"\u2014"),n,s),s+=6,e.text("Date of Birth: ".concat(l||"\u2014"),n,s),s+=6,e.text("Gender: ".concat(t.gender||"\u2014"),n,s),s+=6,e.text("Marital Status: ".concat(t.marital||"\u2014"),n,s),s+=6,e.text("Nationality: ".concat(t.nationality||"\u2014"),n,s),s+=6,e.text("Occupation: ".concat(t.occupation||"\u2014"),n,s),s+=6,e.text("Register Date: ".concat(c||"\u2014"),n,s),s+=u,e.text("ICD:",n,s),s+=6,e.text(d||"\u2014",n,s),s+=u,e.text("ICF Selections:",n,s),s+=6,0===r.length?(e.text("No ICF selection recorded.",n,s),s+=6):r.forEach((t,i)=>{e.text("".concat(t.parent_icf,": ").concat(t.parent_name),n,s),s+=6,e.text("".concat(t.child_icf,": ").concat(t.child_name),n,s),s+=6,(t.range||t.qualifier_label)&&(e.text("Qualifier: ".concat(t.qualifier_label||"\u2014"),n,s),s+=6,t.range&&e.text("Range: ".concat(t.range),n,s),s+=6,Number.isFinite(t.score)&&e.text("Score: ".concat(t.score),n,s),s+=6)}),s+=u,e.text("ICHI Actions:",n,s),s+=6,0===a.selected.length?(e.text("No ICHI selected.",n,s),s+=6):a.selected.forEach((t,i)=>{e.text("".concat(t.ichi_code," \u2014 ").concat(t.ichi_name),n,s),s+=6}),s>i-20&&(e.addPage(),s=n),s+=u,e.text("Modalities:",n,s),s+=6,0===a.modalities.length?(e.text("No modalities selected.",n,s),s+=6):a.modalities.forEach((t,i)=>{e.text("".concat(t.label," \u2014 ").concat(t.range_label||"\u2014"," | ").concat(t.duration_label||"\u2014"),n,s),s+=6}),s+=u,e.text("Clinical Note / Plan:",n,s),s+=6,e.text(a.note||"No note provided.",n,s),s+=u,e.text("GAS Goals:",n,s),s+=6,0===o.length?(e.text("No GAS goals recorded.",n,s),s+=6):o.forEach((t,i)=>{e.text("".concat(t.icf_child_code,": ").concat(t.score>0?"+".concat(t.score):t.score," \u2014 ").concat(t.label),n,s),s+=6}),e.save("patient_summary_".concat(t.patient_id||"unknown",".pdf"))},children:"Export to PDF"})]})]})};function _Y(){const[e,t]=(0,i.useState)({alert:"",upright:"",voice:"",secretions:"",swallowDelayed:"",cough:"",choking:"",voiceChange:"",breathingChange:"",swallowDelayed2:"",cough2:"",choking2:"",voiceChange2:"",breathingChange2:""}),[n,r]=(0,i.useState)({date:(new Date).toISOString().split("T")[0],time:(new Date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})});(0,i.useEffect)(()=>{const e=setInterval(()=>{r({date:(new Date).toISOString().split("T")[0],time:(new Date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})},6e4);return()=>clearInterval(e)},[]);const[a,o]=(0,i.useState)(""),l=(e,n)=>{t(t=>je(je({},t),{},{[e]:n}))};(0,i.useEffect)(()=>{"No"!==e.alert&&"No"!==e.upright&&"Yes"!==e.voice&&"Yes"!==e.secretions||t(e=>je(je({},e),{},{swallowDelayed:"",cough:"",choking:"",voiceChange:"",breathingChange:"",swallowDelayed2:"",cough2:"",choking2:"",voiceChange2:"",breathingChange2:""}))},[e.alert,e.upright,e.voice,e.secretions]);const c=()=>"No"===e.alert||"No"===e.upright?"STOP \u274c \u2014 Record NIL BY MOUTH. Repeat daily until condition improves.":"Yes"===e.voice||"Yes"===e.secretions?"STOP \u274c \u2014 Record NIL BY MOUTH and refer to Speech & Language Therapy (SLT).":["swallowDelayed","cough","choking","voiceChange","breathingChange"].some(t=>"Yes"===e[t])||["swallowDelayed2","cough2","choking2","voiceChange2","breathingChange2"].some(t=>"Yes"===e[t])?"STOP \u274c \u2014 Record NIL BY MOUTH and refer to SLT.":"Yes"===e.alert&&"Yes"===e.upright&&"No"===e.voice&&"No"===e.secretions?"\u2705 Patient safe to proceed to Water Swallow Test.":"Proceeding...",d=t=>(0,s.jsxs)("div",{className:"yn-group",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:t,value:"Yes",checked:"Yes"===e[t],onChange:e=>l(t,e.target.value)}),"Yes"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:t,value:"No",checked:"No"===e[t],onChange:e=>l(t,e.target.value)}),"No"]})]}),u="Yes"===e.alert&&"Yes"===e.upright&&"No"===e.voice&&"No"===e.secretions,h=()=>{alert("\u2705 Swallow Screen Assessment saved successfully!"),console.log("Assessment Data:",{form:e,timestamp:n})};return(0,s.jsxs)("div",{className:"swallow-form",children:[(0,s.jsxs)("div",{className:"header-tag",children:[(0,s.jsx)("h2",{className:"form-title",children:"\ud83e\ude7a Patient Swallow Screen Protocol (Water Swallow Test)"}),(0,s.jsx)("span",{className:"icf-tag",children:"ICF: b510 \u2014 Ingestion functions"})]}),(0,s.jsxs)("section",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Part 1 \u2014 Pre-Assessment Criteria"}),(0,s.jsxs)("div",{className:"question",children:[(0,s.jsx)("label",{children:"1\ufe0f\u20e3 Is the patient consistently alert for 10 minutes?"}),d("alert")]}),(0,s.jsxs)("div",{className:"question",children:[(0,s.jsx)("label",{children:"2\ufe0f\u20e3 Is the patient able to be supported in an upright position?"}),d("upright")]}),(0,s.jsxs)("div",{className:"question",children:[(0,s.jsx)("label",{children:"3\ufe0f\u20e3 Does the patient have a hoarse, wet, weak, or absent voice?"}),d("voice")]}),(0,s.jsxs)("div",{className:"question",children:[(0,s.jsx)("label",{children:"4\ufe0f\u20e3 Is the patient unable to manage their own oral secretions?"}),d("secretions")]})]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Part 2 \u2014 Water Swallow Test (Teaspoon Trials \xd73)"}),["swallowDelayed","cough","choking","voiceChange","breathingChange"].map((e,t)=>(0,s.jsxs)("div",{className:"question",children:[(0,s.jsx)("label",{children:["No or delayed swallow?","Immediate or delayed coughing?","Choking?","Change in voice quality (ask to say \u201caaah\u201d)?","Change in breathing pattern or increased breathlessness while sipping?"][t]}),d(e)]},t))]}),(0,s.jsxs)("section",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Part 3 \u2014 Controlled Glass Sips (\u22653 sips)"}),["swallowDelayed2","cough2","choking2","voiceChange2","breathingChange2"].map((e,t)=>(0,s.jsxs)("div",{className:"question",children:[(0,s.jsx)("label",{children:["No or delayed swallow?","Immediate or delayed coughing?","Choking?","Change in voice quality (ask to say \u201caaah\u201d)?","Change in breathing pattern or increased breathlessness while sipping?"][t]}),d(e)]},t))]})]}),(0,s.jsxs)("div",{className:"remarks",children:[(0,s.jsx)("h4",{children:"\ud83d\udcdd Result & Recommendation"}),(0,s.jsx)("p",{className:c().startsWith("STOP")?"stop-msg":"ok-msg",children:c()})]}),(0,s.jsxs)("div",{className:"summary-table",children:[(0,s.jsx)("h4",{children:"\ud83e\uddfe Record Summary"}),(0,s.jsx)("table",{children:(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"Initials"}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",placeholder:"Enter",onChange:e=>o(t=>je(je({},t),{},{initials:e.target.value}))})}),(0,s.jsx)("td",{children:"Time"}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"time",value:n.time,readOnly:!0})}),(0,s.jsx)("td",{children:"Date"}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"date",value:n.date,readOnly:!0})})]})})}),(0,s.jsxs)("div",{className:"timestamp-note",children:["\u23f1\ufe0f Recorded automatically at ",n.date," ",n.time]})]}),(0,s.jsxs)("div",{className:"save-button-wrapper",children:[(0,s.jsx)("button",{className:"save-button",onClick:h,children:"\ud83d\udcbe Save Assessment"}),(0,s.jsx)("button",{className:"save-button",onClick:h,children:"Assign to SLT"})]})]})}const kY="http://127.0.0.1:5000",CY=(qS.create({baseURL:kY}),"".concat(kY,"/gas"));const AY=function(e){var t;let{icfChildren:n=[],onSummaryChange:r}=e;const a=(0,i.useMemo)(()=>Array.from(new Set(n)),[n]),o={b730:"PT",b110:"Neurophysics",b740:"PT",b735:"PT",b749:"PT"},[l,c]=(0,i.useState)({}),[d,u]=(0,i.useState)({}),[h,p]=(0,i.useState)({}),[f,m]=(0,i.useState)({}),[g,b]=(0,i.useState)(""),y=e=>{const t=Number(e);return Number.isNaN(t)?"":t>0?"+".concat(t):String(t)};[{label:"Improvement",value:2,date:"2025-07-10"},{label:"Improvement",value:20,date:"2025-08-20"},{label:"Improvement",value:45,date:(new Date).toISOString().slice(0,10)}].map(e=>({labels:["Improvement","Remaining"],datasets:[{data:[e.value,100-e.value],backgroundColor:["green","gray"]}]})),(new Date).toISOString().slice(0,10),(0,i.useEffect)(()=>{u(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return a.includes(t)})))},[a]),(0,i.useEffect)(()=>{const e=a.filter(e=>!l[e]);if(!e.length)return;let t=!0;return(async()=>{p(t=>je(je({},t),Object.fromEntries(e.map(e=>[e,!0]))));try{const n=await Promise.all(e.map(async e=>{try{const t=await fetch("".concat(CY,"/scale/").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP ".concat(t.status));const n=await t.json();return[e,(null===n||void 0===n?void 0:n.options)||[]]}catch(p1){return console.error("GAS fetch failed for",e,p1),[e,[]]}}));if(!t)return;c(e=>je(je({},e),Object.fromEntries(n)))}finally{t&&p(t=>je(je({},t),Object.fromEntries(e.map(e=>[e,!1]))))}})(),()=>{t=!1}},[a,l]),(0,i.useEffect)(()=>{const e={};a.forEach(t=>{const n=t.substring(0,4);e[t]=o[n]||"Unknown"}),m(e)},[a]);const v=(0,i.useMemo)(()=>Object.entries(f).reduce((e,t)=>{let[n,i]=t;return e[i]||(e[i]=[]),e[i].push(n),e},{}),[f]);return(0,i.useEffect)(()=>{const e=Object.keys(v)[0];b(e)},[v]),(0,i.useEffect)(()=>{const e=Object.entries(d).map(e=>{var t;let[n,i]=e;const r=Number(i),a=(null===(t=(l[n]||[]).find(e=>Number(e.score)===r))||void 0===t?void 0:t.label)||"";return{icf_child_code:n,score:r,label:a}});null===r||void 0===r||r(e)},[d,l,r]),(0,s.jsxs)("div",{className:"pad",children:[(0,s.jsx)("div",{className:"buttonbar",style:{display:"flex",gap:10,marginBottom:20},children:Object.keys(v).map(e=>(0,s.jsxs)("button",{className:"btn ".concat(g===e?"active":""),onClick:()=>b(e),children:[e," (",v[e].length,")"]},e))}),(0,s.jsxs)("div",{className:"cardheading",children:[(0,s.jsx)("h2",{className:"title",children:"GAS Goals"}),0===a.length&&(0,s.jsx)("div",{className:"hint",children:"No ICF child codes selected yet."})]}),(0,s.jsx)("div",{style:{padding:"25px"},children:g&&(null===(t=v[g])||void 0===t?void 0:t.map(e=>{var t;const n=l[e]||[],i=null!==(t=d[e])&&void 0!==t?t:"",r=!!h[e];f[e];return(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 320px 1fr",gap:12,alignItems:"center",marginBottom:10},children:[(0,s.jsxs)("div",{style:{fontWeight:600},children:[e," ",(0,s.jsx)("span",{style:{fontWeight:"normal",fontSize:"14px"}})]}),(0,s.jsxs)("select",{className:"input",value:i,disabled:r||!n.length,onChange:t=>u(n=>je(je({},n),{},{[e]:t.target.value})),children:[(0,s.jsx)("option",{value:"",children:r?"Loading\u2026":"\u2014 Select Rating \u2014"}),n.map(e=>{const t=String(Number(e.score)),n=(e.label||"").trim();return(0,s.jsxs)("option",{value:t,children:[y(t),"\xa0\xa0\xa0",n||"Unnamed goal"]},t)})]})]},e)}))})]})},NY=(qS.create({baseURL:"http://127.0.0.1:5000"}),{backdrop:{position:"fixed",inset:0,background:"rgba(0,0,0,0.35)",display:"flex",alignItems:"flex-end",justifyContent:"center",zIndex:1e3},sheet:{width:"min(1200px, 96vw)",maxHeight:"85vh",overflow:"hidden",background:"#fff",borderRadius:"16px 16px 0 0",boxShadow:"0 -10px 30px rgba(0,0,0,0.2)",padding:12},inlineCard:{background:"#fff",border:"1px solid #eee",borderRadius:12,padding:12,maxWidth:"100%",overflowX:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"6px 4px",borderBottom:"1px solid #eee",marginBottom:8},cardRow:{display:"grid",gap:10,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",padding:12,border:"1px solid #f0f0f0",borderRadius:12,background:"#fafafa"},field:{display:"flex",flexDirection:"column",gap:6,minWidth:0},fieldLabel:{fontSize:12,color:"#666"},input:{width:"100%",boxSizing:"border-box",padding:"8px 10px",border:"1px solid #ddd",borderRadius:8,outline:"none"},context:{display:"flex",gap:12,fontSize:12,color:"#444",padding:"6px 4px 10px",borderBottom:"1px dashed #eee",marginBottom:8,flexWrap:"wrap"},tableWrap:{display:"grid",gap:4,overflow:"auto",paddingBottom:8},tableHeader:{display:"grid",gridTemplateColumns:"220px 120px 160px 110px 220px 100px 130px 180px 160px 140px 130px 130px 150px 220px 70px",position:"sticky",top:0,background:"#fafafa",zIndex:1,borderBottom:"1px solid #eee"},tr:{display:"grid",gridTemplateColumns:"220px 120px 160px 110px 220px 100px 130px 180px 160px 140px 130px 130px 150px 220px 70px",alignItems:"center"},th:{fontSize:12,fontWeight:700,padding:"6px 8px"},td:{padding:"4px 6px"},input:{width:"100%",boxSizing:"border-box",padding:"6px 8px",border:"1px solid #ddd",borderRadius:8,outline:"none"}});const OY=function(e){let{row:t,onChange:n,onDelete:i}=e;return(0,s.jsxs)("div",{style:NY.cardRow,children:[(0,s.jsx)(PJ,{label:"Item",children:(0,s.jsx)("input",{style:NY.input,value:t.item,onChange:e=>n(t.id,"item",e.target.value)})}),(0,s.jsx)(PJ,{label:"Type",children:(0,s.jsx)("select",{style:NY.input,value:t.type,onChange:e=>n(t.id,"type",e.target.value),children:["Lab","Radiology","Cardiology","Assessment","Other"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(PJ,{label:"Test/Panel",children:(0,s.jsx)("input",{style:NY.input,value:t.test,onChange:e=>n(t.id,"test",e.target.value)})}),(0,s.jsx)(PJ,{label:"Priority",children:(0,s.jsx)("select",{style:NY.input,value:t.priority,onChange:e=>n(t.id,"priority",e.target.value),children:["STAT","Urgent","Routine"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(PJ,{label:"Indication",children:(0,s.jsx)("input",{style:NY.input,value:t.indication,onChange:e=>n(t.id,"indication",e.target.value)})}),(0,s.jsx)(PJ,{label:"ICD-11",children:(0,s.jsx)("input",{style:NY.input,placeholder:"e.g., FA11",value:t.icd,onChange:e=>n(t.id,"icd",e.target.value)})}),(0,s.jsx)(PJ,{label:"Specimen",children:(0,s.jsx)("input",{style:NY.input,placeholder:"Blood/Urine/\u2014",value:t.specimen,onChange:e=>n(t.id,"specimen",e.target.value)})}),(0,s.jsx)(PJ,{label:"Pre-reqs/Prep",children:(0,s.jsx)("input",{style:NY.input,placeholder:"Fasting 8h / Remove metal\u2026",value:t.prereq,onChange:e=>n(t.id,"prereq",e.target.value)})}),(0,s.jsx)(PJ,{label:"Ordering Clinician",children:(0,s.jsx)("input",{style:NY.input,value:t.ordered_by,onChange:e=>n(t.id,"ordered_by",e.target.value)})}),(0,s.jsx)(PJ,{label:"Responsible",children:(0,s.jsx)("input",{style:NY.input,value:t.responsible,onChange:e=>n(t.id,"responsible",e.target.value)})}),(0,s.jsx)(PJ,{label:"Due By",children:(0,s.jsx)("input",{style:NY.input,type:"date",value:t.due,onChange:e=>n(t.id,"due",e.target.value)})}),(0,s.jsx)(PJ,{label:"Status",children:(0,s.jsx)("select",{style:NY.input,value:t.status,onChange:e=>n(t.id,"status",e.target.value),children:["Planned","Ordered","In progress","Completed","Cancelled"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(PJ,{label:"Results Link",children:(0,s.jsx)("input",{style:NY.input,placeholder:"URL / ref",value:t.results,onChange:e=>n(t.id,"results",e.target.value)})}),(0,s.jsx)(PJ,{label:"Notes",children:(0,s.jsx)("input",{style:NY.input,value:t.notes,onChange:e=>n(t.id,"notes",e.target.value)})}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"end"},children:(0,s.jsx)("button",{className:"btn",onClick:i,children:"Delete"})})]})};qS.create({baseURL:"http://127.0.0.1:5000"});const PY=function(e){var t,n;let{open:r,onClose:a,patient:o,initialRows:l,title:c="Order Investigations \u2014 Checklist",onSave:d,variant:u="inline"}=e;const h=i.useMemo(()=>({id:crypto.randomUUID?crypto.randomUUID():String(Date.now()+Math.random()),item:"",type:"Lab",test:"",priority:"Routine",indication:"",icd:"",specimen:"",prereq:"",ordered_by:"",responsible:"",due:"",status:"Planned",results:"",notes:""}),[]),[p,f]=i.useState(()=>(l&&l.length?l:[h]).map(e=>je(je(je({},h),e),{},{id:crypto.randomUUID?crypto.randomUUID():String(Math.random())})));i.useEffect(()=>{l&&l.length&&f(l.map(e=>je(je(je({},h),e),{},{id:crypto.randomUUID?crypto.randomUUID():String(Math.random())})))},[l]),i.useEffect(()=>{if("modal"!==u||!r)return;const e=e=>"Escape"===e.key&&(null===a||void 0===a?void 0:a());return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,r,a]);const m=(e,t,n)=>f(i=>i.map(i=>i.id===e?je(je({},i),{},{[t]:n}):i));if("modal"===u&&!r)return null;const g=e=>{let{children:t}=e;return"modal"===u?(0,s.jsx)("div",{style:NY.backdrop,onClick:a,children:(0,s.jsx)("div",{style:NY.sheet,onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:t})}):(0,s.jsx)("div",{style:NY.inlineCard,children:t})};return(0,s.jsxs)(g,{children:[(0,s.jsxs)("div",{style:NY.header,children:[(0,s.jsx)("div",{style:{fontWeight:700},children:c}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,s.jsx)("button",{className:"btn",onClick:()=>f(e=>[...e,je(je({},h),{},{id:crypto.randomUUID?crypto.randomUUID():String(Date.now()+Math.random())})]),children:"+ Add Row"}),(0,s.jsx)("button",{className:"btn",onClick:()=>{const e=p.map(e=>[e.item,e.type,e.test,e.priority,e.indication,e.icd,e.specimen,e.prereq,e.ordered_by,e.responsible,e.due,e.status,e.results,e.notes]),t=[["Item","Type","Test/Panel","Priority","Clinical Indication","ICD-11","Specimen","Pre-reqs/Prep","Ordering Clinician","Responsible","Due By","Status","Results Link","Notes"],...e].map(e=>e.map(IJ).join(",")).join("\n");!function(e,t,n){const i=new Blob([e],{type:n}),r=URL.createObjectURL(i),a=document.createElement("a");a.href=r,a.download=t,a.click(),URL.revokeObjectURL(r)}(t,"order_investigations.csv","text/csv;charset=utf-8;")},children:"Export CSV"}),(0,s.jsx)("button",{className:"btn",onClick:()=>{null===d||void 0===d||d(p),"modal"===u&&(null===a||void 0===a||a())},children:"Save"}),"modal"===u&&(0,s.jsx)("button",{className:"btn",onClick:a,children:"Close"})]})]}),o&&(0,s.jsxs)("div",{style:NY.context,children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("b",{children:"Patient:"})," ",null!==(t=o.name)&&void 0!==t?t:""]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("b",{children:"ID:"})," ",null!==(n=o.id)&&void 0!==n?n:""]}),(0,s.jsx)("span",{children:(0,s.jsx)("b",{children:"DoB: 13-07-1982 \xb7 Male"})})]}),(0,s.jsx)("div",{style:{display:"grid",gap:12},children:p.map(e=>(0,s.jsx)(OY,{row:e,onChange:m,onDelete:()=>{return t=e.id,f(e=>e.filter(e=>e.id!==t));var t}},e.id))}),(0,s.jsx)("div",{style:{fontSize:12,color:"#666",marginTop:8},children:"Tip: Use Export to hand off to LIS/RIS."})]})};qS.create({baseURL:"http://127.0.0.1:5000"});const IY=function(e){let{patient:t}=e;const[n,r]=i.useState("Low back pain after manual handling incident."),[a,o]=i.useState("SLR 70\xb0 R; core weakness; no neuro deficit.");return(0,s.jsxs)("div",{style:{padding:"12px"},children:[(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsx)("div",{style:{fontSize:18,fontWeight:700},children:"Integrated EMR \xb7 RAP \xb7 TPS"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"This version explicitly includes \u201cBook Appointment\u201d and \u201cOrder Investigations\u201d buttons at all key workflow locations."})]}),(0,s.jsxs)("section",{className:"card",style:{marginBottom:12},children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Patient Registry"})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,margin:"0px 25px"},children:[(0,s.jsxs)("div",{className:"box soft",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{fontWeight:600},children:["Jhon Doe \u2014 ",(0,s.jsx)("span",{className:"dim",children:"PT-0001"})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"PERKESO RTW"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:20},children:[(0,s.jsx)("button",{className:"btn ba",children:"Book Appointment"}),(0,s.jsx)("button",{className:"btn oi",children:"Order Investigations"})]})]}),(0,s.jsxs)("div",{className:"box soft",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{fontWeight:600},children:["Siti Nur H \u2014 ",(0,s.jsx)("span",{className:"dim",children:"PT-0002"})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Self / PERKESO"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:20},children:[(0,s.jsx)("button",{className:"btn ba",children:"Book Appointment"}),(0,s.jsx)("button",{className:"btn oi",children:"Order Investigations"})]})]})]})]}),(0,s.jsxs)("section",{className:"card",style:{marginBottom:12},children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Encounter / Assessment"})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,alignItems:"start",margin:"0px 25px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"label",children:"Subjective"}),(0,s.jsx)("textarea",{className:"input ta",rows:3,value:n,onChange:e=>r(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"label",children:"Objective"}),(0,s.jsx)("textarea",{className:"input ta",rows:3,value:a,onChange:e=>o(e.target.value)})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:10,justifyContent:"flex-end",margin:"0px 25px"},children:[(0,s.jsx)("button",{className:"btn ba",children:"Schedule Follow-up"}),(0,s.jsx)("button",{className:"btn oi",children:"Order Investigations"})]})]}),(0,s.jsxs)("section",{className:"card",style:{marginBottom:12,position:"relative"},children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Problem List (ICD-11)"})}),(0,s.jsxs)("div",{style:{display:"grid",gap:8,margin:"0px 20px"},children:[(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"MG30.01 \u2014 Lumbar disc protrusion"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Onset: 2025-07-02"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,s.jsx)("button",{className:"btn ba",children:"Book related session"}),(0,s.jsx)("button",{className:"btn oi",children:"Order X-ray"}),(0,s.jsx)("button",{className:"btn oi",children:"Order Investigations"})]})]}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"FA11 \u2014 Low back pain"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Onset: 2025-06-20"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,s.jsx)("button",{className:"btn ba",children:"Plan session"}),(0,s.jsx)("button",{className:"btn oi",children:"Order Labs"})]})]})]}),(0,s.jsx)("div",{style:{position:"fixed",right:16,bottom:16,zIndex:9999,display:"flex",flexDirection:"column",gap:12},children:(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)("button",{style:{backgroundColor:"green",color:"#fff",marginBottom:20,padding:"7px 15px"},className:"btn ba",children:"+ New Appointment"}),(0,s.jsx)("button",{style:{backgroundColor:"#fff",border:"2px solid green"},className:"btn oi",children:"+ Order Investigations"})]})})]}),(0,s.jsxs)("section",{className:"card",style:{marginBottom:12},children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Interventions (ICHI)"})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12,margin:"0px 20px "},children:[(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",flexDirection:"column",gap:8},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"7500 \u2014 Therapeutic exercise"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"3\xd7/week \u2022 45min"}),(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,s.jsx)("button",{className:"btn ba",children:"Book"}),(0,s.jsx)("button",{className:"btn oi",children:"Order pre-proc labs"})]})]}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",flexDirection:"column",gap:8},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"7510 \u2014 Work conditioning"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"2\xd7/week \u2022 60min"}),(0,s.jsx)("div",{style:{display:"flex",gap:6},children:(0,s.jsx)("button",{className:"btn ba",children:"Book"})})]}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",flexDirection:"column",gap:8},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"7W03 \u2014 Ergonomics education"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"1\xd7/week"}),(0,s.jsx)("div",{style:{display:"flex",gap:6},children:(0,s.jsx)("button",{className:"btn ba",children:"Book"})})]})]})]}),(0,s.jsxs)("section",{className:"card",style:{marginBottom:12},children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"TPS \u2014 Task Performance"})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,margin:"0px 20px "},children:[(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Lift 10kg crate"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Result: Completed with mild pain"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,s.jsx)("button",{className:"btn ba",children:"Book Next TPS"}),(0,s.jsx)("button",{className:"btn oi",children:"Order ECG"})]})]}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Overhead reach 1 min"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Result: Requires pacing"})]}),(0,s.jsx)("div",{style:{display:"flex",gap:6},children:(0,s.jsx)("button",{className:"btn ba",children:"Book Retest"})})]})]})]}),(0,s.jsxs)("section",{className:"card",style:{marginBottom:12},children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"RAP / RTW Plan"})}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0px 20px "},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"RTW \u2014 Milestone: 30 days"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Target: Light duty"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,s.jsx)("button",{className:"btn ba",children:"Create RTW schedule"}),(0,s.jsx)("button",{className:"btn oi",children:"Order FCE"})]})]})]}),(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"Discharge & Follow-up"})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0px 20px "},children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{style:{fontWeight:600},children:"30 day phone review"})}),(0,s.jsx)("div",{style:{display:"flex",gap:6},children:(0,s.jsx)("button",{className:"btn ba",children:"Book 30d"})})]}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{style:{fontWeight:600},children:"60 day onsite review"})}),(0,s.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,s.jsx)("button",{className:"btn ba",children:"Book 60d"}),(0,s.jsx)("button",{className:"btn oi",children:"Order 6-week XR"})]})]}),(0,s.jsxs)("div",{className:"box soft",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{style:{fontWeight:600},children:"90 day sustainability check"})}),(0,s.jsx)("div",{style:{display:"flex",gap:6},children:(0,s.jsx)("button",{className:"btn ba",children:"Book 90d"})})]})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12,marginTop:8},children:"CARF: 30 / 60 / 90 checks"})]})]})},EY=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],TY="label";function LY(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function MY(e,t){e.labels=t}function RY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TY;const i=[];e.datasets=t.map(t=>{const r=e.datasets.find(e=>e[n]===t[n]);return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):je({},t)})}function DY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TY;const n={labels:[],datasets:[]};return MY(n,e.labels),RY(n,e.datasets,t),n}function FY(e,t){let{height:n=150,width:r=300,redraw:a=!1,datasetIdKey:o,type:s,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h}=e,p=iN(e,EY);const f=(0,i.useRef)(null),m=(0,i.useRef)(),g=()=>{f.current&&(m.current=new AD(f.current,{type:s,data:DY(l,o),options:c&&je({},c),plugins:d}),LY(t,m.current))},b=()=>{LY(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,i.useEffect)(()=>{var e,t;!a&&m.current&&c&&(e=m.current,t=c,Object.assign(e.options,t))},[a,c]),(0,i.useEffect)(()=>{!a&&m.current&&MY(m.current.config.data,l.labels)},[a,l.labels]),(0,i.useEffect)(()=>{!a&&m.current&&l.datasets&&RY(m.current.config.data,l.datasets,o)},[a,l.datasets]),(0,i.useEffect)(()=>{m.current&&(a?(b(),setTimeout(g)):m.current.update(h))},[a,c,l.labels,l.datasets,h]),(0,i.useEffect)(()=>{m.current&&(b(),setTimeout(g))},[s]),(0,i.useEffect)(()=>(g(),()=>b()),[]),i.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},p),u)}const BY=(0,i.forwardRef)(FY);function zY(e,t){return AD.register(t),(0,i.forwardRef)((t,n)=>i.createElement(BY,Object.assign({},t,{ref:n,type:e})))}const WY=zY("line",$M),UY=zY("bar",KM),qY=zY("pie",eR),HY="http://127.0.0.1:5000",VY=(qS.create({baseURL:HY}),"".concat(HY,"/gas"));const GY=function(e){var t;let{icfChildren:n=[],onSummaryChange:r}=e;const a=(0,i.useMemo)(()=>Array.from(new Set(n)),[n]),o={b730:"PT",b110:"Neurophysics",b740:"PT",b735:"PT",b749:"PT"},[l,c]=(0,i.useState)({}),[d,u]=(0,i.useState)({}),[h,p]=(0,i.useState)({}),[f,m]=(0,i.useState)({}),[g,b]=(0,i.useState)(""),y=e=>{const t=Number(e);return Number.isNaN(t)?"":t>0?"+".concat(t):String(t)},v=[{label:"Improvement",value:2,date:"2025-07-10"},{label:"Improvement",value:20,date:"2025-08-20"},{label:"Improvement",value:45,date:(new Date).toISOString().slice(0,10)}],x=v.map(e=>({labels:["Improvement","Remaining"],datasets:[{data:[e.value,100-e.value],backgroundColor:["green","gray"]}]})),w={labels:["2025-07-10","2025-08-20",(new Date).toISOString().slice(0,10)],datasets:[{label:"Improvement (%)",data:[2,20,45],backgroundColor:"green"},{label:"Decrement (%)",data:[0,0,0],backgroundColor:"red"}]};(0,i.useEffect)(()=>{u(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return a.includes(t)})))},[a]),(0,i.useEffect)(()=>{const e=a.filter(e=>!l[e]);if(!e.length)return;let t=!0;return(async()=>{p(t=>je(je({},t),Object.fromEntries(e.map(e=>[e,!0]))));try{const n=await Promise.all(e.map(async e=>{try{const t=await fetch("".concat(VY,"/scale/").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP ".concat(t.status));const n=await t.json();return[e,(null===n||void 0===n?void 0:n.options)||[]]}catch(p1){return console.error("GAS fetch failed for",e,p1),[e,[]]}}));if(!t)return;c(e=>je(je({},e),Object.fromEntries(n)))}finally{t&&p(t=>je(je({},t),Object.fromEntries(e.map(e=>[e,!1]))))}})(),()=>{t=!1}},[a,l]),(0,i.useEffect)(()=>{const e={};a.forEach(t=>{const n=t.substring(0,4);e[t]=o[n]||"Unknown"}),m(e)},[a]);const j=(0,i.useMemo)(()=>Object.entries(f).reduce((e,t)=>{let[n,i]=t;return e[i]||(e[i]=[]),e[i].push(n),e},{}),[f]);return(0,i.useEffect)(()=>{const e=Object.keys(j)[0];b(e)},[j]),(0,i.useEffect)(()=>{const e=Object.entries(d).map(e=>{var t;let[n,i]=e;const r=Number(i),a=(null===(t=(l[n]||[]).find(e=>Number(e.score)===r))||void 0===t?void 0:t.label)||"";return{icf_child_code:n,score:r,label:a}});null===r||void 0===r||r(e)},[d,l,r]),(0,s.jsxs)("div",{className:"pad",children:[(0,s.jsx)("div",{className:"buttonbar",style:{display:"flex",gap:10,marginBottom:20},children:Object.keys(j).map(e=>(0,s.jsxs)("button",{className:"btn ".concat(g===e?"active":""),onClick:()=>b(e),children:[e," (",j[e].length,")"]},e))}),(0,s.jsxs)("div",{className:"cardheading",children:[(0,s.jsx)("h2",{className:"title",children:"GAS Goals"}),0===a.length&&(0,s.jsx)("div",{className:"hint",children:"No ICF child codes selected yet."})]}),(0,s.jsx)("div",{style:{padding:"25px"},children:g&&(null===(t=j[g])||void 0===t?void 0:t.map(e=>{var t;const n=l[e]||[],i=null!==(t=d[e])&&void 0!==t?t:"",r=!!h[e];f[e];return(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 320px 1fr",gap:12,alignItems:"center",marginBottom:10},children:[(0,s.jsxs)("div",{style:{fontWeight:600},children:[e," ",(0,s.jsx)("span",{style:{fontWeight:"normal",fontSize:"14px"}})]}),(0,s.jsxs)("select",{className:"input",value:i,disabled:r||!n.length,onChange:t=>u(n=>je(je({},n),{},{[e]:t.target.value})),children:[(0,s.jsx)("option",{value:"",children:r?"Loading\u2026":"\u2014 Select Rating \u2014"}),n.map(e=>{const t=String(Number(e.score)),n=(e.label||"").trim();return(0,s.jsxs)("option",{value:t,children:[y(t),"\xa0\xa0\xa0",n||"Unnamed goal"]},t)})]})]},e)}))}),(0,s.jsx)("div",{style:{display:"flex",gap:40,marginBottom:40,marginTop:40,justifyContent:"center"},children:x.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("h5",{children:["Improvement on ",v[t].date]}),(0,s.jsx)(qY,{data:e}),(0,s.jsxs)("p",{style:{display:"flex",justifyContent:"center"},children:[v[t].value,"% Improvement"]})]},t))}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsxs)("div",{style:{width:"600px",height:"400px",margin:"50"},children:[(0,s.jsx)("h4",{children:"Comparative Bar Chart"}),(0,s.jsx)(UY,{data:w})]})})]})};function ZY(e){let{patient:t,onSubmit:n,onBack:r}=e;const a=["q3","q5","q10","q13","q16","q17","q21"],o=["q2","q4","q7","q9","q15","q19","q20"],l=["q1","q6","q8","q11","q12","q14","q18"],[c,d]=(0,i.useState)({}),[u,h]=(0,i.useState)(!1),p=null!==t&&void 0!==t&&t.id?"psychology::".concat(t.id,"::DASS"):null,f={title:"Depression Anxiety Stress Scale (DASS-21)",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"print",label:"Print"},{type:"save",label:"Save"}],fields:[{name:"q1",label:"1. I found it hard to wind down."},{name:"q2",label:"2. I was aware of dryness of my mouth."},{name:"q3",label:"3. I couldn\u2019t seem to experience any positive feeling at all."},{name:"q4",label:"4. I experienced breathing difficulty (e.g. excessively rapid breathing, breathlessness in the absence of physical exertion)."},{name:"q5",label:"5. I found it difficult to work up the initiative to do things."},{name:"q6",label:"6. I tended to over-react to situations."},{name:"q7",label:"7. I experienced trembling."},{name:"q8",label:"8. I felt that I was using a lot of nervous energy."},{name:"q9",label:"9. I was worried about situations in which I might panic and make a fool of myself."},{name:"q10",label:"10. I felt that I had nothing to look forward to."},{name:"q11",label:"11. I found myself getting agitated."},{name:"q12",label:"12. I found it difficult to relax."},{name:"q13",label:"13. I felt down-hearted and blue."},{name:"q14",label:"14. I was intolerant of anything that kept me from getting on with what I was doing."},{name:"q15",label:"15. I felt I was close to panic."},{name:"q16",label:"16. I was unable to become enthusiastic."},{name:"q17",label:"17. I felt I wasn\u2019t worth much as a person."},{name:"q18",label:"18. I felt that I was rather touchy."},{name:"q19",label:"19. I was aware of the action of my heart in the absence of physical exertion (e.g. sense of heart rate increase, heart missing a beat)."},{name:"q20",label:"20. I felt scared without any good reason."},{name:"q21",label:"21. I felt that life was meaningless."}].map(e=>je(je({},e),{},{type:"single-select",validation:{required:!0,message:"This question is required"},options:[{label:"Did not apply to me at all (0)",value:0},{label:"Applied some of the time (1)",value:1},{label:"Applied a good part of time (2)",value:2},{label:"Applied most of the time (3)",value:3}]}))};(0,i.useEffect)(()=>{if(!p)return;const e=localStorage.getItem(p);if(e){const t=JSON.parse(e);d(t.values||{}),h(!1)}},[p]);const m=e=>e.reduce((e,t)=>{var n;return e+(null!==(n=c[t])&&void 0!==n?n:0)},0),g=(0,i.useMemo)(()=>({depression:m(a),anxiety:m(o),stress:m(l)}),[c]),b=(e,t)=>({depression:[[9,"Normal"],[13,"Mild"],[20,"Moderate"],[27,"Severe"],[1/0,"Extremely Severe"]],anxiety:[[7,"Normal"],[9,"Mild"],[14,"Moderate"],[19,"Severe"],[1/0,"Extremely Severe"]],stress:[[14,"Normal"],[18,"Mild"],[25,"Moderate"],[33,"Severe"],[1/0,"Extremely Severe"]]}[t].find(t=>e<=t[0])[1]),y=()=>f.fields.every(e=>void 0!==c[e.name]);return(0,s.jsx)("div",{style:YY,children:(0,s.jsxs)(i_,{schema:f,values:c,onChange:(e,t)=>{d(n=>je(je({},n),{},{[e]:Number(t)}))},submitted:u,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":d({}),h(!1),p&&localStorage.removeItem(p);break;case"save":if(!p)return;localStorage.setItem(p,JSON.stringify({values:c,updatedAt:(new Date).toISOString()})),alert("Draft saved successfully");break;case"print":window.print()}},children:[(0,s.jsx)("div",{style:KY,children:["depression","anxiety","stress"].map(e=>(0,s.jsxs)("div",{style:JY,children:[e.toUpperCase()," SCORE : ",g[e]," (",b(g[e],e),")"]},e))}),(0,s.jsx)("div",{style:XY,children:(0,s.jsx)("button",{style:je({},$Y),disabled:!y(),onClick:()=>{if(h(!0),!y())return void alert("Please answer all required questions");const e={patientId:t.id,scale:"DASS-21",values:c,scores:g,submittedAt:(new Date).toISOString()};localStorage.setItem(p,JSON.stringify({values:c})),console.log("DASS Submitted:",e),alert("DASS-21 submitted successfully"),null===n||void 0===n||n(e)},children:"Submit"})})]})})}const YY={margin:"0 auto"},KY={display:"flex",gap:16,marginTop:20,flexWrap:"wrap"},JY={flex:1,minWidth:150,background:"#f1f5ff",border:"1px solid #d6e2ff",borderRadius:10,padding:"8px 12px",fontSize:15,fontWeight:600,color:"#1f2937",display:"flex",alignItems:"center"},XY={display:"flex",justifyContent:"flex-end",marginTop:24},$Y={padding:"12px 34px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function QY(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),d=t?"psychology_pss_draft_".concat(t.name):null,u={title:"Perceived Stress Scale (PSS)",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"print",label:"Print"},{type:"save",label:"Save"}],fields:[{name:"q1",label:"1. In the last month, how often have you been upset because of something that happened unexpectedly?"},{name:"q2",label:"2. In the last month, how often have you felt that you were unable to control the important things in your life?"},{name:"q3",label:"3. In the last month, how often have you felt nervous and stressed?"},{name:"q4",label:"4. In the last month, how often have you felt confident about your ability to handle your personal problems?"},{name:"q5",label:"5. In the last month, how often have you felt that things were going your way?"},{name:"q6",label:"6. In the last month, how often have you found that you could not cope with all the things that you had to do?"},{name:"q7",label:"7. In the last month, how often have you been able to control irritations in your life?"},{name:"q8",label:"8. In the last month, how often have you felt that you were on top of things?"},{name:"q9",label:"9. In the last month, how often have you been angered because of things that were outside of your control?"},{name:"q10",label:"10. In the last month, how often have you felt difficulties were piling up so high that you could not overcome them?"}].map(e=>je(je({},e),{},{type:"single-select",options:[{label:"Never (0)",value:0},{label:"Almost never (1)",value:1},{label:"Sometimes (2)",value:2},{label:"Fairly often (3)",value:3},{label:"Very often (4)",value:4}]}))},h=["q4","q5","q7","q8"];(0,i.useEffect)(()=>{if(!d)return;const e=localStorage.getItem(d);if(e){const t=JSON.parse(e);o(t.values||{}),c(!1)}},[d]);const p=(0,i.useMemo)(()=>Object.entries(a).reduce((e,t)=>{let[n,i]=t;return void 0===i?e:e+(h.includes(n)?4-i:i)},0),[a]),f=(0,i.useMemo)(()=>p<=13?"Low Stress":p<=26?"Moderate Stress":"High Stress",[p]);return(0,s.jsx)("div",{style:eK,children:(0,s.jsx)(i_,{schema:u,values:a,onChange:(e,t)=>{o(n=>je(je({},n),{},{[e]:Number(t)}))},submitted:l,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":o({}),c(!1),d&&localStorage.removeItem(d),null===n||void 0===n||n({totalScore:0,severity:"Low Stress"});break;case"print":window.print();break;case"save":if(!d)return;localStorage.setItem(d,JSON.stringify({values:a,updatedAt:(new Date).toISOString()})),alert("PSS draft saved successfully")}},children:(0,s.jsxs)("div",{style:tK,children:[(0,s.jsxs)("div",{style:nK,children:[(0,s.jsxs)("div",{style:rK,children:["Total Score: ",p]}),(0,s.jsxs)("div",{style:iK,children:["Anxiety Severity: ",f]})]}),(0,s.jsx)("div",{style:aK,children:(0,s.jsx)("button",{style:oK,onClick:()=>{c(!0);null===n||void 0===n||n({totalScore:p,severity:f}),alert("PSS Submitted\n\nScore: ".concat(p,"\nSeverity: ").concat(f))},children:"Submit"})})]})})})}const eK={margin:"0 auto"},tK={width:"90%",margin:"24px auto 0",padding:20},nK={display:"flex",gap:16,flexWrap:"wrap"},iK={flex:1,background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},rK={flex:1,background:"#f1f5ff",border:"1px solid #d6e2ff",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},aK={display:"flex",justifyContent:"flex-end",marginTop:24},oK={padding:"12px 34px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function sK(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),d=t?"psychology_phq9_draft_".concat(t.name):null,u={title:"Patient Health Questionnaire (PHQ-9)",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"print",label:"Print"},{type:"save",label:"Save"}],fields:["Little interest or pleasure in doing things.","Feeling down, depressed, or hopeless.","Trouble falling or staying asleep, or sleeping too much.","Feeling tired or having little energy.","Poor appetite or overeating.","Feeling bad about yourself \u2014 or that you are a failure or have let yourself or your family down.","Trouble concentrating on things, such as reading the newspaper or watching television.","Moving or speaking so slowly that other people could have noticed? Or being so fidgety or restless that you have been moving more than usual.","Thoughts that you would be better off dead or of hurting yourself in some way."].map((e,t)=>({name:"q".concat(t+1),label:"".concat(t+1,". ").concat(e),type:"single-select",options:[{label:"Not at all (0)",value:0},{label:"Several days (1)",value:1},{label:"More than half the days (2)",value:2},{label:"Nearly every day (3)",value:3}]}))};(0,i.useEffect)(()=>{if(!d)return;const e=localStorage.getItem(d);if(e){const t=JSON.parse(e);o(t.values||{}),c(!1)}},[d]);const h=(0,i.useMemo)(()=>Object.values(a).reduce((e,t)=>void 0!==t?e+t:e,0),[a]),p=(0,i.useMemo)(()=>h<=4?"Minimal / None":h<=9?"Mild":h<=14?"Moderate":h<=19?"Moderately Severe":"Severe",[h]);return(0,s.jsx)("div",{style:lK,children:(0,s.jsx)(i_,{schema:u,values:a,onChange:(e,t)=>{o(n=>je(je({},n),{},{[e]:Number(t)}))},submitted:l,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":o({}),c(!1),d&&localStorage.removeItem(d),null===n||void 0===n||n({totalScore:0,severity:"Minimal / None"});break;case"print":window.print();break;case"save":if(!d)return;localStorage.setItem(d,JSON.stringify({values:a,updatedAt:(new Date).toISOString()})),alert("PHQ-9 draft saved successfully")}},children:(0,s.jsxs)("div",{style:cK,children:[(0,s.jsxs)("div",{style:dK,children:[(0,s.jsxs)("div",{style:hK,children:["Total Score: ",h]}),(0,s.jsxs)("div",{style:uK,children:["Anxiety Severity: ",p]})]}),(0,s.jsx)("div",{style:pK,children:(0,s.jsx)("button",{style:fK,onClick:()=>{c(!0);null===n||void 0===n||n({totalScore:h,severity:p}),alert("PHQ-9 Submitted\n\nScore: ".concat(h,"\nSeverity: ").concat(p))},children:"Submit"})})]})})})}const lK={margin:"0 auto"},cK={width:"90%",margin:"24px auto 0",padding:20},dK={display:"flex",gap:16,flexWrap:"wrap"},uK={flex:1,background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},hK={flex:1,background:"#f1f5ff",border:"1px solid #d6e2ff",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},pK={display:"flex",justifyContent:"flex-end",marginTop:24},fK={padding:"12px 34px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function mK(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),d=t?"psychology_hama_draft_".concat(t.name):null,u={title:"Hamilton Anxiety Rating Scale (HAM-A )",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"print",label:"Print"},{type:"save",label:"Save"}],fields:["Anxious mood - Worries, anticipation of the worst, fearful anticipation, irritability","Tension - Feelings of tension, fatigability, startle response, moved to tears easily, trembling, feelings of restlessness, inability to relax","Fears - Of dark, of strangers, of being left alone, of animals, of traffic, of crowds","Insomnia - Difficulty in falling asleep, broken sleep, unsatisfying sleep and fatigue on waking, dreams, nightmares, night terrorsInsomnia - Difficulty falling or staying asleep","Intellectual - Difficulty concentrating, poor memory","Depressed mood - Loss of interest, lack of pleasure in hobbies, depression, early waking, diurnal swing","Somatic (muscular) - Pains and aches, twitching, stiffness, myoclonic jerks, grinding of teeth, unsteady voice, increased muscular toneSomatic (muscular) - Aches, stiffness, twitching","Somatic (sensory) - Tinnitus, blurring of vision, hot and cold flushes, feelings of weakness, pricking sensation","Cardiovascular symptoms - Tachycardia, palpitations, pain in chest, throbbing of vessels, fainting feelings, missing beat","Respiratory symptoms - Pressure or constriction in chest, choking feelings, sighing, dyspnea","Gastrointestinal symptoms - Difficulty in swallowing, wind abdominal pain, burning sensations, abdominal fullness, nausea, vomitting, borborygmi, looseness of bowels, loss of weight, constipation","Genitourinary symptoms - Frequency of micturition, urgency of micturition, amenorrhea, menorrhagia, development of frigidity, premature ejaculation, loss of libido, impotence","Autonomic symptoms - Dry mouth, flushing, pallor, tendency to sweat, giddiness, tension headache, raising of hair","Behavior at interview - Fidgeting, restlessness or pacing, tremor of hands, furrowed brow, strained face, sighing or rapid respiration, facial pallor, swallowing, etc."].map((e,t)=>({name:"q".concat(t+1),label:"".concat(t+1,". ").concat(e),type:"single-select",options:[{label:"Not present (0)",value:0},{label:"Mild (1)",value:1},{label:"Moderate (2)",value:2},{label:"Severe (3)",value:3},{label:"Very Severe (4)",value:4}]}))};(0,i.useEffect)(()=>{if(!d)return;const e=localStorage.getItem(d);if(e){const t=JSON.parse(e);o(t.values||{}),c(!1)}},[d]);const h=(0,i.useMemo)(()=>Object.values(a).reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0),[a]),p=(0,i.useMemo)(()=>h<17?"Mild":h<=24?"Mild to Moderate":h<=30?"Moderate to Severe":"Severe",[h]);return(0,s.jsx)("div",{style:gK,children:(0,s.jsx)(i_,{schema:u,values:a,onChange:(e,t)=>{o(n=>je(je({},n),{},{[e]:Number(t)}))},submitted:l,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":o({}),c(!1),d&&localStorage.removeItem(d),null===n||void 0===n||n({totalScore:0,severity:"Mild"});break;case"print":window.print();break;case"save":if(!d)return;localStorage.setItem(d,JSON.stringify({values:a,updatedAt:(new Date).toISOString()})),alert("HAM-A draft saved successfully")}},children:(0,s.jsxs)("div",{style:bK,children:[(0,s.jsxs)("div",{style:yK,children:[(0,s.jsxs)("div",{style:xK,children:["TOTAL SCORE : ",h]}),(0,s.jsxs)("div",{style:vK,children:["ANXIETY SEVERITY : ",p]})]}),(0,s.jsx)("div",{style:wK,children:(0,s.jsx)("button",{style:jK,onClick:()=>{c(!0);null===n||void 0===n||n({totalScore:h,severity:p}),alert("HAM-A Submitted\n\nScore: ".concat(h,"\nSeverity: ").concat(p))},children:"Submit"})})]})})})}const gK={margin:"0 auto"},bK={width:"90%",margin:"24px auto 0",padding:20},yK={display:"flex",gap:16,flexWrap:"wrap"},vK={flex:1,background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},xK={flex:1,background:"#f1f5ff",border:"1px solid #d6e2ff",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},wK={display:"flex",justifyContent:"flex-end",marginTop:24},jK={padding:"12px 34px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function SK(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),d=t?"psychology_gad7_draft_".concat(t.name):null,u={title:"Generalized Anxiety Disorder (GAD-7)",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"print",label:"Print"},{type:"save",label:"Save"}],fields:["Feeling nervous, anxious, or on edge.","Not being able to stop or control worrying.","Worrying too much about different things.","Trouble relaxing.","Being so restless that it is hard to sit still.","Becoming easily annoyed or irritable.","Feeling afraid, as if something awful might happen."].map((e,t)=>({name:"q".concat(t+1),label:"".concat(t+1,". ").concat(e),type:"single-select",options:[{label:"Not at all (0)",value:0},{label:"Several days (1)",value:1},{label:"More than half the days (2)",value:2},{label:"Nearly every day (3)",value:3}]}))};(0,i.useEffect)(()=>{if(!d)return;const e=localStorage.getItem(d);if(e){const t=JSON.parse(e);o(t.values||{}),c(!1)}},[d]);const h=(0,i.useMemo)(()=>Object.values(a).reduce((e,t)=>e+(null!==t&&void 0!==t?t:0),0),[a]),p=(0,i.useMemo)(()=>h<=4?"Minimal / None":h<=9?"Mild":h<=14?"Moderate":"Severe",[h]);return(0,s.jsx)("div",{style:_K,children:(0,s.jsx)(i_,{schema:u,values:a,onChange:(e,t)=>{o(n=>je(je({},n),{},{[e]:Number(t)}))},submitted:l,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":o({}),c(!1),d&&localStorage.removeItem(d),null===n||void 0===n||n({totalScore:0,severity:"Minimal / None"});break;case"print":window.print();break;case"save":if(!d)return;localStorage.setItem(d,JSON.stringify({values:a,updatedAt:(new Date).toISOString()})),alert("GAD-7 draft saved successfully")}},children:(0,s.jsxs)("div",{style:kK,children:[(0,s.jsxs)("div",{style:CK,children:[(0,s.jsxs)("div",{style:NK,children:["Total Score: ",h]}),(0,s.jsxs)("div",{style:AK,children:["Anxiety Severity: ",p]})]}),(0,s.jsx)("div",{style:OK,children:(0,s.jsx)("button",{style:PK,onClick:()=>{c(!0);null===n||void 0===n||n({totalScore:h,severity:p}),alert("GAD-7 Submitted\n\nScore: ".concat(h,"\nSeverity: ").concat(p))},children:"Submit"})})]})})})}const _K={margin:"0 auto"},kK={width:"90%",margin:"24px auto 0",padding:20},CK={display:"flex",gap:16,flexWrap:"wrap"},AK={flex:1,background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},NK={flex:1,background:"#f1f5ff",border:"1px solid #d6e2ff",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},OK={display:"flex",justifyContent:"flex-end",marginTop:24},PK={padding:"12px 34px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function IK(e){let{patient:t,onSubmit:n,onBack:r}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),d=(0,i.useMemo)(()=>Object.values(a).reduce((e,t)=>e+(void 0!==t?Number(t):0),0),[a]),u=t?"psychology_hamd_draft_".concat(t.name):null;(0,i.useEffect)(()=>{if(!u)return;const e=localStorage.getItem(u);if(e){const t=JSON.parse(e);o(t.values||{}),c(!1)}},[u]);const h=(p=d)<=7?"Normal / In Remission":p<=17?"Mild Depression":p<=24?"Moderate Depression":"Severe Depression";var p;return(0,s.jsx)("div",{style:EK,children:(0,s.jsx)(i_,{schema:{title:"Hamilton Depression Rating Scale - (HAM-D)",actions:[{type:"back",label:"Back"},{type:"clear",label:"Clear"},{type:"save",label:"Save"}],fields:[{name:"q1",label:"1. Depressed Mood",type:"single-select",options:[{label:"Absent",value:0},{label:"Indicated only on questioning",value:1},{label:"Spontaneously reported verbally",value:2},{label:"Communicates feeling states non-verbally",value:3},{label:"Virtually only these feeling states",value:4}]},{name:"q2",label:"2. Feelings of Guilt",type:"single-select",options:[{label:"Absent",value:0},{label:"Self reproach",value:1},{label:"Ideas of guilt or rumination",value:2},{label:"Delusions of guilt",value:3},{label:"Hallucinatory accusatory voices",value:4}]},{name:"q3",label:"3. Suicide",type:"single-select",options:[{label:"Absent",value:0},{label:"Feels life not worth living",value:1},{label:"Wishes he/she were dead",value:2},{label:"Ideas or gestures of suicide",value:3},{label:"Attempts at suicide",value:4}]},{name:"q4",label:"4. Insomnia \u2013 Early",type:"single-select",options:[{label:"No difficulty",value:0},{label:"Occasional difficulty falling asleep",value:1},{label:"Nightly difficulty falling asleep",value:2}]},{name:"q5",label:"5. Insomnia \u2013 Middle",type:"single-select",options:[{label:"No difficulty",value:0},{label:"Restless / disturbed during night",value:1},{label:"Waking during night",value:2}]},{name:"q6",label:"6. Insomnia \u2013 Early Morning",type:"single-select",options:[{label:"No difficulty",value:0},{label:"Wakes early but returns to sleep",value:1},{label:"Unable to return to sleep",value:2}]},{name:"q7",label:"7. Work and Activities",type:"single-select",options:[{label:"No difficulty",value:0},{label:"Fatigue or weakness",value:1},{label:"Loss of interest in activities",value:2},{label:"Decreased productivity",value:3},{label:"Stopped working",value:4}]},{name:"q8",label:"8. Retardation",type:"single-select",options:[{label:"Normal",value:0},{label:"Slight retardation",value:1},{label:"Obvious retardation",value:2},{label:"Interview difficult",value:3},{label:"Complete stupor",value:4}]},{name:"q9",label:"9. Agitation",type:"single-select",options:[{label:"None",value:0},{label:"Fidgetiness",value:1},{label:"Playing with hands/hair",value:2},{label:"Moving about",value:3},{label:"Hand wringing, nail biting",value:4}]},{name:"q10",label:"10. Anxiety \u2013 Psychic",type:"single-select",options:[{label:"No difficulty",value:0},{label:"Subjective tension",value:1},{label:"Worrying",value:2},{label:"Apprehensive attitude",value:3},{label:"Fears without questioning",value:4}]},{name:"q11",label:"11. Anxiety \u2013 Somatic",type:"single-select",options:[{label:"Absent",value:0},{label:"Mild",value:1},{label:"Moderate",value:2},{label:"Severe",value:3},{label:"Incapacitating",value:4}]},{name:"q12",label:"12. Somatic Symptoms \u2013 GI",type:"single-select",options:[{label:"None",value:0},{label:"Loss of appetite",value:1},{label:"Difficulty eating",value:2}]},{name:"q13",label:"13. General Somatic Symptoms",type:"single-select",options:[{label:"None",value:0},{label:"Heaviness / aches",value:1},{label:"Clear-cut symptoms",value:2}]},{name:"q14",label:"14. Genital Symptoms",type:"single-select",options:[{label:"Absent",value:0},{label:"Mild",value:1},{label:"Severe",value:2}]},{name:"q15",label:"15. Hypochondriasis",type:"single-select",options:[{label:"Not present",value:0},{label:"Self absorption",value:1},{label:"Preoccupation with health",value:2},{label:"Frequent complaints",value:3},{label:"Hypochondriacal delusions",value:4}]},{name:"q16",label:"16. Loss of Weight",type:"single-select",options:[{label:"No weight loss",value:0},{label:"Probable weight loss",value:1},{label:"Definite weight loss",value:2}]},{name:"q17",label:"17. Insight",type:"single-select",options:[{label:"Acknowledges illness",value:0},{label:"Acknowledges illness but blames external factors",value:1},{label:"Denies being ill",value:2}]}]},values:a,onChange:(e,t)=>{o(n=>je(je({},n),{},{[e]:Number(t)}))},submitted:l,onAction:e=>{switch(e){case"back":null===r||void 0===r||r();break;case"clear":o({}),c(!1),u&&localStorage.removeItem(u),null===n||void 0===n||n({totalScore:0,severity:"Minimal / None"});break;case"print":window.print();break;case"save":if(!u)return;localStorage.setItem(u,JSON.stringify({values:a,updatedAt:(new Date).toISOString()})),alert("GAD-7 draft saved successfully")}},children:(0,s.jsxs)("div",{style:TK,children:[(0,s.jsxs)("div",{style:LK,children:[(0,s.jsxs)("div",{style:RK,children:["TOTAL SCORE : ",d]}),(0,s.jsxs)("div",{style:MK,children:["ANXIETY SEVERITY : ",h]})]}),(0,s.jsx)("div",{style:DK,children:(0,s.jsx)("button",{style:FK,onClick:()=>{c(!0),null===n||void 0===n||n({totalScore:d,severity:h,responses:a})},children:"Submit"})})]})})})}const EK={margin:"0 auto"},TK={width:"90%",margin:"24px auto 0",padding:20},LK={display:"flex",gap:16,flexWrap:"wrap"},MK={flex:1,background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},RK={flex:1,background:"#f1f5ff",border:"1px solid #d6e2ff",borderRadius:10,padding:"14px 18px",fontSize:16,fontWeight:700,color:"#1f2937",minWidth:260},DK={display:"flex",justifyContent:"flex-end",marginTop:24},FK={padding:"12px 34px",background:"#2563EB",color:"#fff",border:"none",borderRadius:10,fontSize:15,fontWeight:700};function BK(e){let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(ZY,{patient:t,onSubmit:n,onBack:i})}function zK(e){let{onChange:t,patient:n,onBack:i}=e;return(0,s.jsx)(mK,{patient:n,onSubmit:t,onBack:i})}function WK(e){let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(IK,{patient:t,onSubmit:n,onBack:i})}function UK(e){let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(QY,{patient:t,onBack:i,onSubmit:n})}function qK(e){let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(SK,{patient:t,onSubmit:n,onBack:i})}function HK(e){let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(sK,{patient:t,onBack:i,onSubmit:n})}function VK(e){let{patient:t,onSave:n,onBack:r}=e;const a=["Depression Anxiety Stress Scale (DASS-21)","Perceived Stress Scale (PSS)","Generalized Anxiety Disorder (GAD-7)","Patient Health Questionnaire (PHQ-9)","Hamilton Anxiety Rating Scale (HAM-A)","Hamilton Depression Rating Scale (HAM-D)"],[o,l]=(0,i.useState)(0),c=(0,i.useRef)(null),[d,u]=(0,i.useState)(null),[h,p]=(0,i.useState)(null),[f,m]=(0,i.useState)(null),[g,b]=(0,i.useState)(null),[y,v]=(0,i.useState)(null),[x,w]=(0,i.useState)(null);return(0,s.jsxs)("div",{style:{width:"100%",padding:16,display:"flex",flexDirection:"column",boxSizing:"border-box"},children:[(0,s.jsx)("h2",{style:GK.sectionTitle,children:"Psychology Assessment"}),(0,s.jsx)("div",{style:{marginTop:24},children:(0,s.jsx)("div",{ref:c,className:"tabs-row",style:GK.tabsRow,children:a.map((e,t)=>(0,s.jsx)("button",{onClick:()=>(e=>{l(e),c.current&&c.current.children[e]&&c.current.children[e].scrollIntoView({behavior:"smooth",inline:"center"})})(t),style:je(je({},GK.tabBtn),{},{background:o===t?"#2563EB":"transparent",color:o===t?"#fff":"#111827",border:o===t?"2px solid #2563EB":"1px solid transparent"}),children:e},t))})}),(0,s.jsx)("div",{style:GK.divider}),(0,s.jsxs)("div",{children:["Depression Anxiety Stress Scale (DASS-21)"===a[o]&&(0,s.jsx)(BK,{patient:t,onChange:u,onBack:r}),"Generalized Anxiety Disorder (GAD-7)"===a[o]&&(0,s.jsx)(qK,{patient:t,onChange:v,onBack:r}),"Hamilton Anxiety Rating Scale (HAM-A)"===a[o]&&(0,s.jsx)(zK,{onChange:p,patient:t,onBack:r}),"Hamilton Depression Rating Scale (HAM-D)"===a[o]&&(0,s.jsx)(WK,{onChange:m,patient:t,onBack:r}),"Perceived Stress Scale (PSS)"===a[o]&&(0,s.jsx)(UK,{patient:t,onBack:r,onChange:b}),"Patient Health Questionnaire (PHQ-9)"===a[o]&&(0,s.jsx)(HK,{patient:t,onBack:r,onChange:w})]})]})}const GK={sectionTitle:{textAlign:"center"},subjectiveTextarea:{width:"100%",minHeight:110,padding:14,fontSize:15,borderRadius:10,border:"1px solid #CBD5E1",outline:"none"},tabsRow:{display:"flex",gap:14,overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none",justifyContent:"left"},tabBtn:{padding:"10px 18px",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:500,whiteSpace:"nowrap"},divider:{margin:"10px 0",borderBottom:"2px solid #E5E7EB"}};function ZK(e){let{onBack:t}=e;const[n,r]=(0,i.useState)("new"),[a,o]=(0,i.useState)(null),l="new"===n?[{id:2,name:"Asfas",icd:"Stroke",status:"New"},{id:3,name:"Rahul",icd:"Depression",status:"New"}]:[{id:4,name:"Anita",icd:"Anxiety",status:"Ongoing"},{id:5,name:"Kiran",icd:"PTSD",status:"Follow-up"}];return a?(0,s.jsx)(VK,{patient:a,onBack:()=>o(null)}):(0,s.jsxs)("div",{style:YK.page,children:[(0,s.jsxs)("div",{style:YK.header,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:YK.title,children:"Patients"}),(0,s.jsx)("p",{style:YK.subtitle,children:"Manage and start psychology assessments"})]}),(0,s.jsx)("button",{style:YK.backBtn,onClick:t,children:"\u2190 Back to Dashboard"})]}),(0,s.jsxs)("div",{style:YK.tabs,children:[(0,s.jsx)("button",{style:je(je({},YK.tab),"new"===n?YK.activeTab:{}),onClick:()=>r("new"),children:"New Patients"}),(0,s.jsx)("button",{style:je(je({},YK.tab),"existing"===n?YK.activeTab:{}),onClick:()=>r("existing"),children:"Existing Patients"})]}),(0,s.jsxs)("div",{style:YK.card,children:[(0,s.jsxs)("div",{style:je(je({},YK.row),YK.headerRow),children:[(0,s.jsx)("div",{children:"Patient"}),(0,s.jsx)("div",{children:"ICD"}),(0,s.jsx)("div",{children:"Status"}),(0,s.jsx)("div",{style:{textAlign:"right"},children:"Action"})]}),l.map(e=>(0,s.jsxs)("div",{style:YK.row,onMouseEnter:e=>e.currentTarget.style.background="#F8FAFC",onMouseLeave:e=>e.currentTarget.style.background="#FFFFFF",children:[(0,s.jsx)("div",{style:YK.name,children:e.name}),(0,s.jsx)("div",{style:YK.icd,children:e.icd}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{style:YK.badge(e.status),children:e.status})}),(0,s.jsx)("div",{style:{textAlign:"right"},children:(0,s.jsx)("button",{style:YK.startBtn,onClick:()=>o(e),children:"Start \u2192"})})]},e.id))]})]})}const YK={page:{padding:32,background:"#F8FAFC",minHeight:"100vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:28},title:{fontSize:28,fontWeight:800,color:"#0F172A",marginBottom:4},subtitle:{fontSize:14,color:"#64748B"},backBtn:{background:"transparent",border:"1px solid #CBD5E1",padding:"8px 14px",borderRadius:10,fontSize:14,fontWeight:600,cursor:"pointer",color:"#2563EB"},tabs:{display:"flex",gap:20,borderBottom:"1px solid #E5E7EB",marginBottom:24},tab:{paddingBottom:12,fontSize:15,fontWeight:600,cursor:"pointer",background:"none",border:"none",color:"#64748B"},activeTab:{color:"#2563EB",borderBottom:"3px solid #2563EB"},card:{background:"#FFFFFF",borderRadius:16,border:"1px solid #E5E7EB",overflow:"hidden"},row:{display:"grid",gridTemplateColumns:"2fr 2fr 1.5fr 1fr",padding:"16px 20px",alignItems:"center"},headerRow:{background:"#F9FAFB",fontSize:13,fontWeight:700,color:"#6B7280"},name:{fontWeight:700,fontSize:15,color:"#0F172A"},icd:{fontSize:14,color:"#475569"},badge:e=>({padding:"5px 12px",borderRadius:999,fontSize:12,fontWeight:700,background:"New"===e?"#EEF2FF":"Ongoing"===e?"#ECFDF5":"#FFF7ED",color:"New"===e?"#4338CA":"Ongoing"===e?"#047857":"#B45309"}),startBtn:{background:"#2563EB",color:"#FFFFFF",border:"none",padding:"8px 16px",borderRadius:10,fontSize:14,fontWeight:700,cursor:"pointer"}};function KK(){const[e,t]=i.useState(!1),n={card:{background:"#fff",borderRadius:18,padding:24,minHeight:360,boxShadow:"none",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center"},header:{fontSize:18,fontWeight:600,color:"#111827"},countWrap:{display:"flex",flexDirection:"column",alignItems:"center",gap:6,marginTop:12},count:{fontSize:25,fontWeight:800,color:"#2563EB",lineHeight:1},countLabel:{fontSize:13,fontWeight:600,color:"#070808ff"},infoBox:{marginTop:18,background:"#F9FAFB",borderRadius:14,padding:"14px 16px",display:"flex",alignItems:"center",gap:10,width:"100%",color:"#374151",fontSize:13},micIcon:{width:36,height:36,borderRadius:"50%",background:"#EEF2FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18},button:{marginTop:24,width:"100%",padding:"12px 16px",borderRadius:12,border:"1px solid #2563EB",background:"#F5F8FF",color:"#2563EB",fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:n.card,children:[(0,s.jsx)("div",{style:n.header,children:"Session Recordings"}),(0,s.jsxs)("div",{style:n.countWrap,children:[(0,s.jsx)("div",{style:n.count,children:15}),(0,s.jsx)("div",{style:n.countLabel,children:"Total recordings"})]}),(0,s.jsxs)("div",{style:n.infoBox,children:[(0,s.jsx)("div",{style:n.micIcon,children:"\ud83c\udf99\ufe0f"}),(0,s.jsx)("div",{children:"Session audio will be securely saved"})]}),(0,s.jsx)("button",{style:n.button,onMouseEnter:e=>{e.currentTarget.style.background="#2563EB",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#F5F8FF",e.currentTarget.style.color="#2563EB"},onClick:()=>t(!0),children:"Start New Recording"})]}),e&&(0,s.jsx)(JK,{onClose:()=>t(!1),onSave:()=>{}})]})}function JK(e){let{onClose:t,onSave:n}=e;const r=(0,i.useRef)(null),a=(0,i.useRef)([]),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!0);return(0,s.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.55)",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,s.jsxs)("div",{style:{width:460,background:"#fff",borderRadius:20,padding:28,boxShadow:"0 30px 70px rgba(0,0,0,0.25)"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:18,fontWeight:700,color:"#0F172A"},children:"New Session Recording"}),(0,s.jsx)("div",{style:{fontSize:13,color:"#64748B",marginTop:4},children:"Record and securely save patient session audio"})]}),(0,s.jsx)("span",{onClick:t,style:{cursor:"pointer",fontSize:22,color:"#94A3B8"},children:"\xd7"})]}),(0,s.jsx)("input",{placeholder:"Patient name",value:o,onChange:e=>l(e.target.value),style:{marginTop:18,width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #E5E7EB",fontSize:14}}),c&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"#DC2626",marginTop:14},children:[(0,s.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"#DC2626",animation:m?"pulseAnim 1.2s infinite":"none"}}),"Recording\u2026"]}),c?(0,s.jsxs)("div",{style:{display:"flex",gap:10,marginTop:14},children:[(0,s.jsx)("button",{onClick:()=>{r.current&&(u?r.current.resume():r.current.pause(),h(!u))},style:{flex:1,padding:"8px",background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:8,fontSize:13,fontWeight:600,color:"#B45309",cursor:"pointer"},children:u?"\u25b6 Resume":"\u23f8 Pause"}),(0,s.jsx)("button",{onClick:()=>{r.current.stop(),d(!1),h(!1)},style:{flex:1,padding:"8px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:8,fontSize:13,fontWeight:600,color:"#B91C1C",cursor:"pointer"},children:"\u23f9 Stop"})]}):(0,s.jsx)("button",{style:{marginTop:24,width:"100%",padding:"12px 16px",borderRadius:12,border:"1px solid #2563EB",background:"#F5F8FF",color:"#2563EB",fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#2563EB",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#F5F8FF",e.currentTarget.style.color="#2563EB"},onClick:()=>(async()=>{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);t.ondataavailable=e=>a.current.push(e.data),t.onstop=()=>{const e=new Blob(a.current,{type:"audio/webm"});f(URL.createObjectURL(e)),a.current=[]},t.start(),r.current=t,d(!0),h(!1)})(),children:"Start New Recording"}),p&&(0,s.jsx)("audio",{controls:!0,src:p,style:{width:"100%",marginTop:12}}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:16},children:[(0,s.jsx)("button",{onClick:t,style:{background:"none",border:"none",color:"#64748B",fontSize:14,cursor:"pointer"},children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{n({patient:o,audioURL:p,date:(new Date).toLocaleString()}),t()},disabled:!p,style:{padding:"6px 14px",borderRadius:8,border:"none",fontSize:13,fontWeight:600,background:p?"#E0E7FF":"#F1F5F9",color:p?"#1E3A8A":"#94A3B8",cursor:p?"pointer":"not-allowed"},children:"Save"})]}),(0,s.jsx)("style",{children:"\n            @keyframes pulseAnim {\n              0% { transform: scale(1); opacity: 1; }\n              50% { transform: scale(1.4); opacity: 0.6; }\n              100% { transform: scale(1); opacity: 1; }\n            }\n          "})]})})}function XK(){const e=Math.round(92/120*100),t=200,n=2*Math.PI*78,r=e/100*n,[a,o]=(0,i.useState)({visible:!1,x:0,y:0,text:""}),l=(0,i.useRef)(null),c=(e,t)=>{if(!l.current)return;const n=l.current.getBoundingClientRect();o({visible:!0,x:e.clientX-n.left+8,y:e.clientY-n.top+8,text:t})},d=e=>{if(!a.visible||!l.current)return;const t=l.current.getBoundingClientRect();o(n=>je(je({},n),{},{x:e.clientX-t.left+8,y:e.clientY-t.top+8}))},u=()=>o({visible:!1,x:0,y:0,text:""}),h={card:{width:"100%",maxWidth:"none",minHeight:360,background:"#fff",borderRadius:18,padding:20,boxShadow:"none",display:"flex",flexDirection:"column",alignItems:"center"},sectionTitle:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:14},donutWrap:{position:"relative",display:"flex",justifyContent:"center",padding:"8px 0"},donutCenter:{position:"absolute",top:"50%",transform:"translateY(-50%)",textAlign:"center"},percent:{fontSize:32,fontWeight:800,color:"#111827"},percentLabel:{fontSize:13,color:"#6B7280"},legendRow:{display:"flex",justifyContent:"center",gap:20,marginTop:16},legendItem:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"#374151"},dot:{width:10,height:10,borderRadius:"50%"},footer:{width:"100%",textAlign:"center",marginTop:10,color:"#6B7280"}};return(0,s.jsxs)("div",{style:h.card,children:[(0,s.jsx)("div",{style:h.sectionTitle,children:"Patient Attendance"}),(0,s.jsxs)("div",{style:h.donutWrap,ref:l,onMouseMove:d,onMouseLeave:u,children:[(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 ".concat(t," ").concat(t),children:[(0,s.jsx)("circle",{cx:100,cy:100,r:78,stroke:"#E5E7EB",strokeWidth:16,fill:"none"}),(0,s.jsx)("circle",{cx:100,cy:100,r:78,stroke:"#10ad32ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(r," ").concat(n),transform:"rotate(-90 ".concat(100," ").concat(100,")"),strokeLinecap:"round",onMouseEnter:t=>c(t,"Attended: ".concat(92," (").concat(e,"%)")),onMouseMove:d,onMouseLeave:u,style:{cursor:"pointer"}}),(0,s.jsx)("circle",{cx:100,cy:100,r:78,stroke:"#e93636ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(n-r," ").concat(n),strokeDashoffset:"-".concat(r),transform:"rotate(-90 ".concat(100," ").concat(100,")"),strokeLinecap:"round",onMouseEnter:t=>c(t,"Missed: ".concat(28," (").concat(100-e,"%)")),onMouseMove:d,onMouseLeave:u,style:{cursor:"pointer"}})]}),(0,s.jsxs)("div",{style:h.donutCenter,children:[(0,s.jsxs)("div",{style:h.percent,children:[e,"%"]}),(0,s.jsx)("div",{style:h.percentLabel,children:"Attendance"})]}),a.visible&&(0,s.jsx)("div",{style:{position:"absolute",left:a.x,top:a.y,background:"rgba(0,0,0,0.75)",color:"#fff",padding:"6px 8px",borderRadius:6,fontSize:12,pointerEvents:"none",transform:"translate(-50%,-120%)",whiteSpace:"nowrap"},children:a.text})]}),(0,s.jsxs)("div",{style:h.legendRow,children:[(0,s.jsxs)("div",{style:h.legendItem,children:[(0,s.jsx)("span",{style:je(je({},h.dot),{},{background:"#059669"})}),"Attended ",(0,s.jsx)("strong",{style:{marginLeft:6,color:"#059669"},children:92})]}),(0,s.jsxs)("div",{style:h.legendItem,children:[(0,s.jsx)("span",{style:je(je({},h.dot),{},{background:"#DC2626"})}),"Missed ",(0,s.jsx)("strong",{style:{marginLeft:6,color:"#DC2626"},children:28})]})]}),(0,s.jsxs)("div",{style:h.footer,children:["Total scheduled today: ",(0,s.jsx)("strong",{children:120})," patients"]})]})}function $K(){const e={card:{background:"#fff",borderRadius:18,padding:24,minHeight:360,boxShadow:"none",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center"},header:{fontSize:18,fontWeight:600,color:"#111827"},countWrap:{display:"flex",flexDirection:"column",alignItems:"center",gap:6,marginTop:12},count:{fontSize:25,fontWeight:800,color:"#2563EB",lineHeight:1},countLabel:{fontSize:13,fontWeight:600,color:"#070808ff"},infoBox:{marginTop:18,background:"#F9FAFB",borderRadius:14,padding:"14px 16px",display:"flex",alignItems:"center",gap:10,width:"100%",color:"#374151",fontSize:13},micIcon:{width:36,height:36,borderRadius:"50%",background:"#EEF2FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18},button:{marginTop:24,width:"100%",padding:"12px 16px",borderRadius:12,border:"1px solid #2563EB",background:"#F5F8FF",color:"#2563EB",fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"}};return(0,s.jsxs)("div",{style:e.card,children:[(0,s.jsx)("div",{style:e.header,children:"Schedule Appointments"}),(0,s.jsxs)("div",{style:e.countWrap,children:[(0,s.jsx)("div",{style:e.micIcon,children:"\ud83d\udcc5"}),(0,s.jsx)("div",{style:e.count,children:25}),(0,s.jsx)("div",{style:e.countLabel,children:"Total Appointments"})]}),(0,s.jsx)("button",{style:e.button,onMouseEnter:e=>{e.currentTarget.style.background="#2563EB",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#F5F8FF",e.currentTarget.style.color="#2563EB"},children:"Schedule  Appointment"})]})}function QK(e){let{patients:t=[],onSelectPatient:n,onOpenPatients:r,onOpenFollowUps:a}=e;const[o,l]=(0,i.useState)("referrals"),c={cases:{label:"Total Cases",data:[980,1020,1080,1150,1210,1250],color:"#2563EB"},referrals:{label:"Referral Requests",data:[20,24,18,30,28,35],color:"#F59E0B"},attendance:{label:"Patient Attendance",data:[85,88,82,90,92,95],color:"#059669"}}[o],d={labels:["Day -5","Day -4","Day -3","Day -2","Day -1","Today"],datasets:[{label:c.label,data:c.data,borderColor:c.color,backgroundColor:"".concat(c.color,"20"),fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"#fff",pointBorderWidth:2}]},u=1250,h=.676*100,p=32.4,f=200,m=100,g=2*Math.PI*78,b=h/100*g,y=p/100*g,v={wrapper:{padding:"24px"},row:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"18px"},card:{minHeight:"120px",background:"#fff",borderRadius:"14px",display:"flex",boxShadow:"none",border:"1px solid #EEF2F7",overflow:"hidden",transition:"all 0.25s ease"},leftStrip:{width:"5px"},content:{padding:"18px",flex:1},topRow:{display:"flex",alignItems:"center",gap:"12px"},icon:{width:"40px",height:"40px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},title:{flex:1,fontSize:"15px",fontWeight:"600",color:"#1F2937",maxWidth:"160px",lineHeight:"1.3",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:"4px"},value:{fontSize:"14px",fontWeight:"700",color:"#111827"},subText:{marginTop:"6px",fontSize:"12px",color:"#6B7280"},row2:{paddingTop:"24px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",alignItems:"stretch"},donutCard:{width:"100%",maxWidth:"none",minHeight:"360px",background:"#fff",borderRadius:"18px",padding:"20px",boxShadow:"none",display:"flex",flexDirection:"column",alignItems:"center"},sectionTitle:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"14px"},donutWrap:{position:"relative",display:"flex",justifyContent:"center",padding:"8px 0"},donutCenter:{position:"absolute",top:"50%",transform:"translateY(-50%)",textAlign:"center"},totalValue:{fontSize:"32px",fontWeight:"800",color:"#111827"},totalLabel:{fontSize:"13px",color:"#6B7280"},legend:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"16px"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#374151"},dot:{width:"10px",height:"10px",borderRadius:"50%"},chartCard:{flex:1,minWidth:"420px",background:"#fff",borderRadius:"18px",padding:"18px",boxShadow:"none",display:"flex",flexDirection:"column"},chartHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},select:{padding:"6px 10px",borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"13px",outline:"none",cursor:"pointer"},chartWrap:{height:"260px"},row3:{paddingTop:"24px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",alignItems:"stretch"}},[x,w]=(0,i.useState)({visible:!1,x:0,y:0,text:""}),[j,S]=(ae(),(0,i.useState)(!1)),_=(0,i.useRef)(null),k=(e,t)=>{if(!_.current)return;const n=_.current.getBoundingClientRect(),i=e.clientX-n.left+8,r=e.clientY-n.top+8;w({visible:!0,x:i,y:r,text:t})},C=e=>{if(!x.visible||!_.current)return;const t=_.current.getBoundingClientRect();w(n=>je(je({},n),{},{x:e.clientX-t.left+8,y:e.clientY-t.top+8}))},A=()=>w({visible:!1,x:0,y:0,text:""});return(0,s.jsx)(s.Fragment,{children:j?(0,s.jsx)(ZK,{onBack:()=>S(!1)}):(0,s.jsxs)("div",{style:v.wrapper,children:[(0,s.jsx)("div",{style:v.row,children:[{title:"My Appointments",value:12,icon:"\ud83d\udcc5",color:"#2563EB"},{title:"Billing",value:5,icon:"\ud83d\udcb3",color:"#EF4444"},{title:"ICD 10 Count",value:48,icon:"\ud83d\udcd8",color:"#10B981"},{title:"Psychological Assessment",value:8,icon:"\ud83e\udde0",color:"#8B5CF6"},{title:"Treatment Plans",value:14,icon:"\ud83d\udcc4",color:"#F59E0B"},{title:"Reports",value:22,icon:"\ud83d\udcca",color:"#3B82F6"}].map((e,t)=>(0,s.jsxs)("div",{style:je(je({},v.card),{},{cursor:"My Appointments"===e.title?"pointer":"default"}),onClick:()=>{"My Appointments"===e.title&&S(!0)},children:[(0,s.jsx)("div",{style:je(je({},v.leftStrip),{},{background:e.color})}),(0,s.jsx)("div",{style:v.content,children:(0,s.jsxs)("div",{style:v.topRow,children:[(0,s.jsx)("div",{style:je(je({},v.icon),{},{background:"".concat(e.color,"15")}),children:e.icon}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,s.jsx)("div",{style:v.title,children:e.title}),(0,s.jsx)("div",{style:v.value,children:e.value})]})]})})]},t))}),(0,s.jsxs)("div",{style:v.row2,children:[(0,s.jsxs)("div",{style:v.donutCard,children:[(0,s.jsx)("div",{style:v.sectionTitle,children:"Total Cases"}),(0,s.jsxs)("div",{style:v.donutWrap,ref:_,onMouseMove:C,onMouseLeave:A,children:[(0,s.jsxs)("svg",{width:f,height:f,viewBox:"0 0 ".concat(f," ").concat(f),children:[(0,s.jsx)("circle",{cx:m,cy:m,r:78,stroke:"#E5E7EB",strokeWidth:16,fill:"none"}),(0,s.jsx)("circle",{cx:m,cy:m,r:78,stroke:"#47dbf5ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(b," ").concat(g),transform:"rotate(-90 ".concat(m," ").concat(m,")"),strokeLinecap:"round",onMouseEnter:e=>k(e,"Recovered: ".concat(845," (").concat(h.toFixed(1),"%)")),onMouseMove:C,onMouseLeave:A,style:{cursor:"pointer"}}),(0,s.jsx)("circle",{cx:m,cy:m,r:78,stroke:"#f09226ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(y," ").concat(g),strokeDashoffset:"-".concat(b),transform:"rotate(-90 ".concat(m," ").concat(m,")"),strokeLinecap:"round",onMouseEnter:e=>k(e,"Active: ".concat(405," (").concat(p.toFixed(1),"%)")),onMouseMove:C,onMouseLeave:A,style:{cursor:"pointer"}})]}),(0,s.jsxs)("div",{style:v.donutCenter,children:[(0,s.jsx)("div",{style:v.totalValue,children:u}),(0,s.jsx)("div",{style:v.totalLabel,children:"Patients"})]}),x.visible&&(0,s.jsx)("div",{style:{position:"absolute",left:x.x,top:x.y,background:"rgba(0,0,0,0.75)",color:"#fff",padding:"6px 8px",borderRadius:6,fontSize:12,pointerEvents:"none",transform:"translate(-50%, -120%)",whiteSpace:"nowrap"},children:x.text})]}),(0,s.jsxs)("div",{style:v.legend,children:[(0,s.jsxs)("div",{style:v.legendItem,children:[(0,s.jsx)("span",{style:je(je({},v.dot),{},{background:"#2bbde2ff"})}),"Recovered ",(0,s.jsx)("strong",{children:845})]}),(0,s.jsxs)("div",{style:v.legendItem,children:[(0,s.jsx)("span",{style:je(je({},v.dot),{},{background:"#D97706"})}),"Active ",(0,s.jsx)("strong",{children:405})]})]})]}),(0,s.jsx)(XK,{}),(0,s.jsx)(KK,{})]}),(0,s.jsxs)("div",{style:v.row3,children:[(0,s.jsxs)("div",{style:je(je({},v.chartCard),{},{gridColumn:"1 / span 2"}),children:[(0,s.jsxs)("div",{style:v.chartHeader,children:[(0,s.jsxs)("div",{style:v.sectionTitle,children:[c.label," (Last 6 Days)"]}),(0,s.jsxs)("select",{style:v.select,value:o,onChange:e=>l(e.target.value),children:[(0,s.jsx)("option",{value:"referrals",children:"Referral Requests"}),(0,s.jsx)("option",{value:"attendance",children:"Patient Attendance"}),(0,s.jsx)("option",{value:"cases",children:"Total Cases"})]})]}),(0,s.jsx)("div",{style:v.chartWrap,children:(0,s.jsx)(WY,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#6B7280"}},y:{grid:{color:"#E5E7EB"},ticks:{color:"#6B7280"}}}}})})]}),(0,s.jsx)($K,{})]})]})})}function eJ(e){let{open:t,onClose:n,patient:i}=e;return t?(0,s.jsx)("div",{style:tJ,children:(0,s.jsxs)("div",{style:nJ,children:[(0,s.jsx)("button",{onClick:n,style:iJ,children:"\u2716 Close"}),(0,s.jsx)(e_,{patientId:i.id,encounterId:i.encounterId||null})]})}):null}AD.register(HD,GD,ZF,qF,zF,xF);const tJ={position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",zIndex:9999},nJ={background:"#fff",width:"90%",height:"90%",margin:"auto",marginTop:"3%",borderRadius:8,overflow:"auto"},iJ={margin:10,padding:"6px 12px"};function rJ(e){let{onBack:t}=e;const[n,r]=(0,i.useState)({languageTools:[],languageImpairments:[],speechTools:[],speechImpairments:[],socialTools:[],socialImpairments:[],medicalHistory:[],chiefComplaint:[],knownFamilyHistory:[],languagesAtHome:[],diagnoses:[],icfBodyFunctions:[],icfActivitiesParticipation:[],furtherAssessment:[]}),[a,o]=(0,i.useState)(!1),l={title:"Paediatric Speech & Language",actions:[{type:"back",label:"Back"}],sections:[{title:"Subjective",fields:[{name:"accompaniedBy",label:"Patient was seen",type:"radio",options:[{label:"Unaccompanied",value:"unaccompanied"},{label:"Accompanied by parent(s)/guardian(s)",value:"accompanied"}]},{name:"consent",label:"Consent (Verbal)",type:"textarea",placeholder:"Verbal consent was obtained from the caregiver. The child was seen in his/her/their best interest."},{type:"subheading",label:"Chief Complaint"},{name:"chiefComplaint",label:"Family / caregiver reported",type:"multi-select-dropdown",options:[{label:"Understanding spoken language",value:"receptive"},{label:"Expressive language (vocabulary/sentence structure/gestural communication)",value:"expressive"},{label:"Speech clarity",value:"speech"},{label:"Social communication / play skills",value:"social"},{label:"Fluency",value:"fluency"},{label:"Voice quality",value:"voice"},{label:"Feeding / swallowing",value:"feeding"},{label:"Behavioural regulation / attention affecting communication",value:"behaviour"},{label:"Developmental delay/global developmental delay (if applicable)",value:"Developmental"}]},{type:"subheading",label:"Birth History"},{type:"row",fields:[{name:"pregnancy",label:"Pregnancy",type:"single-select",options:[{label:"Term",value:"term"},{label:"Preterm",value:"preterm"}]},{name:"delivery",label:"Type of delivery",type:"single-select",options:[{label:"Spontaneous Vaginal Delivery (SVD)",value:"svd"},{label:"C-section",value:"csection"},{label:"Forceps",value:"forceps"},{label:"Vacuum",value:"vacuum"}]}]},{name:"birthComplication",label:"Birth complication",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"birthRemarks",label:"Remarks",type:"textarea",showIf:{field:"birthComplication",equals:"YES"}},{type:"subheading",label:"Medical History"},{name:"medicalHistory",type:"multi-select-dropdown",options:["Tonsillitis","Adenoidectomy","Tonsillectomy","Sleeping difficulties","Snoring","Breathing difficulties","Frequent colds","Seasonal allergies","Nasal congestion","Chronic ear infections","Hearing loss","Ear (PE) tubes","Vision problems","Wears glasses","Head injuries","Seizure","Other medical / genetic diagnoses","Additional medical information"].map(e=>({label:e,value:e}))},{name:"otherMedical",label:"Other medical / genetic diagnoses",type:"textarea",showIf:{field:"medicalHistory",includes:"Other medical / genetic diagnoses"}},{name:"additionalMedical",label:"Additional medical information",type:"textarea",showIf:{field:"medicalHistory",includes:"Additional medical information"}},{type:"subheading",label:"Family History"},{name:"livesWith",label:"Lives with",type:"single-select",options:["Birth parents","Adoptive parent","One parent","Parent & step-parent","Foster parent(s)","Grandparent(s)","Other"].map(e=>({label:e,value:e}))},{name:"livesWithOther",label:"Other",type:"textarea",showIf:{field:"livesWith",equals:"Other"}},{name:"knownFamilyHistory",label:"Known family history of",type:"multi-select-dropdown",options:["Speech and language difficulties","Learning disabilities (ex: dyslexia)","Hearing impairment"].map(e=>({label:e,value:e}))},{name:"languagesAtHome",label:"Languages spoken at home",type:"multi-select-dropdown",options:["Bahasa Melayu","English","Chinese","Tamil","Other"].map(e=>({label:e,value:e}))},{name:"languagesAtHomeOther",label:"Other",type:"textarea",showIf:{field:"languagesAtHome",includes:"Other"}},{type:"subheading",label:"Developmental History"},{type:"subheading",label:"Approximate age at which your child reached the following milestones:"},{type:"milestone-grid",heading:"Motor",rows:[{left:{name:"sitAge",label:"Sit",placeholder:"month"},right:{name:"crawlAge",label:"Crawl",placeholder:"month"}},{left:{name:"standAge",label:"Stand",placeholder:"month"},right:{name:"walkAge",label:"Walk",placeholder:"month"}}]},{type:"milestone-grid",heading:"Speech",rows:[{left:{name:"vocaliseAge",label:"Vocalise",placeholder:"month"},right:{name:"babbleAge",label:"Babble",placeholder:"month"}},{left:{name:"firstWordAge",label:"First word",placeholder:"month"},right:{name:"combineWordAge",label:"Combining words",placeholder:"month"}}]},{type:"subheading",label:"Education / Intervention"},{name:"schooling",label:"Schooling attended",type:"textarea"},{name:"earlyIntervention",label:"Early intervention services attended",type:"textarea"},{name:"otherTherapy",label:"Other therapy attended",type:"textarea"}]},{title:"Objective",fields:[{type:"subheading",label:"General Observation"},{type:"row",fields:[{name:"sitting",label:"Sitting in",type:"single-select",options:[{label:"Chair",value:"chair"},{label:"Wheel chair",value:"wheelchair"}]},{name:"behaviouralRegulation",label:"Behavioural regulation",type:"single-select",options:[{label:"Calm",value:"calm"},{label:"Active",value:"active"},{label:"Easily distracted",value:"distracted"},{label:"Upset",value:"upset"},{label:"Requires sensory input",value:"sensory"},{label:"Modulation",value:"modulation"}]}]},{type:"row",fields:[{name:"primaryModeCommunication",label:"Primary mode of communication",type:"single-select",options:[{label:"Gestures",value:"gestures"},{label:"Vocalisations",value:"vocalisations"},{label:"Words",value:"words"},{label:"Short phrases",value:"phrases"},{label:"Sentences",value:"sentences"}]},{name:"playSkills",label:"Play skills",type:"single-select",options:[{label:"Functional",value:"functional"},{label:"Symbolic",value:"symbolic"},{label:"Sensory-seeking",value:"sensory"},{label:"Limited play",value:"limited"}]}]},{type:"row",fields:[{name:"eyeContact",label:"Eye contact",type:"single-select",options:[{label:"Appropriate",value:"appropriate"},{label:"Reduced",value:"reduced"},{label:"Avoids",value:"avoids"},{label:"Fleeting",value:"fleeting"}]},{name:"interactionStyle",label:"Interaction style",type:"single-select",options:[{label:"Initiates",value:"initiates"},{label:"Responds only",value:"responds"},{label:"Passive",value:"passive"}]}]},{type:"subheading",label:"Communication Screening"},{type:"row",fields:[{name:"jointAttention",label:"Joint attention",type:"single-select",options:["Intact","Reduced","Absent"].map(e=>({label:e,value:e}))},{name:"conversationalReciprocity",label:"Conversational reciprocity",type:"single-select",options:["Intact","Reduced","Absent"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"simpleCommands",label:"Comprehension of simple commands",type:"single-select",options:["Intact","Reduced"].map(e=>({label:e,value:e}))},{name:"twoStepCommands",label:"Comprehension of 2-step commands",type:"single-select",options:["Intact","Reduced"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"expressiveLanguage",label:"Expressive language",type:"single-select",options:[{label:"WNL (Within Normal Limits)",value:"wnl"},{label:"Reduced",value:"reduced"}]},{name:"intelligibilityFamiliar",label:"Intelligibility to familiar listener",type:"single-select",options:["WNL (Within Normal Limits)","Reduced"].map(e=>({label:e,value:e}))}]},{name:"expressiveSpecify",label:"If reduced, specify (vocabulary / grammar)",type:"textarea",showIf:{field:"expressiveLanguage",equals:"reduced"}},{type:"row",fields:[{name:"intelligibilityUnfamiliar",label:"Intelligibility to unfamiliar listener",type:"single-select",options:["WNL (Within Normal Limits)","Reduced"].map(e=>({label:e,value:e}))},{name:"speechSoundErrors",label:"Speech sound errors",type:"single-select",options:[{label:"Articulation",value:"articulation"},{label:"Phonological patterns noted",value:"phonological"}]}]},{type:"row",fields:[{name:"fluency",label:"Fluency",type:"single-select",options:[{label:"WNL (Within Normal Limits)",value:"wnl"},{label:"Atypical dysfluencies",value:"atypical"}]},{name:"voice",label:"Voice",type:"single-select",options:[{label:"WNL (Within Normal Limits)",value:"wnl"},{label:"Hoarse",value:"hoarse"},{label:"Breathiness",value:"breathy"},{label:"Strain",value:"strain"}]}]},{type:"row",fields:[{name:"pragmatics",label:"Pragmatics",type:"single-select",options:[{label:"WNL (Within Normal Limits)",value:"wnl"},{label:"Reduced eye gaze",value:"eye_gaze"},{label:"Reduced turn-taking",value:"turn_taking"},{label:"Literal interpretation",value:"literal"}]}]},{name:"aacUse",label:"Augmentative and Alternative Communication (AAC )use",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"aacEffectiveness",label:"Effectiveness noted",type:"textarea",showIf:{field:"aacUse",equals:"YES"}},{type:"subheading",label:"Oral-motor structure & function observation"},{type:"row",fields:[{name:"teeth",label:"Teeth",type:"single-select",options:["Complete","Incomplete"].map(e=>({label:e,value:e}))},{name:"hardPalate",label:"Hard palate",type:"single-select",options:["No Acute Distress (NAD)","High arch","Cleft"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"softPalate",label:"Soft palate",type:"single-select",options:["No Acute Distress (NAD)","Reduced elevation","Bifid uvula","Scarring","VPI - suspected"].map(e=>({label:e,value:e}))},{name:"nasalResonance",label:"Quality of nasal resonance",type:"single-select",options:["WNL (Within Normal Limits)","Hypernasal","Hyponasal"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"tongue",label:"Tongue",type:"single-select",options:["No Acute Distress (NAD)","Deviation","Fasciculations","Thrush","Reduced ROM"].map(e=>({label:e,value:e}))},{name:"lips",label:"Lips",type:"single-select",options:["No Acute Distress (NAD)","Reduced seal","Asymmetry","Cleft","Scarring"].map(e=>({label:e,value:e}))}]},{name:"oralRemarks",label:"Remarks",type:"textarea"},{name:"enableLanguageAssessment",label:"Language Assessment",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"languageTools",label:"Assessment tool",type:"multi-select-dropdown",options:["Preschool Language Scales \u2013 Fifth Edition (PLS-5)","Clinical Evaluation of Language Fundamentals \u2013 Fifth Edition (CELF-5)","Malay Preschool Language Assessment Tool (MPLAT)","MyBacaUji","Primary Test of Nonverbal Intelligence (PTONI)","MacArthur Communicative Development Inventories (MacArthur CDI)","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableLanguageAssessment",equals:"YES"}},{type:"multi-select-details",sourceField:"languageTools",labelPrefix:"Scores and Details for",namePrefix:"languageTools_detail",showIf:{field:"enableLanguageAssessment",equals:"YES"}},{name:"languageImpairments",label:"Impairments observed in",type:"multi-select-dropdown",options:["Receptive language","Expressive language","Pragmatic / functional communication","Attention and listening","Play and interaction","Cognitive-communication skills","Literacy / pre-literacy skills","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableLanguageAssessment",equals:"YES"}},{name:"languageImpairments_other",label:"Other",type:"textarea",showIf:{field:"languageImpairments",includes:"Other"}},{name:"enableSpeechAssessment",label:"Speech Assessment",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"speechTools",label:"Assessment tool",type:"multi-select-dropdown",options:[{label:"Malay Speech Evaluation Kit (MSPEAK)",value:"MSPEAK"},{label:"Goldman\u2013Fristoe Test of Articulation \u2013 Third Edition (GFTA-3)",value:"GFTA-3"},{label:"Stuttering Severity Instrument \u2013 Fourth Edition (SSI-4)",value:"SSI-4"},{label:"The One Page Stuttering Assessment (OPSA)",value:"OPSA"},{label:"Stimulability Testing",value:"Stimulability"}],showIf:{field:"enableSpeechAssessment",equals:"YES"}},{type:"multi-select-details",sourceField:"speechTools",labelPrefix:"Scores and Details for",namePrefix:"speechTools_detail",showIf:{field:"enableSpeechAssessment",equals:"YES"}},{name:"speechImpairments",label:"Impairments observed in",type:"multi-select-dropdown",options:["Articulation","Phonology","Oral-motor control","Resonance","Voice quality","Prosody / rate / rhythm","Intelligibility","Stimulability","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableSpeechAssessment",equals:"YES"}},{name:"intelligibilityRating",label:"Intelligibility rating",type:"textarea",showIf:{field:"enableSpeechAssessment",equals:"YES"}},{name:"enableSocialCommunication",label:"Social Communication",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"socialTools",label:"Assessment tool",type:"multi-select-dropdown",options:["Observation","Pragmatic profile","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableSocialCommunication",equals:"YES"}},{name:"socialTools_other",label:"Other",type:"textarea",showIf:{field:"socialTools",includes:"Other"}},{name:"socialImpairments",label:"Impairments observed in",type:"multi-select-dropdown",options:["Response to name","Functional play","Turn-taking","Joint attention","Use of gestures","Eye contact","Sensory behaviours","Imitation skills","Emotional reciprocity","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableSocialCommunication",equals:"YES"}},{name:"socialImpairments_other",label:"Other",type:"textarea",showIf:{field:"socialImpairments",includes:"Other"}}]},{title:"Assessment",fields:[{type:"subheading",label:""},{name:"noDisorder",label:"No speech and language disorders observed",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"diagnoses",label:"The child presents with",type:"multi-select-dropdown",options:["Specific speech articulation disorder","Receptive language disorder","Expressive language disorder","Mixed receptive-expressive language disorder","Acquired aphasia with epilepsy [Landau-Kleffner]","Other developmental disorders of speech and language","Developmental disorder of speech and language, unspecified","Other and unspecified speech disturbances","Specific reading disorder","Specific spelling disorder","Stuttering [stammering]","Cluttering"].map(e=>({label:e,value:e}))},{name:"phonologicalType",label:"Type (Phonological disorder / Speech articulation disorder)",type:"textarea",showIf:{field:"diagnoses",includes:"Specific speech articulation disorder"}},{name:"analysisRemarks",label:"Remarks",type:"textarea"},{name:"overallSeverity",label:"Overall severity",type:"single-select",options:[{label:"Mild",value:"mild"},{label:"Moderate",value:"moderate"},{label:"Severe",value:"severe"}]}]},{title:"Plan",fields:[{name:"Others",label:"Others",type:"textarea"}]}]};return(0,s.jsx)(i_,{schema:l,values:n,onChange:(e,t)=>{r(n=>je(je({},n),{},{[e]:t}))},submitted:a,onAction:e=>{"submit"===e&&(o(!0),console.log("PAED IA Speech & Language",n)),"back"===e&&(null===t||void 0===t||t())}})}function aJ(e){let{onBack:t}=e;const[n,r]=(0,i.useState)({}),[a,o]=(0,i.useState)(!1);return(0,s.jsx)(i_,{schema:oJ,values:n,onChange:(e,t)=>{r(n=>je(je({},n),{},{[e]:t}))},submitted:a,onAction:e=>{"submit"===e&&(o(!0),console.log("PAED IA Speech & Language",n)),"back"===e&&(null===t||void 0===t||t())}})}const oJ={title:"Paediatric IA \u2013 Feeding",actions:[{type:"back",label:"Back"}],sections:[{title:"",fields:[{type:"subheading",label:"Subjective"},{name:"accompaniedBy",label:"Patient was seen",type:"radio",options:[{label:"Unaccompanied",value:"unaccompanied"},{label:"Accompanied by parent(s)/guardian(s)",value:"accompanied"}]},{name:"consent",label:"Consent (Verbal)",type:"textarea"},{type:"subheading",label:"Chief Complaint"},{name:"feedingConcerns",label:"Family / caregiver reported ",type:"multi-select-dropdown",options:["Prolonged feeding time (>30 mins)","Gagging / vomiting during feeds","Coughing / choking during feeds","Poor oral intake / refusal","Drooling excessively","Difficulty transitioning textures","Oral aversion","Picky eating / selective eating","Food avoidance or refusal behaviours","Tube weaning","Other"].map(e=>({label:e,value:e}))},{name:"feedingConcerns_other",label:"Other (specify)",type:"textarea",showIf:{field:"feedingConcerns",includes:"Other"}},{name:"feedingMedicalHistory",label:"Medical History",type:"multi-select-dropdown",options:["Neonatal Intensive Care Unit (NICU) stay","Cardiorespiratory concerns","Reflux","Recurrent chest infections","Tracheomalacia","Cleft palate","Tracheostomy","Seizure","Prematurity","Developmental delay","Other"].map(e=>({label:e,value:e}))},{name:"feedingMedicalHistory_other",label:"Other (specify)",type:"textarea",showIf:{field:"feedingMedicalHistory",includes:"Other"}},{type:"subheading",label:"Feeding / Dietary Information"},{type:"row",fields:[{name:"nutritionSource",label:"Main source of nutrition",type:"multi-select-dropdown",options:["Oral","Nasogastric Tube (NG tube)","Percutaneous Endoscopic Gastrostomy (PEG)","Mixed feeding"].map(e=>({label:e,value:e}))},{name:"oralFeedingMethod",label:"Feeding method \u2013 Oral",type:"multi-select-dropdown",options:["Breastfed","Bottle-fed","Spoon","Cup","Straw"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"enteralFeedingMethod",label:"Feeding method \u2013 Enteral",type:"multi-select-dropdown",options:["Orogastric Tube (OGT)","Nasogastric Tube (NGT)","Nasojejunal Tube (NJT)","Gastrostomy Tube (G-tube)","Jejunostomy Tube (J-tube)"].map(e=>({label:e,value:e}))}]},{name:"currentFeedingRegimen",label:"Current feeding regimen",type:"textarea"},{type:"row",fields:[{name:"dietTexture",label:"Textures tolerated \u2013 Diet consistency",type:"single-select",options:["Level 4 \u2013 Extremely thick","Level 5 \u2013 Minced & moist","Level 6 \u2013 Soft & bite-sized","Level 7 EC \u2013 Regular Easy to chew","Level 7 \u2013 Regular"].map(e=>({label:e,value:e}))},{name:"fluidTexture",label:"Fluids tolerated \u2013 IDDSI level",type:"single-select",options:["Level 0 \u2013 Thin","Level 1 \u2013 Slightly thick","Level 2 \u2013 Mildly thick","Level 3 \u2013 Moderately thick"].map(e=>({label:e,value:e}))}]},{name:"preferredFoods",label:"Preferred foods",type:"textarea"},{name:"avoidedFoods",label:"Avoided foods / textures",type:"textarea"},{type:"row",fields:[{name:"feedingDuration",label:"Feeding duration per meal",type:"input",placeholder:"minutes"},{name:"mainFeeder",label:"Main feeder",type:"single-select",options:[{label:"Self",value:"self"},{label:"Caregiver",value:"caregiver"},{label:"Therapist",value:"therapist"}]}]},{name:"mealtimeEnvironment",label:"Mealtime environment",type:"textarea"},{type:"subheading",label:"Growth & Nutrition"},{type:"row",fields:[{name:"recentWeight",label:"Recent weight(kg)",type:"input",placeholder:"kg"},{name:"recentHeight",label:"Recent height(cm)",type:"input",placeholder:"cm"}]},{name:"dietitianConcern",label:"Concerns raised by Dietitian",type:"single-select",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"N/A",value:"na"}]},{type:"subheading",label:"Developmental Feeding History"},{type:"row",fields:[{name:"ageSolids",label:"Age introduced to solids(months)",type:"input",placeholder:"months"},{name:"textureProgression",label:"Progression of textures",type:"single-select",options:[{label:"Within Normal Limits (WNL)",value:"wnl"},{label:"Delayed",value:"delayed"},{label:"Regression",value:"regression"}]}]},{type:"subheading",label:"Objective"},{type:"subheading",label:"General Observation"},{type:"row",fields:[{name:"seating",label:"Seating in",type:"single-select",options:[{label:"High chair",value:"high_chair"},{label:"Parent lap",value:"lap"},{label:"Floor",value:"floor"},{label:"Other",value:"other"}]},{name:"behaviourRegulation",label:"Behavioural regulation",type:"single-select",options:[{label:"Calm",value:"calm"},{label:"Active",value:"active"},{label:"Easily distracted",value:"distracted"},{label:"Upset",value:"upset"},{label:"Requires sensory input",value:"sensory"},{label:"Modulation",value:"modulation"}]}]},{name:"seating_other",label:"Other (specify)",type:"textarea",showIf:{field:"seating",equals:"other"}},{type:"row",fields:[{name:"feedingPosition",label:"Position during feeding",type:"single-select",options:[{label:"Upright (90\xb0)",value:"90"},{label:"Slightly reclined",value:"reclined"},{label:"60\xb0",value:"60"},{label:"45\xb0",value:"45"}]},{name:"feeder",label:"Feeder",type:"single-select",options:[{label:"Self",value:"self"},{label:"Caregiver",value:"caregiver"},{label:"Therapist",value:"therapist"}]}]},{type:"row",fields:[{name:"engagementWithFeeder",label:"Engagement with feeder",type:"single-select",options:[{label:"Good",value:"good"},{label:"Reduced",value:"reduced"}]}]},{type:"subheading",label:"Oral-motor structure & function observation"},{type:"row",fields:[{name:"teethStructure",label:"Teeth",type:"single-select",options:[{label:"Age-appropriate",value:"age_appropriate"},{label:"Delayed eruption",value:"delayed"},{label:"Caries",value:"caries"}]},{name:"hardPalateStructure",label:"Hard palate",type:"single-select",options:[{label:"No Abnormality Detected (NAD)",value:"nad"},{label:"High arch",value:"high_arch"},{label:"Cleft",value:"cleft"}]}]},{type:"row",fields:[{name:"softPalateStructure",label:"Soft palate",type:"single-select",options:[{label:"No Abnormality Detected (NAD)",value:"nad"},{label:"Reduced elevation",value:"reduced"},{label:"Bifid uvula",value:"bifid"},{label:"Scarring",value:"scarring"},{label:"VPI \u2013 suspected",value:"vpi"}]},{name:"nasalResonance",label:"Quality of nasal resonance",type:"single-select",options:[{label:"Within Normal Limits (WNL)",value:"wnl"},{label:"Hypernasal",value:"hypernasal"},{label:"Hyponasal",value:"hyponasal"}]}]},{type:"row",fields:[{name:"tongueStructure",label:"Tongue",type:"single-select",options:["No Abnormality Detected (NAD)","Deviation","Fasciculations","Thrush","Reduced ROM"].map(e=>({label:e,value:e}))},{name:"lipStructure",label:"Lips",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced seal","Asymmetry","Cleft","Scarring"].map(e=>({label:e,value:e}))}]},{name:"oralStructureRemarks",label:"Remarks",type:"textarea"},{type:"subheading",label:"Oral-Motor Examination"},{type:"row",fields:[{name:"lipSealExam",label:"Lips: Seal",type:"single-select",options:[{label:"Adequate",value:"adequate"},{label:"Inadequate",value:"inadequate"},{label:"Drooling",value:"drooling"}]},{name:"tongueROMExam",label:"Tongue: ROM",type:"single-select",options:[{label:"Adequate",value:"adequate"},{label:"Reduced",value:"reduced"},{label:"Thrust",value:"thrust"},{label:"Restriction",value:"restriction"}]}]},{type:"row",fields:[{name:"palateExam",label:"Hard & Soft Palate",type:"single-select",options:[{label:"No Abnormality Detected (NAD)",value:"nad"},{label:"High-arched",value:"high_arch"},{label:"Cleft",value:"cleft"}]},{name:"teethExam",label:"Teeth",type:"single-select",options:[{label:"Age-appropriate",value:"age_appropriate"},{label:"Delayed eruption",value:"delayed"},{label:"Caries",value:"caries"}]}]},{type:"row",fields:[{name:"jawStability",label:"Jaw stability",type:"single-select",options:[{label:"Good",value:"good"},{label:"Poor",value:"poor"},{label:"Bite reflex",value:"bite_reflex"}]},{name:"ssbCoordination",label:"Suck\u2013swallow\u2013breathe coordination",type:"single-select",options:[{label:"Adequate",value:"adequate"},{label:"Disrupted",value:"disrupted"}]}]},{type:"subheading",label:"Cranial Nerves"},{type:"row",fields:[{name:"cn5",label:"CN V \u2013 Chewing strength",type:"single-select",options:[{label:"Within Normal Limits (WNL)",value:"wnl"},{label:"Reduced",value:"reduced"}]},{name:"cn7",label:"CN VII \u2013 Symmetry",type:"single-select",options:[{label:"Within Normal Limits (WNL)",value:"wnl"},{label:"Asymmetrical",value:"asymmetrical"}]}]},{type:"row",fields:[{name:"cn9_10",label:"CN IX/X \u2013 Gag / Voice",type:"single-select",options:["Gag present","Gag reduced","Voice clear","Voice wet"].map(e=>({label:e,value:e}))},{name:"cn12",label:"CN XII \u2013 Tongue function",type:"single-select",options:[{label:"Within Normal Limits (WNL)",value:"wnl"},{label:"Reduced",value:"reduced"}]}]},{type:"subheading",label:"Feeding Observation"},{name:"fluidConsistency",label:"Consistencies & Amount Trialled Fluids",type:"multi-select-dropdown",options:["Level 0 \u2013 Thin","Level 1 \u2013 Slightly thick","Level 2 \u2013 Mildly thick","Level 3 \u2013 Moderately thick","Level 4 \u2013 Extremely thick"].map(e=>({label:e,value:e}))},{name:"fluidConsistencyNotes",type:"multi-notes",source:"fluidConsistency"},{name:"foodConsistency",label:"Consistencies & Amount Trialled Food",type:"multi-select-dropdown",options:["Level 4 \u2013 Extremely thick","Level 5 \u2013 Minced & moist","Level 6 \u2013 Soft & bite-sized","Level 7 EC \u2013 Regular","Level 7 \u2013 Regular"].map(e=>({label:e,value:e}))},{name:"foodConsistencyNotes",type:"multi-notes",source:"foodConsistency"},{name:"feedingMethodObserved",label:"Method of feeding",type:"multi-select-dropdown",options:["Bottle","Breast","Spoon","Cup","Straw"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Oral Phase Observations"},{type:"row",fields:[{name:"oralAcceptance",label:"Oral acceptance",type:"single-select",options:[{label:"Good",value:"good"},{label:"Limited",value:"limited"},{label:"Refused",value:"refused"}]},{name:"lipSealUtensil",label:"Lip seal on utensil",type:"single-select",options:[{label:"Adequate",value:"adequate"},{label:"Poor",value:"poor"}]}]},{type:"row",fields:[{name:"bolusControl",label:"Bolus control",type:"single-select",options:[{label:"Within Normal Limits (WNL)",value:"wnl"},{label:"Loss anterior",value:"loss_anterior"},{label:"Loss lateral",value:"loss_lateral"}]},{name:"mastication",label:"Mastication",type:"single-select",options:[{label:"Efficient",value:"efficient"},{label:"Munching only",value:"munching"},{label:"Poor",value:"poor"}]}]},{name:"oralResidue",label:"Oral residue",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{type:"subheading",label:"Pharyngeal Phase Observations"},{name:"nasalRegurgitation",label:"Nasal regurgitation",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"coughPresent",label:"Cough / throat clear",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"coughSigns",label:"Cough Signs",type:"single-select",options:["Cough","Wet voice","Colour change","Stress cues"].map(e=>({label:e,value:e})),showIf:{field:"coughPresent",equals:"YES"}},{name:"voicePostSwallow",label:"Voice post-swallow",type:"single-select",options:[{label:"Clear",value:"clear"},{label:"Wet",value:"wet"},{label:"Aphonia",value:"aphonia"}]},{name:"cervicalAuscultation",label:"Cervical auscultation",type:"single-select",options:[{label:"Normal",value:"normal"},{label:"Reduced",value:"reduced"},{label:"Wet / gurgly",value:"wet"},{label:"N/A",value:"na"}]},{type:"subheading",label:"Other Observations"},{name:"respiration",label:"Respiration",type:"single-select",options:[{label:"Stable",value:"stable"},{label:"Desaturation",value:"desaturation"},{label:"Increased WOB",value:"wob"}]},{type:"row",fields:[{label:"spo2 Baseline",type:"input",inlineLabel:"SPO2 baseline:",placeholder:"%"},{label:"spo2 Post",type:"input",inlineLabel:"SPO2 post exposure:",placeholder:"%"}]},{name:"mealtimeDuration",label:"Mealtime duration",type:"single-select",options:[{label:"< 30 mins",value:"<30"},{label:"> 30 mins",value:">30"}]},{type:"subheading",label:"Behavioural / sensory during feeding"},{name:"behaviouralFeeding",label:"Behavioural / sensory during feeding",type:"multi-select-dropdown",options:["Refusal","Turn head away","Accepts with prompting","Self-feeding attempts","Accepts new texture","Tolerates tactile input","Gags on sight/smell","Crying / fussiness","Other"].map(e=>({label:e,value:e}))},{name:"behaviouralFeeding_other",label:"Other (specify)",type:"textarea",showIf:{field:"behaviouralFeeding",includes:"Other"}},{type:"subheading",label:"Assessment"},{name:"feedingDiagnosis",label:"Diagnoses / Findings",type:"multi-select-dropdown",options:["No feeding or swallowing difficulties observed","Feeding disorder ","Dysphagia "].map(e=>({label:e,value:e}))},{name:"feedingCharacteristics",label:"Characteristics",type:"multi-select-dropdown",options:["Oral phase","Pharyngeal phase","Feeding skills","Sensory regulation"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Plan"},{name:"referralSpecialist",label:"Others",type:"textarea"}]}]};function sJ(e){let{onBack:t}=e;const[n,r]=(0,i.useState)({}),[a,o]=(0,i.useState)(!1),l={title:"Clinical Swallowing Evaluation (CSE)",actions:[{type:"back",label:"Back"}],sections:[{title:"Subjective",fields:[{name:"patient_seen",label:"Patient was seen",type:"radio",options:[{label:"Unaccompanied",value:"Unaccompanied"},{label:"Accompanied by caregiver",value:"Accompanied by caregiver"}]},{name:"consent",label:"Consent (Verbal)",type:"textarea"},{type:"subheading",label:"Chief Complaint"},{name:"presenting_complaints",label:"Patient/family reported",type:"multi-select-dropdown",options:["Drooling","Coughing with drink","Choking on food","Food/pills stuck in throat","Pain on swallowing (odynophagia)","Other(s)"].map(e=>({label:e,value:e}))},{name:"presenting_complaints_other",label:"Other (please specify)",type:"textarea",showIf:{field:"presenting_complaints",includes:"Other(s)"}},{type:"subheading",label:"Current Diet Intake"},{name:"dietMode",label:"Current intake type",type:"checkbox-group",options:["Oral","Enteral"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Oral",showIf:{field:"dietMode",includes:"Oral"}},{type:"row",showIf:{field:"dietMode",includes:"Oral"},fields:[{name:"oral_food_consistency",label:"Food consistency",type:"single-select",options:["Level 3 \u2013 Moderately thick","Level 4 \u2013 Extremely thick","Level 5 \u2013 Minced & moist","Level 6 \u2013 Soft & bite-sized","Level 7 EC \u2013 Regular Easy to chew","Level 7 \u2013 Regular"].map(e=>({label:e,value:e}))},{name:"oral_fluid_consistency",label:"Fluids consistency",type:"single-select",options:["Level 0 \u2013 Thin","Level 1 \u2013 Slightly thick","Level 2 \u2013 Mildly thick","Level 3 \u2013 Moderately thick","Level 4 \u2013 Extremely thick"].map(e=>({label:e,value:e}))}]},{type:"row",showIf:{field:"dietMode",includes:"Oral"},fields:[{name:"oral_amount",label:"Amount",type:"single-select",options:["Half portion","Full portion"].map(e=>({label:e,value:e}))}]},{name:"oral_frequency",type:"textarea",label:"Frequency(times/day)",placeholder:"times/day"},{type:"subheading",label:"Enteral feeding",showIf:{field:"dietMode",includes:"Enteral"}},{name:"enteral_type",label:"Type",type:"single-select",options:["Orogastric Tube (OGT)","Nasogastric Tube (NGT)","Nasojejunal Tube (NJT)","Gastrostomy Tube (G-tube)","Jejunostomy Tube (J-tube)"].map(e=>({label:e,value:e})),showIf:{field:"dietMode",includes:"Enteral"}},{name:"enteral_regimen",label:"Regimen",type:"textarea",showIf:{field:"dietMode",includes:"Enteral"}},{name:"enteral_other",label:"Other(s)",type:"textarea",showIf:{field:"dietMode",includes:"Enteral"}},{name:"enteral_schedule",label:"Feeding schedule",type:"single-select",options:["3-hourly","4-hourly","Continuous"].map(e=>({label:e,value:e})),showIf:{field:"dietMode",includes:"Enteral"}}]},{title:"Objective",fields:[{type:"subheading",label:"General Observation"},{type:"row",fields:[{name:"arousal_level",label:"Arousal level",type:"single-select",options:["Alert","Fleeting alertness","Drowsy"].map(e=>({label:e,value:e}))},{name:"sitting_in",label:"Sitting in",type:"single-select",options:["Chair","Wheelchair","Bed"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"position",label:"Position",type:"single-select",options:["Upright (90 degrees)","Slightly reclined","60 degrees","45 degrees"].map(e=>({label:e,value:e}))},{name:"oral_hygiene",label:"Oral hygiene",type:"single-select",options:["Poor","Fair","Good"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"spo2",type:"input",label:"SpO\u2082 (Oxygen Saturation):",placeholder:""},{name:"hr",type:"input",label:"HR (Heart Rate)",placeholder:""}]},{type:"row",fields:[{name:"rr",type:"input",label:"RR (Respiratory Rate)",placeholder:"breaths/min"},{type:"subheading",label:""}]},{type:"subheading",label:"Oral-motor Structure Observation"},{type:"row",fields:[{name:"teeth",label:"Teeth",type:"single-select",options:["Complete","Incomplete","Dentures","Edentulous"].map(e=>({label:e,value:e}))},{name:"hard_palate",label:"Hard palate",type:"single-select",options:["No Abnormality Detected (NAD)","High arch","Cleft"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"soft_palate",label:"Soft palate",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced elevation","Bifid uvula","Scarring"].map(e=>({label:e,value:e}))},{name:"tongue",label:"Tongue",type:"single-select",options:["No Abnormality Detected (NAD)","Deviation","Fasciculations","Thrush","Reduced ROM"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"lips",label:"Lips",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced seal","Asymmetry","Cleft","Scarring"].map(e=>({label:e,value:e}))}]},{name:"hard_palate_remarks",label:"Remarks",type:"textarea"},{type:"subheading",label:"Cranial Nerve Examination"},{type:"row",fields:[{name:"cn5_motor",label:"CN V: Motor (Jaw ROM/strength)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))},{name:"cn5_sensory",label:"CN V: Sensory (Facial sensation)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn7_motor",label:"CN VII: Motor (Facial movements)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))},{name:"cn7_symmetry",label:"Facial symmetry",type:"single-select",options:["Symmetry","Asymmetrical","Lt Facial Droop","Rt Facial Droop"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn7_sensory",label:"CN VII: Sensory (Taste \u2013 ant 2/3 tongue)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced","Not Tested"].map(e=>({label:e,value:e}))},{name:"cn9_10_motor",label:"CN IX & X: Motor (SP, Cough)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn9_10_sensory",label:"CN IX & X: Sensory (Gag)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced","Not Tested"].map(e=>({label:e,value:e}))},{name:"voice_quality",label:"Voice quality",type:"single-select",options:["No Abnormality Detected (NAD)","Impaired"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn12_motor",label:"CN XII: Motor (Tongue ROM/strength)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))}]},{type:"subheading",label:"Clinical Swallowing Evaluation (CSE)"},{name:"cseFluids",label:"Fluids ",type:"multi-select-dropdown",options:["Level 0 \u2013 Thin","Level 1 \u2013 Slightly Thick","Level 2 \u2013 Mildly Thick","Level 3 \u2013 Moderately Thick"].map(e=>({label:e,value:e}))},{name:"cseFluidsNotes",type:"multi-notes",source:"cseFluids"},{name:"cseFoods",label:"Foods ",type:"multi-select-dropdown",options:["Level 4 \u2013 Extremely Thick / Pureed","Level 5 \u2013 Minced & Moist","Level 6 \u2013 Soft & Bite-sized","Level 7 EC \u2013 Regular Easy to Chew","Level 7 \u2013 Regular"].map(e=>({label:e,value:e}))},{name:"cseFoodsNotes",type:"multi-notes",source:"cseFoods"},{type:"subheading",label:"Oral Phase Observations"},{type:"row",fields:[{name:"cseLipSeal",label:"Lip seal",type:"single-select",options:[{label:"Adequate",value:"adequate"},{label:"Left anterior spillage",value:"left_spillage"},{label:"Right anterior spillage",value:"right_spillage"}]},{name:"cseMastication",label:"Mastication",type:"single-select",options:[{label:"Functional",value:"functional"},{label:"Impaired",value:"impaired"}]}]},{type:"row",fields:[{name:"cseOralResidue",label:"Oral residue",type:"single-select",options:[{label:"None",value:"none"},{label:"Mild",value:"mild"},{label:"Moderate",value:"moderate"},{label:"Severe",value:"severe"}]}]},{type:"subheading",label:"Pharyngeal Phase Observations"},{name:"cseNasalRegurgitation",label:"Nasal regurgitation",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"cseCough",label:"Cough / Throat clear",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"cseVoicePost",label:"Voice post-swallow",type:"single-select",options:[{label:"Clear",value:"clear"},{label:"Wet",value:"wet"},{label:"Aphonia",value:"aphonia"}]},{name:"cseCervicalAusc",label:"Cervical auscultation",type:"single-select",options:[{label:"Normal",value:"normal"},{label:"Reduced",value:"reduced"},{label:"Wet / gurgly",value:"wet"},{label:"N/A",value:"na"}]}]},{title:"Assessment",fields:[{name:"noSwallowingImpairment",label:"No swallowing impairment observed",type:"checkbox-group",options:[{label:"No swallowing impairment observed",value:"no_impairment"}]},{name:"dysphagia_characteristics",label:"The patient presents with dysphagia",type:"multi-select-dropdown",options:["Anterior spillage","Slow / ineffective mastication","Oral residue post swallow","Overt signs of aspiration (coughing, wet voice, increased work of breathing)","Suspected silent aspiration (reduced cough response)","Other(s)"].map(e=>({label:e,value:e}))},{name:"dysphagia_other",label:"Others",type:"textarea",showIf:{field:"dysphagia_characteristics",includes:"Other(s)"}},{type:"subheading",label:"Functional Oral Intake Scale (FOIS)"},{name:"fois_tube_dependent",label:"Tube Dependent (Levels 1\u20133)",type:"single-select",options:[{label:"Level 1 \u2013 No oral intake",value:"1"},{label:"Level 2 \u2013 Tube dependent with minimal / inconsistent oral intake",value:"2"},{label:"Level 3 \u2013 Tube dependent with consistent oral intake",value:"3"}]},{name:"fois_total_oral",label:"Total Oral Intake (Levels 4\u20137)",type:"single-select",options:[{label:"Level 4 \u2013 Total oral intake of a single consistency",value:"4"},{label:"Level 5 \u2013 Total oral intake of multiple consistencies requiring special preparation",value:"5"},{label:"Level 6 \u2013 Total oral intake with no special preparation, but must avoid specific foods or liquid items",value:"6"},{label:"Level 7 \u2013 Total oral intake with no restrictions",value:"7"}]}]},{title:"P \u2013 Plan",fields:[{type:"subheading",label:"Swallowing Recommendations"},{type:"row",fields:[{name:"plan_food_iddsi",label:"Food \u2013 IDDSI level",type:"multi-select-dropdown",options:["Level 3 \u2013 Moderately thick","Level 4 \u2013 Extremely thick","Level 5 \u2013 Minced & moist","Level 6 \u2013 Soft & bite-sized","Level 7 EC \u2013 Regular Easy to chew","Level 7 \u2013 Regular"].map(e=>({label:e,value:e}))},{name:"plan_food_amount",label:"Amount",type:"single-select",options:["Oral-trails","Half portion","Full portion"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"plan_oral_frequency",label:"Frequency (times/day)",type:"input",placeholder:"times/day"},{name:"plan_fluids_iddsi",label:"Fluids \u2013 IDDSI level",type:"multi-select-dropdown",options:["Level 0 \u2013 Thin","Level 1 \u2013 Slightly thick","Level 2 \u2013 Mildly thick","Level 3 \u2013 Moderately thick","Level 4 \u2013 Extremely thick"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"plan_fluid_amount",label:"Amount (e.g. 50 ml / 100 ml)",type:"input",placeholder:"e.g. 50 ml / 100 ml"},{name:"plan_enteral_frequency",label:"Frequency (as & when / every feed)",type:"input",placeholder:"as & when / every feed"}]},{type:"subheading",label:"Safe Swallowing Strategies"},{name:"safe_strategies",type:"multi-select-dropdown",options:["Upright fully during intake & 30 min post","Feed via spoon only","Small sips / bites","Slow rate","Provide verbal cue to swallow","Double / multiple swallows","Voluntary cough","Head turn to the weak side","Head tilt to the strong side","Chin tuck","Cyclic ingestion"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Monitoring During Oral Intake"},{name:"monitoring",type:"multi-select-dropdown",options:["Monitor for overt signs of aspiration (coughing, throat clearing, wet/gurgly voice, increased respiratory effort, desaturation)","Stop oral intake if overt aspiration occurs or patient fatigues","Document tolerance and clinical signs post-intake"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Oral Care"},{name:"oral_care_method",label:"Method",type:"multi-select-dropdown",options:["Brush teeth","Gauze stick","Gargle"].map(e=>({label:e,value:e}))},{name:"oral_care_frequency",label:"Frequency",type:"single-select",options:["Once daily","Twice daily","3\u20134 times/day","Before & after meals"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Therapy"},{name:"therapy_plan",type:"multi-select-dropdown",options:["Training about swallowing","Education about swallowing","Advising about swallowing"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Other Management"},{name:"referral_specialist",label:"Referral \u2013 Specialist",type:"textarea",placeholder:"Free text"}]}]};return(0,s.jsx)(i_,{schema:l,values:n,onChange:(e,t)=>{r(n=>je(je({},n),{},{[e]:t}))},submitted:a,onAction:e=>{"submit"===e&&(o(!0),console.log("PAED IA Speech & Language",n)),"back"===e&&(null===t||void 0===t||t())}})}function lJ(e){let{onBack:t}=e;const[n,r]=(0,i.useState)({}),[a,o]=(0,i.useState)(!1),l={title:"Speech & Language Initial Assessment",actions:[{type:"back",label:"Back"}],sections:[{title:"Subjective",fields:[{name:"patient_seen",label:"Patient was seen",type:"radio",options:[{label:"Unaccompanied",value:"Unaccompanied"},{label:"Accompanied by caregiver",value:"Accompanied by caregiver"}]},{name:"consent",label:"Consent (Verbal)",type:"textarea"},{type:"subheading",label:"Chief Complaint"},{name:"presenting_complaints",label:"Patient/family reported challenges",type:"multi-select-dropdown",options:["Understanding spoken language","Expressing thoughts verbally","Reading comprehension","Written expression","Speech clarity / intelligibility","Voice quality","Additional concerns"].map(e=>({label:e,value:e}))},{name:"presenting_complaints_other",label:"Additional concerns (specify)",type:"textarea",showIf:{field:"presenting_complaints",includes:"Additional concerns"}}]},{title:"Objective",fields:[{type:"subheading",label:"General Observation"},{type:"row",fields:[{name:"arousal_level",label:"Arousal level",type:"single-select",options:["Alert","Fleeting alertness","Drowsy"].map(e=>({label:e,value:e}))},{name:"sitting_in",label:"Sitting in",type:"single-select",options:["Chair","Wheelchair","Bed"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"position",label:"Position",type:"single-select",options:["Upright (90 degrees)","Slightly reclined","60 degrees","45 degrees"].map(e=>({label:e,value:e}))},{name:"oral_hygiene",label:"Oral hygiene",type:"single-select",options:["Poor","Fair","Good"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"SpO\u2082 (Oxygen Saturation)",type:"input",label:"SpO\u2082 (Oxygen Saturation):",placeholder:""},{name:"hr",type:"input",label:"HR (Heart Rate):",placeholder:""}]},{type:"row",fields:[{name:"rr",type:"input",label:"RR (Respiratory Rate)",placeholder:"breaths/min"}]},{type:"subheading",label:"Communication Screening"},{type:"row",fields:[{name:"conversationalAdequacy",label:"Conversational adequacy & coherence",type:"single-select",options:["Intact","Impaired"].map(e=>({label:e,value:e}))},{name:"understandingCommands",label:"Understanding commands (1, 2, multi-step)",type:"single-select",options:["Intact","Impaired"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"responseToQuestions",label:"Response to questions",type:"single-select",options:["Intact","Impaired"].map(e=>({label:e,value:e}))},{name:"automaticSpeech",label:"Automatic speech",type:"single-select",options:["Intact","Impaired"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"speechClarity",label:"Speech clarity",type:"single-select",options:["Intact","Impaired"].map(e=>({label:e,value:e}))},{name:"primaryLanguage",label:"Primary language",type:"input"}]},{type:"row",fields:[{name:"otherLanguages",label:"Other language(s)",type:"input"}]},{type:"subheading",label:"Oral-motor Structure Observation"},{type:"row",fields:[{name:"teeth",label:"Teeth",type:"single-select",options:["Complete","Incomplete","Dentures","Edentulous"].map(e=>({label:e,value:e}))},{name:"hard_palate",label:"Hard palate",type:"single-select",options:["No Abnormality Detected (NAD)","High arch","Cleft"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"soft_palate",label:"Soft palate",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced elevation","Bifid uvula","Scarring"].map(e=>({label:e,value:e}))},{name:"tongue",label:"Tongue",type:"single-select",options:["No Abnormality Detected (NAD)","Deviation","Fasciculations","Thrush","Reduced ROM"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"lips",label:"Lips",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced seal","Asymmetry","Cleft","Scarring"].map(e=>({label:e,value:e}))}]},{name:"hard_palate_remarks",label:"Remarks",type:"textarea"},{type:"subheading",label:"Cranial Nerve Examination"},{type:"row",fields:[{name:"cn5_motor",label:"CN V: Motor (Jaw ROM/strength)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))},{name:"cn5_sensory",label:"CN V: Sensory (Facial sensation)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn7_motor",label:"CN VII: Motor (Facial movements)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))},{name:"cn7_symmetry",label:"Facial symmetry",type:"single-select",options:["Symmetry","Asymmetrical","Lt Facial Droop","Rt Facial Droop"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn7_sensory",label:"CN VII: Sensory (Taste \u2013 ant 2/3 tongue)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced","Not Tested"].map(e=>({label:e,value:e}))},{name:"cn9_10_motor",label:"CN IX & X: Motor (SP, Cough)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn9_10_sensory",label:"CN IX & X: Sensory (Gag)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced","Not Tested"].map(e=>({label:e,value:e}))},{name:"voice_quality",label:"Voice quality",type:"single-select",options:["No Abnormality Detected (NAD)","Impaired"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"cn12_motor",label:"CN XII: Motor (Tongue ROM/strength)",type:"single-select",options:["Within Normal Limits (WNL)","Reduced"].map(e=>({label:e,value:e}))}]},{name:"enableLanguageAssessment",label:"Language Assessment",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"languageAssessmentTools",label:"Assessment tool",type:"multi-select-dropdown",options:["WAB-R (Western Aphasia Battery \u2013 Revised)","BDAE (Boston Diagnostic Aphasia Examination)","CLQT (Cognitive Linguistic Quick Test)","CAT (Comprehensive Aphasia Test)","MWHLT (Malay Word Hearing & Language Test)","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableLanguageAssessment",equals:"YES"}},{type:"multi-select-details",sourceField:"languageAssessmentTools",namePrefix:"languageToolNote",labelPrefix:"Details for",showIf:{field:"enableLanguageAssessment",equals:"YES"}},{name:"languageImpairmentsObserved",label:"Impairments observed in",type:"multi-select-dropdown",options:["Auditory comprehension","Verbal expression","Naming / Word-finding","Sentence formulation","Pragmatics","Cognitive-communication skills","Reading comprehension","Written expression","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableLanguageAssessment",equals:"YES"}},{name:"languageImpairmentsObserved_other",label:"Other (specify)",type:"textarea",showIf:{field:"languageImpairmentsObserved",includes:"Other"}},{name:"enableSpeechAssessment",label:"Speech Assessment",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"speechAssessmentTools",label:"Assessment tool",type:"multi-select-dropdown",options:["FDA-2 (Frenchay Dysarthria Assessment \u2013 2)","Robertson Dysarthria Profile","ABA-2 (Assessment of Bulbar Function)","SSI-4 (Stuttering Severity Instrument \u2013 4)","The One Page Stuttering Assessment","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableSpeechAssessment",equals:"YES"}},{type:"multi-select-details",sourceField:"speechAssessmentTools",namePrefix:"speechToolNote",labelPrefix:"Details for",showIf:{field:"enableSpeechAssessment",equals:"YES"}},{name:"speechImpairmentsObserved",label:"Impairments observed in",type:"multi-select-dropdown",options:["Reflexes","Respiratory support","Phonatory function","Articulation \u2013 Lips","Articulation \u2013 Tongue","Resonance","Prosody & intelligibility","Other"].map(e=>({label:e,value:e})),showIf:{field:"enableSpeechAssessment",equals:"YES"}},{name:"speechImpairmentsObserved_other",label:"Other (specify)",type:"textarea",showIf:{field:"speechImpairmentsObserved",includes:"Other"}},{name:"intelligibilityRating",label:"Intelligibility rating",type:"textarea",showIf:{field:"enableSpeechAssessment",equals:"YES"}}]},{title:"Assessment",fields:[{name:"noSpeechLanguageImpairment",label:"No speech and language impairment observed",type:"checkbox-group",options:[{label:"No speech and language impairment observed",value:"no_impairment"}]},{name:"diagnoses",label:"The patient presents with",type:"multi-select-dropdown",options:["Aphasia","Dysarthria","Apraxia of Speech","Cognitive-Communication Disorder","Other and unspecified speech disturbances","Stuttering (stammering)","Cluttering"].map(e=>({label:e,value:e}))},{name:"aphasiaType",label:"Aphasia \u2013 Type",type:"single-select",options:["Broca\u2019s","Wernicke\u2019s","Global","Anomic","Other"].map(e=>({label:e,value:e})),showIf:{field:"diagnoses",includes:"Aphasia"}},{name:"aphasiaTypeOther",label:"Aphasia \u2013 Type (Specify)",type:"textarea",showIf:{field:"aphasiaType",equals:"Other"}},{name:"aphasiaSeverity",label:"Aphasia \u2013 Severity",type:"single-select",options:["Mild","Moderate","Severe"].map(e=>({label:e,value:e})),showIf:{field:"diagnoses",includes:"Aphasia"}},{name:"dysarthriaType",label:"Dysarthria \u2013 Type",type:"single-select",options:["Flaccid","Spastic","Ataxic","Hypokinetic","Hyperkinetic","Mixed"].map(e=>({label:e,value:e})),showIf:{field:"diagnoses",includes:"Dysarthria"}},{name:"cognitiveAssociatedWith",label:"Cognitive-Communication Disorder \u2013 Associated with",type:"multi-select-dropdown",options:["TBI","Stroke","Dementia"].map(e=>({label:e,value:e})),showIf:{field:"diagnoses",includes:"Cognitive-Communication Disorder"}},{name:"otherSpeechDisorder",label:"Other (specify)",type:"textarea",showIf:{field:"diagnoses",includes:"Other and unspecified speech disturbances"}}]},{title:"Plan",fields:[{type:"subheading",label:"Referral"},{name:"referral_specialist",label:"Specialist:",type:"textarea",placeholder:"Free text"},{name:"Others",label:"Others",type:"textarea"}]}]};return(0,s.jsx)(i_,{schema:l,values:n,onChange:(e,t)=>{r(n=>je(je({},n),{},{[e]:t}))},submitted:a,onAction:e=>{"submit"===e&&(o(!0),console.log("PAED IA Speech & Language",n)),"back"===e&&(null===t||void 0===t||t())}})}function cJ(e){const[t,n]=(0,i.useState)({}),[r,a]=(0,i.useState)(!1),o={title:"Voice Assessment",actions:[{type:"back",label:"Back"}],sections:[{title:"Subjective",fields:[{name:"patient_seen",label:"Patient was seen",type:"radio",options:[{label:"Unaccompanied",value:"Unaccompanied"},{label:"Accompanied by caregiver",value:"Accompanied by caregiver"}]},{name:"consent",label:"Consent (Verbal)",type:"textarea"},{type:"subheading",label:"Chief Complaint"},{name:"presenting_complaints",label:"Patient/family reported",type:"multi-select-dropdown",options:["Hoarse / weak / strained voice","Reduced vocal loudness or difficulty projecting voice","Voice fatigue / worsens with prolonged speaking","Pain or discomfort when speaking (odynophonia)","Running out of air while speaking / shortness of breath during voice use","Other(s)"].map(e=>({label:e,value:e}))},{name:"presenting_complaints_other",label:"Other \u2013 please specify",type:"textarea",showIf:{field:"presenting_complaints",includes:"Other(s)"}},{type:"subheading",label:"Medical history (related to voice)"},{name:"reflux",label:"Reflux",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"throat_surgery",label:"Throat surgery",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"known_vf_pathology",label:"Known VF pathology",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"current_medication",label:"Current medication",type:"textarea"},{type:"subheading",label:"Voice History"},{name:"onset",label:"Onset",type:"radio",options:["Gradual","Sudden"].map(e=>({label:e,value:e}))},{type:"row",fields:[{name:"onset_duration",label:"Date or duration",type:"input"},{name:"progression",label:"Progression",type:"single-select",options:["Better","Worse","No change"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"vocal_misuse",label:"Vocal misuse / abuse behaviours",type:"multi-select-dropdown",options:["Screaming","Shouting","Excessive throat clearing"].map(e=>({label:e,value:e}))},{name:"vocal_demand",label:"Vocal Demand Level scale",type:"single-select",options:["Low","Moderate","High","Elite Voice User"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"hours_talking",label:"Hours of talking per day",type:"single-select",options:["<1","1\u20133","3\u20135",">5 hrs"].map(e=>({label:e,value:e}))}]},{type:"subheading",label:"Lifestyle / Dietary Habits"},{name:"water_intake",label:"Daily water intake",type:"single-select",options:["<0.5L","0.5\u20131.0L","1\u20131.5L","1.5\u20132.0L",">2.0L"].map(e=>({label:e,value:e}))},{name:"smoking",label:"Smoking",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"smoking_details",label:"Packs / day or details",type:"input",placeholder:"e.g. 5 cigarettes/day",showIf:{field:"smoking",equals:"Yes"}},{name:"vaping",label:"Vaping exposure",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"second_hand_smoke",label:"Second-hand smoke exposure",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"hydration_habits",label:"Hydration habits",type:"multi-select-dropdown",options:["Sips frequently","Long gaps without drinking"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Diet Intake"},{name:"alcohol",label:"Alcohol",type:"single-select",options:["Never","Occasionally","Daily"].map(e=>({label:e,value:e}))},{name:"caffeine",label:"Caffeine",type:"single-select",options:["None","1\u20132 cups/day",">2 cups/day"].map(e=>({label:e,value:e}))},{name:"spicy_food",label:"Spicy food",type:"radio",options:["Rare","Regular"].map(e=>({label:e,value:e}))},{name:"dairy",label:"Dairy",type:"radio",options:["Rare","Regular"].map(e=>({label:e,value:e}))},{name:"acidic_foods",label:"Acidic foods (citrus)",type:"radio",options:["Rare","Regular"].map(e=>({label:e,value:e}))},{name:"eating_late",label:"Eating late at night",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Associated Symptoms"},...["Globus sensation","Throat dryness","Throat tension / tightness","Pain when talking","Vocal fatigue / endurance issues","Dysphagia or coughing with liquids","Feeling out of breath when talking"].map(e=>({name:e,label:e,type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))})),{name:"associated_other",label:"Other(s)",type:"textarea"},{type:"subheading",label:"Musculoskeletal symptoms"},{name:"jaw_tension",label:"Jaw tension / teeth clenching",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))},{name:"neck_tension",label:"Neck/shoulder tension",type:"radio",options:["Yes","No"].map(e=>({label:e,value:e}))}]},{title:"Objective",fields:[{type:"subheading",label:"General Observation"},{type:"row",fields:[{name:"arousal_level",label:"Arousal level",type:"single-select",options:["Alert","Fleeting alertness","Drowsy"].map(e=>({label:e,value:e}))},{name:"sitting_in",label:"Sitting in",type:"single-select",options:["Chair","Wheelchair","Bed"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"position",label:"Position",type:"single-select",options:["Upright (90 degrees)","Slightly reclined","60 degrees","45 degrees"].map(e=>({label:e,value:e}))},{name:"oral_hygiene",label:"Oral hygiene",type:"single-select",options:["Poor","Fair","Good"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"SpO\u2082 (Oxygen Saturation)",type:"input",label:"SpO\u2082 (Oxygen Saturation):",placeholder:""},{name:"hr",type:"input",label:"HR (Heart Rate):",placeholder:""}]},{type:"row",fields:[{name:"rr",type:"input",label:"RR (Respiratory Rate)",placeholder:"breaths/min"}]},{type:"subheading",label:"Oral-motor Structure Observation"},{type:"row",fields:[{name:"teeth",label:"Teeth",type:"single-select",options:["Complete","Incomplete","Dentures","Edentulous"].map(e=>({label:e,value:e}))},{name:"hard_palate",label:"Hard palate",type:"single-select",options:["No Abnormality Detected (NAD)","High arch","Cleft"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"soft_palate",label:"Soft palate",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced elevation","Bifid uvula","Scarring"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"tongue",label:"Tongue",type:"single-select",options:["No Abnormality Detected (NAD)","Deviation","Fasciculations","Thrush","Reduced ROM"].map(e=>({label:e,value:e}))},{name:"lips",label:"Lips",type:"single-select",options:["No Abnormality Detected (NAD)","Reduced seal","Asymmetry","Cleft","Scarring"].map(e=>({label:e,value:e}))}]},{name:"hard_palate_remarks",label:"Remarks",type:"textarea"},{type:"subheading",label:"Voice Parameters"},{type:"subheading",label:"A. Respiratory Observations"},{name:"breathing_type",label:"Type of breathing",type:"single-select",options:["Nose","Mouth"].map(e=>({label:e,value:e}))},{name:"breathing_pattern",label:"Breathing pattern",type:"single-select",options:["Clavicular","Thoracic","Diaphragmatic"].map(e=>({label:e,value:e}))},{type:"subheading",label:"B. Objective Voice Measures"},{name:"mpt_average",label:"Maximum Phonation Time (MPT) \u2013 average of 3 trials (s)",type:"input"},{type:"milestone-grid",heading:"/a/",rows:[{left:{name:"a_trial_1",label:"Trial 1",placeholder:"s"},right:{name:"a_trial_2",label:"Trial 2",placeholder:"s"}},{left:{name:"a_trial_3",label:"Trial 3",placeholder:"s"}}]},{type:"milestone-grid",heading:"/s/",rows:[{left:{name:"s_trial_1",label:"Trial 1",placeholder:"s"},right:{name:"s_trial_2",label:"Trial 2",placeholder:"s"}},{left:{name:"s_trial_3",label:"Trial 3",placeholder:"s"}}]},{type:"milestone-grid",heading:"/z/",rows:[{left:{name:"z_trial_1",label:"Trial 1",placeholder:"s"},right:{name:"z_trial_2",label:"Trial 2",placeholder:"s"}},{left:{name:"z_trial_3",label:"Trial 3",placeholder:"s"}}]},{name:"sz_ratio",label:"s/z ratio (Normal \u2248 1.0, >1.4 = possible vocal fold inefficiency, <0.8 = possible phonation difficulty)",type:"input"},{type:"subheading",label:"Acoustic Analysis (Praat) \u2013 Sustained /a/ for 3 trials (best trial analysed)"},{name:"f0_mean",label:"F0 Mean (Hz)",type:"input"},{name:"jitter",label:"Jitter(%)",type:"input"},{name:"shimmer",label:"Shimmer(%)",type:"input"},{name:"hnr_cpp",label:"HNR / CPP (dB)",type:"input"},{name:"intensity_range",label:"Intensity Range (dB)",type:"input"},{type:"subheading",label:"C. Perceptual Voice Measures"},{name:"grbasi",label:" Grade, Roughness, Breathiness, Asthenia, Strain, Instability (GRBASI Scale)",type:"single-select",options:["Grade","Roughness","Breathiness","Asthenia","Strain","Instability"].map(e=>({label:e,value:e}))},{name:"capev",label:"Consensus Auditory-Perceptual Evaluation of Voice (CAPE-V score)",type:"single-select",options:["Overall severity","Roughness","Breathiness","Strain","Pitch","Loudness","Resonance (if applicable)"].map(e=>({label:e,value:e}))},{name:"vhi_10",label:"Voice Handicap Index \u2013 10 (VHI-10) score",type:"input"},{name:"rsi_score",label:"Reflux Symptom Index (RSI) score",type:"input"}]},{title:"Assessment",fields:[{type:"subheading",label:"Diagnoses / Findings"},{name:"voiceWithinLimits",label:"Voice is within functional limits",type:"radio",options:[{label:"Yes",value:"YES"},{label:"No",value:"NO"}]},{name:"voiceDiagnoses",label:"The patient presents with",type:"multi-select-dropdown",options:["Dysphonia","Aphonia","Hypernasality / Hyponasality","Other and unspecified voice disturbances","Breathy dysphonia","Strained / rough voicing","Reduced loudness","Possible VF pathology"].map(e=>({label:e,value:e}))},{name:"Others",label:"Others",type:"textarea"}]},{title:"Plan",fields:[{name:"Others",label:"Others",type:"textarea"}]}]};return(0,s.jsx)(i_,{schema:o,values:t,onChange:(e,t)=>{n(n=>je(je({},n),{},{[e]:t}))},submitted:r,onAction:n=>{"submit"===n&&(a(!0),console.log("PAED IA Speech & Language",t)),"back"===n&&(null===e||void 0===e||e())}})}function dJ(e){let{onBack:t}=e;const[n,r]=(0,i.useState)({}),[a,o]=(0,i.useState)(!1),l={title:"Tracheostomy Weaning Evaluation",actions:[{type:"back",label:"Back"}],sections:[{title:"Subjective",fields:[{name:"patient_seen",label:"Patient was seen",type:"radio",options:["Unaccompanied","Accompanied by caregiver"].map(e=>({label:e,value:e}))},{name:"consent",label:"Consent (Verbal)",type:"textarea"},{type:"subheading",label:"Chief Complaint"},{name:"presenting_complaints",label:"Patient/family reported",type:"multi-select-dropdown",options:["Poor secretion management","Absent or weak voice","Difficulty tolerating cuff deflation or speaking valve","Unable to wean / decannulate","Increased coughing during oral intake","Other(s)"].map(e=>({label:e,value:e}))},{name:"presenting_complaints_other",label:"Other \u2013 please specify",type:"textarea",showIf:{field:"presenting_complaints",includes:"Others"}}]},{title:"Objective",fields:[{type:"subheading",label:"General Observation"},{type:"row",fields:[{name:"arousal",label:"Arousal level",type:"single-select",options:["Alert","Fleeting alertness","Drowsy"].map(e=>({label:e,value:e}))},{name:"sitting",label:"Sitting in",type:"single-select",options:["Chair","Wheelchair","Bed"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"position",label:"Position",type:"single-select",options:["Upright (90 degrees)","Slightly reclined","60 degrees","45 degrees"].map(e=>({label:e,value:e}))},{name:"oral_hygiene",label:"Oral hygiene",type:"single-select",options:["Poor","Fair","Good"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"SpO\u2082 (Oxygen Saturation)",type:"input",label:"SpO\u2082 (Oxygen Saturation):",placeholder:""},{name:"hr",type:"input",label:"HR (Heart Rate):",placeholder:""}]},{type:"row",fields:[{name:"rr",type:"input",label:"RR (Respiratory Rate)",placeholder:"breaths/min"}]},{type:"subheading",label:"Suction needs (airway clearance function)"},{name:"suction_frequency",label:"Frequency",type:"input"},{name:"secretion_amount",label:"Secretion amount",type:"single-select",options:["Small","Moderate"].map(e=>({label:e,value:e}))},{name:"secretion_colour",label:"Colour",type:"single-select",options:["Whitish","Yellowish","Greenish","Blood-tinged"].map(e=>({label:e,value:e}))},{name:"secretion_consistency",label:"Consistency",type:"single-select",options:["Thick","Loose"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Tracheostomy Status"},{name:"trach_date",label:"Date of tracheostomy insertion",type:"input"},{name:"trach_reason",label:"Reason for insertion",type:"textarea"},{name:"tube_size",label:"Tube size (mm)",type:"single-select",options:["5.0","6.0","6.5","7.0","7.5","8.0","8.5","9.0"].map(e=>({label:e,value:e}))},{name:"tube_type",label:"Tube type",type:"single-select",options:["Fenestrated","Non-fenestrated"].map(e=>({label:e,value:e}))},{name:"tube_lumen",label:"Lumen",type:"single-select",options:["Single-lumen","Double-lumen"].map(e=>({label:e,value:e}))},{name:"tube_brand",label:"Brand",type:"single-select",options:["Portex","Rusch","Shiley"].map(e=>({label:e,value:e}))},{name:"tube_other",label:"Other",type:"textarea"},{name:"cuff_status",label:"Cuff status",type:"single-select",options:["Inflated","Deflated","Cuffless"].map(e=>({label:e,value:e}))},{name:"inner_cannula",label:"Inner cannula",type:"single-select",options:["Present","Absent"].map(e=>({label:e,value:e}))},{name:"inner_cannula_type",label:"If present",type:"single-select",showIf:{field:"inner_cannula",equals:"Present"},options:["Fenestrated","Non-fenestrated"].map(e=>({label:e,value:e}))},{name:"ventilation",label:"Ventilation",type:"single-select",options:["On room air","O2 via trache mask","O2 via Swedish nose"].map(e=>({label:e,value:e}))},{name:"flow_rate",label:"Flow rate (L of O2)",type:"input"},{name:"humidification",label:"Humidification method",type:"single-select",options:["Heat and Moisture Exchanger (HME)","Nebuliser","Heated humidifier","None"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Baseline Vitals & Humidification"},{name:"humidificationMethod",label:"Humidification method",type:"single-select",options:["Heat and Moisture Exchanger (HME)","Nebuliser","Heated humidifier","None"].map(e=>({label:e,value:e}))},{type:"row",fields:[{name:"baseline_SpO\u2082 (Oxygen Saturation)",label:"SPO2 (%)",type:"input"},{name:"baseline_rr",label:"RR (bpm)",type:"input"}]},{type:"row",fields:[{name:"baseline_hr",label:"HR (breaths/min)",type:"input"},{name:"pre_eval_suction",label:"Pre-evaluation suction",type:"single-select",options:["Done","Not required"].map(e=>({label:e,value:e}))}]},{type:"row",fields:[{name:"secretion_amount",label:"Secretion amount",type:"single-select",options:["Small","Moderate"].map(e=>({label:e,value:e}))},{name:"secretion_colour",label:"Colour",type:"single-select",options:["Whitish","Yellowish","Greenish","Blood-tinged"].map(e=>({label:e,value:e}))}]},{name:"secretion_consistency",label:"Consistency",type:"single-select",options:["Thick","Loose"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Tracheostomy Weaning Evaluation"},{name:"cuffTrial",label:"Cuff deflation trial ",type:"radio",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"row",showIf:{field:"cuffTrial",equals:"yes"},fields:[{name:"cuff_deflation",label:"Deflation",type:"single-select",options:["Partial","Complete"].map(e=>({label:e,value:e}))},{name:"cuff_tolerated",label:"Tolerated",type:"single-select",options:["Yes","No"].map(e=>({label:e,value:e}))}]},{type:"row",showIf:{field:"cuffTrial",equals:"yes"},fields:[{name:"cuff_spo2",label:"SPO2 (%)",type:"input"},{name:"cuff_rr",label:"RR (bpm)",type:"input"}]},{name:"cuff_hr",label:"HR (breaths/min)",type:"input",showIf:{field:"cuffTrial",equals:"yes"}},{name:"speakingValveTrial",label:"Speaking valve trial",type:"radio",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{showIf:{field:"speakingValveTrial",equals:"yes"},type:"row",fields:[{name:"sv_duration",label:"Duration tolerated (minutes)",type:"input"},{name:"sv_voice_quality",label:"Voice quality",type:"single-select",options:["Clear","Wet","Breathy","Strained","Absent"].map(e=>({label:e,value:e}))}]},{showIf:{field:"speakingValveTrial",equals:"yes"},type:"row",fields:[{name:"sv_wob",label:"Work of breathing",type:"single-select",options:["Normal","Increased"].map(e=>({label:e,value:e}))},{name:"sv_spo2",label:"SPO2 (%)",type:"input"}]},{type:"row",fields:[{name:"hr",type:"input",label:"HR (Heart Rate):",placeholder:""},{name:"rr",type:"input",label:"RR (Respiratory Rate)",placeholder:"breaths/min"}]},{name:"digitalOcclusionTrial",label:"Digital Occlusion trial ",type:"radio",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"row",showIf:{field:"digitalOcclusionTrial",equals:"yes"},fields:[{name:"do_duration",label:"Duration tolerated (minutes)",type:"input"},{name:"do_voice_quality",label:"Voice quality",type:"single-select",options:["Clear","Wet","Breathy","Strained","Absent"].map(e=>({label:e,value:e}))}]},{type:"row",showIf:{field:"digitalOcclusionTrial",equals:"yes"},fields:[{name:"do_wob",label:"Work of breathing",type:"single-select",options:["Normal","Increased"].map(e=>({label:e,value:e}))},{name:"do_spo2",label:"SPO2 (%)",type:"input"}]},{type:"row",showIf:{field:"digitalOcclusionTrial",equals:"yes"},fields:[{name:"do_rr",label:"RR (bpm)",type:"input"},{name:"do_hr",label:"HR (breaths/min)",type:"input"}]},{name:"cappingTrial",label:"Capping trial ",type:"radio",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}]},{type:"row",showIf:{field:"cappingTrial",equals:"yes"},fields:[{name:"cap_duration",label:"Duration tolerated (minutes)",type:"input"},{name:"cap_voice_quality",label:"Voice quality",type:"single-select",options:["Clear","Wet","Breathy","Strained","Absent"].map(e=>({label:e,value:e}))}]},{type:"row",showIf:{field:"cappingTrial",equals:"yes"},fields:[{name:"cap_wob",label:"Work of breathing",type:"single-select",options:["Normal","Increased"].map(e=>({label:e,value:e}))},{name:"cap_spo2",label:"SPO2 (%)",type:"input"}]},{type:"row",showIf:{field:"cappingTrial",equals:"yes"},fields:[{name:"cap_rr",label:"RR (bpm)",type:"input"},{name:"cap_hr",label:"HR (breaths/min)",type:"input"}]},{type:"subheading",label:"Clinical Observations"},{name:"clinicalObservations",label:"",type:"multi-select-dropdown",options:["Stable SpO\u2082 \u2265 95% on room air","Stable RR & HR during capping or speaking valve trial","Adequate cough reflex and secretion clearance","Phonation achieved with speaking valve","No significant desaturation (>3% drop) or respiratory distress"].map(e=>({label:e,value:e}))}]},{title:"Assessment",fields:[{name:"noDifficulties",label:"No difficulties observed during tracheostomy weaning. The patient is a suitable candidate to proceed with the tracheostomy weaning programme.",type:"checkbox-group",options:[{label:"No difficulties observed during tracheostomy weaning. The patient is a suitable candidate to proceed with the tracheostomy weaning programme.",value:"no_difficulties"}]},{name:"patientPresents",label:"The patient presents with poor tolerance to tracheostomy capping and currently requires full tracheostomy dependence.",type:"checkbox-group",options:[{label:"The patient presents with poor tolerance to tracheostomy capping and currently requires full tracheostomy dependence.",value:"patient_presents"}]},{name:"associated_conditions",label:"The patient also exhibits",type:"multi-select-dropdown",options:["Dysphonia","Dysphagia"].map(e=>({label:e,value:e}))},{name:"clinical_interpretation",label:"Clinical Interpretation",type:"multi-select-dropdown",options:["Poor tolerance of cuff deflation","Inadequate airway patency during capping","Poor secretion management","Reduced cough strength","Reduced laryngeal / velopharyngeal competence","Suspected upper airway obstruction","Anxiety or reduced cooperation limiting weaning","Suitable candidate for capping trials / decannulation","Other(s)"].map(e=>({label:e,value:e}))},{name:"candidate_for_weaning",label:"Candidate for tracheostomy weaning",type:"single-select",options:["Yes","No","Requires further evaluation (FEES / VFSS)"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Tracheostomy Weaning Progress Scale (TWPS)"},{name:"twps",label:"Tracheostomy Weaning Progress Scale  (TWPS) level",type:"single-select",options:["0 \u2013 Fully ventilator-dependent","1 \u2013 Cuff deflation tolerated briefly","2 \u2013 Speaking valve tolerated <30 mins","3 \u2013 Capping tolerated >30 mins","4 \u2013 Independent breathing with capped tube","5 \u2013 Decannulated successfully"].map(e=>({label:e,value:e}))}]},{title:"Plan",fields:[{type:"subheading",label:"Tracheostomy Weaning \u2013 Plan"},{name:"capping_duration",label:"Suggested capping duration (hours)",type:"input",placeholder:"free text"},{name:"capping_frequency",label:"Frequency (times/day)",type:"input",placeholder:"free text"},{name:"monitoring_notes",label:"Monitoring (SpO\u2082, HR, work of breathing)",type:"textarea"},{type:"subheading",label:"Oral Care"},{name:"oral_care_method",label:"Method",type:"multi-select-dropdown",options:["Brush teeth","Gauze stick","Gargle"].map(e=>({label:e,value:e}))},{name:"oral_care_frequency",label:"Frequency",type:"single-select",options:["3\u20134 times/day","Before meals","After meals","Oral trials"].map(e=>({label:e,value:e}))},{type:"subheading",label:"Therapy"},{name:"therapy_plan",type:"multi-select-dropdown",options:["Observation of breathing functions","Voice facilitation intervention","Assessment of swallowing","Training about swallowing / airway clearance"," Advising about swallowing / airway management"].map(e=>({label:e,value:e}))},{name:"referral_specialist",label:"Others",type:"textarea"}]}]};return(0,s.jsx)(i_,{schema:l,values:n,onChange:(e,t)=>{r(n=>je(je({},n),{},{[e]:t}))},submitted:a,onAction:e=>{"submit"===e&&(o(!0),console.log("PAED IA Speech & Language",n)),"back"===e&&(null===t||void 0===t||t())}})}const uJ=e=>{let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(dJ,{patient:t,onBack:i,onSubmit:n})},hJ=e=>{let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(cJ,{patient:t,onBack:i,onSubmit:n})},pJ=e=>{let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(lJ,{patient:t,onBack:i,onSubmit:n})},fJ=e=>{let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(sJ,{patient:t,onBack:i,onSubmit:n})},mJ=e=>{let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(aJ,{patient:t,onBack:i,onSubmit:n})},gJ=e=>{let{patient:t,onChange:n,onBack:i}=e;return(0,s.jsx)(rJ,{patient:t,onBack:i,onSubmit:n})};function bJ(e){let{patient:t,onSave:n,onBack:r}=e;const a=(null===t||void 0===t?void 0:t.age)>=20,o=(0,i.useMemo)(()=>a?["ADULT CLINICAL SWALLOWING EVALUATION (CSE)","ADULT SPEECH-LANGUAGE","ADULT VOICE","ADULT TRACHEOSTOMY WEANING EVALUATION"]:["PAEDIATRIC SPEECH-LANGUAGE","PAEDIATRIC FEEDING/SWALLOWING"],[a]),[l,c]=(0,i.useState)(0),d=(0,i.useRef)(null),[u,h]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),[m,g]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),[w,j]=(0,i.useState)(null);return(0,s.jsxs)("div",{style:yJ.container,children:[(0,s.jsx)("div",{style:{marginTop:12},children:(0,s.jsx)("div",{ref:d,style:yJ.tabsRow,children:o.map((e,t)=>(0,s.jsx)("button",{onClick:()=>(e=>{c(e),d.current&&d.current.children[e]&&d.current.children[e].scrollIntoView({behavior:"smooth",inline:"center"})})(t),style:je(je({},yJ.tabBtn),{},{background:l===t?"#2563EB":"transparent",color:l===t?"#fff":"#111827",border:l===t?"2px solid #2563EB":"1px solid #E5E7EB"}),children:e},t))})}),(0,s.jsx)("div",{style:yJ.divider}),(0,s.jsxs)("div",{children:["ADULT CLINICAL SWALLOWING EVALUATION (CSE)"===o[l]&&(0,s.jsx)(fJ,{patient:t,onChange:h,onBack:r}),"ADULT SPEECH-LANGUAGE"===o[l]&&(0,s.jsx)(pJ,{patient:t,onChange:f,onBack:r}),"ADULT VOICE"===o[l]&&(0,s.jsx)(hJ,{patient:t,onChange:g,onBack:r}),"ADULT TRACHEOSTOMY WEANING EVALUATION"===o[l]&&(0,s.jsx)(uJ,{patient:t,onChange:y,onBack:r}),"PAEDIATRIC SPEECH-LANGUAGE"===o[l]&&(0,s.jsx)(gJ,{patient:t,onChange:x,onBack:r}),"PAEDIATRIC FEEDING/SWALLOWING"===o[l]&&(0,s.jsx)(mJ,{patient:t,onChange:j,onBack:r})]})]})}const yJ={container:{width:"100%",padding:16,display:"flex",flexDirection:"column",boxSizing:"border-box"},tabsRow:{display:"flex",gap:14,overflowX:"auto",scrollbarWidth:"none",msOverflowStyle:"none"},tabBtn:{padding:"10px 18px",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:500,whiteSpace:"nowrap",background:"transparent"},divider:{margin:"12px 0",borderBottom:"2px solid #E5E7EB"},saveBtn:{padding:"10px 16px",borderRadius:8,background:"#2563EB",color:"#fff",border:"none",cursor:"pointer",fontWeight:600},backBtn:{padding:"10px 16px",borderRadius:8,background:"#F3F4F6",border:"1px solid #E5E7EB",cursor:"pointer"}};function vJ(e){let{Patients:t,onBack:n}=e;const[r,a]=(0,i.useState)("new"),[o,l]=(0,i.useState)(null);console.log("patients",t);const c=(t||[]).filter(e=>"Old"!==e.status),d="new"===r?c:[];return o?(0,s.jsx)(bJ,{patient:o,onBack:()=>l(null)}):(0,s.jsxs)("div",{style:xJ.page,children:[(0,s.jsxs)("div",{style:xJ.header,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:xJ.title,children:"Patients"}),(0,s.jsx)("p",{style:xJ.subtitle,children:"Manage and start psychology assessments"})]}),(0,s.jsx)("button",{style:xJ.backBtn,onClick:n,children:"\u2190 Back to Dashboard"})]}),(0,s.jsxs)("div",{style:xJ.tabs,children:[(0,s.jsx)("button",{style:je(je({},xJ.tab),"new"===r?xJ.activeTab:{}),onClick:()=>a("new"),children:"New Patients"}),(0,s.jsx)("button",{style:je(je({},xJ.tab),"existing"===r?xJ.activeTab:{}),onClick:()=>a("existing"),children:"Existing Patients"})]}),(0,s.jsxs)("div",{style:xJ.card,children:[(0,s.jsxs)("div",{style:je(je({},xJ.row),xJ.headerRow),children:[(0,s.jsx)("div",{children:"Patient"}),(0,s.jsx)("div",{children:"ICD"}),(0,s.jsx)("div",{children:"Status"}),(0,s.jsx)("div",{style:{textAlign:"right"},children:"Action"})]}),0===d.length?(0,s.jsx)("div",{style:xJ.emptyState,children:"Patients are not configured yet"}):d.map(e=>{var t;return(0,s.jsxs)("div",{style:xJ.row,onMouseEnter:e=>e.currentTarget.style.background="#F8FAFC",onMouseLeave:e=>e.currentTarget.style.background="#FFFFFF",children:[(0,s.jsx)("div",{style:xJ.name,children:e.name}),(0,s.jsx)("div",{style:xJ.icd,children:e.icd}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{style:xJ.badge(e.status),children:null!==(t=e.status)&&void 0!==t?t:"New"})}),(0,s.jsx)("div",{style:{textAlign:"right"},children:(0,s.jsx)("button",{style:xJ.startBtn,onClick:()=>l(e),children:"Start \u2192"})})]},e.id)})]})]})}const xJ={page:{padding:32,background:"#F8FAFC",minHeight:"100vh"},emptyState:{padding:"40px 20px",textAlign:"center",color:"#64748B",fontSize:15,fontWeight:500},header:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:28},title:{fontSize:28,fontWeight:800,color:"#0F172A",marginBottom:4},subtitle:{fontSize:14,color:"#64748B"},backBtn:{background:"transparent",border:"1px solid #CBD5E1",padding:"8px 14px",borderRadius:10,fontSize:14,fontWeight:600,cursor:"pointer",color:"#2563EB"},tabs:{display:"flex",gap:20,borderBottom:"1px solid #E5E7EB",marginBottom:24},tab:{paddingBottom:12,fontSize:15,fontWeight:600,cursor:"pointer",background:"none",border:"none",color:"#64748B"},activeTab:{color:"#2563EB",borderBottom:"3px solid #2563EB"},card:{background:"#FFFFFF",borderRadius:16,border:"1px solid #E5E7EB",overflow:"hidden"},row:{display:"grid",gridTemplateColumns:"2fr 2fr 1.5fr 1fr",padding:"16px 20px",alignItems:"center"},headerRow:{background:"#F9FAFB",fontSize:13,fontWeight:700,color:"#6B7280"},name:{fontWeight:700,fontSize:15,color:"#0F172A"},icd:{fontSize:14,color:"#475569"},badge:e=>({padding:"5px 12px",borderRadius:999,fontSize:12,fontWeight:700,background:"New"===e?"#EEF2FF":"Ongoing"===e?"#ECFDF5":"#FFF7ED",color:"New"===e?"#4338CA":"Ongoing"===e?"#047857":"#B45309"}),startBtn:{background:"#2563EB",color:"#FFFFFF",border:"none",padding:"8px 16px",borderRadius:10,fontSize:14,fontWeight:700,cursor:"pointer"}};function wJ(){const[e,t]=i.useState(!1),n={card:{background:"#fff",borderRadius:18,padding:24,minHeight:360,boxShadow:"none",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center"},header:{fontSize:18,fontWeight:600,color:"#111827"},countWrap:{display:"flex",flexDirection:"column",alignItems:"center",gap:6,marginTop:12},count:{fontSize:25,fontWeight:800,color:"#2563EB",lineHeight:1},countLabel:{fontSize:13,fontWeight:600,color:"#070808ff"},infoBox:{marginTop:18,background:"#F9FAFB",borderRadius:14,padding:"14px 16px",display:"flex",alignItems:"center",gap:10,width:"100%",color:"#374151",fontSize:13},micIcon:{width:36,height:36,borderRadius:"50%",background:"#EEF2FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18},button:{marginTop:24,width:"100%",padding:"12px 16px",borderRadius:12,border:"1px solid #2563EB",background:"#F5F8FF",color:"#2563EB",fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:n.card,children:[(0,s.jsx)("div",{style:n.header,children:"Session Recordings"}),(0,s.jsxs)("div",{style:n.countWrap,children:[(0,s.jsx)("div",{style:n.count,children:15}),(0,s.jsx)("div",{style:n.countLabel,children:"Total recordings"})]}),(0,s.jsxs)("div",{style:n.infoBox,children:[(0,s.jsx)("div",{style:n.micIcon,children:"\ud83c\udf99\ufe0f"}),(0,s.jsx)("div",{children:"Session audio will be securely saved"})]}),(0,s.jsx)("button",{style:n.button,onMouseEnter:e=>{e.currentTarget.style.background="#2563EB",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#F5F8FF",e.currentTarget.style.color="#2563EB"},onClick:()=>t(!0),children:"Start New Recording"})]}),e&&(0,s.jsx)(jJ,{onClose:()=>t(!1),onSave:()=>{}})]})}function jJ(e){let{onClose:t,onSave:n}=e;const r=(0,i.useRef)(null),a=(0,i.useRef)([]),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!0);return(0,s.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.55)",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,s.jsxs)("div",{style:{width:460,background:"#fff",borderRadius:20,padding:28,boxShadow:"0 30px 70px rgba(0,0,0,0.25)"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:18,fontWeight:700,color:"#0F172A"},children:"New Session Recording"}),(0,s.jsx)("div",{style:{fontSize:13,color:"#64748B",marginTop:4},children:"Record and securely save patient session audio"})]}),(0,s.jsx)("span",{onClick:t,style:{cursor:"pointer",fontSize:22,color:"#94A3B8"},children:"\xd7"})]}),(0,s.jsx)("input",{placeholder:"Patient name",value:o,onChange:e=>l(e.target.value),style:{marginTop:18,width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #E5E7EB",fontSize:14}}),c&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"#DC2626",marginTop:14},children:[(0,s.jsx)("span",{style:{width:8,height:8,borderRadius:"50%",background:"#DC2626",animation:m?"pulseAnim 1.2s infinite":"none"}}),"Recording\u2026"]}),c?(0,s.jsxs)("div",{style:{display:"flex",gap:10,marginTop:14},children:[(0,s.jsx)("button",{onClick:()=>{r.current&&(u?r.current.resume():r.current.pause(),h(!u))},style:{flex:1,padding:"8px",background:"#FFF7ED",border:"1px solid #FED7AA",borderRadius:8,fontSize:13,fontWeight:600,color:"#B45309",cursor:"pointer"},children:u?"\u25b6 Resume":"\u23f8 Pause"}),(0,s.jsx)("button",{onClick:()=>{r.current.stop(),d(!1),h(!1)},style:{flex:1,padding:"8px",background:"#FEF2F2",border:"1px solid #FECACA",borderRadius:8,fontSize:13,fontWeight:600,color:"#B91C1C",cursor:"pointer"},children:"\u23f9 Stop"})]}):(0,s.jsx)("button",{style:{marginTop:24,width:"100%",padding:"12px 16px",borderRadius:12,border:"1px solid #2563EB",background:"#F5F8FF",color:"#2563EB",fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#2563EB",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#F5F8FF",e.currentTarget.style.color="#2563EB"},onClick:()=>(async()=>{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);t.ondataavailable=e=>a.current.push(e.data),t.onstop=()=>{const e=new Blob(a.current,{type:"audio/webm"});f(URL.createObjectURL(e)),a.current=[]},t.start(),r.current=t,d(!0),h(!1)})(),children:"Start New Recording"}),p&&(0,s.jsx)("audio",{controls:!0,src:p,style:{width:"100%",marginTop:12}}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:16},children:[(0,s.jsx)("button",{onClick:t,style:{background:"none",border:"none",color:"#64748B",fontSize:14,cursor:"pointer"},children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{n({patient:o,audioURL:p,date:(new Date).toLocaleString()}),t()},disabled:!p,style:{padding:"6px 14px",borderRadius:8,border:"none",fontSize:13,fontWeight:600,background:p?"#E0E7FF":"#F1F5F9",color:p?"#1E3A8A":"#94A3B8",cursor:p?"pointer":"not-allowed"},children:"Save"})]}),(0,s.jsx)("style",{children:"\n            @keyframes pulseAnim {\n              0% { transform: scale(1); opacity: 1; }\n              50% { transform: scale(1.4); opacity: 0.6; }\n              100% { transform: scale(1); opacity: 1; }\n            }\n          "})]})})}function SJ(){const e=Math.round(92/120*100),t=200,n=2*Math.PI*78,r=e/100*n,[a,o]=(0,i.useState)({visible:!1,x:0,y:0,text:""}),l=(0,i.useRef)(null),c=(e,t)=>{if(!l.current)return;const n=l.current.getBoundingClientRect();o({visible:!0,x:e.clientX-n.left+8,y:e.clientY-n.top+8,text:t})},d=e=>{if(!a.visible||!l.current)return;const t=l.current.getBoundingClientRect();o(n=>je(je({},n),{},{x:e.clientX-t.left+8,y:e.clientY-t.top+8}))},u=()=>o({visible:!1,x:0,y:0,text:""}),h={card:{width:"100%",maxWidth:"none",minHeight:360,background:"#fff",borderRadius:18,padding:20,boxShadow:"none",display:"flex",flexDirection:"column",alignItems:"center"},sectionTitle:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:14},donutWrap:{position:"relative",display:"flex",justifyContent:"center",padding:"8px 0"},donutCenter:{position:"absolute",top:"50%",transform:"translateY(-50%)",textAlign:"center"},percent:{fontSize:32,fontWeight:800,color:"#111827"},percentLabel:{fontSize:13,color:"#6B7280"},legendRow:{display:"flex",justifyContent:"center",gap:20,marginTop:16},legendItem:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"#374151"},dot:{width:10,height:10,borderRadius:"50%"},footer:{width:"100%",textAlign:"center",marginTop:10,color:"#6B7280"}};return(0,s.jsxs)("div",{style:h.card,children:[(0,s.jsx)("div",{style:h.sectionTitle,children:"Patient Attendance"}),(0,s.jsxs)("div",{style:h.donutWrap,ref:l,onMouseMove:d,onMouseLeave:u,children:[(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 ".concat(t," ").concat(t),children:[(0,s.jsx)("circle",{cx:100,cy:100,r:78,stroke:"#E5E7EB",strokeWidth:16,fill:"none"}),(0,s.jsx)("circle",{cx:100,cy:100,r:78,stroke:"#10ad32ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(r," ").concat(n),transform:"rotate(-90 ".concat(100," ").concat(100,")"),strokeLinecap:"round",onMouseEnter:t=>c(t,"Attended: ".concat(92," (").concat(e,"%)")),onMouseMove:d,onMouseLeave:u,style:{cursor:"pointer"}}),(0,s.jsx)("circle",{cx:100,cy:100,r:78,stroke:"#e93636ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(n-r," ").concat(n),strokeDashoffset:"-".concat(r),transform:"rotate(-90 ".concat(100," ").concat(100,")"),strokeLinecap:"round",onMouseEnter:t=>c(t,"Missed: ".concat(28," (").concat(100-e,"%)")),onMouseMove:d,onMouseLeave:u,style:{cursor:"pointer"}})]}),(0,s.jsxs)("div",{style:h.donutCenter,children:[(0,s.jsxs)("div",{style:h.percent,children:[e,"%"]}),(0,s.jsx)("div",{style:h.percentLabel,children:"Attendance"})]}),a.visible&&(0,s.jsx)("div",{style:{position:"absolute",left:a.x,top:a.y,background:"rgba(0,0,0,0.75)",color:"#fff",padding:"6px 8px",borderRadius:6,fontSize:12,pointerEvents:"none",transform:"translate(-50%,-120%)",whiteSpace:"nowrap"},children:a.text})]}),(0,s.jsxs)("div",{style:h.legendRow,children:[(0,s.jsxs)("div",{style:h.legendItem,children:[(0,s.jsx)("span",{style:je(je({},h.dot),{},{background:"#059669"})}),"Attended ",(0,s.jsx)("strong",{style:{marginLeft:6,color:"#059669"},children:92})]}),(0,s.jsxs)("div",{style:h.legendItem,children:[(0,s.jsx)("span",{style:je(je({},h.dot),{},{background:"#DC2626"})}),"Missed ",(0,s.jsx)("strong",{style:{marginLeft:6,color:"#DC2626"},children:28})]})]}),(0,s.jsxs)("div",{style:h.footer,children:["Total scheduled today: ",(0,s.jsx)("strong",{children:120})," patients"]})]})}function _J(){const e={card:{background:"#fff",borderRadius:18,padding:24,minHeight:360,boxShadow:"none",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",textAlign:"center"},header:{fontSize:18,fontWeight:600,color:"#111827"},countWrap:{display:"flex",flexDirection:"column",alignItems:"center",gap:6,marginTop:12},count:{fontSize:25,fontWeight:800,color:"#2563EB",lineHeight:1},countLabel:{fontSize:13,fontWeight:600,color:"#070808ff"},infoBox:{marginTop:18,background:"#F9FAFB",borderRadius:14,padding:"14px 16px",display:"flex",alignItems:"center",gap:10,width:"100%",color:"#374151",fontSize:13},micIcon:{width:36,height:36,borderRadius:"50%",background:"#EEF2FF",display:"flex",alignItems:"center",justifyContent:"center",fontSize:18},button:{marginTop:24,width:"100%",padding:"12px 16px",borderRadius:12,border:"1px solid #2563EB",background:"#F5F8FF",color:"#2563EB",fontWeight:600,fontSize:14,cursor:"pointer",transition:"all 0.2s ease"}};return(0,s.jsxs)("div",{style:e.card,children:[(0,s.jsx)("div",{style:e.header,children:"Schedule Appointments"}),(0,s.jsxs)("div",{style:e.countWrap,children:[(0,s.jsx)("div",{style:e.micIcon,children:"\ud83d\udcc5"}),(0,s.jsx)("div",{style:e.count,children:25}),(0,s.jsx)("div",{style:e.countLabel,children:"Total Appointments"})]}),(0,s.jsx)("button",{style:e.button,onMouseEnter:e=>{e.currentTarget.style.background="#2563EB",e.currentTarget.style.color="#fff"},onMouseLeave:e=>{e.currentTarget.style.background="#F5F8FF",e.currentTarget.style.color="#2563EB"},children:"Schedule  Appointment"})]})}function kJ(e){let{patients:t=[],onSelectPatient:n,onOpenPatients:r,onOpenFollowUps:a}=e;console.log("dashboard",t);const[o,l]=(0,i.useState)("referrals"),c={cases:{label:"Total Cases",data:[980,1020,1080,1150,1210,1250],color:"#2563EB"},referrals:{label:"Referral Requests",data:[20,24,18,30,28,35],color:"#F59E0B"},attendance:{label:"Patient Attendance",data:[85,88,82,90,92,95],color:"#059669"}}[o],d={labels:["Day -5","Day -4","Day -3","Day -2","Day -1","Today"],datasets:[{label:c.label,data:c.data,borderColor:c.color,backgroundColor:"".concat(c.color,"20"),fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:"#fff",pointBorderWidth:2}]},u=1250,h=.676*100,p=32.4,f=200,m=100,g=2*Math.PI*78,b=h/100*g,y=p/100*g,v={wrapper:{padding:"24px"},row:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"18px"},card:{minHeight:"120px",background:"#fff",borderRadius:"14px",display:"flex",boxShadow:"none",border:"1px solid #EEF2F7",overflow:"hidden",transition:"all 0.25s ease"},leftStrip:{width:"5px"},content:{padding:"18px",flex:1},topRow:{display:"flex",alignItems:"center",gap:"12px"},icon:{width:"40px",height:"40px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},title:{flex:1,fontSize:"15px",fontWeight:"600",color:"#1F2937",maxWidth:"160px",lineHeight:"1.3",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:"4px"},value:{fontSize:"14px",fontWeight:"700",color:"#111827"},subText:{marginTop:"6px",fontSize:"12px",color:"#6B7280"},row2:{paddingTop:"24px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",alignItems:"stretch"},donutCard:{width:"100%",maxWidth:"none",minHeight:"360px",background:"#fff",borderRadius:"18px",padding:"20px",boxShadow:"none",display:"flex",flexDirection:"column",alignItems:"center"},sectionTitle:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"14px"},donutWrap:{position:"relative",display:"flex",justifyContent:"center",padding:"8px 0"},donutCenter:{position:"absolute",top:"50%",transform:"translateY(-50%)",textAlign:"center"},totalValue:{fontSize:"32px",fontWeight:"800",color:"#111827"},totalLabel:{fontSize:"13px",color:"#6B7280"},legend:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"16px"},legendItem:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#374151"},dot:{width:"10px",height:"10px",borderRadius:"50%"},chartCard:{flex:1,minWidth:"420px",background:"#fff",borderRadius:"18px",padding:"18px",boxShadow:"none",display:"flex",flexDirection:"column"},chartHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},select:{padding:"6px 10px",borderRadius:"8px",border:"1px solid #E5E7EB",fontSize:"13px",outline:"none",cursor:"pointer"},chartWrap:{height:"260px"},row3:{paddingTop:"24px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",alignItems:"stretch"}},[x,w]=(0,i.useState)({visible:!1,x:0,y:0,text:""}),[j,S]=(ae(),(0,i.useState)(!1)),_=(0,i.useRef)(null),k=(e,t)=>{if(!_.current)return;const n=_.current.getBoundingClientRect(),i=e.clientX-n.left+8,r=e.clientY-n.top+8;w({visible:!0,x:i,y:r,text:t})},C=e=>{if(!x.visible||!_.current)return;const t=_.current.getBoundingClientRect();w(n=>je(je({},n),{},{x:e.clientX-t.left+8,y:e.clientY-t.top+8}))},A=()=>w({visible:!1,x:0,y:0,text:""});return console.log("--------",t),(0,s.jsx)(s.Fragment,{children:j?(0,s.jsx)(vJ,{Patients:t,onBack:()=>S(!1)}):(0,s.jsxs)("div",{style:v.wrapper,children:[(0,s.jsx)("div",{style:v.row,children:[{title:"My Appointments",value:12,icon:"\ud83d\udcc5",color:"#2563EB"},{title:"Billing",value:5,icon:"\ud83d\udcb3",color:"#EF4444"},{title:"ICD 10 Count",value:48,icon:"\ud83d\udcd8",color:"#10B981"},{title:"Psychological Assessment",value:8,icon:"\ud83e\udde0",color:"#8B5CF6"},{title:"Treatment Plans",value:14,icon:"\ud83d\udcc4",color:"#F59E0B"},{title:"Reports",value:22,icon:"\ud83d\udcca",color:"#3B82F6"}].map((e,t)=>(0,s.jsxs)("div",{style:je(je({},v.card),{},{cursor:"My Appointments"===e.title?"pointer":"default"}),onClick:()=>{"My Appointments"===e.title&&S(!0)},children:[(0,s.jsx)("div",{style:je(je({},v.leftStrip),{},{background:e.color})}),(0,s.jsx)("div",{style:v.content,children:(0,s.jsxs)("div",{style:v.topRow,children:[(0,s.jsx)("div",{style:je(je({},v.icon),{},{background:"".concat(e.color,"15")}),children:e.icon}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,s.jsx)("div",{style:v.title,children:e.title}),(0,s.jsx)("div",{style:v.value,children:e.value})]})]})})]},t))}),(0,s.jsxs)("div",{style:v.row2,children:[(0,s.jsxs)("div",{style:v.donutCard,children:[(0,s.jsx)("div",{style:v.sectionTitle,children:"Total Cases"}),(0,s.jsxs)("div",{style:v.donutWrap,ref:_,onMouseMove:C,onMouseLeave:A,children:[(0,s.jsxs)("svg",{width:f,height:f,viewBox:"0 0 ".concat(f," ").concat(f),children:[(0,s.jsx)("circle",{cx:m,cy:m,r:78,stroke:"#E5E7EB",strokeWidth:16,fill:"none"}),(0,s.jsx)("circle",{cx:m,cy:m,r:78,stroke:"#47dbf5ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(b," ").concat(g),transform:"rotate(-90 ".concat(m," ").concat(m,")"),strokeLinecap:"round",onMouseEnter:e=>k(e,"Recovered: ".concat(845," (").concat(h.toFixed(1),"%)")),onMouseMove:C,onMouseLeave:A,style:{cursor:"pointer"}}),(0,s.jsx)("circle",{cx:m,cy:m,r:78,stroke:"#f09226ff",strokeWidth:16,fill:"none",strokeDasharray:"".concat(y," ").concat(g),strokeDashoffset:"-".concat(b),transform:"rotate(-90 ".concat(m," ").concat(m,")"),strokeLinecap:"round",onMouseEnter:e=>k(e,"Active: ".concat(405," (").concat(p.toFixed(1),"%)")),onMouseMove:C,onMouseLeave:A,style:{cursor:"pointer"}})]}),(0,s.jsxs)("div",{style:v.donutCenter,children:[(0,s.jsx)("div",{style:v.totalValue,children:u}),(0,s.jsx)("div",{style:v.totalLabel,children:"Patients"})]}),x.visible&&(0,s.jsx)("div",{style:{position:"absolute",left:x.x,top:x.y,background:"rgba(0,0,0,0.75)",color:"#fff",padding:"6px 8px",borderRadius:6,fontSize:12,pointerEvents:"none",transform:"translate(-50%, -120%)",whiteSpace:"nowrap"},children:x.text})]}),(0,s.jsxs)("div",{style:v.legend,children:[(0,s.jsxs)("div",{style:v.legendItem,children:[(0,s.jsx)("span",{style:je(je({},v.dot),{},{background:"#2bbde2ff"})}),"Recovered ",(0,s.jsx)("strong",{children:845})]}),(0,s.jsxs)("div",{style:v.legendItem,children:[(0,s.jsx)("span",{style:je(je({},v.dot),{},{background:"#D97706"})}),"Active ",(0,s.jsx)("strong",{children:405})]})]})]}),(0,s.jsx)(SJ,{}),(0,s.jsx)(wJ,{})]}),(0,s.jsxs)("div",{style:v.row3,children:[(0,s.jsxs)("div",{style:je(je({},v.chartCard),{},{gridColumn:"1 / span 2"}),children:[(0,s.jsxs)("div",{style:v.chartHeader,children:[(0,s.jsxs)("div",{style:v.sectionTitle,children:[c.label," (Last 6 Days)"]}),(0,s.jsxs)("select",{style:v.select,value:o,onChange:e=>l(e.target.value),children:[(0,s.jsx)("option",{value:"referrals",children:"Referral Requests"}),(0,s.jsx)("option",{value:"attendance",children:"Patient Attendance"}),(0,s.jsx)("option",{value:"cases",children:"Total Cases"})]})]}),(0,s.jsx)("div",{style:v.chartWrap,children:(0,s.jsx)(WY,{data:d,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#6B7280"}},y:{grid:{color:"#E5E7EB"},ticks:{color:"#6B7280"}}}}})})]}),(0,s.jsx)(_J,{})]})]})})}AD.register(HD,GD,ZF,qF,zF,xF);const CJ=localStorage.getItem("username"),AJ=localStorage.getItem("userRole"),NJ={NODE_ENV:"production",PUBLIC_URL:"/React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API||"";"".concat(NJ,"/gas");function OJ(){const[e,t]=(0,i.useState)(""),{mode:n}=function(){var e=re(G).match;return e?e.params:{}}(),[r,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[p,f]=(0,i.useState)([]),[m,g]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[v,x]=(0,i.useState)(""),[w,j]=(0,i.useState)({}),[S,_]=(0,i.useState)({}),[k,C]=(0,i.useState)({}),[A,N]=(0,i.useState)(0),O=e=>{a(e),t("NEW_USER"===e?"PERSONAL":"DASHBOARD")};(0,i.useEffect)(()=>{"new"===n?O("NEW_USER"):"existing"===n&&O("EXISTING_USER")},[n]);const[P,I]=(0,i.useState)({patient_id:"",patient_name:"",reg_day:"",reg_month:"",reg_year:"",dob_day:"",dob_month:"",dob_year:"",gender:"",marital:"",nationality:"",occupation:""}),[E,T]=(0,i.useState)([]);const[L,M]=(0,i.useState)([]),[R,D]=(0,i.useState)({selected:[],modalities:[],note:""}),[F,B]=(0,i.useState)([]),[z,W]=(0,i.useState)({checks:{tps:!0,workplace:!1,family:!0,med:!1,vocational:!1,employer:!1},start_date:"",duration_weeks:4,placement:"Light assembly / QC",restrictions:"No lifting >10kg; avoid ladder work; adjustable workstation"});(0,i.useEffect)(()=>{const e=Object.values(z.checks||{}).filter(Boolean).length;N(Math.round(e/6*100))},[z]);const[U,q]=(0,i.useState)([]),H=e=>q(t=>[{date:(new Date).toISOString().slice(0,10),text:e},...t]),V=(0,i.useMemo)(()=>{const e=(Array.isArray(L)?L:Array.isArray(null===L||void 0===L?void 0:L.selected)?L.selected:[]).map(e=>e.child_icf||e.icf_child_code).filter(Boolean);return Array.from(new Set(e))},[L]);const[Z,Y]=(0,i.useState)(!1);const[K,J]=i.useState(!1);return i.useEffect(()=>{let e;return"existing"===n?e=setTimeout(()=>J(!0),3e3):J(!1),()=>clearTimeout(e)},[n]),(0,i.useEffect)(()=>(window.openVitals=e=>{h(e),d(!0)},()=>{delete window.openVitals}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Iz,{}),(0,s.jsxs)("div",{className:"page",children:[(0,s.jsx)(SI,{tab:e,setTab:t,userType:r,icdCode:o,icfCode:v,rapPercent:A,username:CJ,userRole:AJ}),(0,s.jsxs)("main",{className:"main",children:[(0,s.jsx)(VI,{showProfileMenu:Z,toggleProfileMenu:()=>{Y(e=>!e)},onBook:()=>t("BOOK_APPOINTMENT"),onOrder:()=>t("ORDER_INVESTIGATIONS"),onSaveAll:async function(){try{let t=P.patient_id;const n={patient_name:P.patient_name||"",gender:P.gender||"",marital_status:P.marital||"",nationality:P.nationality||"",occupation:P.occupation||"",date_of_birth:P.date_of_birth||null,date_register_otc:P.date_register_otc||null};if(t){const e=await fetch("".concat(NJ,"/patients/").concat(encodeURIComponent(t)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error("Personal update failed (".concat(e.status,")"))}else{const e=await fetch("".concat(NJ,"/patients"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error("Personal create failed (".concat(e.status,")"));const i=await e.json();t=i.patient_id,I(e=>je(je({},e),{},{patient_id:t}))}if(m){var e;const n=je({},m),i=parseFloat(String(null!==(e=n.amount_rm)&&void 0!==e?e:"").replace(/,/g,""));n.amount_rm=Number.isFinite(i)?i:null,"Yes"!==n.oku_holder&&(n.oku_id="");const r=await fetch("".concat(NJ,"/patients/").concat(encodeURIComponent(t),"/financial"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error("Financial save failed (".concat(r.status,")"))}if(b){const e=je(je({},b),{},{last_drawn_salary_rm:""===b.last_drawn_salary_rm?0:Number(b.last_drawn_salary_rm)}),n=await fetch("".concat(NJ,"/patients/").concat(encodeURIComponent(t),"/employment"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Employment save failed (".concat(n.status,")"))}const i={icd_path:p,icf_summary:L,ichi_summary:R,gas_summary:F},r=await fetch("".concat(NJ,"/patients/").concat(encodeURIComponent(t),"/save_summary"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!r.ok)throw new Error("Clinical save failed (".concat(r.status,")"));H("Saved: Personal + Financial + Employment + ICD/ICF/ICHI/GAS"),alert("All details saved")}catch(p1){alert(p1.message)}},onLogout:()=>{window.location.href="http://localhost:3000/"}}),(0,s.jsx)(EJ,{tab:e,addPatient:function(e){T(t=>[...t,e])},patients:E,updatePatientInMainList:function(e){T(t=>t.map(t=>t.id===e.id?e:t))}}),(0,s.jsx)("section",{style:{display:"DASHBOARD"===e?"block":"none"},children:(0,s.jsx)(Se,{patient:P,icdPath:p,icdCode:o,icfSummary:L,ichiSummary:R,rapPercent:A,rapData:z})}),(0,s.jsx)(eJ,{open:c,patient:u,onClose:()=>d(!1)}),(0,s.jsx)("section",{style:{display:"ICD_EXISTING"===e?"block":"none"},children:(0,s.jsx)(yw,{patientId:P.patient_id})}),(0,s.jsx)("section",{style:{display:"NurseBaseAssessment"===e?"block":"none"},children:(0,s.jsx)(_Y,{})}),(0,s.jsx)("section",{style:{display:"ClinicalSwallowEvaluation"===e?"block":"none"},children:(0,s.jsx)(Ne,{})}),(0,s.jsx)("section",{style:{display:"ICDNormal"===e?"block":"none"},children:(0,s.jsx)(II,{onDeepestICDChange:e=>{l(e),x("")},onPathChange:f})}),(0,s.jsx)("section",{style:{display:"ICFNormal"===e?"block":"none"},children:(0,s.jsx)(TI,{icdCode:o,onSummaryChange:M,onSelectICF:x})}),(0,s.jsx)("section",{style:{display:"PTD"===e?"block":"none"},children:(0,s.jsx)(vw,{patientId:P.patient_id,setTab:t})}),(0,s.jsx)("section",{style:{display:"BASEASSESSMENT"===e?"block":"none"},children:(0,s.jsx)(GP,{})}),(0,s.jsx)("section",{style:{display:"PatientsByDepartment"===e?"block":"none"},children:(0,s.jsx)(HS,{setTab:t,department:"Neurophysics"})}),(0,s.jsx)("section",{style:{display:"NEWPATIENTS"===e?"block":"none"},children:(0,s.jsx)("div",{style:{padding:16},children:(0,s.jsx)(AI,{onSelectPatient:(e,n)=>{I(t=>je(je({},t),{},{patient_id:e})),l(n),t("ICF")}})})}),(0,s.jsx)("section",{style:{display:"PERSONAL"===e?"block":"none"},children:(0,s.jsx)(Bz,{value:P,onChange:I,onFinancialChange:g,onEmploymentChange:y})}),(0,s.jsx)("section",{style:{display:"VITALS"===e?"block":"none"},children:(0,s.jsx)(e_,{patientId:null===P||void 0===P?void 0:P.id,onSaved:()=>{}})}),(0,s.jsx)("section",{style:{display:"ICD"===e?"block":"none"},children:(0,s.jsx)(ZI,{onDeepestICDChange:e=>{l(e),x("")},onPathChange:f})}),(0,s.jsx)("section",{style:{display:"ICDAD"===e?"block":"none"},children:(0,s.jsx)(aE,{onDeepestICDChange:e=>{l(e),x("")},onPathChange:f})}),(0,s.jsx)("section",{style:{display:"ICF"===e?"block":"none"},children:(0,s.jsx)(OI,{patientId:P.patient_id,icdCode:o,onSummaryChange:M,onSelectICF:x})}),(0,s.jsx)("section",{style:{display:"ICHI"===e?"block":"none"},children:(0,s.jsx)(MI,{icdCode:o,icfCode:v,onSummaryChange:D})}),(0,s.jsx)("section",{style:{display:"GAS"===e?"block":"none"},children:(0,s.jsx)(GY,{icfChildren:V,onSummaryChange:B})}),(0,s.jsx)("section",{style:{display:"BOOK_APPOINTMENT"===e?"block":"none"},children:(0,s.jsx)(IY,{patient:P})}),(0,s.jsx)("section",{style:{display:"ORDER_INVESTIGATIONS"===e?"block":"none"},children:(0,s.jsx)(PY,{variant:"inline",patient:{id:"PT-0001",name:"Jhon Doe"},onSave:e=>console.log("Saved rows:",e)})}),(0,s.jsx)("section",{style:{display:"GASNA"===e?"block":"none"},children:(0,s.jsx)(AY,{icfChildren:V,onSummaryChange:B})}),(0,s.jsx)("section",{style:{display:"NEWASSESSMENT"===e?"block":"none"},children:(0,s.jsx)(dI,{})}),(0,s.jsx)("section",{style:{display:"RAPFINAL"===e?"block":"none"},children:(0,s.jsx)(iE,{})}),(0,s.jsx)("section",{style:{display:"SUMMARY"===e?"block":"none"},children:(0,s.jsx)(SY,{patient:P,icdPath:p,icdCode:o,icfSummary:L,ichiSummary:R,gasSummary:F})}),(0,s.jsx)("section",{style:{display:"ASSESSMENT"===e?"block":"none"},children:(0,s.jsx)(cI,{patientId:P.patient_id,value:w,onChange:j,onSaved:()=>H("SOAP saved \u2014 Assessment/Encounter updated"),icfOptions:(L||[]).map(e=>({value:e.child_icf,label:"".concat(e.child_icf," \u2014 ").concat(e.child_name)+(Number.isFinite(e.score)?" (GAS ".concat(e.score,")"):"")})),ichiOptions:Array.isArray(null===R||void 0===R?void 0:R.selected)?R.selected.map(e=>({value:e.ichi_code,label:"".concat(e.ichi_code," \u2014 ").concat(e.ichi_name)})):[],icdContext:o||""})}),(0,s.jsx)("section",{style:{display:"TPS"===e?"block":"none"},children:(0,s.jsx)(KP,{patientId:P.patient_id,value:S,onChange:_,onSaved:()=>H("TPS saved \u2014 Task performance data updated")})}),(0,s.jsx)("section",{style:{display:"PHARMACY"===e?"block":"none"},children:(0,s.jsx)(LI,{})}),(0,s.jsx)("section",{style:{display:"RAP"===e?"block":"none"},children:(0,s.jsx)(ZP,{data:z,onChange:W,onSave:()=>H("RAP saved \u2014 RTW/Light-Duty proposal updated")})}),(0,s.jsx)("section",{style:{display:"DOCUMENTS"===e?"block":"none"},children:(0,s.jsx)(kI,{patientId:P.patient_id})}),(0,s.jsx)("section",{style:{display:"AUDIT"===e?"block":"none"},children:(0,s.jsx)(Pz,{items:U})})]})]})]})}function PJ(e){let{label:t,children:n}=e;return(0,s.jsxs)("label",{style:NY.field,children:[(0,s.jsx)("span",{style:NY.fieldLabel,children:t}),n]})}function IJ(e){const t=(null!==e&&void 0!==e?e:"").toString().replace(/"/g,'""');return'"'.concat(t,'"')}function EJ(e){let{tab:t,addPatient:n,patients:i,updatePatientInMainList:r}=e;switch(t){case"Customer Service":return(0,s.jsx)(kC,{addPatient:n});case"Physio Therapy":return(0,s.jsx)(ok,{patients:i,department:"Physio Therapy"});case"Psychology":return(0,s.jsx)(QK,{});case"Speech & Language Therapy":return console.log("dddddddd",i),(0,s.jsx)(kJ,{patients:i});case"Dietetics":return(0,s.jsx)(mw,{patients:i,department:"Dietetics"});case"Audiology":return(0,s.jsx)(Xk,{patients:i,department:"Audiology"});case"Doctor":return(0,s.jsx)(Oz,{patients:i,department:"Doctor",updatePatientInMainList:r});default:return(0,s.jsx)("div",{children:"Select a department"})}}function TJ(e){let{label:t,children:n,icon:i}=e;return(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"label",children:[(0,s.jsx)("div",{children:t}),i&&(0,s.jsx)("span",{className:"icon",title:"visibility",children:i})]}),(0,s.jsx)("div",{children:n})]})}function LJ(e){let{form:t,onChange:n,pfx:i,days:r,months:a,years:o}=e;return(0,s.jsxs)("div",{className:"triple",children:[(0,s.jsxs)("select",{className:"input",value:t["".concat(i,"_day")],onChange:e=>n("".concat(i,"_day"),e.target.value),children:[(0,s.jsx)("option",{value:"",children:"DD"}),r.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{className:"input",value:t["".concat(i,"_month")],onChange:e=>n("".concat(i,"_month"),e.target.value),children:[(0,s.jsx)("option",{value:"",children:"MM"}),a.map(e=>(0,s.jsx)("option",{value:e.v,children:e.n},e.v))]}),(0,s.jsxs)("select",{className:"input",value:t["".concat(i,"_year")],onChange:e=>n("".concat(i,"_year"),e.target.value),children:[(0,s.jsx)("option",{value:"",children:"YYYY"}),o.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("span",{className:"calendar",title:"calendar",children:"\ud83d\udcc5"})]})}function MJ(){const e=ae();return(0,s.jsx)("div",{className:"home-wrap",style:{minHeight:"100vh",background:"#f6f8fb"},children:(0,s.jsxs)("div",{style:{margin:"16px auto",padding:"0 16px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"2px 12px"},children:[(0,s.jsx)("button",{onClick:()=>e.push("/menu/new"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"New Patient"}),(0,s.jsx)("button",{onClick:()=>e.push("/menu/existing"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"Existing Patient"})]}),(0,s.jsx)("main",{children:(0,s.jsx)("div",{children:(0,s.jsxs)("section",{style:{background:"#fff",border:"1px solid #e6e9ef",borderRadius:12,padding:16},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:18,fontWeight:700},children:"Welcome, Therapist"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:13},children:"Overview \u2014 Integrated EMR \xb7 RAP \xb7 TPS (PERKESO)"})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"System status"}),(0,s.jsxs)("div",{style:{fontSize:13,fontWeight:600},children:["All services operational ",(0,s.jsx)("span",{style:{color:"#16a34a"},children:"\u2714"})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Last sync: 2025-09-08 08:12"})]})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12,marginTop:12},children:[{title:"Active Therapy Sessions (today)",value:"18",note:"Utilization: 82%"},{title:"Pending Appointments",value:"06",note:"No-shows: 2"},{title:"Investigation Orders (pending)",value:"19",note:"Awaiting scheduling / specimens"},{title:"Open RTW cases",value:"22",note:"30/60/90 tracking"}].map((e,t)=>(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12},children:[(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:e.title}),(0,s.jsx)("div",{style:{fontSize:28,fontWeight:800,margin:"6px 0"},children:e.value}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:e.note})]},t))}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginTop:12},children:[(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Today\u2019s Clinics \u2014 Overview"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Filter: Dept"})]}),(0,s.jsxs)("div",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.6},children:["\u2022 Physio AM \u2014 Slots 08:00\u201312:00 \u2014 Booked 18/20",(0,s.jsx)("br",{}),"\u2022 OT PM \u2014 Slots 13:00\u201317:00 \u2014 Booked 10/12",(0,s.jsx)("br",{}),"\u2022 Nursing \u2014 Procedures \u2014 Booked 6/8"]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:10},children:"Open Scheduler"})]}),(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Resource Utilization"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Rooms / Equip"}),(0,s.jsxs)("div",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.6},children:["\u2022 TPS Lab \u2014 75% booked",(0,s.jsx)("br",{}),"\u2022 Hydrotherapy pool \u2014 40% booked",(0,s.jsx)("br",{}),"\u2022 DME inventory \u2014 Low: 3 items"]}),(0,s.jsx)("button",{className:"btn",style:{marginTop:10},children:"Manage Resources"})]})]}),(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12,marginTop:12},children:[(0,s.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Quick actions"}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[(0,s.jsx)("button",{className:"btn",children:"Bulk schedule"}),(0,s.jsx)("button",{className:"btn",children:"Create RTW plan"}),(0,s.jsx)("button",{className:"btn",children:"Audit & Compliance"}),(0,s.jsx)("button",{className:"btn",children:"Generate report"})]})]}),(0,s.jsxs)("div",{style:{border:"1px solid #eef1f6",borderRadius:10,padding:12,marginTop:12},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:700},children:"Compliance \u2014 CARF / RTW checks"}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12},children:"Next review: 30 days"})]}),(0,s.jsxs)("ul",{className:"dim",style:{fontSize:13,marginTop:6,lineHeight:1.7},children:[(0,s.jsx)("li",{children:"30-day follow-ups scheduled: 18/20"}),(0,s.jsx)("li",{children:"60-day onsite checks pending: 5"}),(0,s.jsx)("li",{children:"90-day sustainability reviews: 7"})]})]}),(0,s.jsx)("div",{className:"dim",style:{fontSize:12,marginTop:12},children:"PERKESO Rehab \u2014 Integrated EMR \u2022 RAP \u2022 TPS \u2022 Demo"})]})})})]})})}function RJ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function FJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DJ(Object(n),!0).forEach(function(t){RJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const BJ=()=>{};let zJ={},WJ={},UJ=null,qJ={mark:BJ,measure:BJ};try{"undefined"!==typeof window&&(zJ=window),"undefined"!==typeof document&&(WJ=document),"undefined"!==typeof MutationObserver&&(UJ=MutationObserver),"undefined"!==typeof performance&&(qJ=performance)}catch(p1){}const{userAgent:HJ=""}=zJ.navigator||{},VJ=zJ,GJ=WJ,ZJ=UJ,YJ=qJ,KJ=(VJ.document,!!GJ.documentElement&&!!GJ.head&&"function"===typeof GJ.addEventListener&&"function"===typeof GJ.createElement),JJ=~HJ.indexOf("MSIE")||~HJ.indexOf("Trident/");var XJ={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},$J=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],QJ="classic",eX="duotone",tX=[QJ,eX,"sharp","sharp-duotone"],nX=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),iX=["fak","fa-kit","fakd","fa-kit-duotone"],rX={fak:"kit","fa-kit":"kit"},aX={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},oX=["fak","fakd"],sX={kit:"fak"},lX={"kit-duotone":"fakd"},cX={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dX=["fak","fa-kit","fakd","fa-kit-duotone"],uX={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},hX=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],pX=[1,2,3,4,5,6,7,8,9,10],fX=pX.concat([11,12,13,14,15,16,17,18,19,20]),mX=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",cX.GROUP,cX.SWAP_OPACITY,cX.PRIMARY,cX.SECONDARY].concat(pX.map(e=>"".concat(e,"x"))).concat(fX.map(e=>"w-".concat(e)));const gX="___FONT_AWESOME___",bX=16,yX="svg-inline--fa",vX="data-fa-i2svg",xX="data-fa-pseudo-element",wX="data-prefix",jX="data-icon",SX="fontawesome-i2svg",_X=["HTML","HEAD","STYLE","SCRIPT"],kX=(()=>{try{return!0}catch(e){return!1}})();function CX(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[QJ]})}const AX=FJ({},XJ);AX[QJ]=FJ(FJ(FJ(FJ({},{"fa-duotone":"duotone"}),XJ[QJ]),rX),aX);const NX=CX(AX),OX=FJ({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});OX[QJ]=FJ(FJ(FJ(FJ({},{duotone:"fad"}),OX[QJ]),sX),lX);const PX=CX(OX),IX=FJ({},uX);IX[QJ]=FJ(FJ({},IX[QJ]),{fak:"fa-kit"});const EX=CX(IX),TX=FJ({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});TX[QJ]=FJ(FJ({},TX[QJ]),{"fa-kit":"fak"});CX(TX);const LX=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,MX="fa-layers-text",RX=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,DX=(CX(FJ({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),FX={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},BX=["kit",...mX],zX=VJ.FontAwesomeConfig||{};if(GJ&&"function"===typeof GJ.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,n]=e;const i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=GJ.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==i&&null!==i&&(zX[n]=i)})}const WX={styleDefault:"solid",familyDefault:QJ,cssPrefix:"fa",replacementClass:yX,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zX.familyPrefix&&(zX.cssPrefix=zX.familyPrefix);const UX=FJ(FJ({},WX),zX);UX.autoReplaceSvg||(UX.observeMutations=!1);const qX={};Object.keys(WX).forEach(e=>{Object.defineProperty(qX,e,{enumerable:!0,set:function(t){UX[e]=t,HX.forEach(e=>e(qX))},get:function(){return UX[e]}})}),Object.defineProperty(qX,"familyPrefix",{enumerable:!0,set:function(e){UX.cssPrefix=e,HX.forEach(e=>e(qX))},get:function(){return UX.cssPrefix}}),VJ.FontAwesomeConfig=qX;const HX=[];const VX=bX,GX={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ZX(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function YX(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function KX(e){return e.classList?YX(e.classList):(e.getAttribute("class")||"").split(" ").filter(e=>e)}function JX(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function XX(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function $X(e){return e.size!==GX.size||e.x!==GX.x||e.y!==GX.y||e.rotate!==GX.rotate||e.flipX||e.flipY}function QX(){const e="fa",t=yX,n=qX.cssPrefix,i=qX.replacementClass;let r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||i!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(i))}return r}let e$=!1;function t$(){qX.autoAddCss&&!e$&&(!function(e){if(!e||!KJ)return;const t=GJ.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=GJ.head.childNodes;let i=null;for(let r=n.length-1;r>-1;r--){const e=n[r],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(i=e)}GJ.head.insertBefore(t,i)}(QX()),e$=!0)}var n$={mixout:()=>({dom:{css:QX,insertCss:t$}}),hooks:()=>({beforeDOMElementCreation(){t$()},beforeI2svg(){t$()}})};const i$=VJ||{};i$[gX]||(i$[gX]={}),i$[gX].styles||(i$[gX].styles={}),i$[gX].hooks||(i$[gX].hooks={}),i$[gX].shims||(i$[gX].shims=[]);var r$=i$[gX];const a$=[],o$=function(){GJ.removeEventListener("DOMContentLoaded",o$),s$=1,a$.map(e=>e())};let s$=!1;function l$(e){const{tag:t,attributes:n={},children:i=[]}=e;return"string"===typeof e?JX(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(JX(e[n]),'" '),"").trim()}(n),">").concat(i.map(l$).join(""),"</").concat(t,">")}function c$(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}KJ&&(s$=(GJ.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(GJ.readyState),s$||GJ.addEventListener("DOMContentLoaded",o$));var d$=function(e,t,n,i){var r,a,o,s=Object.keys(e),l=s.length,c=void 0!==i?function(e,t){return function(n,i,r,a){return e.call(t,n,i,r,a)}}(t,i):t;for(void 0===n?(r=1,o=e[s[0]]):(r=0,o=n);r<l;r++)o=c(o,e[a=s[r]],a,e);return o};function u$(e){const t=function(e){const t=[];let n=0;const i=e.length;for(;n<i;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function h$(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return!!i.icon?t[i.iconName]=i.icon:t[n]=i,t},{})}function p$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:i=!1}=n,r=h$(t);"function"!==typeof r$.hooks.addPack||i?r$.styles[e]=FJ(FJ({},r$.styles[e]||{}),r):r$.hooks.addPack(e,h$(t)),"fas"===e&&p$("fa",t)}const{styles:f$,shims:m$}=r$,g$=Object.keys(EX),b$=g$.reduce((e,t)=>(e[t]=Object.keys(EX[t]),e),{});let y$=null,v$={},x$={},w$={},j$={},S$={};function _$(e,t){const n=t.split("-"),i=n[0],r=n.slice(1).join("-");return i!==e||""===r||(a=r,~BX.indexOf(a))?null:r;var a}const k$=()=>{const e=e=>d$(f$,(t,n,i)=>(t[i]=d$(n,e,{}),t),{});v$=e((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter(e=>"number"===typeof e).forEach(t=>{e[t.toString(16)]=n})}return e}),x$=e((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter(e=>"string"===typeof e).forEach(t=>{e[t]=n})}return e}),S$=e((e,t,n)=>{const i=t[2];return e[n]=n,i.forEach(t=>{e[t]=n}),e});const t="far"in f$||qX.autoFetchSvg,n=d$(m$,(e,n)=>{const i=n[0];let r=n[1];const a=n[2];return"far"!==r||t||(r="fas"),"string"===typeof i&&(e.names[i]={prefix:r,iconName:a}),"number"===typeof i&&(e.unicodes[i.toString(16)]={prefix:r,iconName:a}),e},{names:{},unicodes:{}});w$=n.names,j$=n.unicodes,y$=I$(qX.styleDefault,{family:qX.familyDefault})};var C$;function A$(e,t){return(v$[e]||{})[t]}function N$(e,t){return(S$[e]||{})[t]}function O$(e){return w$[e]||{prefix:null,iconName:null}}function P$(){return y$}C$=e=>{y$=I$(e.styleDefault,{family:qX.familyDefault})},HX.push(C$),k$();function I$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=QJ}=t,i=NX[n][e];if(n===eX&&!e)return"fad";const r=PX[n][e]||PX[n][i],a=e in r$.styles?e:null;return r||a||null}function E$(e){return e.sort().filter((e,t,n)=>n.indexOf(e)===t)}function T$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let i=null;const r=hX.concat(dX),a=E$(e.filter(e=>r.includes(e))),o=E$(e.filter(e=>!hX.includes(e))),s=a.filter(e=>(i=e,!$J.includes(e))),[l=null]=s,c=function(e){let t=QJ;const n=g$.reduce((e,t)=>(e[t]="".concat(qX.cssPrefix,"-").concat(t),e),{});return tX.forEach(i=>{(e.includes(n[i])||e.some(e=>b$[i].includes(e)))&&(t=i)}),t}(a),d=FJ(FJ({},function(e){let t=[],n=null;return e.forEach(e=>{const i=_$(qX.cssPrefix,e);i?n=i:e&&t.push(e)}),{iconName:n,rest:t}}(o)),{},{prefix:I$(l,{family:c})});return FJ(FJ(FJ({},d),function(e){const{values:t,family:n,canonical:i,givenPrefix:r="",styles:a={},config:o={}}=e,s=n===eX,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===o.familyDefault,d="fad"===i.prefix||"fa-duotone"===i.prefix;!s&&(l||c||d)&&(i.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab");if(!i.prefix&&L$.includes(n)){const e=Object.keys(a).find(e=>M$.includes(e));if(e||o.autoFetchSvg){const e=nX.get(n).defaultShortPrefixId;i.prefix=e,i.iconName=N$(i.prefix,i.iconName)||i.iconName}}"fa"!==i.prefix&&"fa"!==r||(i.prefix=P$()||"fas");return i}({values:e,family:c,styles:f$,config:qX,canonical:d,givenPrefix:i})),function(e,t,n){let{prefix:i,iconName:r}=n;if(e||!i||!r)return{prefix:i,iconName:r};const a="fa"===t?O$(r):{},o=N$(i,r);r=a.iconName||o||r,i=a.prefix||i,"far"!==i||f$.far||!f$.fas||qX.autoFetchSvg||(i="fas");return{prefix:i,iconName:r}}(n,i,d))}const L$=tX.filter(e=>e!==QJ||e!==eX),M$=Object.keys(uX).filter(e=>e!==QJ).map(e=>Object.keys(uX[e])).flat();let R$=[],D$={};const F$={},B$=Object.keys(F$);function z$(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return(D$[e]||[]).forEach(e=>{t=e.apply(null,[t,...i])}),t}function W$(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(D$[e]||[]).forEach(e=>{e.apply(null,n)})}function U$(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return F$[e]?F$[e].apply(null,t):void 0}function q$(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||P$();if(t)return t=N$(n,t)||t,c$(H$.definitions,n,t)||c$(r$.styles,n,t)}const H$=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(this._pullDefinitions,{});Object.keys(i).forEach(e=>{this.definitions[e]=FJ(FJ({},this.definitions[e]||{}),i[e]),p$(e,i[e]);const t=EX[QJ][e];t&&p$(t,i[e]),k$()})}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(t=>{const{prefix:i,iconName:r,icon:a}=n[t],o=a[2];e[i]||(e[i]={}),o.length>0&&o.forEach(t=>{"string"===typeof t&&(e[i][t]=a)}),e[i][r]=a}),e}},V$={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return KJ?(W$("beforeI2svg",e),U$("pseudoElements2svg",e),U$("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===qX.autoReplaceSvg&&(qX.autoReplaceSvg=!0),qX.observeMutations=!0,n=()=>{Y$({autoReplaceSvgRoot:t}),W$("watch",e)},KJ&&(s$?setTimeout(n,0):a$.push(n))}},G$={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:N$(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=I$(e[0]);return{prefix:n,iconName:N$(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(qX.cssPrefix,"-"))>-1||e.match(LX))){const t=T$(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||P$(),iconName:N$(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=P$();return{prefix:t,iconName:N$(t,e)||e}}}},Z$={noAuto:()=>{qX.autoReplaceSvg=!1,qX.observeMutations=!1,W$("noAuto")},config:qX,dom:V$,parse:G$,library:H$,findIconDefinition:q$,toHtml:l$},Y$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=GJ}=e;(Object.keys(r$.styles).length>0||qX.autoFetchSvg)&&KJ&&qX.autoReplaceSvg&&Z$.dom.i2svg({node:t})};function K$(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(e=>l$(e))}}),Object.defineProperty(e,"node",{get:function(){if(!KJ)return;const t=GJ.createElement("div");return t.innerHTML=e.html,t.children}}),e}function J$(e){const{icons:{main:t,mask:n},prefix:i,iconName:r,transform:a,symbol:o,title:s,maskId:l,titleId:c,extra:d,watchable:u=!1}=e,{width:h,height:p}=n.found?n:t,f=oX.includes(i),m=[qX.replacementClass,r?"".concat(qX.cssPrefix,"-").concat(r):""].filter(e=>-1===d.classes.indexOf(e)).filter(e=>""!==e||!!e).concat(d.classes).join(" ");let g={children:[],attributes:FJ(FJ({},d.attributes),{},{"data-prefix":i,"data-icon":r,class:m,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(p)})};const b=f&&!~d.classes.indexOf("fa-fw")?{width:"".concat(h/p*16*.0625,"em")}:{};u&&(g.attributes[vX]=""),s&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||ZX())},children:[s]}),delete g.attributes.title);const y=FJ(FJ({},g),{},{prefix:i,iconName:r,main:t,mask:n,maskId:l,transform:a,symbol:o,styles:FJ(FJ({},b),d.styles)}),{children:v,attributes:x}=n.found&&t.found?U$("generateAbstractMask",y)||{children:[],attributes:{}}:U$("generateAbstractIcon",y)||{children:[],attributes:{}};return y.children=v,y.attributes=x,o?function(e){let{prefix:t,iconName:n,children:i,attributes:r,symbol:a}=e;const o=!0===a?"".concat(t,"-").concat(qX.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:FJ(FJ({},r),{},{id:o}),children:i}]}]}(y):function(e){let{children:t,main:n,mask:i,attributes:r,styles:a,transform:o}=e;if($X(o)&&n.found&&!i.found){const{width:e,height:t}=n,i={x:e/t/2,y:.5};r.style=XX(FJ(FJ({},a),{},{"transform-origin":"".concat(i.x+o.x/16,"em ").concat(i.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(y)}function X$(e){const{content:t,width:n,height:i,transform:r,title:a,extra:o,watchable:s=!1}=e,l=FJ(FJ(FJ({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(l[vX]="");const c=FJ({},o.styles);$X(r)&&(c.transform=function(e){let{transform:t,width:n=bX,height:i=bX,startCentered:r=!1}=e,a="";return a+=r&&JJ?"translate(".concat(t.x/VX-n/2,"em, ").concat(t.y/VX-i/2,"em) "):r?"translate(calc(-50% + ".concat(t.x/VX,"em), calc(-50% + ").concat(t.y/VX,"em)) "):"translate(".concat(t.x/VX,"em, ").concat(t.y/VX,"em) "),a+="scale(".concat(t.size/VX*(t.flipX?-1:1),", ").concat(t.size/VX*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}({transform:r,startCentered:!0,width:n,height:i}),c["-webkit-transform"]=c.transform);const d=XX(c);d.length>0&&(l.style=d);const u=[];return u.push({tag:"span",attributes:l,children:[t]}),a&&u.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),u}const{styles:$$}=r$;function Q$(e){const t=e[0],n=e[1],[i]=e.slice(4);let r=null;return r=Array.isArray(i)?{tag:"g",attributes:{class:"".concat(qX.cssPrefix,"-").concat(FX.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qX.cssPrefix,"-").concat(FX.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(qX.cssPrefix,"-").concat(FX.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:n,icon:r}}const eQ={found:!1,width:512,height:512};function tQ(e,t){let n=t;return"fa"===t&&null!==qX.styleDefault&&(t=P$()),new Promise((i,r)=>{if("fa"===n){const n=O$(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&$$[t]&&$$[t][e]){return i(Q$($$[t][e]))}!function(e,t){kX||qX.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),i(FJ(FJ({},eQ),{},{icon:qX.showMissingIcons&&e&&U$("missingIconAbstract")||{}}))})}const nQ=()=>{},iQ=qX.measurePerformance&&YJ&&YJ.mark&&YJ.measure?YJ:{mark:nQ,measure:nQ},rQ='FA "6.7.2"',aQ=e=>{iQ.mark("".concat(rQ," ").concat(e," ends")),iQ.measure("".concat(rQ," ").concat(e),"".concat(rQ," ").concat(e," begins"),"".concat(rQ," ").concat(e," ends"))};var oQ=e=>(iQ.mark("".concat(rQ," ").concat(e," begins")),()=>aQ(e));const sQ=()=>{};function lQ(e){return"string"===typeof(e.getAttribute?e.getAttribute(vX):null)}function cQ(e){return GJ.createElementNS("http://www.w3.org/2000/svg",e)}function dQ(e){return GJ.createElement(e)}function uQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?cQ:dQ)}=t;if("string"===typeof e)return GJ.createTextNode(e);const i=n(e.tag);Object.keys(e.attributes||[]).forEach(function(t){i.setAttribute(t,e.attributes[t])});return(e.children||[]).forEach(function(e){i.appendChild(uQ(e,{ceFn:n}))}),i}const hQ={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(e=>{t.parentNode.insertBefore(uQ(e),t)}),null===t.getAttribute(vX)&&qX.keepOriginalSource){let e=GJ.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~KX(t).indexOf(qX.replacementClass))return hQ.replace(e);const i=new RegExp("".concat(qX.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce((e,t)=>(t===qX.replacementClass||t.match(i)?e.toSvg.push(t):e.toNode.push(t),e),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const r=n.map(e=>l$(e)).join("\n");t.setAttribute(vX,""),t.innerHTML=r}};function pQ(e){e()}function fQ(e,t){const n="function"===typeof t?t:sQ;if(0===e.length)n();else{let t=pQ;"async"===qX.mutateApproach&&(t=VJ.requestAnimationFrame||pQ),t(()=>{const t=!0===qX.autoReplaceSvg?hQ.replace:hQ[qX.autoReplaceSvg]||hQ.replace,i=oQ("mutate");e.map(t),i(),n()})}}let mQ=!1;function gQ(){mQ=!0}function bQ(){mQ=!1}let yQ=null;function vQ(e){if(!ZJ)return;if(!qX.observeMutations)return;const{treeCallback:t=sQ,nodeCallback:n=sQ,pseudoElementsCallback:i=sQ,observeMutationsRoot:r=GJ}=e;yQ=new ZJ(e=>{if(mQ)return;const r=P$();YX(e).forEach(e=>{if("childList"===e.type&&e.addedNodes.length>0&&!lQ(e.addedNodes[0])&&(qX.searchPseudoElements&&i(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&qX.searchPseudoElements&&i(e.target.parentNode),"attributes"===e.type&&lQ(e.target)&&~DX.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(wX):null,n=e.getAttribute?e.getAttribute(jX):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=T$(KX(e.target));e.target.setAttribute(wX,t||r),n&&e.target.setAttribute(jX,n)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(qX.replacementClass)})(e.target)&&n(e.target)})}),KJ&&yQ.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function xQ(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=void 0!==e.innerText?e.innerText.trim():"";let r=T$(KX(e));return r.prefix||(r.prefix=P$()),t&&n&&(r.prefix=t,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function(e,t){return(x$[e]||{})[t]}(r.prefix,e.innerText)||A$(r.prefix,u$(e.innerText))),!r.iconName&&qX.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function wQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:i,rest:r}=xQ(e),a=function(e){const t=YX(e.attributes).reduce((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e),{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return qX.autoA11y&&(n?t["aria-labelledby"]="".concat(qX.replacementClass,"-title-").concat(i||ZX()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=z$("parseNodeAttributes",{},e);let s=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((e,t)=>{const n=t.split(":"),i=n[0],r=n.slice(1);return i&&r.length>0&&(e[i]=r.join(":").trim()),e},{})),n}(e):[];return FJ({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:GX,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:s,attributes:a}},o)}const{styles:jQ}=r$;function SQ(e){const t="nest"===qX.autoReplaceSvg?wQ(e,{styleParser:!1}):wQ(e);return~t.extra.classes.indexOf(MX)?U$("generateLayersText",e,t):U$("generateSvgReplacementMutation",e,t)}function _Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!KJ)return Promise.resolve();const n=GJ.documentElement.classList,i=e=>n.add("".concat(SX,"-").concat(e)),r=e=>n.remove("".concat(SX,"-").concat(e)),a=qX.autoFetchSvg?[...iX,...hX]:$J.concat(Object.keys(jQ));a.includes("fa")||a.push("fa");const o=[".".concat(MX,":not([").concat(vX,"])")].concat(a.map(e=>".".concat(e,":not([").concat(vX,"])"))).join(", ");if(0===o.length)return Promise.resolve();let s=[];try{s=YX(e.querySelectorAll(o))}catch(d){}if(!(s.length>0))return Promise.resolve();i("pending"),r("complete");const l=oQ("onTree"),c=s.reduce((e,t)=>{try{const n=SQ(t);n&&e.push(n)}catch(d){kX||"MissingIcon"===d.name&&console.error(d)}return e},[]);return new Promise((e,n)=>{Promise.all(c).then(n=>{fQ(n,()=>{i("active"),i("complete"),r("pending"),"function"===typeof t&&t(),l(),e()})}).catch(e=>{l(),n(e)})})}function kQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;SQ(e).then(e=>{e&&fQ([e],t)})}function CQ(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(t||{}).icon?t:q$(t||{});let{mask:r}=n;return r&&(r=(r||{}).icon?r:q$(r||{})),e(i,FJ(FJ({},n),{},{mask:r}))}}const AQ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=GX,symbol:i=!1,mask:r=null,maskId:a=null,title:o=null,titleId:s=null,classes:l=[],attributes:c={},styles:d={}}=t;if(!e)return;const{prefix:u,iconName:h,icon:p}=e;return K$(FJ({type:"icon"},e),()=>(W$("beforeDOMElementCreation",{iconDefinition:e,params:t}),qX.autoA11y&&(o?c["aria-labelledby"]="".concat(qX.replacementClass,"-title-").concat(s||ZX()):(c["aria-hidden"]="true",c.focusable="false")),J$({icons:{main:Q$(p),mask:r?Q$(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:h,transform:FJ(FJ({},GX),n),symbol:i,title:o,maskId:a,titleId:s,extra:{attributes:c,styles:d,classes:l}})))};var NQ={mixout:()=>({icon:CQ(AQ)}),hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=_Q,e.nodeCallback=kQ,e)}),provides(e){e.i2svg=function(e){const{node:t=GJ,callback:n=()=>{}}=e;return _Q(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:i,titleId:r,prefix:a,transform:o,symbol:s,mask:l,maskId:c,extra:d}=t;return new Promise((t,u)=>{Promise.all([tQ(n,a),l.iconName?tQ(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(l=>{let[u,h]=l;t([e,J$({icons:{main:u,mask:h},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:i,titleId:r,extra:d,watchable:!0})])}).catch(u)})},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:i,transform:r,styles:a}=e;const o=XX(a);let s;return o.length>0&&(n.style=o),$X(r)&&(s=U$("generateAbstractTransformGrouping",{main:i,transform:r,containerWidth:i.width,iconWidth:i.width})),t.push(s||i.icon),{children:t,attributes:n}}}},OQ={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return K$({type:"layer"},()=>{W$("beforeDOMElementCreation",{assembler:e,params:t});let i=[];return e(e=>{Array.isArray(e)?e.map(e=>{i=i.concat(e.abstract)}):i=i.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(qX.cssPrefix,"-layers"),...n].join(" ")},children:i}]})}})},PQ={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:i=[],attributes:r={},styles:a={}}=t;return K$({type:"counter",content:e},()=>(W$("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:i}=e,r=FJ(FJ(FJ({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),a=XX(i.styles);a.length>0&&(r.style=a);const o=[];return o.push({tag:"span",attributes:r,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:n,extra:{attributes:r,styles:a,classes:["".concat(qX.cssPrefix,"-layers-counter"),...i]}})))}})},IQ={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=GX,title:i=null,classes:r=[],attributes:a={},styles:o={}}=t;return K$({type:"text",content:e},()=>(W$("beforeDOMElementCreation",{content:e,params:t}),X$({content:e,transform:FJ(FJ({},GX),n),title:i,extra:{attributes:a,styles:o,classes:["".concat(qX.cssPrefix,"-layers-text"),...r]}})))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:i,extra:r}=t;let a=null,o=null;if(JJ){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();a=n.width/t,o=n.height/t}return qX.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,X$({content:e.innerHTML,width:a,height:o,transform:i,title:n,extra:r,watchable:!0})])}}};const EQ=new RegExp('"',"ug"),TQ=[1105920,1112319],LQ=FJ(FJ(FJ(FJ({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),MQ=Object.keys(LQ).reduce((e,t)=>(e[t.toLowerCase()]=LQ[t],e),{}),RQ=Object.keys(MQ).reduce((e,t)=>{const n=MQ[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function DQ(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((i,r)=>{if(null!==e.getAttribute(n))return i();const a=YX(e.children).filter(e=>e.getAttribute(xX)===t)[0],o=VJ.getComputedStyle(e,t),s=o.getPropertyValue("font-family"),l=s.match(RX),c=o.getPropertyValue("font-weight"),d=o.getPropertyValue("content");if(a&&!l)return e.removeChild(a),i();if(l&&"none"!==d&&""!==d){const d=o.getPropertyValue("content");let u=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(MQ[n]||{})[r]||RQ[n]}(s,c);const{value:h,isSecondary:p}=function(e){const t=e.replace(EQ,""),n=function(e,t){const n=e.length;let i,r=e.charCodeAt(t);return r>=55296&&r<=56319&&n>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?1024*(r-55296)+i-56320+65536:r}(t,0),i=n>=TQ[0]&&n<=TQ[1],r=2===t.length&&t[0]===t[1];return{value:u$(r?t[0]:t),isSecondary:i||r}}(d),f=l[0].startsWith("FontAwesome");let m=A$(u,h),g=m;if(f){const e=function(e){const t=j$[e],n=A$("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(m=e.iconName,u=e.prefix)}if(!m||p||a&&a.getAttribute(wX)===u&&a.getAttribute(jX)===g)i();else{e.setAttribute(n,g),a&&e.removeChild(a);const o={iconName:null,title:null,titleId:null,prefix:null,transform:GX,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:s}=o;s.attributes[xX]=t,tQ(m,u).then(r=>{const a=J$(FJ(FJ({},o),{},{icons:{main:r,mask:{prefix:null,iconName:null,rest:[]}},prefix:u,iconName:g,extra:s,watchable:!0})),l=GJ.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=a.map(e=>l$(e)).join("\n"),e.removeAttribute(n),i()}).catch(r)}}else i()})}function FQ(e){return Promise.all([DQ(e,"::before"),DQ(e,"::after")])}function BQ(e){return e.parentNode!==document.head&&!~_X.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(xX)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function zQ(e){if(KJ)return new Promise((t,n)=>{const i=YX(e.querySelectorAll("*")).filter(BQ).map(FQ),r=oQ("searchPseudoElements");gQ(),Promise.all(i).then(()=>{r(),bQ(),t()}).catch(()=>{r(),bQ(),n()})})}var WQ={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=zQ,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=GJ}=e;qX.searchPseudoElements&&zQ(t)}}};let UQ=!1;var qQ={mixout:()=>({dom:{unwatch(){gQ(),UQ=!0}}}),hooks:()=>({bootstrap(){vQ(z$("mutationObserverCallbacks",{}))},noAuto(){yQ&&yQ.disconnect()},watch(e){const{observeMutationsRoot:t}=e;UQ?bQ():vQ(z$("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const HQ=e=>e.toLowerCase().split(" ").reduce((e,t)=>{const n=t.toLowerCase().split("-"),i=n[0];let r=n.slice(1).join("-");if(i&&"h"===r)return e.flipX=!0,e;if(i&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(i){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var VQ={mixout:()=>({parse:{transform:e=>HQ(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=HQ(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:i,iconWidth:r}=e;const a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:FJ({},c.outer),children:[{tag:"g",attributes:FJ({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:FJ(FJ({},t.icon.attributes),c.path)}]}]}}}};const GQ={x:0,y:0,width:"100%",height:"100%"};function ZQ(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var YQ={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),i=n?T$(n.split(" ").map(e=>e.trim())):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=P$()),e.mask=i,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:i,mask:r,maskId:a,transform:o}=e;const{width:s,icon:l}=i,{width:c,icon:d}=r,u=function(e){let{transform:t,containerWidth:n,iconWidth:i}=e;const r={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:s}),h={tag:"rect",attributes:FJ(FJ({},GQ),{},{fill:"white"})},p=l.children?{children:l.children.map(ZQ)}:{},f={tag:"g",attributes:FJ({},u.inner),children:[ZQ(FJ({tag:l.tag,attributes:FJ(FJ({},l.attributes),u.path)},p))]},m={tag:"g",attributes:FJ({},u.outer),children:[f]},g="mask-".concat(a||ZX()),b="clip-".concat(a||ZX()),y={tag:"mask",attributes:FJ(FJ({},GQ),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(x=d,"g"===x.tag?x.children:[x])},y]};var x;return t.push(v,{tag:"rect",attributes:FJ({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")")},GQ)}),{children:t,attributes:n}}}},KQ={provides(e){let t=!1;VJ.matchMedia&&(t=VJ.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:FJ(FJ({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const r=FJ(FJ({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:FJ(FJ({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:FJ(FJ({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:FJ(FJ({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:FJ(FJ({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:FJ(FJ({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:FJ(FJ({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:FJ(FJ({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},JQ={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),i=null!==n&&(""===n||n);return e.symbol=i,e}})};!function(e,t){let{mixoutsTo:n}=t;R$=e,D$={},Object.keys(F$).forEach(e=>{-1===B$.indexOf(e)&&delete F$[e]}),R$.forEach(e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach(i=>{n[e]||(n[e]={}),n[e][i]=t[e][i]})}),e.hooks){const t=e.hooks();Object.keys(t).forEach(e=>{D$[e]||(D$[e]=[]),D$[e].push(t[e])})}e.provides&&e.provides(F$)})}([n$,NQ,OQ,PQ,IQ,WQ,qQ,VQ,YQ,KQ,JQ],{mixoutsTo:Z$});const XQ=Z$.parse,$Q=Z$.icon;function QQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function e0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function n0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(t){e0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(e,t)||o0(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r0(e){return function(e){if(Array.isArray(e))return QQ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o0(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a0(e){return a0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(e)}function o0(e,t){if(e){if("string"==typeof e)return QQ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QQ(e,t):void 0}}var s0;try{var l0=n(5900);s0=l0.version}catch(p1){s0="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/React",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FA_VERSION||"7.0.0"}function c0(e){var t=e.beat,n=e.fade,i=e.beatFade,r=e.bounce,a=e.shake,o=e.flash,s=e.spin,l=e.spinPulse,c=e.spinReverse,d=e.pulse,u=e.fixedWidth,h=e.inverse,p=e.border,f=e.listItem,m=e.flip,g=e.size,b=e.rotation,y=e.pull,v=e.swapOpacity,x=e.rotateBy,w=e.widthAuto,j=function(e,t){for(var n=i0(e.split("-"),2),i=n[0],r=n[1],a=i0(t.split("-"),2),o=a[0],s=a[1],l=i.split("."),c=o.split("."),d=0;d<Math.max(l.length,c.length);d++){var u=l[d]||"0",h=c[d]||"0",p=parseInt(u,10),f=parseInt(h,10);if(p!==f)return p>f}for(var m=0;m<Math.max(l.length,c.length);m++){var g=l[m]||"0",b=c[m]||"0";if(g!==b&&g.length!==b.length)return g.length<b.length}return!(r&&!s)}(s0,"7.0.0"),S=e0(e0(e0(e0(e0(e0({"fa-beat":t,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":r,"fa-shake":a,"fa-flash":o,"fa-spin":s,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":u,"fa-inverse":h,"fa-border":p,"fa-li":f,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),"fa-rotate-".concat(b),"undefined"!==typeof b&&null!==b&&0!==b),"fa-pull-".concat(y),"undefined"!==typeof y&&null!==y),"fa-swap-opacity",v),"fa-rotate-by",j&&x),"fa-width-auto",j&&w);return Object.keys(S).map(function(e){return S[e]?e:null}).filter(function(e){return e})}function d0(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var t}var u0=["style"];var h0=!1;try{h0=!0}catch(p1){}function p0(e){return e&&"object"===a0(e)&&e.prefix&&e.iconName&&e.icon?e:XQ.icon?XQ.icon(e):null===e?null:e&&"object"===a0(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function f0(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?e0({},e,t):{}}var m0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,rotateBy:!1,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1,widthAuto:!1},g0=i.forwardRef(function(e,t){var n=n0(n0({},m0),e),i=n.icon,r=n.mask,a=n.symbol,o=n.className,s=n.title,l=n.titleId,c=n.maskId,d=p0(i),u=f0("classes",[].concat(r0(c0(n)),r0((o||"").split(" ")))),h=f0("transform","string"===typeof n.transform?XQ.transform(n.transform):n.transform),p=f0("mask",p0(r)),f=$Q(d,n0(n0(n0(n0({},u),h),p),{},{symbol:a,title:s,titleId:l,maskId:c}));if(!f)return function(){var e;!h0&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",d),null;var m=f.abstract,g={ref:t};return Object.keys(n).forEach(function(e){m0.hasOwnProperty(e)||(g[e]=n[e])}),b0(m[0],g)});g0.displayName="FontAwesomeIcon",g0.propTypes={beat:u().bool,border:u().bool,beatFade:u().bool,bounce:u().bool,className:u().string,fade:u().bool,flash:u().bool,mask:u().oneOfType([u().object,u().array,u().string]),maskId:u().string,fixedWidth:u().bool,inverse:u().bool,flip:u().oneOf([!0,!1,"horizontal","vertical","both"]),icon:u().oneOfType([u().object,u().array,u().string]),listItem:u().bool,pull:u().oneOf(["right","left"]),pulse:u().bool,rotation:u().oneOf([0,90,180,270]),rotateBy:u().bool,shake:u().bool,size:u().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:u().bool,spinPulse:u().bool,spinReverse:u().bool,symbol:u().oneOfType([u().bool,u().string]),title:u().string,titleId:u().string,transform:u().oneOfType([u().string,u().object]),swapOpacity:u().bool,widthAuto:u().bool};var b0=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var r=(n.children||[]).map(function(n){return e(t,n)}),a=Object.keys(n.attributes||{}).reduce(function(e,t){var i=n.attributes[t];switch(t){case"class":e.attrs.className=i,delete n.attributes.class;break;case"style":e.attrs.style=i.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n,i=t.indexOf(":"),r=d0(t.slice(0,i)),a=t.slice(i+1).trim();return r.startsWith("webkit")?e[(n=r,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[r]=a,e},{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=i:e.attrs[d0(t)]=i}return e},{attrs:{}}),o=i.style,s=void 0===o?{}:o,l=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(i,u0);return a.attrs.style=n0(n0({},a.attrs.style),s),t.apply(void 0,[n.tag,n0(n0({},a.attrs),l)].concat(r0(r)))}.bind(null,i.createElement);const y0={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},v0={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},x0={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]};const w0=n.p+"static/media/contactus.4ae7be48e8ec0605d58f.png";const j0=function(){return(0,s.jsxs)("div",{className:"contact",children:[(0,s.jsx)("div",{className:"leftSide",style:{backgroundImage:"url(".concat(w0,")")}}),(0,s.jsxs)("div",{className:"rightSide",children:[(0,s.jsx)("h1",{children:"Contact Us"}),(0,s.jsxs)("form",{id:"contact-form",method:"POST",children:[(0,s.jsxs)("label",{htmlFor:"name",children:[(0,s.jsx)(g0,{icon:y0,style:{color:"rgb(149, 40, 175)",paddingRight:"10px"}})," Full Name"]}),(0,s.jsx)("input",{name:"name",placeholder:"Enter full name...",type:"text"}),(0,s.jsxs)("label",{htmlFor:"email",children:[(0,s.jsx)(g0,{icon:x0,style:{color:"rgb(168, 199, 70)",paddingRight:"10px"}})," Email"]}),(0,s.jsx)("input",{name:"email",placeholder:"Enter email...",type:"email"}),(0,s.jsxs)("label",{htmlFor:"message",children:[(0,s.jsx)(g0,{icon:v0,style:{color:"rgb(231 76 60 / 64%)",paddingRight:"10px"}})," Message"]}),(0,s.jsx)("textarea",{rows:"6",placeholder:"Enter message...",name:"message",required:!0}),(0,s.jsx)("button",{type:"submit",children:"Send Message"})]})]})]})},S0={backgroundColor:"#F1F1F1",border:"1px solid #000",color:"#3A3FAD",padding:"12px",fontWeight:"bold"},_0={padding:"12px",border:"1px solid #353333ff"},k0=()=>{const[e,t]=(0,i.useState)([{id:1,task:"5 mins walk",goal:"10 mins walk without help",date:"2025-10-22",progress:0},{id:2,task:"Stretching exercises",goal:"Hold for 10 seconds",date:"2025-10-24",progress:0},{id:3,task:"Breathing exercises",goal:"5 mins of breathing",date:"2025-10-25",progress:0},{id:4,task:"Walk 200m",goal:"Without stopping",date:"2025-10-26",progress:0}]),n=(new Date).toISOString().split("T")[0];return(0,s.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,s.jsx)("h2",{style:{marginBottom:"15px",fontSize:"2rem",color:"rgb(42, 101, 146)"},children:"Task List"}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:S0,children:"Date"}),(0,s.jsx)("th",{style:S0,children:"Task"}),(0,s.jsx)("th",{style:S0,children:"Goal"}),(0,s.jsx)("th",{style:S0,children:"Progress"})]})}),(0,s.jsx)("tbody",{children:e.map(i=>(0,s.jsxs)("tr",{style:{textAlign:"center"},children:[(0,s.jsx)("td",{style:_0,children:i.date}),(0,s.jsx)("td",{style:_0,children:i.task}),(0,s.jsx)("td",{style:_0,children:i.goal}),(0,s.jsx)("td",{style:_0,children:i.date===n?(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",justifyContent:"center"},children:[(0,s.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:i.progress,onChange:n=>((n,i)=>{t(e.map(e=>e.id===n?je(je({},e),{},{progress:parseInt(i)}):e))})(i.id,n.target.value),style:{width:"200px",accentColor:"#3A3FAD",cursor:"pointer"}}),(0,s.jsxs)("span",{style:{fontWeight:"bold",color:"#3A3FAD",minWidth:"45px"},children:[i.progress,"%"]})]}):(0,s.jsx)("span",{style:{color:"#999"},children:"\u2014"})})]},i.id))})]})]})},C0={backgroundColor:"#F1F1F1",border:"1px solid #000",color:"#3A3FAD",padding:"12px",fontWeight:"bold"},A0={padding:"12px",border:"1px solid #353333ff"},N0=()=>{const[e,t]=(0,i.useState)([{id:1,drug:"Aspirin",time:"Post lunch",date:"2025-10-22",progress:0},{id:2,drug:"Paracetamol",time:"Pre lunch",date:"2025-10-21",progress:0},{id:3,drug:"Ibuprofen",time:"Post dinner",date:"2025-10-23",progress:0}]),[n,r]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=(new Date).toISOString().split("T")[0];r(e)},[]);return(0,s.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,s.jsx)("h2",{style:{marginBottom:"15px",fontSize:"2rem",color:"rgb(42, 101, 146)"},children:"Pharmacy Schedule"}),(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:C0,children:"Date"}),(0,s.jsx)("th",{style:C0,children:"Drug Name"}),(0,s.jsx)("th",{style:C0,children:"Time"}),(0,s.jsx)("th",{style:C0,children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.map(i=>(0,s.jsxs)("tr",{style:{textAlign:"center"},children:[(0,s.jsx)("td",{style:A0,children:i.date}),(0,s.jsx)("td",{style:A0,children:i.drug}),(0,s.jsx)("td",{style:A0,children:i.time}),(0,s.jsxs)("td",{style:A0,children:[i.date===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:i.progress,onChange:n=>((n,i)=>{t(e.map(e=>e.id===n?je(je({},e),{},{progress:i}):e))})(i.id,n.target.value),style:{width:"100px"}}),(0,s.jsxs)("span",{style:{marginLeft:"10px"},children:[i.progress,"%"]})]}),i.date!==n&&(0,s.jsx)("span",{children:" \u2014 "})]})]},i.id))})]})]})};function O0(){const[e,t]=(0,i.useState)("tasks"),[n,r]=(0,i.useState)({advice:"",pastHistory:"",nextVisit:""});return(0,s.jsxs)("div",{style:P0,children:[(0,s.jsxs)("div",{style:I0,children:[(0,s.jsx)("h2",{style:{color:"#2a6592",marginBottom:"10px"},children:"Patient Details"}),(0,s.jsxs)("div",{style:E0,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," MR. Jhon Eve (56y, Male)"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Phone:"})," +60 32445 2242"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ID:"})," 1162"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Date:"})," 17-Oct-2025"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"#Visit:"})," 6"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Height:"})," 163 cm"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Weight:"})," 70.30 kg"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"BMI:"})," 26.46 Kg/m\xb2"]})]}),(0,s.jsxs)("div",{style:{marginTop:"10px"},children:[(0,s.jsx)("strong",{children:"General Examination:"})," Mild Deviation",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Recent Investigations:"})," X-ray shows mild scoliosis with 5\xb0 lumbar deviation"]})]}),(0,s.jsxs)("div",{style:T0,children:[(0,s.jsx)("button",{onClick:()=>t("tasks"),style:"tasks"===e?M0:L0,children:"Tasks"}),(0,s.jsx)("button",{onClick:()=>t("pharmacy"),style:"pharmacy"===e?M0:L0,children:"Pharmacy"})]}),"tasks"===e&&(0,s.jsx)(k0,{}),"pharmacy"===e&&(0,s.jsx)(N0,{}),(0,s.jsxs)("div",{style:R0,children:[(0,s.jsx)("h3",{children:"Additional Details"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Advice:"}),(0,s.jsxs)("div",{style:F0,children:["Home glucose readings",(0,s.jsx)("br",{}),"Low GI diet",(0,s.jsx)("br",{}),"Regular exercise \u2013 at least 30 mins walk daily",(0,s.jsx)("br",{}),"No added sugar in diet"]})]}),(0,s.jsxs)("div",{style:R0,children:[(0,s.jsx)("label",{children:"Past Medical History:"}),(0,s.jsxs)("div",{style:F0,children:["Type 2 DM 13 yrs",(0,s.jsx)("br",{}),"Family history of diabetes",(0,s.jsx)("br",{}),"CAD \u2013 stable"]})]}),(0,s.jsxs)("div",{style:R0,children:[(0,s.jsx)("label",{children:"Next Visit:"}),(0,s.jsx)("div",{style:F0,children:"18-Oct-2025 (Saturday)"})]})]})]}),(0,s.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:(0,s.jsx)("button",{onClick:()=>{alert("Your data has been saved!")},style:D0,children:"Save"})})]})}const P0={padding:"20px",fontFamily:"Segoe UI, Tahoma, Geneva, Verdana, sans-serif"},I0={borderRadius:"8px",padding:"15px 20px",marginBottom:"20px"},E0={display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px",marginBottom:"10px"},T0={display:"flex",justifyContent:"center",marginBottom:"20px"},L0={padding:"10px 20px",margin:"0 10px",backgroundColor:"#f1f1f1",border:"1px solid #3A3FAD",cursor:"pointer",fontSize:"16px",color:"#3A3FAD",borderRadius:"5px"},M0=je(je({},L0),{},{backgroundColor:"#3A3FAD",color:"white"}),R0={color:" rgb(42, 101, 146)",fontSize:"2rem"},D0={padding:"12px 25px",margin:"25px",backgroundColor:"#3A3FAD",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px",textAlign:"center"},F0={backgroundColor:"#fff",borderRadius:"4px",padding:"10px",minHeight:"60px",lineHeight:"1.4",fontSize:"14px",color:"#333"};var B0=Tv({chartName:"BarChart",GraphicalChild:Mg,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ix},{axisType:"yAxis",AxisComp:Ux}],formatAxisMap:Ug});const z0=[{month:"Apr",value:65},{month:"May",value:59},{month:"Jun",value:80},{month:"Jul",value:81},{month:"Aug",value:56},{month:"Sep",value:55}],W0=()=>(0,s.jsx)(On,{width:"100%",height:300,children:(0,s.jsxs)(B0,{data:z0,margin:{top:20,right:30,left:0,bottom:10},children:[(0,s.jsx)(sw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,s.jsx)(Ix,{dataKey:"month",tick:{fill:"#475569"}}),(0,s.jsx)(Ux,{tick:{fill:"#475569"}}),(0,s.jsx)(Oi,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0"}}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#3A3FAD",stopOpacity:.9}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#60A5FA",stopOpacity:.9})]})}),(0,s.jsx)(Mg,{dataKey:"value",radius:[8,8,0,0],barSize:45,fill:"url(#barGradient)",children:(0,s.jsx)(km,{dataKey:"value",position:"top",fill:"#334155",fontSize:13})})]})}),U0=()=>{const[e,t]=(0,i.useState)("schedule"),n=ae(),r={dashboard:{fontFamily:"'Inter', 'Segoe UI', sans-serif",padding:"30px",backgroundColor:"#f8fafc",color:"#0f172a",minHeight:"100vh"},headerActions:{display:"flex",justifyContent:"flex-end",marginBottom:"15px"},newPatientBtn:{backgroundColor:"#3a3fad",color:"#fff",padding:"8px 18px",border:"none",borderRadius:"6px",fontWeight:500,cursor:"pointer"},tabButtons:{display:"flex",gap:"10px",marginBottom:"25px"},tabBtn:e=>({backgroundColor:e?"#3a3fad":"#f1f5f9",color:e?"#ffffff":"#1e3a8a",border:"1px solid ".concat(e?"#3a3fad":"#cbd5e1"),borderRadius:"6px",padding:"8px 18px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"}),title:{fontSize:"1.4rem",fontWeight:600,marginBottom:"20px",color:"#1e3a8a"},statsContainer:{display:"flex",flexWrap:"wrap",gap:"15px",marginBottom:"25px"},statCard:{flex:"1 1 180px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",padding:"15px 10px"},statTitle:{color:"#475569",fontSize:"0.9rem",fontWeight:500},statValue:{color:"#0f172a",fontSize:"1.4rem",fontWeight:600,marginTop:"6px"},table:{width:"100%",borderCollapse:"collapse",background:"#ffffff",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.04)",marginBottom:"25px"},th:{backgroundColor:"#f1f5f9",color:"#1e293b",fontWeight:600,fontSize:"0.9rem",padding:"12px 16px",textAlign:"left"},td:{borderTop:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#334155",padding:"12px 16px"},sectionHeader:{color:"#1e3a8a",marginTop:"25px",marginBottom:"10px",fontWeight:600}},a=e=>{let{title:t,value:n}=e;return(0,s.jsxs)("div",{style:r.statCard,children:[(0,s.jsx)("h3",{style:r.statTitle,children:t}),(0,s.jsx)("p",{style:r.statValue,children:n})]})},o=[{time:"EP-0001",patient:"Neurorehab",episode:"d450",dept:"In Progress",status:"2025-10-10",next:"2025-10-21"},{time:"EP-0002",patient:"Hand Therapy",episode:"d445",dept:"Planned",status:"\u2014",next:"2025-10-22"},{time:"EP-0003",patient:"Dysphagia",episode:"d550",dept:"Completed",status:"2025-09-29",next:"FU 2025-11-01"},{time:"EP-0004",patient:"Ortho Rehab",episode:"d410",dept:"In Progress",status:"2025-10-15",next:"2025-10-25"}],l=[{patient:"PT-001",episode:"EP-0001",start:45,current:70,change:"+25"},{patient:"PT-002",episode:"EP-0002",start:50,current:68,change:"+18"},{patient:"PT-003",episode:"EP-0003",start:40,current:85,change:"+45"},{patient:"PT-004",episode:"EP-0004",start:55,current:65,change:"+19"},{patient:"PT-005",episode:"EP-0005",start:60,current:75,change:"+15"}],c=[{id:"DOC-001",patient:"PT-001",type:"RAP Plan",status:"Pending",due:"2025-10-20"},{id:"DOC-002",patient:"PT-002",type:"Session Note",status:"Overdue",due:"2025-10-18"},{id:"DOC-003",patient:"PT-003",type:"Discharge Summary",status:"Completed",due:"2025-10-15"},{id:"DOC-004",patient:"PT-004",type:"Assessment",status:"Pending",due:"2025-10-22"}],d=e=>{let{headers:t,rows:n,renderRow:i}=e;return(0,s.jsxs)("table",{style:r.table,children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:t.map(e=>(0,s.jsx)("th",{style:r.th,children:e},e))})}),(0,s.jsx)("tbody",{children:n.map(i)})]})},u=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"My Schedule"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"New Episodes (30d)",value:"92"}),(0,s.jsx)(a,{title:"Utilization",value:"78%"}),(0,s.jsx)(a,{title:"ICF Improved %",value:"69%"}),(0,s.jsx)(a,{title:"Protocol Adherence %",value:"95%"}),(0,s.jsx)(a,{title:"Adverse Events %",value:"0.5%"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Department Episodes"}),(0,s.jsx)(d,{headers:["Episode","Spec","ICF","\tStatus","Last Session","Next"],rows:o,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.time}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.dept}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#2563eb",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.next})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(W0,{})]}),h=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Patient Progress"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Staff Utilization %",value:"82%"}),(0,s.jsx)(a,{title:"Training Hours (30d)",value:"150"}),(0,s.jsx)(a,{title:"Leave Requests Pending",value:"7"}),(0,s.jsx)(a,{title:"Performance Score Avg",value:"4.5/5"}),(0,s.jsx)(a,{title:"Staff Count",value:"25"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Progress Details"}),(0,s.jsx)(d,{headers:["Patient","Episode","ICF Score Start","Current","Change"],rows:l,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.start}),(0,s.jsx)("td",{style:r.td,children:e.current}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#15803d",fontWeight:600}),children:e.change})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(W0,{})]}),p=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Documentation"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Pending Signatures",value:"5 (Urgent)"}),(0,s.jsx)(a,{title:"Completed Docs",value:"18 (On Time)"}),(0,s.jsx)(a,{title:"Compliance Rate %",value:"98%"}),(0,s.jsx)(a,{title:"Overdue Docs",value:"2 (Action Needed)"}),(0,s.jsx)(a,{title:"Total Docs Handled",value:"45 (Last 30d)"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation List"}),(0,s.jsx)(d,{headers:["Doc ID","Patient","Type","Status","Due Date"],rows:c,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.id}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.type}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#b45309",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.due})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation Compliance Trend (Monthly %)"}),(0,s.jsx)(W0,{})]});return(0,s.jsxs)("div",{style:r.dashboard,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"2px 12px"},children:[(0,s.jsx)("button",{onClick:()=>n.push("/menu/new"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"New Patient Record"}),(0,s.jsx)("button",{onClick:()=>n.push("/menu/existing"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"Existing Patient Record"})]}),(0,s.jsx)("div",{style:r.tabButtons,children:["schedule","progress","documentation"].map(n=>(0,s.jsx)("button",{style:r.tabBtn(e===n),onClick:()=>t(n),children:"schedule"===n?"Overview":"progress"===n?"Staff Performance":"Reports"},n))}),"schedule"===e&&(0,s.jsx)(u,{}),"progress"===e&&(0,s.jsx)(h,{}),"documentation"===e&&(0,s.jsx)(p,{})]})},q0=qS.create({baseURL:"http://127.0.0.1:8000"});function H0(e){let{onDeepestICDChange:t,onPathChange:n}=e;const[r,a]=i.useState([{label:"Admission Level",options:[],value:"",disabled:!1,parentKey:null},{label:"Level 2",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 3",options:[],value:"",disabled:!0,parentKey:null},{label:"Level 4",options:[],value:"",disabled:!0,parentKey:null}]),[o,l]=i.useState(!1),[c,d]=i.useState(""),u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[_-]+/g," ").replace(/\s+/g," ").trim().toLowerCase().replace(/\b[a-z]/g,e=>e.toUpperCase())};i.useEffect(()=>{(async()=>{try{l(!0),d("");const e=await q0.get("/api/icd/roots/");a(t=>{const n=[...t];n[0].options=e.data,n[0].disabled=!1;for(let e=1;e<n.length;e++)n[e]=je(je({},n[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return n}),null===t||void 0===t||t(""),null===n||void 0===n||n([])}catch(e){d("Failed to load ICD root data: ".concat(e.message))}finally{l(!1)}})()},[]);const h=e=>e.map((e,t)=>{if(!e.value)return null;const n=e.options.find(t=>t.key===e.value);return{depth:t,key:e.value,label:(null===n||void 0===n?void 0:n.label)||e.value}}).filter(Boolean),p=e=>{for(let t=e.length-1;t>=0;t--)if(e[t].value)return e[t].value;return""},f=async(e,i)=>{var r;if(a(r=>{const a=r.map(e=>je({},e));a[e].value=i;for(let t=e+1;t<a.length;t++)a[t]=je(je({},a[t]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===t||void 0===t||t(p(a)),null===n||void 0===n||n(h(a)),a}),i)try{l(!0),d("");const o=(await q0.get("/api/icd/children/".concat(encodeURIComponent(i),"/"))).data||[];if(!o.length)return;r=e+1,a(e=>{if(r<e.length)return e;const t=Array.from({length:r-e.length+1},(t,n)=>({label:"Level ".concat(e.length+n+1),options:[],value:"",disabled:!0,parentKey:null}));return[...e,...t]}),a(r=>{const a=[...r],s=e+1;a[s]=je(je({},a[s]),{},{options:o,value:"",disabled:!1,parentKey:i});for(let e=s+1;e<a.length;e++)a[e]=je(je({},a[e]),{},{options:[],value:"",disabled:!0,parentKey:null});return null===t||void 0===t||t(p(a)),null===n||void 0===n||n(h(a)),a})}catch(o){d("Failed to load ICD children: ".concat(o.message))}finally{l(!1)}};return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("div",{className:"cardheading",children:(0,s.jsx)("h2",{className:"title",children:"ICD Cascade"})}),r.map((e,t)=>(0,s.jsxs)("div",{className:"row",style:{marginBottom:8},children:[(0,s.jsx)("div",{className:"label",children:e.label}),(0,s.jsxs)("select",{className:"input",disabled:e.disabled,value:e.value,onChange:e=>f(t,e.target.value),children:[(0,s.jsx)("option",{value:"",children:e.disabled?"\u2014 Disabled \u2014":"\u2014 Select from ".concat(u(e.label)," \u2014")}),e.options.map(e=>(0,s.jsx)("option",{value:e.key,children:e.label},e.key))]})]},t)),o&&(0,s.jsx)("div",{className:"note",children:"Loading\u2026"}),c&&(0,s.jsx)("div",{className:"note",children:c})]})}const V0=[{month:"Apr",value:65},{month:"May",value:59},{month:"Jun",value:80},{month:"Jul",value:81},{month:"Aug",value:56},{month:"Sep",value:55}],G0=()=>(0,s.jsx)(On,{width:"100%",height:300,children:(0,s.jsxs)(B0,{data:V0,margin:{top:20,right:30,left:0,bottom:10},children:[(0,s.jsx)(sw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,s.jsx)(Ix,{dataKey:"month",tick:{fill:"#475569"}}),(0,s.jsx)(Ux,{tick:{fill:"#475569"}}),(0,s.jsx)(Oi,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0"}}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#3A3FAD",stopOpacity:.9}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#60A5FA",stopOpacity:.9})]})}),(0,s.jsx)(Mg,{dataKey:"value",radius:[8,8,0,0],barSize:45,fill:"url(#barGradient)",children:(0,s.jsx)(km,{dataKey:"value",position:"top",fill:"#334155",fontSize:13})})]})}),Z0=()=>{const[e,t]=(0,i.useState)("schedule"),n=ae(),r={dashboard:{fontFamily:"'Inter', 'Segoe UI', sans-serif",padding:"30px",backgroundColor:"#f8fafc",color:"#0f172a",minHeight:"100vh"},headerActions:{display:"flex",justifyContent:"flex-end",marginBottom:"15px"},newPatientBtn:{backgroundColor:"#3a3fad",color:"#fff",padding:"8px 18px",border:"none",borderRadius:"6px",fontWeight:500,cursor:"pointer"},tabButtons:{display:"flex",gap:"10px",marginBottom:"25px"},tabBtn:e=>({backgroundColor:e?"#3a3fad":"#f1f5f9",color:e?"#ffffff":"#1e3a8a",border:"1px solid ".concat(e?"#3a3fad":"#cbd5e1"),borderRadius:"6px",padding:"8px 18px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"}),title:{fontSize:"1.4rem",fontWeight:600,marginBottom:"20px",color:"#1e3a8a"},statsContainer:{display:"flex",flexWrap:"wrap",gap:"15px",marginBottom:"25px"},statCard:{flex:"1 1 180px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",padding:"15px 10px"},statTitle:{color:"#475569",fontSize:"0.9rem",fontWeight:500},statValue:{color:"#0f172a",fontSize:"1.4rem",fontWeight:600,marginTop:"6px"},table:{width:"100%",borderCollapse:"collapse",background:"#ffffff",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.04)",marginBottom:"25px"},th:{backgroundColor:"#f1f5f9",color:"#1e293b",fontWeight:600,fontSize:"0.9rem",padding:"12px 16px",textAlign:"left"},td:{borderTop:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#334155",padding:"12px 16px"},sectionHeader:{color:"#1e3a8a",marginTop:"25px",marginBottom:"10px",fontWeight:600}},a=e=>{let{title:t,value:n}=e;return(0,s.jsxs)("div",{style:r.statCard,children:[(0,s.jsx)("h3",{style:r.statTitle,children:t}),(0,s.jsx)("p",{style:r.statValue,children:n})]})},o=[{time:"EP-0001",patient:"Neurorehab",episode:"d450",dept:"In Progress",status:"2025-10-10",next:"2025-10-21"},{time:"EP-0002",patient:"Hand Therapy",episode:"d445",dept:"Planned",status:"\u2014",next:"2025-10-22"},{time:"EP-0003",patient:"Dysphagia",episode:"d550",dept:"Completed",status:"2025-09-29",next:"FU 2025-11-01"},{time:"EP-0004",patient:"Ortho Rehab",episode:"d410",dept:"In Progress",status:"2025-10-15",next:"2025-10-25"}],l=[{patient:"PT-001",episode:"EP-0001",start:45,current:70,change:"+25"},{patient:"PT-002",episode:"EP-0002",start:50,current:68,change:"+18"},{patient:"PT-003",episode:"EP-0003",start:40,current:85,change:"+45"},{patient:"PT-004",episode:"EP-0004",start:55,current:65,change:"+19"},{patient:"PT-005",episode:"EP-0005",start:60,current:75,change:"+15"}],c=[{id:"DOC-001",patient:"PT-001",type:"RAP Plan",status:"Pending",due:"2025-10-20"},{id:"DOC-002",patient:"PT-002",type:"Session Note",status:"Overdue",due:"2025-10-18"},{id:"DOC-003",patient:"PT-003",type:"Discharge Summary",status:"Completed",due:"2025-10-15"},{id:"DOC-004",patient:"PT-004",type:"Assessment",status:"Pending",due:"2025-10-22"}],d=e=>{let{headers:t,rows:n,renderRow:i}=e;return(0,s.jsxs)("table",{style:r.table,children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:t.map(e=>(0,s.jsx)("th",{style:r.th,children:e},e))})}),(0,s.jsx)("tbody",{children:n.map(i)})]})},u=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"My Schedule"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"New Episodes (30d)",value:"92"}),(0,s.jsx)(a,{title:"Utilization",value:"78%"}),(0,s.jsx)(a,{title:"ICF Improved %",value:"69%"}),(0,s.jsx)(a,{title:"Protocol Adherence %",value:"95%"}),(0,s.jsx)(a,{title:"Adverse Events %",value:"0.5%"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Department Episodes"}),(0,s.jsx)(d,{headers:["Episode","Spec","ICF","\tStatus","Last Session","Next"],rows:o,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.time}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.dept}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#2563eb",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.next})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(G0,{})]}),h=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Patient Progress"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Staff Utilization %",value:"82%"}),(0,s.jsx)(a,{title:"Training Hours (30d)",value:"150"}),(0,s.jsx)(a,{title:"Leave Requests Pending",value:"7"}),(0,s.jsx)(a,{title:"Performance Score Avg",value:"4.5/5"}),(0,s.jsx)(a,{title:"Staff Count",value:"25"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Progress Details"}),(0,s.jsx)(d,{headers:["Patient","Episode","ICF Score Start","Current","Change"],rows:l,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.start}),(0,s.jsx)("td",{style:r.td,children:e.current}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#15803d",fontWeight:600}),children:e.change})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(G0,{})]}),p=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Documentation"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Pending Signatures",value:"5 (Urgent)"}),(0,s.jsx)(a,{title:"Completed Docs",value:"18 (On Time)"}),(0,s.jsx)(a,{title:"Compliance Rate %",value:"98%"}),(0,s.jsx)(a,{title:"Overdue Docs",value:"2 (Action Needed)"}),(0,s.jsx)(a,{title:"Total Docs Handled",value:"45 (Last 30d)"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation List"}),(0,s.jsx)(d,{headers:["Doc ID","Patient","Type","Status","Due Date"],rows:c,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.id}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.type}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#b45309",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.due})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation Compliance Trend (Monthly %)"}),(0,s.jsx)(G0,{})]});return(0,s.jsxs)("div",{style:r.dashboard,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"2px 12px"},children:[(0,s.jsx)("button",{onClick:()=>n.push("/menu/new"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"New Patient"}),(0,s.jsx)("button",{onClick:()=>n.push("/menu/existing"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"Existing Patient"})]}),(0,s.jsx)("div",{style:r.tabButtons,children:["schedule","progress","documentation"].map(n=>(0,s.jsx)("button",{style:r.tabBtn(e===n),onClick:()=>t(n),children:"schedule"===n?"Overview":"progress"===n?"Staff Performance":"Reports"},n))}),"schedule"===e&&(0,s.jsx)(u,{}),"progress"===e&&(0,s.jsx)(h,{}),"documentation"===e&&(0,s.jsx)(p,{})]})},Y0=[{month:"Apr",value:65},{month:"May",value:59},{month:"Jun",value:80},{month:"Jul",value:81},{month:"Aug",value:56},{month:"Sep",value:55}],K0=()=>(0,s.jsx)(On,{width:"100%",height:300,children:(0,s.jsxs)(B0,{data:Y0,margin:{top:20,right:30,left:0,bottom:10},children:[(0,s.jsx)(sw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,s.jsx)(Ix,{dataKey:"month",tick:{fill:"#475569"}}),(0,s.jsx)(Ux,{tick:{fill:"#475569"}}),(0,s.jsx)(Oi,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0"}}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#3A3FAD",stopOpacity:.9}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#60A5FA",stopOpacity:.9})]})}),(0,s.jsx)(Mg,{dataKey:"value",radius:[8,8,0,0],barSize:45,fill:"url(#barGradient)",children:(0,s.jsx)(km,{dataKey:"value",position:"top",fill:"#334155",fontSize:13})})]})}),J0=()=>{const[e,t]=(0,i.useState)("schedule"),n=ae(),r={dashboard:{fontFamily:"'Inter', 'Segoe UI', sans-serif",padding:"30px",backgroundColor:"#f8fafc",color:"#0f172a",minHeight:"100vh"},headerActions:{display:"flex",justifyContent:"flex-end",marginBottom:"15px"},newPatientBtn:{backgroundColor:"#3a3fad",color:"#fff",padding:"8px 18px",border:"none",borderRadius:"6px",fontWeight:500,cursor:"pointer"},tabButtons:{display:"flex",gap:"10px",marginBottom:"25px"},tabBtn:e=>({backgroundColor:e?"#3a3fad":"#f1f5f9",color:e?"#ffffff":"#1e3a8a",border:"1px solid ".concat(e?"#3a3fad":"#cbd5e1"),borderRadius:"6px",padding:"8px 18px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"}),title:{fontSize:"1.4rem",fontWeight:600,marginBottom:"20px",color:"#1e3a8a"},statsContainer:{display:"flex",flexWrap:"wrap",gap:"15px",marginBottom:"25px"},statCard:{flex:"1 1 180px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",padding:"15px 10px"},statTitle:{color:"#475569",fontSize:"0.9rem",fontWeight:500},statValue:{color:"#0f172a",fontSize:"1.4rem",fontWeight:600,marginTop:"6px"},table:{width:"100%",borderCollapse:"collapse",background:"#ffffff",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.04)",marginBottom:"25px"},th:{backgroundColor:"#f1f5f9",color:"#1e293b",fontWeight:600,fontSize:"0.9rem",padding:"12px 16px",textAlign:"left"},td:{borderTop:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#334155",padding:"12px 16px"},sectionHeader:{color:"#1e3a8a",marginTop:"25px",marginBottom:"10px",fontWeight:600}},a=e=>{let{title:t,value:n}=e;return(0,s.jsxs)("div",{style:r.statCard,children:[(0,s.jsx)("h3",{style:r.statTitle,children:t}),(0,s.jsx)("p",{style:r.statValue,children:n})]})},o=[{time:"EP-0001",patient:"Neurorehab",episode:"d450",dept:"In Progress",status:"2025-10-10",next:"2025-10-21"},{time:"EP-0002",patient:"Hand Therapy",episode:"d445",dept:"Planned",status:"\u2014",next:"2025-10-22"},{time:"EP-0003",patient:"Dysphagia",episode:"d550",dept:"Completed",status:"2025-09-29",next:"FU 2025-11-01"},{time:"EP-0004",patient:"Ortho Rehab",episode:"d410",dept:"In Progress",status:"2025-10-15",next:"2025-10-25"}],l=[{patient:"PT-001",episode:"EP-0001",start:45,current:70,change:"+25"},{patient:"PT-002",episode:"EP-0002",start:50,current:68,change:"+18"},{patient:"PT-003",episode:"EP-0003",start:40,current:85,change:"+45"},{patient:"PT-004",episode:"EP-0004",start:55,current:65,change:"+19"},{patient:"PT-005",episode:"EP-0005",start:60,current:75,change:"+15"}],c=[{id:"DOC-001",patient:"PT-001",type:"RAP Plan",status:"Pending",due:"2025-10-20"},{id:"DOC-002",patient:"PT-002",type:"Session Note",status:"Overdue",due:"2025-10-18"},{id:"DOC-003",patient:"PT-003",type:"Discharge Summary",status:"Completed",due:"2025-10-15"},{id:"DOC-004",patient:"PT-004",type:"Assessment",status:"Pending",due:"2025-10-22"}],d=e=>{let{headers:t,rows:n,renderRow:i}=e;return(0,s.jsxs)("table",{style:r.table,children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:t.map(e=>(0,s.jsx)("th",{style:r.th,children:e},e))})}),(0,s.jsx)("tbody",{children:n.map(i)})]})},u=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"My Schedule"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"New Episodes (30d)",value:"92"}),(0,s.jsx)(a,{title:"Utilization",value:"78%"}),(0,s.jsx)(a,{title:"ICF Improved %",value:"69%"}),(0,s.jsx)(a,{title:"Protocol Adherence %",value:"95%"}),(0,s.jsx)(a,{title:"Adverse Events %",value:"0.5%"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Department Episodes"}),(0,s.jsx)(d,{headers:["Episode","Spec","ICF","\tStatus","Last Session","Next"],rows:o,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.time}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.dept}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#2563eb",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.next})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(K0,{})]}),h=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Patient Progress"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Staff Utilization %",value:"82%"}),(0,s.jsx)(a,{title:"Training Hours (30d)",value:"150"}),(0,s.jsx)(a,{title:"Leave Requests Pending",value:"7"}),(0,s.jsx)(a,{title:"Performance Score Avg",value:"4.5/5"}),(0,s.jsx)(a,{title:"Staff Count",value:"25"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Progress Details"}),(0,s.jsx)(d,{headers:["Patient","Episode","ICF Score Start","Current","Change"],rows:l,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.start}),(0,s.jsx)("td",{style:r.td,children:e.current}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#15803d",fontWeight:600}),children:e.change})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(K0,{})]}),p=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Documentation"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Pending Signatures",value:"5 (Urgent)"}),(0,s.jsx)(a,{title:"Completed Docs",value:"18 (On Time)"}),(0,s.jsx)(a,{title:"Compliance Rate %",value:"98%"}),(0,s.jsx)(a,{title:"Overdue Docs",value:"2 (Action Needed)"}),(0,s.jsx)(a,{title:"Total Docs Handled",value:"45 (Last 30d)"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation List"}),(0,s.jsx)(d,{headers:["Doc ID","Patient","Type","Status","Due Date"],rows:c,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.id}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.type}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#b45309",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.due})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation Compliance Trend (Monthly %)"}),(0,s.jsx)(K0,{})]});return(0,s.jsxs)("div",{style:r.dashboard,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"2px 12px"},children:[(0,s.jsx)("button",{onClick:()=>n.push("/menu/new"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"HOD New Patient"}),(0,s.jsx)("button",{onClick:()=>n.push("/menu/existing"),className:"btn topbtn",style:{padding:"5px 15px",marginBottom:15,backgroundColor:"#3A3FAD",color:" #fff",margin:"5px"},children:"Existing Patient"})]}),(0,s.jsx)("div",{style:r.tabButtons,children:["schedule","progress","documentation"].map(n=>(0,s.jsx)("button",{style:r.tabBtn(e===n),onClick:()=>t(n),children:"schedule"===n?"Overview":"progress"===n?"Staff Performance":"Reports"},n))}),"schedule"===e&&(0,s.jsx)(u,{}),"progress"===e&&(0,s.jsx)(h,{}),"documentation"===e&&(0,s.jsx)(p,{})]})},X0=n.p+"static/media/output11.f53ab7326baaf66c3bfa.jpg",$0=e=>{let{location:t}=e;const[n,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[y,v]=(0,i.useState)(""),[x,w]=(0,i.useState)(""),[j,S]=(0,i.useState)(""),[_,k]=(0,i.useState)(""),[C,A]=(0,i.useState)(""),[N,O]=(0,i.useState)(""),[P,I]=(0,i.useState)(""),[E,T]=(0,i.useState)(""),[L,M]=(0,i.useState)(""),[R,D]=(0,i.useState)(""),[F,B]=(0,i.useState)(""),[z,W]=(0,i.useState)(""),[U,q]=(0,i.useState)(""),[H,V]=(0,i.useState)(""),[G,Z]=(0,i.useState)(""),[Y,K]=(0,i.useState)(""),[J,X]=(0,i.useState)(""),[$,Q]=(0,i.useState)(""),[ee,te]=(0,i.useState)(""),[ne,ie]=(0,i.useState)(""),[re,oe]=(0,i.useState)(""),[se,le]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=t.state.updatedData,n=t.state.timeBetweenTests;console.log("Received Time Between Tests:",n),le(parseInt(n)),console.log("Received Data:",e),e&&e.length>=3&&(console.log("Updating State:",e),r(String(e[0])),o(String(e[1])),c(String(e[2])),u(String(e[3])),p(String(e[4])),m(String(e[5])),b(String(e[6])),v(String(e[7])),w(String(e[8])),S(String(e[9])),k(String(e[10])),A(String(e[11])),O(String(e[12])),I(String(e[13])),T(String(e[14])),M(String(e[15])),D(String(e[16])),B(String(e[17])),W(String(e[18])),q(String(e[19])),V(String(e[20])),Z(String(e[21])),K(String(e[22])),X(String(e[23])),Q(String(e[24])),te(String(e[25])),ie(String(e[26])),oe(String(e[27])))},[t.state.updatedData,t.state.timeBetweenTests]);const[ce,de]=(0,i.useState)(!1),ue=ae();return(0,s.jsxs)("div",{className:"Cyberdyne",children:[(0,s.jsx)("div",{className:"BannerTop",style:{backgroundImage:"url(".concat(X0,")"),height:"70vh"}}),(0,s.jsxs)("div",{className:"Input_Area",children:[(0,s.jsx)("h2",{style:{textAlign:"center",padding:"10px",textDecoration:"underline"},children:"Processed Outputs"}),(0,s.jsx)("div",{style:{marginBottom:"20px",padding:"10px",marginTop:"20px"},children:(0,s.jsx)("table",{style:{width:"100%"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"diabetic",children:"Change In Velocity (KM/H)"}),(0,s.jsx)("input",{id:"diabetic",type:"text",value:n})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"geneticDiseases",children:"Change In Cadence (Steps/Min)"}),(0,s.jsx)("input",{id:"geneticDiseases",type:"text",value:a})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"existingDiseases",children:"Change In Stride Length(CM)"}),(0,s.jsx)("input",{id:"existingDiseases",type:"text",value:l})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"therapist",children:"Change In Cycle Duration Left"}),(0,s.jsx)("input",{id:"therapist",type:"text",value:d})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"testDuration",children:"Change In Cycle Duration Right"}),(0,s.jsx)("input",{id:"testDuration",type:"text",value:h})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Additional_Support",children:"Change In Stance Phase Left"}),(0,s.jsx)("input",{id:"Additional_Support",type:"text",value:f})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Condition",children:"Change In Stance Phase Right"}),(0,s.jsx)("input",{id:"Condition",type:"text",value:g})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Additional_Condition",children:"Change In Loading Response Left"}),(0,s.jsx)("input",{id:"Additional_Condition",type:"text",value:y})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Additional_Treatment",children:"Change In Loading Response Right"}),(0,s.jsx)("input",{id:"Additional_Treatment",type:"text",value:x})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Initial_Stride_length",children:"Change In Single Support Left"}),(0,s.jsx)("input",{id:"Initial_Stride_length",type:"text",value:j})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_support_left",children:"Change In Single Support Right"}),(0,s.jsx)("input",{id:"ideal_support_left",type:"text",value:_})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"load_res_right",children:"Change In Pre Swing Left"}),(0,s.jsx)("input",{id:"load_res_right",type:"text",value:C})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_stance_phase_left",children:"Change In Pre Swing Right"}),(0,s.jsx)("input",{id:"ideal_stance_phase_left",type:"text",value:N})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_stance_phase_right",children:"Change In Swing Phase Left"}),(0,s.jsx)("input",{id:"ideal_stance_phase_right",type:"text",value:P})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_left",children:"Change In Swing Phase Right"}),(0,s.jsx)("input",{id:"ideal_swing_left",type:"text",value:E})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_pre_swing_left",children:"Change In Double Support"}),(0,s.jsx)("input",{id:"ideal_pre_swing_left",type:"text",value:L})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_single_support_right",children:"Change In Angle Foot/Floor Maximum Sagittal Left"}),(0,s.jsx)("input",{id:"ideal_single_support_right",type:"text",value:R})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_loading_response_left",children:"Change In Angle Foot/Floor Maximum Sagittal Right"}),(0,s.jsx)("input",{id:"ideal_loading_response_left",type:"text",value:F})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_pre_swing_right",children:"Change In Angle Foot/Floor Minimum Sagittal Left"}),(0,s.jsx)("input",{id:"ideal_pre_swing_right",type:"text",value:z})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Time between tests (days)",children:"Change In Angle Foot/Floor Minimum Sagittal Right"}),(0,s.jsx)("input",{id:"Time between tests (days)",type:"text",value:U})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:",Initial_Cadence",children:"Change In Angle Foot/Floor Maximum Frontal Left"}),(0,s.jsx)("input",{id:"Initial_Cadence",type:"text",value:H})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Initial_Velocity",children:"Change In Angle Foot/Floor Maximum Frontal Right"}),(0,s.jsx)("input",{id:"Initial_Velocity",type:"text",value:G})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_right",children:"Change In Angle Foot/Floor Minimum Frontal Left"}),(0,s.jsx)("input",{id:"ideal_swing_right",type:"text",value:Y})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_right",children:"Change In Angle Foot/Floor Minimum Frontal Right"}),(0,s.jsx)("input",{id:"ideal_swing_right",type:"text",value:J})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_right",children:"Change In Vertical Lift Maximum Left"}),(0,s.jsx)("input",{id:"ideal_swing_right",type:"text",value:$})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_right",children:"Change In Vertical Lift Maximum Right"}),(0,s.jsx)("input",{id:"ideal_swing_right",type:"text",value:ee})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_right",children:"Change In Lateral Deviation Maximum Left"}),(0,s.jsx)("input",{id:"ideal_swing_right",type:"text",value:ne})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"ideal_swing_right",children:"Change In Lateral Deviation Maximum Right"}),(0,s.jsx)("input",{id:"ideal_swing_right",type:"text",value:re})]})]})]})})}),(0,s.jsxs)("div",{style:{marginTop:"20px",marginBottom:"40px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("button",{onClick:()=>{ue.push("/treatment/Tymo")},children:"Back"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{de(!0)},children:"Animate"}),ce&&(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("span",{className:"close-button",onClick:()=>{de(!1)},children:"\xd7"}),(0,s.jsxs)("video",{width:"700",height:"500",controls:!0,autoPlay:!0,children:[(0,s.jsx)("source",{src:parseInt(se)>=0&&parseInt(se)<=15?"/90per.mp4":parseInt(se)>15&&parseInt(se)<=30?"/60per.mp4":parseInt(se)>30?"/Normal.mp4":void alert("Please give input values within the specified ranges."),type:"video/mp4"}),"Your browser does not support the video tag."]})]})})]})]})]})]})},Q0=n.p+"static/media/signup.1e4196abf5971dfd59cc.jpg",e1=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),h=ae();return(0,s.jsxs)("div",{children:[(0,s.jsx)(se,{}),(0,s.jsxs)("div",{className:"signup-container",children:[(0,s.jsx)("div",{className:"signup-image",children:(0,s.jsx)("img",{src:Q0,alt:"Signup Image"})}),(0,s.jsxs)("div",{className:"signup-content",children:[(0,s.jsx)("h2",{children:"Register Here"}),(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,s.jsx)("input",{type:"text",id:"name",value:e,onChange:e=>{t(e.target.value)}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,s.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>{r(e.target.value)}})]}),(0,s.jsx)("table",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{padding:"0px"},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"age",children:"Age:"}),(0,s.jsx)("input",{type:"number",id:"age",value:l,onChange:e=>{c(e.target.value)}})]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"gender",children:"Gender:"}),(0,s.jsxs)("select",{id:"gender",value:d,onChange:e=>{u(e.target.value)},children:[(0,s.jsx)("option",{value:"",children:"Select Gender"}),(0,s.jsx)("option",{value:"male",children:"Male"}),(0,s.jsx)("option",{value:"female",children:"Female"})]})]})})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),(0,s.jsx)("input",{type:"tel",id:"phoneNumber",value:a,onChange:e=>{o(e.target.value)}})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",paddingTop:"40px"},children:[(0,s.jsx)("button",{type:"button",onClick:()=>{console.log("Signing up with name: ".concat(e,", email: ").concat(n,", phone number: ").concat(a,", age: ").concat(l,", gender: ").concat(d))},children:"Sign Up"}),(0,s.jsx)("button",{type:"button",onClick:()=>{h.push("/")},children:"LogIn"})]})]})]})]})]})},t1=n.p+"static/media/spino.45465bffbf2169b238cf.jpg",n1={Strength:{MMT:["Hip Flexor Right","Hip Flexor Left","Knee Extensor Right","Knee Extensor Left","Ankle Dorsal Flexor Right","Ankle Dorsal Flexor Left","Long Toe Extensor Left","Long Toe Extensor Right","Ankle Plantar Flexor Right","Ankle Plantar Flexor Left","Upper Limb Shoulder Flexion Right","Upper Limb Shoulder Flexion Left","Upper Limb Shoulder Extension Right","Upper Limb Shoulder Extension Left","Upper Limb Shoulder Abduction Right","Upper Limb Shoulder Abduction Left","Upper Limb Shoulder Adduction Right","Upper Limb Shoulder Adduction Left","Upper Limb Shoulder Internal Rotation Left","Upper Limb Shoulder Internal Rotation Right","Upper Limb Shoulder External Rotation Right","Upper Limb Shoulder External Rotation Left","Upper Limb Elbow Flexion Right","Upper Limb Elbow Flexion Left","Upper Limb Elbow Extension Right","Upper Limb Elbow Extension Left","Upper Limb Wrist Flexion Right","Upper Limb Wrist Flexion Left","Upper Limb Wrist Extension Right","Upper Limb Wrist Extension Left","Upper Limb Finger Flexion Right","Upper Limb Finger Flexion Left","Upper Limb Finger Extension Right","Upper Limb Finger Extension Left","Upper Limb Finger Abduction Right","Upper Limb Finger Abduction Left","Upper Limb Finger Adduction Right","Upper Limb Finger Adduction Left","Lower Limb Hip Flexion Right","Lower Limb Hip Flexion Left","Lower Limb Hip Extension Right","Lower Limb Hip Extension Left","Lower Limb Hip Abduction Right","Lower Limb Hip Abduction Left","Lower Limb Hip Adduction Right","Lower Limb Hip Adduction Left","Lower Limb Internal Rotation Right","Lower Limb Internal Rotation Left","Lower Limb External Rotation Right","Lower Limb External Rotation Left","Lower Limb Knee Flexion Right","Lower Limb Knee Flexion Left","Lower Limb Knee Extension Right","Lower Limb Knee Extension Left","Lower Limb Ankle Plantar Flexion Right","Lower Ankle Plantar Flexion Left","Lower Limb Ankle Dorsal Flexion Right","Lower Ankle Dorsal Flexion Left","Lower Limb Inversion Right","Lower Limb Inversion Left","Lower Limb Eversion Right","Lower Limb Eversion Left","Lower Limb Toe Flexion Right","Lower Limb Toe Flexion Left","Lower Limb Toe Abduction Right","Lower Limb Toe Abduction Left","Lower Limb Toe Adduction Right","Lower Limb Toe Adduction Left"]},Balance:{BBG:["Berg Balance Scale"],FIST:["FIST Score"]},Spasticity:{MAS:["Ankle Plantar Left","Ankle Plantar Right","Hamstring Left","Hamstring Right","Adductor Right","Adductor Left","Elbow Flexor Right","Elbow Flexor Left","Wrist Flexor Right","Wrist Flexor Left","Pectoralis Major Right","Pectoralis Major Left","Biceps","Pronator","Knee Extensors","Plantar Flexors","Hip Flexion Right","Hip Flexion Left","Hip Extension Right","Hip Extension Left","Hip Abduction Right","Hip Abduction Left","Hip Adduction Right","Hip Adduction Left","Internal Rotation Left","Internal Rotation Right","External Rotation Right","External Rotation Left"]}},i1=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[g,b]=(0,i.useState)(""),[y,v]=(0,i.useState)(null),[x,w]=(0,i.useState)(!1),[j,S]=(0,i.useState)({}),[_,k]=(0,i.useState)(""),[C,A]=(0,i.useState)(!1),[N,O]=(0,i.useState)(!1),[P,I]=(0,i.useState)(!1),[E,T]=(0,i.useState)("60per.mp4");(0,i.useEffect)(()=>{A(!1)},[e,n,y]);const L=()=>(Math.floor(6*Math.random())+1).toString(),M=e=>{const{name:t,value:n}=e.target;S(je(je({},j),{},{[t]:n}))};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"banner",style:{backgroundImage:"url(".concat(t1,")")},children:"SPINAL CORD INJURY"}),(0,s.jsxs)("div",{className:"center",children:[(0,s.jsx)("b",{children:(0,s.jsx)("label",{htmlFor:"cType",children:"Level:"})}),(0,s.jsxs)("select",{id:"cType",value:a,onChange:e=>{const t=e.target.value;o(t),t?(m(!0),p(!1)):m(!1),"C1"===t||"C2"===t?u(!0):w(!1)},children:[(0,s.jsx)("option",{value:"",children:"Select Type"}),(0,s.jsx)("option",{value:"C1",children:"Cervical"}),(0,s.jsx)("option",{value:"C2",children:"Thoracic"}),(0,s.jsx)("option",{value:"C3",children:"Lumbar"})]}),(0,s.jsx)("b",{children:(0,s.jsx)("label",{htmlFor:"tType",children:"Completeness Of Injury:"})}),(0,s.jsxs)("select",{id:"tType",value:g,onChange:e=>{const t=e.target.value;b(t),t?(p(!0),m(!1)):p(!1)},children:[(0,s.jsx)("option",{value:"",children:"Select Location"}),(0,s.jsx)("option",{value:"T1",children:"ASIA-A"}),(0,s.jsx)("option",{value:"T2",children:"ASIA-B"}),(0,s.jsx)("option",{value:"T3",children:"ASIA-C"}),(0,s.jsx)("option",{value:"T4",children:"ASIA-D"})]}),(0,s.jsx)("label",{htmlFor:"disease",children:"Impairments:"}),(0,s.jsxs)("select",{id:"disease",style:{height:"65px"},multiple:!0,value:e,onChange:e=>{const n=Array.from(e.target.selectedOptions,e=>e.value);t(n),r(null),v(null),S({}),k(""),A(!1),O(!1),T("60per.mp4")},disabled:!(a&&g),children:[(0,s.jsx)("option",{value:"Strength",children:"Strength"}),(0,s.jsx)("option",{value:"Balance",children:"Balance"}),(0,s.jsx)("option",{value:"Spasticity",children:"Spasticity"})]})]}),(0,s.jsx)("div",{className:"selected-diseases-container",children:e.map(e=>(0,s.jsx)("button",{onClick:()=>(e=>{r(e),v(null)})(e),children:e},e))}),n&&(0,s.jsx)("div",{children:Object.keys(n1[n]).map(e=>(0,s.jsx)("button",{onClick:()=>(e=>{v(e)})(e),children:N?"Modified ".concat(e):e},e))}),n&&y&&(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("div",{style:{marginBottom:"20px",padding:"10px",marginTop:"20px"},className:"input-grid",children:n1[n][y].map(e=>(0,s.jsxs)("div",{className:"input-container",children:[(0,s.jsx)("label",{htmlFor:e,children:e}),(0,s.jsx)("input",{id:e,name:e,type:"text",value:j[e]||"",onChange:M})]},e))}),e[e.length-1]===n&&y===Object.keys(n1[n]).slice(-1)[0]&&(0,s.jsxs)("div",{className:"treatment-container",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"daysOfTreatment",children:"Days of Treatment"}),(0,s.jsx)("input",{id:"daysOfTreatment",name:"daysOfTreatment",type:"text",value:_,onChange:e=>{k(e.target.value)}})]}),l&&(0,s.jsx)("button",{onClick:()=>{const e=Object.values(j).some(e=>!e.trim())||!_.trim();if(e)alert("Please fill in all required fields.");else{const e={};for(const t in j){let n=parseInt(j[t]);n<5?(n+=2,e[t]=(n>6?6:n).toString()):e[t]=5===n?"6":n.toString()}S(e),O(!0),T("Normal.mp4"),alert("Submit The Data"),c(!1)}},disabled:"0"===_,children:"Submit"}),(0,s.jsx)("button",{style:{float:"right"},onClick:()=>{I(!0)},children:"Animate"}),P&&(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("span",{className:"close-button",onClick:()=>{I(!1)},children:"\xd7"}),(0,s.jsxs)("video",{width:"700",height:"500",controls:!0,autoPlay:!0,children:[(0,s.jsx)("source",{src:E,type:"video/mp4"}),"Your browser does not support the video tag."]})]})})]})]}),e.length>0&&(0,s.jsx)("button",{className:"B1",onClick:()=>{const e={};for(const t in n1)for(const n in n1[t])n1[t][n].forEach(t=>{e[t]=L()});S(e)},children:"Auto Fill"})]})},r1=[{month:"Apr",value:65},{month:"May",value:59},{month:"Jun",value:80},{month:"Jul",value:81},{month:"Aug",value:56},{month:"Sep",value:55}],a1=()=>(0,s.jsx)(On,{width:"100%",height:300,children:(0,s.jsxs)(B0,{data:r1,margin:{top:20,right:30,left:0,bottom:10},children:[(0,s.jsx)(sw,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,s.jsx)(Ix,{dataKey:"month",tick:{fill:"#475569"}}),(0,s.jsx)(Ux,{tick:{fill:"#475569"}}),(0,s.jsx)(Oi,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{background:"#ffffff",borderRadius:8,border:"1px solid #e2e8f0"}}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#3A3FAD",stopOpacity:.9}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#60A5FA",stopOpacity:.9})]})}),(0,s.jsx)(Mg,{dataKey:"value",radius:[8,8,0,0],barSize:45,fill:"url(#barGradient)",children:(0,s.jsx)(km,{dataKey:"value",position:"top",fill:"#334155",fontSize:13})})]})}),o1=()=>{const[e,t]=(0,i.useState)("schedule"),n=ae(),r={dashboard:{fontFamily:"'Inter', 'Segoe UI', sans-serif",padding:"30px",backgroundColor:"#f8fafc",color:"#0f172a",minHeight:"100vh"},headerActions:{display:"flex",justifyContent:"flex-end",marginBottom:"15px"},newPatientBtn:{backgroundColor:"#3a3fad",color:"#fff",padding:"8px 18px",border:"none",borderRadius:"6px",fontWeight:500,cursor:"pointer"},tabButtons:{display:"flex",gap:"10px",marginBottom:"25px"},tabBtn:e=>({backgroundColor:e?"#3a3fad":"#f1f5f9",color:e?"#ffffff":"#1e3a8a",border:"1px solid ".concat(e?"#3a3fad":"#cbd5e1"),borderRadius:"6px",padding:"8px 18px",fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"}),title:{fontSize:"1.4rem",fontWeight:600,marginBottom:"20px",color:"#1e3a8a"},statsContainer:{display:"flex",flexWrap:"wrap",gap:"15px",marginBottom:"25px"},statCard:{flex:"1 1 180px",backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",padding:"15px 10px"},statTitle:{color:"#475569",fontSize:"0.9rem",fontWeight:500},statValue:{color:"#0f172a",fontSize:"1.4rem",fontWeight:600,marginTop:"6px"},table:{width:"100%",borderCollapse:"collapse",background:"#ffffff",borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 6px rgba(0,0,0,0.04)",marginBottom:"25px"},th:{backgroundColor:"#f1f5f9",color:"#1e293b",fontWeight:600,fontSize:"0.9rem",padding:"12px 16px",textAlign:"left"},td:{borderTop:"1px solid #f1f5f9",fontSize:"0.9rem",color:"#334155",padding:"12px 16px"},sectionHeader:{color:"#1e3a8a",marginTop:"25px",marginBottom:"10px",fontWeight:600}},a=e=>{let{title:t,value:n}=e;return(0,s.jsxs)("div",{style:r.statCard,children:[(0,s.jsx)("h3",{style:r.statTitle,children:t}),(0,s.jsx)("p",{style:r.statValue,children:n})]})},o=[{time:"09:00",patient:"PT-001",episode:"EP-0001",dept:"PT - Neuro",status:"Scheduled"},{time:"10:30",patient:"PT-002",episode:"EP-0002",dept:"OT.Hand",status:"Inprogress"},{time:"11:45",patient:"PT-003",episode:"EP-0003",dept:"SLT \u2022 Dysphagia",status:"Completed"},{time:"14:00",patient:"PT-004",episode:"EP-0004",dept:"PT \u2022 Ortho",status:"No-Show"}],l=[{patient:"PT-001",episode:"EP-0001",start:45,current:70,change:"+25"},{patient:"PT-002",episode:"EP-0002",start:50,current:68,change:"+18"},{patient:"PT-003",episode:"EP-0003",start:40,current:85,change:"+45"},{patient:"PT-004",episode:"EP-0004",start:55,current:65,change:"+19"},{patient:"PT-005",episode:"EP-0005",start:60,current:75,change:"+15"}],c=[{id:"DOC-001",patient:"PT-001",type:"RAP Plan",status:"Pending",due:"2025-10-20"},{id:"DOC-002",patient:"PT-002",type:"Session Note",status:"Overdue",due:"2025-10-18"},{id:"DOC-003",patient:"PT-003",type:"Discharge Summary",status:"Completed",due:"2025-10-15"},{id:"DOC-004",patient:"PT-004",type:"Assessment",status:"Pending",due:"2025-10-22"}],d=e=>{let{headers:t,rows:n,renderRow:i}=e;return(0,s.jsxs)("table",{style:r.table,children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:t.map(e=>(0,s.jsx)("th",{style:r.th,children:e},e))})}),(0,s.jsx)("tbody",{children:n.map(i)})]})},u=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"My Schedule"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"My Episodes Today",value:"7"}),(0,s.jsx)(a,{title:"No-shows",value:"1"}),(0,s.jsx)(a,{title:"Avg GAS A (7d)",value:"+0.6"}),(0,s.jsx)(a,{title:"Docs Pending",value:"3"}),(0,s.jsx)(a,{title:"ICF Improvement %",value:"75%"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Today's Schedule"}),(0,s.jsx)(d,{headers:["Time","Patient","Episode","Dept","Status"],rows:o,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.time}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.dept}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#2563eb",fontWeight:600}),children:e.status})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(a1,{})]}),h=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Patient Progress"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Protocol Adherence %",value:"92%"}),(0,s.jsx)(a,{title:"ICF Improvement %",value:"78%"}),(0,s.jsx)(a,{title:"Avg Sessions/Episode",value:"12"}),(0,s.jsx)(a,{title:"Pending Reviews",value:"4"}),(0,s.jsx)(a,{title:"RTW Readiness %",value:"65%"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Progress Details"}),(0,s.jsx)(d,{headers:["Patient","Episode","ICF Score Start","Current","Change"],rows:l,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.episode}),(0,s.jsx)("td",{style:r.td,children:e.start}),(0,s.jsx)("td",{style:r.td,children:e.current}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#15803d",fontWeight:600}),children:e.change})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"ICF Improvement Trend (Monthly %)"}),(0,s.jsx)(a1,{})]}),p=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:r.title,children:"Documentation"}),(0,s.jsxs)("div",{style:r.statsContainer,children:[(0,s.jsx)(a,{title:"Pending Signatures",value:"5 (Urgent)"}),(0,s.jsx)(a,{title:"Completed Docs",value:"18 (On Time)"}),(0,s.jsx)(a,{title:"Compliance Rate %",value:"98%"}),(0,s.jsx)(a,{title:"Overdue Docs",value:"2 (Action Needed)"}),(0,s.jsx)(a,{title:"Total Docs Handled",value:"45 (Last 30d)"})]}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation List"}),(0,s.jsx)(d,{headers:["Doc ID","Patient","Type","Status","Due Date"],rows:c,renderRow:(e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:r.td,children:e.id}),(0,s.jsx)("td",{style:r.td,children:e.patient}),(0,s.jsx)("td",{style:r.td,children:e.type}),(0,s.jsx)("td",{style:je(je({},r.td),{},{color:"#b45309",fontWeight:600}),children:e.status}),(0,s.jsx)("td",{style:r.td,children:e.due})]},t)}),(0,s.jsx)("h3",{style:r.sectionHeader,children:"Documentation Compliance Trend (Monthly %)"}),(0,s.jsx)(a1,{})]});return(0,s.jsxs)("div",{style:r.dashboard,children:[(0,s.jsx)("div",{style:r.headerActions,children:(0,s.jsx)("button",{onClick:()=>n.push("/menu/new"),style:r.newPatientBtn,children:"Access Patients"})}),(0,s.jsx)("div",{style:r.tabButtons,children:["schedule","progress","documentation"].map(n=>(0,s.jsx)("button",{style:r.tabBtn(e===n),onClick:()=>t(n),children:"schedule"===n?"My Schedule":"progress"===n?"Patient Progress":"Documentation"},n))}),"schedule"===e&&(0,s.jsx)(u,{}),"progress"===e&&(0,s.jsx)(h,{}),"documentation"===e&&(0,s.jsx)(p,{})]})},s1=e=>{let{location:t}=e;const[n,r]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[y,v]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=t.state.updatedData,n=t.state.timeBetweenTests;console.log("Received Time Between Tests:",n),v(parseInt(n)),console.log("Received Data:",e),e&&e.length>=3&&(console.log("Updating State:",e),r(String(e[0])),o(String(e[1])),c(String(e[2])),u(String(e[3])),p(String(e[4])),m(String(e[5])),b(String(e[6])))},[t.state.updatedData,t.state.timeBetweenTests]);const[x,w]=(0,i.useState)(!1);ae();return(0,s.jsxs)("div",{className:"Cyberdyne",children:[(0,s.jsx)("div",{className:"BannerTop",style:{backgroundImage:"url(".concat(X0,")"),height:"70vh"}}),(0,s.jsxs)("div",{className:"Input_Area",children:[(0,s.jsx)("h2",{style:{textAlign:"center",padding:"10px",textDecoration:"underline"},children:"Processed Outputs"}),(0,s.jsx)("div",{style:{marginBottom:"20px",padding:"10px",marginTop:"20px"},children:(0,s.jsx)("table",{style:{width:"100%"},children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"diabetic",children:"Change In Velocity (KM/H)"}),(0,s.jsx)("input",{id:"diabetic",type:"text",value:n})]}),"1.0"===n&&(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{children:"Card Heading"}),(0,s.jsx)("img",{src:"Health",alt:"Card Image"})]})}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"geneticDiseases",children:"Change In Cadence (Steps/Min)"}),(0,s.jsx)("input",{id:"geneticDiseases",type:"text",value:a})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"existingDiseases",children:"Change In Stride Length(CM)"}),(0,s.jsx)("input",{id:"existingDiseases",type:"text",value:l})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"therapist",children:"Change In Cycle Duration Left"}),(0,s.jsx)("input",{id:"therapist",type:"text",value:d})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"testDuration",children:"Change In Cycle Duration Right"}),(0,s.jsx)("input",{id:"testDuration",type:"text",value:h})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Additional_Support",children:"Change In Stance Phase Left"}),(0,s.jsx)("input",{id:"Additional_Support",type:"text",value:f})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)("label",{htmlFor:"Condition",children:"Change In Stance Phase Right"}),(0,s.jsx)("input",{id:"Condition",type:"text",value:g})]})]})]})})})]})]})};const l1={"PG-SGA-Metric-version":function(){const[e,t]=(0,i.useState)({}),n=(e,n,i)=>{t(t=>je(je({},t),{},{[e]:je(je({},t[e]||{}),{},{[n]:i})}))},r=e=>{let{section:t,field:i,label:r,options:a}=e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:r}),a.map(e=>(0,s.jsxs)("td",{children:[(0,s.jsx)("input",{type:"radio",name:"".concat(t,"-").concat(i),value:e,onChange:()=>n(t,i,e)})," ",e]},e))]})};return(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsx)("h2",{children:"Subjective Global Assessment (SGA)"}),(0,s.jsx)("h3",{children:"Subcutaneous Fat"}),(0,s.jsxs)("table",{className:"sga-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Area"}),(0,s.jsx)("th",{children:"Normal"}),(0,s.jsx)("th",{children:"Mild/Moderate"}),(0,s.jsx)("th",{children:"Severe"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsx)(r,{section:"fat",field:"eyes",label:"Under the eyes",options:["Normal","Mild","Severe"]}),(0,s.jsx)(r,{section:"fat",field:"triceps",label:"Triceps",options:["Normal","Mild","Severe"]}),(0,s.jsx)(r,{section:"fat",field:"ribs",label:"Ribs / Lower back",options:["Normal","Mild","Severe"]})]})]}),(0,s.jsx)("h3",{children:"Muscle Wasting"}),(0,s.jsxs)("table",{className:"sga-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Area"}),(0,s.jsx)("th",{children:"Normal"}),(0,s.jsx)("th",{children:"Mild"}),(0,s.jsx)("th",{children:"Severe"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsx)(r,{section:"muscle",field:"temple",label:"Temple",options:["Normal","Mild","Severe"]}),(0,s.jsx)(r,{section:"muscle",field:"clavicle",label:"Clavicle",options:["Normal","Mild","Severe"]}),(0,s.jsx)(r,{section:"muscle",field:"shoulder",label:"Shoulder",options:["Normal","Mild","Severe"]}),(0,s.jsx)(r,{section:"muscle",field:"scapula",label:"Scapula",options:["Normal","Mild","Severe"]})]})]}),(0,s.jsx)("h3",{children:"Fluid Retention"}),(0,s.jsxs)("table",{className:"sga-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Area"}),(0,s.jsx)("th",{children:"Normal"}),(0,s.jsx)("th",{children:"Mild"}),(0,s.jsx)("th",{children:"Severe"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsx)(r,{section:"fluid",field:"edema",label:"Edema",options:["Normal","Mild","Severe"]}),(0,s.jsx)(r,{section:"fluid",field:"ascites",label:"Ascites",options:["Normal","Mild","Severe"]})]})]}),(0,s.jsx)("h3",{children:"SGA Questions"}),(0,s.jsx)("label",{children:"Weight change past 6 months"}),(0,s.jsx)("input",{className:"input",onChange:e=>n("questions","w6",e.target.value)}),(0,s.jsx)("label",{children:"Weight change past 2 weeks"}),(0,s.jsx)("input",{className:"input",onChange:e=>n("questions","w2",e.target.value)}),(0,s.jsx)("label",{children:"Dietary intake"}),(0,s.jsx)("input",{className:"input",onChange:e=>n("questions","diet",e.target.value)}),(0,s.jsx)("label",{children:"GI Symptoms"}),(0,s.jsx)("input",{className:"input",onChange:e=>n("questions","gi",e.target.value)}),(0,s.jsx)("label",{children:"Functional capacity"}),(0,s.jsx)("input",{className:"input",onChange:e=>n("questions","func",e.target.value)}),(0,s.jsx)("label",{children:"Change past 2 weeks"}),(0,s.jsx)("input",{className:"input",onChange:e=>n("questions","change",e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:"btn",children:"Save SGA Assessment"})]})}};function c1(e){let{selected:t}=e;if(!t)return(0,s.jsx)("p",{children:"Select an assessment"});const n=l1[t];return n?(0,s.jsx)(n,{}):(0,s.jsxs)("p",{children:["No component found for: ",t]})}function d1(e){var t;let{patient:n,department:r,onBack:a}=e;const[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)("subjective"),u=null===(t=Ge[n.icd])||void 0===t?void 0:t[r];if(!u)return(0,s.jsx)("p",{children:"No mapping found for this ICD and department."});const h=u.Assessments.flatMap(e=>e.split("\n").map(e=>e.trim()).filter(e=>""!==e)),p=h.filter(e=>e.toLowerCase().includes("subjective")||e.toLowerCase().includes("phq")||e.toLowerCase().includes("sleep")||e.toLowerCase().includes("goal")||e.toLowerCase().includes("screen")||e.toLowerCase().includes("question")||e.toLowerCase().includes("hads")||e.toLowerCase().includes("gad")),f=h.filter(e=>!p.includes(e));return(0,s.jsxs)("div",{style:{padding:20},children:[(0,s.jsx)("button",{onClick:a,style:{marginBottom:20,padding:"8px 14px",border:"1px solid #333",borderRadius:6,cursor:"pointer",background:"#1b1919ff",color:"#886464ff !important"},children:"\u2190 Back"}),(0,s.jsxs)("h3",{children:[n.name," \u2014 ",n.icd]}),(0,s.jsx)("hr",{}),(0,s.jsx)("h4",{children:"ICF"}),u.ICF.map((e,t)=>(0,s.jsx)("p",{children:e},t)),(0,s.jsx)("h4",{children:"ICHI"}),u.ICHI.map((e,t)=>(0,s.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:e},t)),(0,s.jsx)("h3",{style:{marginTop:30},children:"Assessments"}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,marginBottom:20},children:[(0,s.jsx)("button",{onClick:()=>d("subjective"),style:{padding:"10px 18px",borderRadius:6,border:"subjective"===c?"2px solid #000":"1px solid #aaa",background:"subjective"===c?"#ddd":"#f7f7f7",color:"#000",cursor:"pointer"},children:"Subjective"}),(0,s.jsx)("button",{onClick:()=>d("objective"),style:{padding:"10px 18px",borderRadius:6,border:"objective"===c?"2px solid #000":"1px solid #aaa",background:"#1b1919ff",color:"#000",background:"objective"===c?"#ddd":"#f7f7f7",cursor:"pointer"},children:"Objective"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap",color:"#000"},children:["subjective"===c&&(p.length>0?p.map((e,t)=>(0,s.jsx)("button",{onClick:()=>l(e),style:{padding:"10px 12px",border:"1px solid #333",borderRadius:6,cursor:"pointer"},children:e},t)):(0,s.jsx)("p",{children:"No subjective assessments"})),"objective"===c&&(f.length>0?f.map((e,t)=>(0,s.jsx)("button",{onClick:()=>l(e),style:{padding:"10px 12px",border:"1px solid #333",borderRadius:6,cursor:"pointer"},children:e},t)):(0,s.jsx)("p",{children:"No objective assessments"}))]}),(0,s.jsx)("div",{style:{marginTop:20},children:(0,s.jsx)(c1,{selected:o})})]})}const u1=function(){return(0,s.jsx)("div",{className:"App",children:(0,s.jsx)(de,{children:(0,s.jsxs)(ie,{children:[(0,s.jsx)(X,{path:"/Home",exact:!0,component:ve}),(0,s.jsx)(X,{path:"/menu/:mode?",exact:!0,component:OJ}),(0,s.jsx)(X,{path:"/about",exact:!0,component:MJ}),(0,s.jsx)(X,{path:"/Patients",exact:!0,component:O0}),(0,s.jsx)(X,{path:"/Neurophysics",exact:!0,component:H0}),(0,s.jsx)(X,{path:"/",exact:!0,component:ce}),(0,s.jsx)(X,{path:"/contact",exact:!0,component:j0}),(0,s.jsx)(X,{path:"/AdminTherapist",exact:!0,component:U0}),(0,s.jsx)(X,{path:"/CMO",exact:!0,component:Z0}),(0,s.jsx)(X,{path:"/HOD",exact:!0,component:J0}),(0,s.jsx)(X,{path:"/Doctor",exact:!0,component:o1}),(0,s.jsx)(X,{path:"/Spinalinjury",exact:!0,component:i1}),(0,s.jsx)(X,{path:"/Output",exact:!0,component:$0}),(0,s.jsx)(X,{path:"/Signup",exact:!0,component:e1}),(0,s.jsx)(X,{path:"/psychology/patient/:id",element:(0,s.jsx)(d1,{})}),(0,s.jsx)(X,{path:"/Modalities",exact:!0,component:s1})]})})})},h1=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:a,getTTFB:o}=t;n(e),i(e),r(e),a(e),o(e)})};a.render((0,s.jsx)(i.StrictMode,{children:(0,s.jsx)(u1,{})}),document.getElementById("root")),h1()})()})();
//# sourceMappingURL=main.def00ee0.js.map